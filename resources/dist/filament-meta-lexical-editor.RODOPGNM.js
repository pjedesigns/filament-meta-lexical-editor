var $_=Object.create;var Fi=Object.defineProperty;var P_=Object.getOwnPropertyDescriptor;var B_=Object.getOwnPropertyNames;var K_=Object.getPrototypeOf,H_=Object.prototype.hasOwnProperty;var z_=(n,e,t)=>e in n?Fi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var U_=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),vt=(n,e)=>{for(var t in e)Fi(n,t,{get:e[t],enumerable:!0})},W_=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of B_(e))!H_.call(n,o)&&o!==t&&Fi(n,o,{get:()=>e[o],enumerable:!(r=P_(e,o))||r.enumerable});return n};var Gu=(n,e,t)=>(t=n!=null?$_(K_(n)):{},W_(e||!n||!n.__esModule?Fi(t,"default",{value:n,enumerable:!0}):t,n));var Rt=(n,e,t)=>z_(n,typeof e!="symbol"?e+"":e,t);var $c=U_((Ob,oa)=>{var qN=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var H=(function(n){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},o={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function g(m){return m instanceof i?new i(m.type,g(m.content),m.alias):Array.isArray(m)?m.map(g):m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(g){return Object.prototype.toString.call(g).slice(8,-1)},objId:function(g){return g.__id||Object.defineProperty(g,"__id",{value:++t}),g.__id},clone:function g(m,_){_=_||{};var C,y;switch(o.util.type(m)){case"Object":if(y=o.util.objId(m),_[y])return _[y];C={},_[y]=C;for(var x in m)m.hasOwnProperty(x)&&(C[x]=g(m[x],_));return C;case"Array":return y=o.util.objId(m),_[y]?_[y]:(C=[],_[y]=C,m.forEach(function(b,T){C[T]=g(b,_)}),C);default:return m}},getLanguage:function(g){for(;g;){var m=e.exec(g.className);if(m)return m[1].toLowerCase();g=g.parentElement}return"none"},setLanguage:function(g,m){g.className=g.className.replace(RegExp(e,"gi"),""),g.classList.add("language-"+m)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(C){var g=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(C.stack)||[])[1];if(g){var m=document.getElementsByTagName("script");for(var _ in m)if(m[_].src==g)return m[_]}return null}},isActive:function(g,m,_){for(var C="no-"+m;g;){var y=g.classList;if(y.contains(m))return!0;if(y.contains(C))return!1;g=g.parentElement}return!!_}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(g,m){var _=o.util.clone(o.languages[g]);for(var C in m)_[C]=m[C];return _},insertBefore:function(g,m,_,C){C=C||o.languages;var y=C[g],x={};for(var b in y)if(y.hasOwnProperty(b)){if(b==m)for(var T in _)_.hasOwnProperty(T)&&(x[T]=_[T]);_.hasOwnProperty(b)||(x[b]=y[b])}var N=C[g];return C[g]=x,o.languages.DFS(o.languages,function(A,O){O===N&&A!=g&&(this[A]=x)}),x},DFS:function g(m,_,C,y){y=y||{};var x=o.util.objId;for(var b in m)if(m.hasOwnProperty(b)){_.call(m,b,m[b],C||b);var T=m[b],N=o.util.type(T);N==="Object"&&!y[x(T)]?(y[x(T)]=!0,g(T,_,null,y)):N==="Array"&&!y[x(T)]&&(y[x(T)]=!0,g(T,_,b,y))}}},plugins:{},highlightAll:function(g,m){o.highlightAllUnder(document,g,m)},highlightAllUnder:function(g,m,_){var C={callback:_,container:g,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",C),C.elements=Array.prototype.slice.apply(C.container.querySelectorAll(C.selector)),o.hooks.run("before-all-elements-highlight",C);for(var y=0,x;x=C.elements[y++];)o.highlightElement(x,m===!0,C.callback)},highlightElement:function(g,m,_){var C=o.util.getLanguage(g),y=o.languages[C];o.util.setLanguage(g,C);var x=g.parentElement;x&&x.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(x,C);var b=g.textContent,T={element:g,language:C,grammar:y,code:b};function N(O){T.highlightedCode=O,o.hooks.run("before-insert",T),T.element.innerHTML=T.highlightedCode,o.hooks.run("after-highlight",T),o.hooks.run("complete",T),_&&_.call(T.element)}if(o.hooks.run("before-sanity-check",T),x=T.element.parentElement,x&&x.nodeName.toLowerCase()==="pre"&&!x.hasAttribute("tabindex")&&x.setAttribute("tabindex","0"),!T.code){o.hooks.run("complete",T),_&&_.call(T.element);return}if(o.hooks.run("before-highlight",T),!T.grammar){N(o.util.encode(T.code));return}if(m&&n.Worker){var A=new Worker(o.filename);A.onmessage=function(O){N(O.data)},A.postMessage(JSON.stringify({language:T.language,code:T.code,immediateClose:!0}))}else N(o.highlight(T.code,T.grammar,T.language))},highlight:function(g,m,_){var C={code:g,grammar:m,language:_};if(o.hooks.run("before-tokenize",C),!C.grammar)throw new Error('The language "'+C.language+'" has no grammar.');return C.tokens=o.tokenize(C.code,C.grammar),o.hooks.run("after-tokenize",C),i.stringify(o.util.encode(C.tokens),C.language)},tokenize:function(g,m){var _=m.rest;if(_){for(var C in _)m[C]=_[C];delete m.rest}var y=new a;return c(y,y.head,g),l(g,y,m,y.head,0),d(y)},hooks:{all:{},add:function(g,m){var _=o.hooks.all;_[g]=_[g]||[],_[g].push(m)},run:function(g,m){var _=o.hooks.all[g];if(!(!_||!_.length))for(var C=0,y;y=_[C++];)y(m)}},Token:i};n.Prism=o;function i(g,m,_,C){this.type=g,this.content=m,this.alias=_,this.length=(C||"").length|0}i.stringify=function g(m,_){if(typeof m=="string")return m;if(Array.isArray(m)){var C="";return m.forEach(function(N){C+=g(N,_)}),C}var y={type:m.type,content:g(m.content,_),tag:"span",classes:["token",m.type],attributes:{},language:_},x=m.alias;x&&(Array.isArray(x)?Array.prototype.push.apply(y.classes,x):y.classes.push(x)),o.hooks.run("wrap",y);var b="";for(var T in y.attributes)b+=" "+T+'="'+(y.attributes[T]||"").replace(/"/g,"&quot;")+'"';return"<"+y.tag+' class="'+y.classes.join(" ")+'"'+b+">"+y.content+"</"+y.tag+">"};function s(g,m,_,C){g.lastIndex=m;var y=g.exec(_);if(y&&C&&y[1]){var x=y[1].length;y.index+=x,y[0]=y[0].slice(x)}return y}function l(g,m,_,C,y,x){for(var b in _)if(!(!_.hasOwnProperty(b)||!_[b])){var T=_[b];T=Array.isArray(T)?T:[T];for(var N=0;N<T.length;++N){if(x&&x.cause==b+","+N)return;var A=T[N],O=A.inside,R=!!A.lookbehind,F=!!A.greedy,G=A.alias;if(F&&!A.pattern.global){var U=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,U+"g")}for(var K=A.pattern||A,W=C.next,Z=y;W!==m.tail&&!(x&&Z>=x.reach);Z+=W.value.length,W=W.next){var ge=W.value;if(m.length>g.length)return;if(!(ge instanceof i)){var ae=1,le;if(F){if(le=s(K,Z,g,R),!le||le.index>=g.length)break;var He=le.index,tt=le.index+le[0].length,qe=Z;for(qe+=W.value.length;He>=qe;)W=W.next,qe+=W.value.length;if(qe-=W.value.length,Z=qe,W.value instanceof i)continue;for(var gt=W;gt!==m.tail&&(qe<tt||typeof gt.value=="string");gt=gt.next)ae++,qe+=gt.value.length;ae--,ge=g.slice(Z,qe),le.index-=Z}else if(le=s(K,0,ge,R),!le)continue;var He=le.index,Re=le[0],ht=ge.slice(0,He),we=ge.slice(He+Re.length),oe=Z+ge.length;x&&oe>x.reach&&(x.reach=oe);var xe=W.prev;ht&&(xe=c(m,xe,ht),Z+=ht.length),u(m,xe,ae);var Fe=new i(b,O?o.tokenize(Re,O):Re,G,Re);if(W=c(m,xe,Fe),we&&c(m,W,we),ae>1){var Xe={cause:b+","+N,reach:oe};l(g,m,_,W.prev,Z,Xe),x&&Xe.reach>x.reach&&(x.reach=Xe.reach)}}}}}}function a(){var g={value:null,prev:null,next:null},m={value:null,prev:g,next:null};g.next=m,this.head=g,this.tail=m,this.length=0}function c(g,m,_){var C=m.next,y={value:_,prev:m,next:C};return m.next=y,C.prev=y,g.length++,y}function u(g,m,_){for(var C=m.next,y=0;y<_&&C!==g.tail;y++)C=C.next;m.next=C,C.prev=m,g.length-=y}function d(g){for(var m=[],_=g.head.next;_!==g.tail;)m.push(_.value),_=_.next;return m}if(!n.document)return n.addEventListener&&(o.disableWorkerMessageHandler||n.addEventListener("message",function(g){var m=JSON.parse(g.data),_=m.language,C=m.code,y=m.immediateClose;n.postMessage(o.highlight(C,o.languages[_],_)),y&&n.close()},!1)),o;var h=o.util.currentScript();h&&(o.filename=h.src,h.hasAttribute("data-manual")&&(o.manual=!0));function p(){o.manual||o.highlightAll()}if(!o.manual){var f=document.readyState;f==="loading"||f==="interactive"&&h&&h.defer?document.addEventListener("DOMContentLoaded",p):window.requestAnimationFrame?window.requestAnimationFrame(p):window.setTimeout(p,16)}return o})(qN);typeof oa<"u"&&oa.exports&&(oa.exports=H);typeof global<"u"&&(global.Prism=H);H.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};H.languages.markup.tag.inside["attr-value"].inside.entity=H.languages.markup.entity;H.languages.markup.doctype.inside["internal-subset"].inside=H.languages.markup;H.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(H.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:H.languages[t]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+t]={pattern:/[\s\S]+/,inside:H.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:o},H.languages.insertBefore("markup","cdata",i)}});Object.defineProperty(H.languages.markup.tag,"addAttribute",{value:function(n,e){H.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:H.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});H.languages.html=H.languages.markup;H.languages.mathml=H.languages.markup;H.languages.svg=H.languages.markup;H.languages.xml=H.languages.extend("markup",{});H.languages.ssml=H.languages.xml;H.languages.atom=H.languages.xml;H.languages.rss=H.languages.xml;(function(n){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var t=n.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(H);H.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};H.languages.javascript=H.languages.extend("clike",{"class-name":[H.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});H.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;H.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:H.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:H.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:H.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:H.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:H.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});H.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:H.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});H.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});H.languages.markup&&(H.languages.markup.tag.addInlined("script","javascript"),H.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));H.languages.js=H.languages.javascript;(function(){if(typeof H>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading\u2026",e=function(h,p){return"\u2716 Error "+h+" while fetching file: "+p},t="\u2716 Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",i="loading",s="loaded",l="failed",a="pre[data-src]:not(["+o+'="'+s+'"]):not(['+o+'="'+i+'"])';function c(h,p,f){var g=new XMLHttpRequest;g.open("GET",h,!0),g.onreadystatechange=function(){g.readyState==4&&(g.status<400&&g.responseText?p(g.responseText):g.status>=400?f(e(g.status,g.statusText)):f(t))},g.send(null)}function u(h){var p=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(h||"");if(p){var f=Number(p[1]),g=p[2],m=p[3];return g?m?[f,Number(m)]:[f,void 0]:[f,f]}}H.hooks.add("before-highlightall",function(h){h.selector+=", "+a}),H.hooks.add("before-sanity-check",function(h){var p=h.element;if(p.matches(a)){h.code="",p.setAttribute(o,i);var f=p.appendChild(document.createElement("CODE"));f.textContent=n;var g=p.getAttribute("data-src"),m=h.language;if(m==="none"){var _=(/\.(\w+)$/.exec(g)||[,"none"])[1];m=r[_]||_}H.util.setLanguage(f,m),H.util.setLanguage(p,m);var C=H.plugins.autoloader;C&&C.loadLanguages(m),c(g,function(y){p.setAttribute(o,s);var x=u(p.getAttribute("data-range"));if(x){var b=y.split(/\r\n?|\n/g),T=x[0],N=x[1]==null?b.length:x[1];T<0&&(T+=b.length),T=Math.max(0,Math.min(T-1,b.length)),N<0&&(N+=b.length),N=Math.max(0,Math.min(N,b.length)),y=b.slice(T,N).join(`
`),p.hasAttribute("data-start")||p.setAttribute("data-start",String(T+1))}f.textContent=y,H.highlightElement(f)},function(y){p.setAttribute(o,l),f.textContent=y})}}),H.plugins.fileHighlight={highlight:function(p){for(var f=(p||document).querySelectorAll(a),g=0,m;m=f[g++];)H.highlightElement(m)}};var d=!1;H.fileHighlight=function(){d||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),d=!0),H.plugins.fileHighlight.highlight.apply(this,arguments)}})()});var ec={};vt(ec,{$addUpdateTag:()=>Zf,$applyNodeReplacement:()=>ci,$caretFromPoint:()=>Un,$caretRangeFromSelection:()=>yl,$cloneWithProperties:()=>ig,$comparePointCaretNext:()=>Xl,$copyNode:()=>jl,$createLineBreakNode:()=>Jr,$createNodeSelection:()=>Fl,$createParagraphNode:()=>Cn,$createPoint:()=>Wt,$createRangeSelection:()=>Mf,$createRangeSelectionFromDom:()=>UC,$createTabNode:()=>ps,$createTextNode:()=>ze,$extendCaretToRange:()=>Vl,$getAdjacentChildCaret:()=>ro,$getAdjacentNode:()=>qf,$getAdjacentSiblingOrParentSiblingCaret:()=>Oy,$getCaretInDirection:()=>Wn,$getCaretRange:()=>zn,$getCaretRangeInDirection:()=>Ql,$getCharacterOffsets:()=>fl,$getChildCaret:()=>xn,$getChildCaretAtIndex:()=>gg,$getChildCaretOrSelf:()=>lg,$getCollapsedCaretRange:()=>cg,$getCommonAncestor:()=>Jo,$getCommonAncestorResultBranchOrder:()=>Zl,$getEditor:()=>_y,$getNearestNodeFromDOMNode:()=>Ns,$getNearestRootOrShadowRoot:()=>eg,$getNodeByKey:()=>$e,$getNodeByKeyOrThrow:()=>tg,$getPreviousSelection:()=>Nr,$getRoot:()=>yt,$getSelection:()=>de,$getSiblingCaret:()=>Ye,$getState:()=>Vi,$getStateChange:()=>yC,$getTextContent:()=>YC,$getTextNodeOffset:()=>yr,$getTextPointCaret:()=>Hn,$getTextPointCaretSlice:()=>_l,$getWritableNodeState:()=>Ol,$hasAncestor:()=>us,$hasUpdateTag:()=>gy,$insertNodes:()=>GC,$isBlockElementNode:()=>zC,$isChildCaret:()=>Ut,$isDecoratorNode:()=>Ne,$isElementNode:()=>L,$isExtendableTextPointCaret:()=>fg,$isInlineElementOrDecoratorNode:()=>hy,$isLeafNode:()=>uy,$isLineBreakNode:()=>dr,$isNodeCaret:()=>Ty,$isNodeSelection:()=>ms,$isParagraphNode:()=>ty,$isRangeSelection:()=>J,$isRootNode:()=>_t,$isRootOrShadowRoot:()=>Gt,$isSiblingCaret:()=>Cr,$isTabNode:()=>Sf,$isTextNode:()=>B,$isTextPointCaret:()=>yn,$isTextPointCaretSlice:()=>Ay,$isTokenOrSegmented:()=>ur,$nodesOfType:()=>fy,$normalizeCaret:()=>Ht,$normalizeSelection__EXPERIMENTAL:()=>qi,$onUpdate:()=>Qf,$parseSerializedNode:()=>VC,$removeTextFromCaretRange:()=>dg,$rewindSiblingCaret:()=>ao,$selectAll:()=>dy,$setCompositionKey:()=>Ue,$setPointFromCaret:()=>oo,$setSelection:()=>Nt,$setSelectionFromCaretRange:()=>ug,$setState:()=>NC,$splitAtPointCaretNext:()=>wy,$splitNode:()=>py,$updateRangeSelectionFromCaretRange:()=>Vo,ArtificialNode__DO_NOT_USE:()=>as,BLUR_COMMAND:()=>gf,CAN_REDO_COMMAND:()=>DC,CAN_UNDO_COMMAND:()=>LC,CLEAR_EDITOR_COMMAND:()=>MC,CLEAR_HISTORY_COMMAND:()=>wC,CLICK_COMMAND:()=>Jd,COLLABORATION_TAG:()=>If,COMMAND_PRIORITY_CRITICAL:()=>sy,COMMAND_PRIORITY_EDITOR:()=>ny,COMMAND_PRIORITY_HIGH:()=>iy,COMMAND_PRIORITY_LOW:()=>ry,COMMAND_PRIORITY_NORMAL:()=>oy,CONTROLLED_TEXT_INSERTION_COMMAND:()=>Hr,COPY_COMMAND:()=>Ll,CUT_COMMAND:()=>kl,DELETE_CHARACTER_COMMAND:()=>ni,DELETE_LINE_COMMAND:()=>oi,DELETE_WORD_COMMAND:()=>ri,DRAGEND_COMMAND:()=>df,DRAGOVER_COMMAND:()=>uf,DRAGSTART_COMMAND:()=>cf,DROP_COMMAND:()=>lf,DecoratorNode:()=>is,ElementNode:()=>mr,FOCUS_COMMAND:()=>ff,FORMAT_ELEMENT_COMMAND:()=>vC,FORMAT_TEXT_COMMAND:()=>In,HISTORIC_TAG:()=>qC,HISTORY_MERGE_TAG:()=>Gi,HISTORY_PUSH_TAG:()=>XC,INDENT_CONTENT_COMMAND:()=>AC,INSERT_LINE_BREAK_COMMAND:()=>Wo,INSERT_PARAGRAPH_COMMAND:()=>rl,INSERT_TAB_COMMAND:()=>SC,INTERNAL_$isBlock:()=>_n,IS_ALL_FORMATTING:()=>Rd,IS_BOLD:()=>eC,IS_CODE:()=>nC,IS_HIGHLIGHT:()=>fs,IS_ITALIC:()=>tC,IS_STRIKETHROUGH:()=>Xo,IS_SUBSCRIPT:()=>rC,IS_SUPERSCRIPT:()=>oC,IS_UNDERLINE:()=>Zo,KEY_ARROW_DOWN_COMMAND:()=>tf,KEY_ARROW_LEFT_COMMAND:()=>Zd,KEY_ARROW_RIGHT_COMMAND:()=>qd,KEY_ARROW_UP_COMMAND:()=>ef,KEY_BACKSPACE_COMMAND:()=>rf,KEY_DELETE_COMMAND:()=>sf,KEY_DOWN_COMMAND:()=>Vd,KEY_ENTER_COMMAND:()=>es,KEY_ESCAPE_COMMAND:()=>of,KEY_MODIFIER_COMMAND:()=>hf,KEY_SPACE_COMMAND:()=>nf,KEY_TAB_COMMAND:()=>af,LineBreakNode:()=>jr,MOVE_TO_END:()=>Xd,MOVE_TO_START:()=>Qd,NODE_STATE_KEY:()=>$d,OUTDENT_CONTENT_COMMAND:()=>OC,PASTE_COMMAND:()=>Ml,PASTE_TAG:()=>ZC,ParagraphNode:()=>Xr,REDO_COMMAND:()=>Dl,REMOVE_TEXT_COMMAND:()=>ol,RootNode:()=>qr,SELECTION_CHANGE_COMMAND:()=>vl,SELECTION_INSERT_CLIPBOARD_NODES_COMMAND:()=>bC,SELECT_ALL_COMMAND:()=>il,SKIP_COLLAB_TAG:()=>QC,SKIP_DOM_SELECTION_TAG:()=>Pf,SKIP_SCROLL_INTO_VIEW_TAG:()=>$f,TEXT_TYPE_TO_FORMAT:()=>nt,TabNode:()=>Vr,TextNode:()=>hr,UNDO_COMMAND:()=>wl,createCommand:()=>ee,createEditor:()=>ay,createState:()=>CC,flipDirection:()=>Gn,getDOMOwnerDocument:()=>Gl,getDOMSelection:()=>tn,getDOMSelectionFromTarget:()=>ng,getDOMTextNode:()=>_r,getEditorPropertyFromDOMNode:()=>ai,getNearestEditorFromDOMNode:()=>Kl,isBlockDomNode:()=>pl,isCurrentlyReadOnlyMode:()=>io,isDOMDocumentNode:()=>Hf,isDOMNode:()=>so,isDOMTextNode:()=>nn,isDOMUnmanaged:()=>ag,isDocumentFragment:()=>rg,isExactShortcutMatch:()=>pe,isHTMLAnchorElement:()=>my,isHTMLElement:()=>at,isInlineDomNode:()=>og,isLexicalEditor:()=>Cs,isModifierMatch:()=>Vf,isSelectionCapturedInDecoratorInput:()=>Bl,isSelectionWithinEditor:()=>si,makeStepwiseIterator:()=>ql,removeFromParent:()=>Bn,resetRandomKey:()=>ly,setDOMUnmanaged:()=>yy,setNodeIndentFromDOM:()=>sg});function k(n,...e){let t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var Yt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,G_=Yt&&"documentMode"in document?document.documentMode:null,en=Yt&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Pn=Yt&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Yi=!(!Yt||!("InputEvent"in window)||G_)&&"getTargetRanges"in new window.InputEvent("input"),qo=Yt&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Wr=Yt&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Y_=Yt&&/Android/.test(navigator.userAgent),Ld=Yt&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Yu=Yt&&Y_&&Ld,ji=Yt&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Ld;function Ji(...n){let e=[];for(let t of n)if(t&&typeof t=="string")for(let[r]of t.matchAll(/\S+/g))e.push(r);return e}var j_=1,J_=3,V_=9,q_=11,fr=0,kd=1,Gr=2,X_=0,Z_=1,Q_=2,eC=1,tC=2,Xo=4,Zo=8,nC=16,rC=32,oC=64,fs=128,Rd=1792|(112|(3|Xo|Zo)|fs),Nl=1,xl=2,Tl=3,El=4,bl=5,Sl=6,gs=qo||Wr||ji?"\xA0":"\u200B",Nn=`

`,iC=Pn?"\xA0":gs,Fd="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",Id="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",sC=new RegExp("^[^"+Id+"]*["+Fd+"]"),aC=new RegExp("^[^"+Fd+"]*["+Id+"]"),nt={bold:1,capitalize:1024,code:16,highlight:fs,italic:2,lowercase:256,strikethrough:Xo,subscript:32,superscript:64,underline:Zo,uppercase:512},lC={directionless:1,unmergeable:2},ju={center:xl,end:Sl,justify:El,left:Nl,right:Tl,start:bl},cC={[xl]:"center",[Sl]:"end",[El]:"justify",[Nl]:"left",[Tl]:"right",[bl]:"start"},uC={normal:0,segmented:2,token:1},dC={[X_]:"normal",[Q_]:"segmented",[Z_]:"token"},$d="$";function Pd(n,e,t,r,o,i){let s=n.getFirstChild();for(;s!==null;){let l=s.__key;s.__parent===e&&(L(s)&&Pd(s,l,t,r,o,i),t.has(l)||i.delete(l),o.push(l)),s=s.getNextSibling()}}var fC=100,Ja=!1,Al=0;function gC(n){Al=n.timeStamp}function Fa(n,e,t){let r=n.nodeName==="BR",o=e.__lexicalLineBreak;return o&&(n===o||r&&n.previousSibling===o)||r&&ys(n,t)!==void 0}function hC(n,e,t){let r=tn(Ft(t)),o=null,i=null;r!==null&&r.anchorNode===n&&(o=r.anchorOffset,i=r.focusOffset);let s=n.nodeValue;s!==null&&Ul(e,s,o,i,!1)}function pC(n,e,t){if(J(n)){let r=n.anchor.getNode();if(r.is(t)&&n.format!==r.getFormat())return!1}return nn(e)&&t.isAttached()}function mC(n,e,t,r){for(let o=n;o&&!ag(o);o=li(o)){let i=ys(o,e);if(i!==void 0){let s=$e(i,t);if(s)return Ne(s)||!at(o)?void 0:[o,s]}else if(o===r)return[r,Gf(t)]}}function Bd(n,e,t){Ja=!0;let r=performance.now()-Al>fC;try{Mt(n,(()=>{let o=de()||(function(h){return h.getEditorState().read((()=>{let p=de();return p!==null?p.clone():null}))})(n),i=new Map,s=n.getRootElement(),l=n._editorState,a=n._blockCursorElement,c=!1,u="";for(let h=0;h<e.length;h++){let p=e[h],f=p.type,g=p.target,m=mC(g,n,l,s);if(!m)continue;let[_,C]=m;if(f==="characterData")r&&B(C)&&nn(g)&&pC(o,g,C)&&hC(g,C,n);else if(f==="childList"){c=!0;let y=p.addedNodes;for(let T=0;T<y.length;T++){let N=y[T],A=Uf(N),O=N.parentNode;if(O!=null&&N!==a&&A===null&&!Fa(N,O,n)){if(Pn){let R=(at(N)?N.innerText:null)||N.nodeValue;R&&(u+=R)}O.removeChild(N)}}let x=p.removedNodes,b=x.length;if(b>0){let T=0;for(let N=0;N<b;N++){let A=x[N];(Fa(A,g,n)||a===A)&&(g.appendChild(A),T++)}b!==T&&i.set(_,C)}}}if(i.size>0)for(let[h,p]of i)p.reconcileObservedMutation(h,n);let d=t.takeRecords();if(d.length>0){for(let h=0;h<d.length;h++){let p=d[h],f=p.addedNodes,g=p.target;for(let m=0;m<f.length;m++){let _=f[m],C=_.parentNode;C==null||_.nodeName!=="BR"||Fa(_,g,n)||C.removeChild(_)}}t.takeRecords()}o!==null&&(c&&Nt(o),Pn&&Xf(n)&&o.insertRawText(u))}))}finally{Ja=!1}}function Kd(n){let e=n._observer;e!==null&&Bd(n,e.takeRecords(),e)}function Hd(n){(function(e){Al===0&&Ft(e).addEventListener("textInput",gC,!0)})(n),n._observer=new MutationObserver(((e,t)=>{Bd(n,e,t)}))}function _C(n){return n}var Va=class{constructor(e,t){this.key=e,this.parse=t.parse.bind(t),this.unparse=(t.unparse||_C).bind(t),this.isEqual=(t.isEqual||Object.is).bind(t),this.defaultValue=this.parse(void 0)}};function CC(n,e){return new Va(n,e)}function yC(n,e,t){let r=Vi(n,t,"direct"),o=Vi(e,t,"direct");return t.isEqual(r,o)?null:[r,o]}function Vi(n,e,t="latest"){let r=(t==="latest"?n.getLatest():n).__state;return r?r.getValue(e):e.defaultValue}function NC(n,e,t){let r;if(Ze(),typeof t=="function"){let i=n.getLatest(),s=Vi(i,e);if(r=t(s),e.isEqual(s,r))return i}else r=t;let o=n.getWritable();return Ol(o).updateFromKnown(e,r),o}var qa=class n{constructor(e,t=new Map,r=void 0,o=new Map,i=void 0){this.node=e,this.sharedConfigMap=t,this.unknownState=r,this.knownState=o;let s=i!==void 0?i:(function(l,a,c){let u=c.size;if(a)for(let d in a){let h=l.get(d);h&&c.has(h)||u++}return u})(t,r,o);this.size=s}getValue(e){let t=this.knownState.get(e);if(t!==void 0)return t;this.sharedConfigMap.set(e.key,e);let r=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){let o=this.unknownState[e.key];o!==void 0&&(r=e.parse(o)),this.updateFromKnown(e,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){let e={...this.unknownState};for(let[t,r]of this.knownState)t.isEqual(r,t.defaultValue)?delete e[t.key]:e[t.key]=t.unparse(r);return Ii(e)?{[$d]:e}:{}}getWritable(e){if(this.node===e)return this;let t=new Map(this.knownState),r=Ii(o=this.unknownState)&&{...o};var o;if(r)for(let i of t.keys())delete r[i.key];return new n(e,this.sharedConfigMap,Ii(r),t,this.size)}updateFromKnown(e,t){let r=e.key;this.sharedConfigMap.set(r,e);let{knownState:o,unknownState:i}=this;o.has(e)||i&&r in i||this.size++,o.set(e,t)}updateFromUnknown(e,t){let r=this.sharedConfigMap.get(e);r?this.updateFromKnown(r,r.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){let{knownState:t}=this;for(let r of t.keys())t.set(r,r.defaultValue);if(this.size=t.size,this.unknownState={},e)for(let[r,o]of Object.entries(e))this.updateFromUnknown(r,o);this.unknownState=Ii(this.unknownState)}};function Ii(n){if(n)for(let e in n)return n}function Ol(n){let e=n.getWritable(),t=e.__state?e.__state.getWritable(e):new qa(e);return e.__state=t,t}function Ju(n,e){let t=n.__mode,r=n.__format,o=n.__style,i=e.__mode,s=e.__format,l=e.__style,a=n.__state,c=e.__state;return(t===null||t===i)&&(r===null||r===s)&&(o===null||o===l)&&(n.__state===null||a===c||(function(u,d){if(u===d)return!0;if(u&&d&&u.size!==d.size)return!1;let h=new Set,p=(g,m)=>{for(let[_,C]of g.knownState){if(h.has(_.key))continue;h.add(_.key);let y=m?m.getValue(_):_.defaultValue;if(y!==C&&!_.isEqual(y,C))return!0}return!1},f=(g,m)=>{let{unknownState:_}=g,C=m?m.unknownState:void 0;if(_){for(let[y,x]of Object.entries(_))if(!h.has(y)&&(h.add(y),x!==(C?C[y]:void 0)))return!0}return!1};return!(u&&p(u,d)||d&&p(d,u)||u&&f(u,d)||d&&f(d,u))})(a,c))}function Vu(n,e){let t=n.mergeWithSibling(e),r=Se()._normalizedNodes;return r.add(n.__key),r.add(e.__key),t}function qu(n){let e,t,r=n;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&B(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(Ju(e,r)){r=Vu(e,r);break}break}e.remove()}for(;(t=r.getNextSibling())!==null&&B(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(Ju(r,t)){r=Vu(r,t);break}break}t.remove()}}else r.remove()}function qi(n){return Xu(n.anchor),Xu(n.focus),n}function Xu(n){for(;n.type==="element";){let e=n.getNode(),t=n.offset,r,o;if(t===e.getChildrenSize()?(r=e.getChildAtIndex(t-1),o=!0):(r=e.getChildAtIndex(t),o=!1),B(r)){n.set(r.__key,o?r.getTextContentSize():0,"text",!0);break}if(!L(r))break;n.set(r.__key,o?r.getChildrenSize():0,"element",!0)}}var Kn,st,Qo,hs,Xa,Za,gr,zt,Qa,ei,Ie="",it="",Zt=null,Qt="",pn="",zd=!1,ti=!1,zi=null;function Xi(n,e){let t=gr.get(n);if(e!==null){let r=nl(n);r.parentNode===e&&e.removeChild(r)}if(zt.has(n)||st._keyToDOMMap.delete(n),L(t)){let r=Qi(t,gr);el(r,0,r.length-1,null)}t!==void 0&&Wl(ei,Qo,hs,t,"destroyed")}function el(n,e,t,r){let o=e;for(;o<=t;++o){let i=n[o];i!==void 0&&Xi(i,r)}}function lr(n,e){n.setProperty("text-align",e)}var xC="40px";function Ud(n,e){let t=Kn.theme.indent;if(typeof t=="string"){let o=n.classList.contains(t);e>0&&!o?n.classList.add(t):e<1&&o&&n.classList.remove(t)}let r=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||xC;n.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function Wd(n,e){let t=n.style;e===0?lr(t,""):e===Nl?lr(t,"left"):e===xl?lr(t,"center"):e===Tl?lr(t,"right"):e===El?lr(t,"justify"):e===bl?lr(t,"start"):e===Sl&&lr(t,"end")}function Zi(n,e){let t=zt.get(n);t===void 0&&k(60);let r=t.createDOM(Kn,st);if((function(o,i,s){let l=s._keyToDOMMap;(function(a,c,u){let d=`__lexicalKey_${c._key}`;a[d]=u})(i,s,o),l.set(o,i)})(n,r,st),B(t)?r.setAttribute("data-lexical-text","true"):Ne(t)&&r.setAttribute("data-lexical-decorator","true"),L(t)){let o=t.__indent,i=t.__size;if(o!==0&&Ud(r,o),i!==0){let l=i-1;(function(a,c,u,d){let h=it;it="",tl(a,u,0,c,u.getDOMSlot(d)),Yd(u,d),it=h})(Qi(t,zt),l,t,r)}let s=t.__format;s!==0&&Wd(r,s),t.isInline()||Gd(null,t,r),xs(t)&&(Ie+=Nn,pn+=Nn)}else{let o=t.getTextContent();if(Ne(t)){let i=t.decorate(st,Kn);i!==null&&jd(n,i),r.contentEditable="false"}else B(t)&&(t.isDirectionless()||(it+=o));Ie+=o,pn+=o}return e!==null&&e.insertChild(r),Wl(ei,Qo,hs,t,"created"),r}function tl(n,e,t,r,o){let i=Ie;Ie="";let s=t;for(;s<=r;++s){Zi(n[s],o);let l=zt.get(n[s]);l!==null&&B(l)&&(Zt===null&&(Zt=l.getFormat()),Qt===""&&(Qt=l.getStyle()))}xs(e)&&(Ie+=Nn),o.element.__lexicalTextContent=Ie,Ie=i+Ie}function Zu(n,e){if(n){let t=n.__last;if(t){let r=e.get(t);if(r)return dr(r)?"line-break":Ne(r)&&r.isInline()?"decorator":null}return"empty"}return null}function Gd(n,e,t){let r=Zu(n,gr),o=Zu(e,zt);r!==o&&e.getDOMSlot(t).setManagedLineBreak(o)}function Yd(n,e){let t=e.__lexicalDirTextContent||"",r=e.__lexicalDir||"";if(t!==it||r!==zi){let o=it==="",i=o?zi:(function(s){return sC.test(s)?"rtl":aC.test(s)?"ltr":null})(it);if(i!==r){let s=e.classList,l=Kn.theme,a=r!==null?l[r]:void 0,c=i!==null?l[i]:void 0;if(a!==void 0){if(typeof a=="string"){let u=Ji(a);a=l[r]=u}s.remove(...a)}if(i===null||o&&i==="ltr")e.removeAttribute("dir");else{if(c!==void 0){if(typeof c=="string"){let u=Ji(c);c=l[i]=u}c!==void 0&&s.add(...c)}e.dir=i}ti||(n.getWritable().__dir=i)}zi=i,e.__lexicalDirTextContent=it,e.__lexicalDir=i}}function TC(n,e,t){let r=it;var o;it="",Zt=null,Qt="",(function(i,s,l){let a=Ie,c=i.__size,u=s.__size;Ie="";let d=l.element;if(c===1&&u===1){let h=i.__first,p=s.__first;if(h===p)Uo(h,d);else{let g=nl(h),m=Zi(p,null);try{d.replaceChild(m,g)}catch(_){if(typeof _=="object"&&_!=null){let C=`${_.toString()} Parent: ${d.tagName}, new child: {tag: ${m.tagName} key: ${p}}, old child: {tag: ${g.tagName}, key: ${h}}.`;throw new Error(C)}throw _}Xi(h,null)}let f=zt.get(p);B(f)&&(Zt===null&&(Zt=f.getFormat()),Qt===""&&(Qt=f.getStyle()))}else{let h=Qi(i,gr),p=Qi(s,zt);if(h.length!==c&&k(227),p.length!==u&&k(228),c===0)u!==0&&tl(p,s,0,u-1,l);else if(u===0){if(c!==0){let f=l.after==null&&l.before==null&&l.element.__lexicalLineBreak==null;el(h,0,c-1,f?null:d),f&&(d.textContent="")}}else(function(f,g,m,_,C,y){let x=_-1,b=C-1,T,N,A=y.getFirstChild(),O=0,R=0;for(;O<=x&&R<=b;){let U=g[O],K=m[R];if(U===K)A=Ia(Uo(K,y.element)),O++,R++;else{T===void 0&&(T=new Set(g)),N===void 0&&(N=new Set(m));let Z=N.has(U),ge=T.has(K);if(Z)if(ge){let ae=Qr(st,K);ae===A?A=Ia(Uo(K,y.element)):(y.withBefore(A).insertChild(ae),Uo(K,y.element)),O++,R++}else Zi(K,y.withBefore(A)),R++;else A=Ia(nl(U)),Xi(U,y.element),O++}let W=zt.get(K);W!==null&&B(W)&&(Zt===null&&(Zt=W.getFormat()),Qt===""&&(Qt=W.getStyle()))}let F=O>x,G=R>b;if(F&&!G){let U=m[b+1],K=U===void 0?null:st.getElementByKey(U);tl(m,f,R,b,y.withBefore(K))}else G&&!F&&el(g,O,x,y.element)})(s,h,p,c,u,l)}xs(s)&&(Ie+=Nn),d.__lexicalTextContent=Ie,Ie=a+Ie})(n,e,e.getDOMSlot(t)),Yd(e,t),o=e,Zt==null||Zt===o.__textFormat||ti||o.setTextFormat(Zt),(function(i){Qt===""||Qt===i.__textStyle||ti||i.setTextStyle(Qt)})(e),it=r}function Qi(n,e){let t=[],r=n.__first;for(;r!==null;){let o=e.get(r);o===void 0&&k(101),t.push(r),r=o.__next}return t}function Uo(n,e){let t=gr.get(n),r=zt.get(n);t!==void 0&&r!==void 0||k(61);let o=zd||Za.has(n)||Xa.has(n),i=Qr(st,n);if(t===r&&!o){if(L(t)){let s=i.__lexicalTextContent;s!==void 0&&(Ie+=s,pn+=s);let l=i.__lexicalDirTextContent;l!==void 0&&(it+=l)}else{let s=t.getTextContent();B(t)&&!t.isDirectionless()&&(it+=s),pn+=s,Ie+=s}return i}if(t!==r&&o&&Wl(ei,Qo,hs,r,"updated"),r.updateDOM(t,i,Kn)){let s=Zi(n,null);return e===null&&k(62),e.replaceChild(s,i),Xi(n,null),s}if(L(t)&&L(r)){let s=r.__indent;s!==t.__indent&&Ud(i,s);let l=r.__format;l!==t.__format&&Wd(i,l),o&&(TC(t,r,i),_t(r)||r.isInline()||Gd(t,r,i)),xs(r)&&(Ie+=Nn,pn+=Nn)}else{let s=r.getTextContent();if(Ne(r)){let l=r.decorate(st,Kn);l!==null&&jd(n,l)}else B(r)&&!r.isDirectionless()&&(it+=s);Ie+=s,pn+=s}if(!ti&&_t(r)&&r.__cachedText!==pn){let s=r.getWritable();s.__cachedText=pn,r=s}return i}function jd(n,e){let t=st._pendingDecorators,r=st._decorators;if(t===null){if(r[n]===e)return;t=Wf(st)}t[n]=e}function Ia(n){let e=n.nextSibling;return e!==null&&e===st._blockCursorElement&&(e=e.nextSibling),e}function EC(n,e,t,r,o,i){Ie="",pn="",it="",zd=r===Gr,zi=null,st=t,Kn=t._config,Qo=t._nodes,hs=st._listeners.mutation,Xa=o,Za=i,gr=n._nodeMap,zt=e._nodeMap,ti=e._readOnly,Qa=new Map(t._keyToDOMMap);let s=new Map;return ei=s,Uo("root",null),st=void 0,Qo=void 0,Xa=void 0,Za=void 0,gr=void 0,zt=void 0,Kn=void 0,Qa=void 0,ei=void 0,s}function nl(n){let e=Qa.get(n);return e===void 0&&k(75,n),e}function ee(n){return{type:n}}var vl=ee("SELECTION_CHANGE_COMMAND"),bC=ee("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),Jd=ee("CLICK_COMMAND"),ni=ee("DELETE_CHARACTER_COMMAND"),Wo=ee("INSERT_LINE_BREAK_COMMAND"),rl=ee("INSERT_PARAGRAPH_COMMAND"),Hr=ee("CONTROLLED_TEXT_INSERTION_COMMAND"),Ml=ee("PASTE_COMMAND"),ol=ee("REMOVE_TEXT_COMMAND"),ri=ee("DELETE_WORD_COMMAND"),oi=ee("DELETE_LINE_COMMAND"),In=ee("FORMAT_TEXT_COMMAND"),wl=ee("UNDO_COMMAND"),Dl=ee("REDO_COMMAND"),Vd=ee("KEYDOWN_COMMAND"),qd=ee("KEY_ARROW_RIGHT_COMMAND"),Xd=ee("MOVE_TO_END"),Zd=ee("KEY_ARROW_LEFT_COMMAND"),Qd=ee("MOVE_TO_START"),ef=ee("KEY_ARROW_UP_COMMAND"),tf=ee("KEY_ARROW_DOWN_COMMAND"),es=ee("KEY_ENTER_COMMAND"),nf=ee("KEY_SPACE_COMMAND"),rf=ee("KEY_BACKSPACE_COMMAND"),of=ee("KEY_ESCAPE_COMMAND"),sf=ee("KEY_DELETE_COMMAND"),af=ee("KEY_TAB_COMMAND"),SC=ee("INSERT_TAB_COMMAND"),AC=ee("INDENT_CONTENT_COMMAND"),OC=ee("OUTDENT_CONTENT_COMMAND"),lf=ee("DROP_COMMAND"),vC=ee("FORMAT_ELEMENT_COMMAND"),cf=ee("DRAGSTART_COMMAND"),uf=ee("DRAGOVER_COMMAND"),df=ee("DRAGEND_COMMAND"),Ll=ee("COPY_COMMAND"),kl=ee("CUT_COMMAND"),il=ee("SELECT_ALL_COMMAND"),MC=ee("CLEAR_EDITOR_COMMAND"),wC=ee("CLEAR_HISTORY_COMMAND"),DC=ee("CAN_REDO_COMMAND"),LC=ee("CAN_UNDO_COMMAND"),ff=ee("FOCUS_COMMAND"),gf=ee("BLUR_COMMAND"),hf=ee("KEY_MODIFIER_COMMAND"),fn=Object.freeze({}),sl=30,al=[["keydown",function(n,e){if(Go=n.timeStamp,pf=n.key,!e.isComposing()&&!$(e,Vd,n)&&n.key!=null){if($a&&Ad(n))return Mt(e,(()=>{$i(e,Pa)})),$a=!1,void(Pa="");if((function(t){return pe(t,"ArrowRight",{shiftKey:"any"})})(n))$(e,qd,n);else if((function(t){return pe(t,"ArrowRight",hn)})(n))$(e,Xd,n);else if((function(t){return pe(t,"ArrowLeft",{shiftKey:"any"})})(n))$(e,Zd,n);else if((function(t){return pe(t,"ArrowLeft",hn)})(n))$(e,Qd,n);else if((function(t){return pe(t,"ArrowUp",{altKey:"any",shiftKey:"any"})})(n))$(e,ef,n);else if((function(t){return pe(t,"ArrowDown",{altKey:"any",shiftKey:"any"})})(n))$(e,tf,n);else if((function(t){return pe(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})})(n))Yo=!0,$(e,es,n);else if((function(t){return t.key===" "})(n))$(e,nf,n);else if((function(t){return en&&pe(t,"o",{ctrlKey:!0})})(n))n.preventDefault(),Yo=!0,$(e,Wo,!0);else if((function(t){return pe(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})})(n))Yo=!1,$(e,es,n);else if((function(t){return pe(t,"Backspace",{shiftKey:"any"})||en&&pe(t,"h",{ctrlKey:!0})})(n))Ad(n)?$(e,rf,n):(n.preventDefault(),$(e,ni,!0));else if((function(t){return t.key==="Escape"})(n))$(e,of,n);else if((function(t){return pe(t,"Delete",{})||en&&pe(t,"d",{ctrlKey:!0})})(n))(function(t){return t.key==="Delete"})(n)?$(e,sf,n):(n.preventDefault(),$(e,ni,!1));else if((function(t){return pe(t,"Backspace",Sd)})(n))n.preventDefault(),$(e,ri,!0);else if((function(t){return pe(t,"Delete",Sd)})(n))n.preventDefault(),$(e,ri,!1);else if((function(t){return en&&pe(t,"Backspace",{metaKey:!0})})(n))n.preventDefault(),$(e,oi,!0);else if((function(t){return en&&(pe(t,"Delete",{metaKey:!0})||pe(t,"k",{ctrlKey:!0}))})(n))n.preventDefault(),$(e,oi,!1);else if((function(t){return pe(t,"b",hn)})(n))n.preventDefault(),$(e,In,"bold");else if((function(t){return pe(t,"u",hn)})(n))n.preventDefault(),$(e,In,"underline");else if((function(t){return pe(t,"i",hn)})(n))n.preventDefault(),$(e,In,"italic");else if((function(t){return pe(t,"Tab",{shiftKey:"any"})})(n))$(e,af,n);else if((function(t){return pe(t,"z",hn)})(n))n.preventDefault(),$(e,wl,void 0);else if((function(t){return en?pe(t,"z",{metaKey:!0,shiftKey:!0}):pe(t,"y",{ctrlKey:!0})||pe(t,"z",{ctrlKey:!0,shiftKey:!0})})(n))n.preventDefault(),$(e,Dl,void 0);else{let t=e._editorState._selection;t===null||J(t)?!Pn&&Od(n)&&(n.preventDefault(),$(e,il,n)):(function(r){return pe(r,"c",hn)})(n)?(n.preventDefault(),$(e,Ll,n)):(function(r){return pe(r,"x",hn)})(n)?(n.preventDefault(),$(e,kl,n)):Od(n)&&(n.preventDefault(),$(e,il,n))}(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey})(n)&&$(e,hf,n)}}],["pointerdown",function(n,e){let t=n.target,r=n.pointerType;so(t)&&r!=="touch"&&n.button===0&&Mt(e,(()=>{Td(t)||(cl=!0)}))}],["compositionstart",function(n,e){Mt(e,(()=>{let t=de();if(J(t)&&!e.isComposing()){let r=t.anchor,o=t.anchor.getNode();Ue(r.key),(n.timeStamp<Go+sl||r.type==="element"||!t.isCollapsed()||o.getFormat()!==t.format||B(o)&&o.getStyle()!==t.style)&&$(e,Hr,iC)}}))}],["compositionend",function(n,e){Pn?zo=!0:Wr||!qo&&!ji?Mt(e,(()=>{$i(e,n.data)})):($a=!0,Pa=n.data)}],["input",function(n,e){n.stopPropagation(),Mt(e,(()=>{if(at(n.target)&&Td(n.target))return;let t=de(),r=n.data,o=Nf(n);if(r!=null&&J(t)&&Cf(t,o,r,n.timeStamp,!1)){zo&&($i(e,r),zo=!1);let i=t.anchor.getNode(),s=tn(Ft(e));if(s===null)return;let l=t.isBackward(),a=l?t.anchor.offset:t.focus.offset,c=l?t.focus.offset:t.anchor.offset;Yi&&!t.isCollapsed()&&B(i)&&s.anchorNode!==null&&i.getTextContent().slice(0,a)+r+i.getTextContent().slice(a+c)===Jf(s.anchorNode)||$(e,Hr,r);let u=r.length;Pn&&u>1&&n.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=u),qo||Wr||ji||!e.isComposing()||(Go=0,Ue(null))}else zl(!1,e,r!==null?r:void 0),zo&&($i(e,r||void 0),zo=!1);(function(){Ze();let i=Se();Kd(i)})()}),{event:n}),Br=null}],["click",function(n,e){Mt(e,(()=>{let t=de(),r=tn(Ft(e)),o=Nr();if(r){if(J(t)){let i=t.anchor,s=i.getNode();if(i.type==="element"&&i.offset===0&&t.isCollapsed()&&!_t(s)&&yt().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&o!==null&&t.is(o))r.removeAllRanges(),t.dirty=!0;else if(n.detail===3&&!t.isCollapsed()&&s!==t.focus.getNode()){let l=(function(a,c){let u=a;for(;u!==yt()&&u!=null;){if(c(u))return u;u=u.getParent()}return null})(s,(a=>L(a)&&!a.isInline()));L(l)&&l.select(0)}}else if(n.pointerType==="touch"){let i=r.anchorNode;(at(i)||nn(i))&&Nt(_s(o,r,e,n))}}$(e,Jd,n)}))}],["cut",fn],["copy",fn],["dragstart",fn],["dragover",fn],["dragend",fn],["paste",fn],["focus",fn],["blur",fn],["drop",fn]];Yi&&al.push(["beforeinput",(n,e)=>(function(t,r){let o=t.inputType,i=Nf(t);o==="deleteCompositionText"||Pn&&Xf(r)||o!=="insertCompositionText"&&Mt(r,(()=>{let s=de();if(o==="deleteContentBackward"){if(s===null){let p=Nr();if(!J(p))return;Nt(p.clone())}if(J(s)){let p=s.anchor.key===s.focus.key;if(l=t.timeStamp,pf==="MediaLast"&&l<Go+sl&&r.isComposing()&&p){if(Ue(null),Go=0,setTimeout((()=>{Mt(r,(()=>{Ue(null)}))}),sl),J(s)){let f=s.anchor.getNode();f.markDirty(),B(f)||k(142),yf(s,f)}}else{Ue(null),t.preventDefault();let f=s.anchor.getNode(),g=f.getTextContent(),m=f.canInsertTextAfter(),_=s.anchor.offset===0&&s.focus.offset===g.length,C=Yu&&p&&!_&&m;if(C&&s.isCollapsed()&&(C=!Ne(qf(s.anchor,!0))),!C){$(r,ni,!0);let y=de();Yu&&J(y)&&y.isCollapsed()&&(cr=y,setTimeout((()=>cr=null)))}}return}}var l;if(!J(s))return;let a=t.data;Br!==null&&zl(!1,r,Br),s.dirty&&Br===null||!s.isCollapsed()||_t(s.anchor.getNode())||i===null||s.applyDOMRange(i),Br=null;let c=s.anchor,u=s.focus,d=c.getNode(),h=u.getNode();if(o!=="insertText"&&o!=="insertTranspose")switch(t.preventDefault(),o){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":$(r,Hr,t);break;case"insertFromComposition":Ue(null),$(r,Hr,t);break;case"insertLineBreak":Ue(null),$(r,Wo,!1);break;case"insertParagraph":Ue(null),Yo&&!Wr?(Yo=!1,$(r,Wo,!1)):$(r,rl,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":$(r,Ml,t);break;case"deleteByComposition":(function(p,f){return p!==f||L(p)||L(f)||!p.isToken()||!f.isToken()})(d,h)&&$(r,ol,t);break;case"deleteByDrag":case"deleteByCut":$(r,ol,t);break;case"deleteContent":$(r,ni,!1);break;case"deleteWordBackward":$(r,ri,!0);break;case"deleteWordForward":$(r,ri,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":$(r,oi,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":$(r,oi,!1);break;case"formatStrikeThrough":$(r,In,"strikethrough");break;case"formatBold":$(r,In,"bold");break;case"formatItalic":$(r,In,"italic");break;case"formatUnderline":$(r,In,"underline");break;case"historyUndo":$(r,wl,void 0);break;case"historyRedo":$(r,Dl,void 0)}else{if(a===`
`)t.preventDefault(),$(r,Wo,!1);else if(a===Nn)t.preventDefault(),$(r,rl,void 0);else if(a==null&&t.dataTransfer){let p=t.dataTransfer.getData("text/plain");t.preventDefault(),s.insertRawText(p)}else a!=null&&Cf(s,i,a,t.timeStamp,!0)?(t.preventDefault(),$(r,Hr,a)):Br=a;mf=t.timeStamp}}))})(n,e)]);var Go=0,pf=null,mf=0,Br=null,ts=new WeakMap,ll=!1,cl=!1,Yo=!1,zo=!1,$a=!1,Pa="",cr=null,_f=[0,"",0,"root",0];function Cf(n,e,t,r,o){let i=n.anchor,s=n.focus,l=i.getNode(),a=Se(),c=tn(Ft(a)),u=c!==null?c.anchorNode:null,d=i.key,h=a.getElementByKey(d),p=t.length;return d!==s.key||!B(l)||(!o&&(!Yi||mf<r+50)||l.isDirty()&&p<2||Yf(t))&&i.offset!==s.offset&&!l.isComposing()||ur(l)||l.isDirty()&&p>1||(o||!Yi)&&h!==null&&!l.isComposing()&&u!==_r(h)||c!==null&&e!==null&&(!e.collapsed||e.startContainer!==c.anchorNode||e.startOffset!==c.anchorOffset)||l.getFormat()!==n.format||l.getStyle()!==n.style||(function(f,g){if(g.isSegmented())return!0;if(!f.isCollapsed())return!1;let m=f.anchor.offset,_=g.getParentOrThrow(),C=g.isToken();return m===0?!g.canInsertTextBefore()||!_.canInsertTextBefore()&&!g.isComposing()||C||(function(y){let x=y.getPreviousSibling();return(B(x)||L(x)&&x.isInline())&&!x.canInsertTextAfter()})(g):m===g.getTextContentSize()&&(!g.canInsertTextAfter()||!_.canInsertTextAfter()&&!g.isComposing()||C)})(n,l)}function Qu(n,e){return nn(n)&&n.nodeValue!==null&&e!==0&&e!==n.nodeValue.length}function ed(n,e,t){let{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}=n;ll&&(ll=!1,Qu(r,o)&&Qu(i,s)&&!cr)||Mt(e,(()=>{if(!t)return void Nt(null);if(!si(e,r,i))return;let l=de();if(cr&&J(l)&&l.isCollapsed()){let a=l.anchor,c=cr.anchor;(a.key===c.key&&a.offset===c.offset+1||a.offset===1&&c.getNode().is(a.getNode().getPreviousSibling()))&&(l=cr.clone(),Nt(l))}if(cr=null,J(l)){let a=l.anchor,c=a.getNode();if(l.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(l.dirty=!0);let u=Ft(e).event,d=u?u.timeStamp:performance.now(),[h,p,f,g,m]=_f,_=yt(),C=e.isComposing()===!1&&_.getTextContent()==="";if(d<m+200&&a.offset===f&&a.key===g)Ui(l,h,p);else if(a.type==="text")B(c)||k(141),yf(l,c);else if(a.type==="element"&&!C){L(c)||k(259);let y=a.getNode();y.isEmpty()?(function(x,b){let T=b.getTextFormat(),N=b.getTextStyle();Ui(x,T,N)})(l,y):Ui(l,0,"")}}else{let u=a.key,d=l.focus.key,h=l.getNodes(),p=h.length,f=l.isBackward(),g=f?s:o,m=f?o:s,_=f?d:u,C=f?u:d,y=Rd,x=!1;for(let b=0;b<p;b++){let T=h[b],N=T.getTextContentSize();if(B(T)&&N!==0&&!(b===0&&T.__key===_&&g===N||b===p-1&&T.__key===C&&m===0)&&(x=!0,y&=T.getFormat(),y===0))break}l.format=x?y:0}}$(e,vl,void 0)}))}function Ui(n,e,t){n.format===e&&n.style===t||(n.format=e,n.style=t,n.dirty=!0)}function yf(n,e){Ui(n,e.getFormat(),e.getStyle())}function Nf(n){if(!n.getTargetRanges)return null;let e=n.getTargetRanges();return e.length===0?null:e[0]}function $i(n,e){let t=n._compositionKey;if(Ue(null),t!==null&&e!=null){if(e===""){let r=$e(t),o=_r(n.getElementByKey(t));return void(o!==null&&o.nodeValue!==null&&B(r)&&Ul(r,o.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){let r=de();if(J(r)){let o=r.focus;return r.anchor.set(o.key,o.offset,o.type),void $(n,es,null)}}}zl(!0,n,e)}function xf(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}var zr=new Map;function Tf(n){let e=ng(n.target);if(e===null)return;let t=Kl(e.anchorNode);if(t===null)return;cl&&(cl=!1,Mt(t,(()=>{let a=Nr(),c=e.anchorNode;(at(c)||nn(c))&&Nt(_s(a,e,t,n))})));let r=Hl(t),o=r[r.length-1],i=o._key,s=zr.get(i),l=s||o;l!==t&&ed(e,l,!1),ed(e,t,!0),t!==o?zr.set(i,t):s&&zr.delete(i)}function td(n){n._lexicalHandled=!0}function nd(n){return n._lexicalHandled===!0}var kC=()=>{};function RC(n){let e=n.ownerDocument,t=ts.get(e);if(t===void 0)return void kC();let r=t-1;r>=0||k(164),ts.set(e,r),r===0&&e.removeEventListener("selectionchange",Tf);let o=ai(n);Cs(o)?((function(s){if(s._parentEditor!==null){let l=Hl(s),a=l[l.length-1]._key;zr.get(a)===s&&zr.delete(a)}else zr.delete(s._key)})(o),n.__lexicalEditor=null):o&&k(198);let i=xf(n);for(let s=0;s<i.length;s++)i[s]();n.__lexicalEventHandles=[]}function ul(n,e,t){Ze();let r=n.__key,o=n.getParent();if(o===null)return;let i=(function(l){let a=de();if(!J(a)||!L(l))return a;let{anchor:c,focus:u}=a,d=c.getNode(),h=u.getNode();return us(d,l)&&c.set(l.__key,0,"element"),us(h,l)&&u.set(l.__key,0,"element"),a})(n),s=!1;if(J(i)&&e){let l=i.anchor,a=i.focus;l.key===r&&(os(l,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0),a.key===r&&(os(a,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0)}else ms(i)&&e&&n.isSelected()&&n.selectPrevious();if(J(i)&&e&&!s){let l=n.getIndexWithinParent();Bn(n),rs(i,o,l,-1)}else Bn(n);t||Gt(o)||o.canBeEmpty()||!o.isEmpty()||ul(o,e),e&&i&&_t(o)&&o.isEmpty()&&o.selectEnd()}var Yr=class{static getType(){k(64,this.name)}static clone(e){k(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),zf(this,e)}getType(){return this.__type}isInline(){k(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;let t=$e(e);if(t===null)break;e=t.__parent}return!1}isSelected(e){let t=e||de();if(t==null)return!1;let r=t.getNodes().some((o=>o.__key===this.__key));if(B(this))return r;if(J(t)&&t.anchor.type==="element"&&t.focus.type==="element"){if(t.isCollapsed())return!1;let o=this.getParent();if(Ne(this)&&this.isInline()&&o){let i=t.isBackward()?t.focus:t.anchor;if(o.is(i.getNode())&&i.offset===o.getChildrenSize()&&this.is(o.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){let e=this.getParent();if(e===null)return-1;let t=e.getFirstChild(),r=0;for(;t!==null;){if(this.is(t))return r;r++,t=t.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return e===null?null:$e(e)}getParentOrThrow(){let e=this.getParent();return e===null&&k(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){let t=e.getParent();if(Gt(t))return L(e)||e===this&&Ne(e)||k(194),e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return e===null&&k(67,this.__key),e}getParents(){let e=[],t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return e===null?null:$e(e)}getPreviousSiblings(){let e=[],t=this.getParent();if(t===null)return e;let r=t.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return e===null?null:$e(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=L(this)?this:this.getParent(),r=L(e)?e:e.getParent(),o=t&&r?Jo(t,r):null;return o?o.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){let t=Jo(this,e);return t!==null&&(t.type==="descendant"||(t.type==="branch"?Zl(t)===-1:(t.type!=="same"&&t.type!=="ancestor"&&k(279),!1)))}isParentOf(e){let t=Jo(this,e);return t!==null&&t.type==="ancestor"}getNodesBetween(e){let t=this.isBefore(e),r=[],o=new Set,i=this;for(;i!==null;){let s=i.__key;if(o.has(s)||(o.add(s),r.push(i)),i===e)break;let l=L(i)?t?i.getFirstChild():i.getLastChild():null;if(l!==null){i=l;continue}let a=t?i.getNextSibling():i.getPreviousSibling();if(a!==null){i=a;continue}let c=i.getParentOrThrow();if(o.has(c.__key)||r.push(c),c===e)break;let u=null,d=c;do{if(d===null&&k(68),u=t?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),d===null)break;u!==null||o.has(d.__key)||r.push(d)}while(u===null);i=u}return t||r.reverse(),r}isDirty(){let e=Se()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){let e=$e(this.__key);return e===null&&k(113),e}getWritable(){Ze();let e=Tn(),t=Se(),r=e._nodeMap,o=this.__key,i=this.getLatest(),s=t._cloneNotNeeded,l=de();if(l!==null&&l.setCachedNodes(null),s.has(o))return cs(i),i;let a=ig(i);return s.add(o),cs(a),r.set(o,a),a}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){k(70)}updateDOM(e,t,r){k(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){let e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){k(18,this.name)}updateFromJSON(e){return(function(t,r){let o=t.getWritable();return(r||o.__state)&&Ol(t).updateFromJSON(r),o})(this,e.$)}static transform(){return null}remove(e){ul(this,!0,e)}replace(e,t){Ze();let r=de();r!==null&&(r=r.clone()),Wa(this,e);let o=this.getLatest(),i=this.__key,s=e.__key,l=e.getWritable(),a=this.getParentOrThrow().getWritable(),c=a.__size;Bn(l);let u=o.getPreviousSibling(),d=o.getNextSibling(),h=o.__prev,p=o.__next,f=o.__parent;if(ul(o,!1,!0),u===null?a.__first=s:u.getWritable().__next=s,l.__prev=h,d===null?a.__last=s:d.getWritable().__prev=s,l.__next=p,l.__parent=f,a.__size=c,t&&(L(this)&&L(l)||k(139),this.getChildren().forEach((g=>{l.append(g)}))),J(r)){Nt(r);let g=r.anchor,m=r.focus;g.key===i&&sd(g,l),m.key===i&&sd(m,l)}return $n()===i&&Ue(s),l}insertAfter(e,t=!0){Ze(),Wa(this,e);let r=this.getWritable(),o=e.getWritable(),i=o.getParent(),s=de(),l=!1,a=!1;if(i!==null){let p=e.getIndexWithinParent();if(Bn(o),J(s)){let f=i.__key,g=s.anchor,m=s.focus;l=g.type==="element"&&g.key===f&&g.offset===p+1,a=m.type==="element"&&m.key===f&&m.offset===p+1}}let c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),d=o.__key,h=r.__next;if(c===null?u.__last=d:c.getWritable().__prev=d,u.__size++,r.__next=d,o.__next=h,o.__prev=r.__key,o.__parent=r.__parent,t&&J(s)){let p=this.getIndexWithinParent();rs(s,u,p+1);let f=u.__key;l&&s.anchor.set(f,p+2,"element"),a&&s.focus.set(f,p+2,"element")}return e}insertBefore(e,t=!0){Ze(),Wa(this,e);let r=this.getWritable(),o=e.getWritable(),i=o.__key;Bn(o);let s=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,c=this.getIndexWithinParent();s===null?l.__first=i:s.getWritable().__next=i,l.__size++,r.__prev=i,o.__prev=a,o.__next=r.__key,o.__parent=r.__parent;let u=de();return t&&J(u)&&rs(u,this.getParentOrThrow(),c),e}isParentRequired(){return!1}createParentElementNode(){return Cn()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){Ze();let r=this.getPreviousSibling(),o=this.getParentOrThrow();if(r===null)return o.select(0,0);if(L(r))return r.select();if(!B(r)){let i=r.getIndexWithinParent()+1;return o.select(i,i)}return r.select(e,t)}selectNext(e,t){Ze();let r=this.getNextSibling(),o=this.getParentOrThrow();if(r===null)return o.select();if(L(r))return r.select(0,0);if(!B(r)){let i=r.getIndexWithinParent();return o.select(i,i)}return r.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}},jr=class n extends Yr{static getType(){return"linebreak"}static clone(e){return new n(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(t){let r=t.parentElement;if(r!==null&&pl(r)){let o=r.firstChild;if(o===t||o.nextSibling===t&&Pi(o)){let i=r.lastChild;if(i===t||i.previousSibling===t&&Pi(i))return!0}}return!1})(e)||(function(t){let r=t.parentElement;if(r!==null&&pl(r)){let o=r.firstChild;if(o===t||o.nextSibling===t&&Pi(o))return!1;let i=r.lastChild;if(i===t||i.previousSibling===t&&Pi(i))return!0}return!1})(e)?null:{conversion:FC,priority:0}}}static importJSON(e){return Jr().updateFromJSON(e)}};function FC(n){return{node:Jr()}}function Jr(){return ci(new jr)}function dr(n){return n instanceof jr}function Pi(n){return nn(n)&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function Ba(n,e){return 16&e?"code":e&fs?"mark":32&e?"sub":64&e?"sup":null}function Ka(n,e){return 1&e?"strong":2&e?"em":"span"}function Ef(n,e,t,r,o){let i=r.classList,s=Ur(o,"base");s!==void 0&&i.add(...s),s=Ur(o,"underlineStrikethrough");let l=!1,a=e&Zo&&e&Xo;s!==void 0&&(t&Zo&&t&Xo?(l=!0,a||i.add(...s)):a&&i.remove(...s));for(let c in nt){let u=nt[c];if(s=Ur(o,c),s!==void 0)if(t&u){if(l&&(c==="underline"||c==="strikethrough")){e&u&&i.remove(...s);continue}e&u&&(!a||c!=="underline")&&c!=="strikethrough"||i.add(...s)}else e&u&&i.remove(...s)}}function bf(n,e,t){let r=e.firstChild,o=t.isComposing(),i=n+(o?gs:"");if(r==null)e.textContent=i;else{let s=r.nodeValue;if(s!==i)if(o||Pn){let[l,a,c]=(function(u,d){let h=u.length,p=d.length,f=0,g=0;for(;f<h&&f<p&&u[f]===d[f];)f++;for(;g+f<h&&g+f<p&&u[h-g-1]===d[p-g-1];)g++;return[f,h-f-g,d.slice(f,p-g)]})(s,i);a!==0&&r.deleteData(l,a),r.insertData(l,c)}else r.nodeValue=i}}function rd(n,e,t,r,o,i){bf(o,n,e);let s=i.theme.text;s!==void 0&&Ef(0,0,r,n,s)}function Bi(n,e){let t=document.createElement(e);return t.appendChild(n),t}var hr=class n extends Yr{static getType(){return"text"}static clone(e){return new n(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return dC[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===$n()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){let t=nt[e];return!!(this.getFormat()&t)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return ls(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){let r=this.__format,o=Ba(0,r),i=Ka(0,r),s=o===null?i:o,l=document.createElement(s),a=l;this.hasFormat("code")&&l.setAttribute("spellcheck","false"),o!==null&&(a=document.createElement(i),l.appendChild(a)),rd(a,this,0,r,this.__text,e);let c=this.__style;return c!==""&&(l.style.cssText=c),l}updateDOM(e,t,r){let o=this.__text,i=e.__format,s=this.__format,l=Ba(0,i),a=Ba(0,s),c=Ka(0,i),u=Ka(0,s);if((l===null?c:l)!==(a===null?u:a))return!0;if(l===a&&c!==u){let g=t.firstChild;g==null&&k(48);let m=document.createElement(u);return rd(m,this,0,s,o,r),t.replaceChild(m,g),!1}let d=t;a!==null&&l!==null&&(d=t.firstChild,d==null&&k(49)),bf(o,d,this);let h=r.theme.text;h!==void 0&&i!==s&&Ef(0,i,s,d,h);let p=e.__style,f=this.__style;return p!==f&&(t.style.cssText=f),!1}static importDOM(){return{"#text":()=>({conversion:BC,priority:0}),b:()=>({conversion:$C,priority:0}),code:()=>({conversion:gn,priority:0}),em:()=>({conversion:gn,priority:0}),i:()=>({conversion:gn,priority:0}),mark:()=>({conversion:gn,priority:0}),s:()=>({conversion:gn,priority:0}),span:()=>({conversion:IC,priority:0}),strong:()=>({conversion:gn,priority:0}),sub:()=>({conversion:gn,priority:0}),sup:()=>({conversion:gn,priority:0}),u:()=>({conversion:gn,priority:0})}}static importJSON(e){return ze().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return at(t)||k(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=Bi(t,"b")),this.hasFormat("italic")&&(t=Bi(t,"i")),this.hasFormat("strikethrough")&&(t=Bi(t,"s")),this.hasFormat("underline")&&(t=Bi(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){let t=this.getWritable();return t.__format=typeof e=="string"?nt[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail=typeof e=="string"?lC[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){let t=ls(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){let t=uC[e];if(this.__mode===t)return this;let r=this.getWritable();return r.__mode=t,r}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){Ze();let r=e,o=t,i=de(),s=this.getTextContent(),l=this.__key;if(typeof s=="string"){let a=s.length;r===void 0&&(r=a),o===void 0&&(o=a)}else r=0,o=0;if(!J(i))return vf(l,r,l,o,"text","text");{let a=$n();a!==i.anchor.key&&a!==i.focus.key||Ue(l),i.setTextNodeRange(this,r,this,o)}return i}selectStart(){return this.select(0,0)}selectEnd(){let e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,r,o){let i=this.getWritable(),s=i.__text,l=r.length,a=e;a<0&&(a=l+a,a<0&&(a=0));let c=de();if(o&&J(c)){let d=e+l;c.setTextNodeRange(i,d,i,d)}let u=s.slice(0,a)+r+s.slice(a+t);return i.__text=u,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Ze();let t=this.getLatest(),r=t.getTextContent();if(r==="")return[];let o=t.__key,i=$n(),s=r.length;e.sort(((A,O)=>A-O)),e.push(s);let l=[],a=e.length;for(let A=0,O=0;A<s&&O<=a;O++){let R=e[O];R>A&&(l.push(r.slice(A,R)),A=R)}let c=l.length;if(c===1)return[t];let u=l[0],d=t.getParent(),h,p=t.getFormat(),f=t.getStyle(),g=t.__detail,m=!1,_=null,C=null,y=de();if(J(y)){let[A,O]=y.isBackward()?[y.focus,y.anchor]:[y.anchor,y.focus];A.type==="text"&&A.key===o&&(_=A),O.type==="text"&&O.key===o&&(C=O)}t.isSegmented()?(h=ze(u),h.__format=p,h.__style=f,h.__detail=g,m=!0):(h=t.getWritable(),h.__text=u);let x=[h];for(let A=1;A<c;A++){let O=ze(l[A]);O.__format=p,O.__style=f,O.__detail=g;let R=O.__key;i===o&&Ue(R),x.push(O)}let b=_?_.offset:null,T=C?C.offset:null,N=0;for(let A of x){if(!_&&!C)break;let O=N+A.getTextContentSize();if(_!==null&&b!==null&&b<=O&&b>=N&&(_.set(A.getKey(),b-N,"text"),b<O&&(_=null)),C!==null&&T!==null&&T<=O&&T>=N){C.set(A.getKey(),T-N,"text");break}N=O}if(d!==null){(function(R){let F=R.getPreviousSibling(),G=R.getNextSibling();F!==null&&cs(F),G!==null&&cs(G)})(this);let A=d.getWritable(),O=this.getIndexWithinParent();m?(A.splice(O,0,x),this.remove()):A.splice(O,1,x),J(y)&&rs(y,d,O,c-1)}return x}mergeWithSibling(e){let t=e===this.getPreviousSibling();t||e===this.getNextSibling()||k(50);let r=this.__key,o=e.__key,i=this.__text,s=i.length;$n()===o&&Ue(r);let l=de();if(J(l)){let d=l.anchor,h=l.focus;d!==null&&d.key===o&&gd(d,t,r,e,s),h!==null&&h.key===o&&gd(h,t,r,e,s)}let a=e.__text,c=t?a+i:i+a;this.setTextContent(c);let u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}};function IC(n){return{forChild:Rl(n.style),node:null}}function $C(n){let e=n,t=e.style.fontWeight==="normal";return{forChild:Rl(e.style,t?void 0:"bold"),node:null}}var od=new WeakMap;function PC(n){if(!at(n))return!1;if(n.nodeName==="PRE")return!0;let e=n.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function BC(n){let e=n;n.parentElement===null&&k(129);let t=e.textContent||"";if((function(r){let o,i=r.parentNode,s=[r];for(;i!==null&&(o=od.get(i))===void 0&&!PC(i);)s.push(i),i=i.parentNode;let l=o===void 0?i:o;for(let a=0;a<s.length;a++)od.set(s[a],l);return l})(e)!==null){let r=t.split(/(\r?\n|\t)/),o=[],i=r.length;for(let s=0;s<i;s++){let l=r[s];l===`
`||l===`\r
`?o.push(Jr()):l==="	"?o.push(ps()):l!==""&&o.push(ze(l))}return{node:o}}if(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," "),t==="")return{node:null};if(t[0]===" "){let r=e,o=!0;for(;r!==null&&(r=id(r,!1))!==null;){let i=r.textContent||"";if(i.length>0){/[ \t\n]$/.test(i)&&(t=t.slice(1)),o=!1;break}}o&&(t=t.slice(1))}if(t[t.length-1]===" "){let r=e,o=!0;for(;r!==null&&(r=id(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){o=!1;break}o&&(t=t.slice(0,t.length-1))}return t===""?{node:null}:{node:ze(t)}}function id(n,e){let t=n;for(;;){let r;for(;(r=e?t.nextSibling:t.previousSibling)===null;){let i=t.parentElement;if(i===null)return null;t=i}if(t=r,at(t)){let i=t.style.display;if(i===""&&!og(t)||i!==""&&!i.startsWith("inline"))return null}let o=t;for(;(o=e?t.firstChild:t.lastChild)!==null;)t=o;if(nn(t))return t;if(t.nodeName==="BR")return null}}var KC={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function gn(n){let e=KC[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:Rl(n.style,e),node:null}}function ze(n=""){return ci(new hr(n))}function B(n){return n instanceof hr}function Rl(n,e){let t=n.fontWeight,r=n.textDecoration.split(" "),o=t==="700"||t==="bold",i=r.includes("line-through"),s=n.fontStyle==="italic",l=r.includes("underline"),a=n.verticalAlign;return c=>(B(c)&&(o&&!c.hasFormat("bold")&&c.toggleFormat("bold"),i&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),s&&!c.hasFormat("italic")&&c.toggleFormat("italic"),l&&!c.hasFormat("underline")&&c.toggleFormat("underline"),a!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),a!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),e&&!c.hasFormat(e)&&c.toggleFormat(e)),c)}var Vr=class n extends hr{static getType(){return"tab"}static clone(e){return new n(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){let t=super.createDOM(e),r=Ur(e.theme,"tab");return r!==void 0&&t.classList.add(...r),t}static importJSON(e){return ps().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&k(126),super.setTextContent(e)}setDetail(e){return e!==2&&k(127),this}setMode(e){return e!=="normal"&&k(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}};function ps(){return ci(new Vr)}function Sf(n){return n instanceof Vr}var dl=class{constructor(e,t,r){this._selection=null,this.key=e,this.offset=t,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:Xl(Ht(Un(this,"next")),Ht(Un(e,"next")))<0}getNode(){let e=$e(this.key);return e===null&&k(20),e}set(e,t,r,o){let i=this._selection,s=this.key;o&&this.key===e&&this.offset===t&&this.type===r||(this.key=e,this.offset=t,this.type=r,io()||($n()===s&&Ue(e),i!==null&&(i.setCachedNodes(null),i.dirty=!0)))}};function Wt(n,e,t){return new dl(n,e,t)}function Ha(n,e){let t=e.__key,r=n.offset,o="element";if(B(e)){o="text";let i=e.getTextContentSize();r>i&&(r=i)}else if(!L(e)){let i=e.getNextSibling();if(B(i))t=i.__key,r=0,o="text";else{let s=e.getParent();s&&(t=s.__key,r=e.getIndexWithinParent()+1)}}n.set(t,r,o)}function sd(n,e){if(L(e)){let t=e.getLastDescendant();L(t)||B(t)?Ha(n,t):Ha(n,e)}else Ha(n,e)}var ns=class n{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!ms(e))return!1;let t=this._nodes,r=e._nodes;return t.size===r.size&&Array.from(t).every((o=>r.has(o)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new n(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){let t=this.getNodes(),r=t.length,o=t[r-1],i;if(B(o))i=o.select();else{let s=o.getIndexWithinParent()+1;i=o.getParentOrThrow().select(s,s)}i.insertNodes(e);for(let s=0;s<r;s++)t[s].remove()}getNodes(){let e=this._cachedNodes;if(e!==null)return e;let t=this._nodes,r=[];for(let o of t){let i=$e(o);i!==null&&r.push(i)}return io()||(this._cachedNodes=r),r}getTextContent(){let e=this.getNodes(),t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}deleteNodes(){let e=this.getNodes();if((de()||Nr())===this&&e[0]){let t=Ye(e[0],"next");ug(zn(t,t))}for(let t of e)t.remove()}};function J(n){return n instanceof pr}var pr=class n{constructor(e,t,r,o){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=r,this.style=o,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!J(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){let e=this._cachedNodes;if(e!==null)return e;let t=(function(r){let o=[],[i,s]=r.getTextSlices();i&&o.push(i.caret.origin);let l=new Set,a=new Set;for(let c of r)if(Ut(c)){let{origin:u}=c;o.length===0?l.add(u):(a.add(u),o.push(u))}else{let{origin:u}=c;L(u)&&a.has(u)||o.push(u)}if(s&&o.push(s.caret.origin),Cr(r.focus)&&L(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let c=xn(r.focus.origin,"previous");Ut(c)&&l.has(c.origin)&&!c.origin.isEmpty()&&c.origin.is(o[o.length-1]);c=ro(c))l.delete(c.origin),o.pop();for(;o.length>1;){let c=o[o.length-1];if(!L(c)||a.has(c)||c.isEmpty()||l.has(c))break;o.pop()}if(o.length===0&&r.isCollapsed()){let c=Ht(r.anchor),u=Ht(r.anchor.getFlipped()),d=p=>yn(p)?p.origin:p.getNodeAtCaret(),h=d(c)||d(u)||(r.anchor.getNodeAtCaret()?c.origin:u.origin);o.push(h)}return o})(Ql(yl(this),"next"));return io()||(this._cachedNodes=t),t}setTextNodeRange(e,t,r,o){this.anchor.set(e.__key,t,"text"),this.focus.set(r.__key,o,"text")}getTextContent(){let e=this.getNodes();if(e.length===0)return"";let t=e[0],r=e[e.length-1],o=this.anchor,i=this.focus,s=o.isBefore(i),[l,a]=fl(this),c="",u=!0;for(let d=0;d<e.length;d++){let h=e[d];if(L(h)&&!h.isInline())u||(c+=`
`),u=!h.isEmpty();else if(u=!1,B(h)){let p=h.getTextContent();h===t?h===r?o.type==="element"&&i.type==="element"&&i.offset!==o.offset||(p=l<a?p.slice(l,a):p.slice(a,l)):p=s?p.slice(l):p.slice(a):h===r&&(p=s?p.slice(0,a):p.slice(0,l)),c+=p}else!Ne(h)&&!dr(h)||h===r&&this.isCollapsed()||(c+=h.getTextContent())}return c}applyDOMRange(e){let t=Se(),r=t.getEditorState()._selection,o=Of(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,r);if(o===null)return;let[i,s]=o;this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(s.key,s.offset,s.type,!0),qi(this)}clone(){let e=this.anchor,t=this.focus;return new n(Wt(e.key,e.offset,e.type),Wt(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=ls(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){let t=nt[e];return!!(this.format&t)}insertRawText(e){let t=e.split(/(\r?\n|\t)/),r=[],o=t.length;for(let i=0;i<o;i++){let s=t[i];s===`
`||s===`\r
`?r.push(Jr()):s==="	"?r.push(ps()):r.push(ze(s))}this.insertNodes(r)}insertText(e){let t=this.anchor,r=this.focus,o=this.format,i=this.style,s=t,l=r;!this.isCollapsed()&&r.isBefore(t)&&(s=r,l=t),s.type==="element"&&(function(m,_,C,y){let x=m.getNode(),b=x.getChildAtIndex(m.offset),T=ze(),N=_t(x)?Cn().append(T):T;T.setFormat(C),T.setStyle(y),b===null?x.append(N):b.insertBefore(N),m.is(_)&&_.set(T.__key,0,"text"),m.set(T.__key,0,"text")})(s,l,o,i),l.type==="element"&&oo(l,Ht(Un(l,"next")));let a=s.offset,c=l.offset,u=this.getNodes(),d=u.length,h=u[0];B(h)||k(26);let p=h.getTextContent().length,f=h.getParentOrThrow(),g=u[d-1];if(d===1&&l.type==="element"&&(c=p,l.set(s.key,c,"text")),this.isCollapsed()&&a===p&&(h.isSegmented()||h.isToken()||!h.canInsertTextAfter()||!f.canInsertTextAfter()&&h.getNextSibling()===null)){let m=h.getNextSibling();if(B(m)&&m.canInsertTextBefore()&&!ur(m)||(m=ze(),m.setFormat(o),m.setStyle(i),f.canInsertTextAfter()?h.insertAfter(m):f.insertAfter(m)),m.select(0,0),h=m,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&a===0&&(h.isSegmented()||h.isToken()||!h.canInsertTextBefore()||!f.canInsertTextBefore()&&h.getPreviousSibling()===null)){let m=h.getPreviousSibling();if(B(m)&&!ur(m)||(m=ze(),m.setFormat(o),f.canInsertTextBefore()?h.insertBefore(m):f.insertBefore(m)),m.select(),h=m,e!=="")return void this.insertText(e)}else if(h.isSegmented()&&a!==p){let m=ze(h.getTextContent());m.setFormat(o),h.replace(m),h=m}else if(!this.isCollapsed()&&e!==""){let m=g.getParent();if(!f.canInsertTextBefore()||!f.canInsertTextAfter()||L(m)&&(!m.canInsertTextBefore()||!m.canInsertTextAfter()))return this.insertText(""),Af(this.anchor,this.focus,null),void this.insertText(e)}if(d===1){if(h.isToken()){let y=ze(e);return y.select(),void h.replace(y)}let m=h.getFormat(),_=h.getStyle();if(a!==c||m===o&&_===i){if(Sf(h)){let y=ze(e);return y.setFormat(o),y.setStyle(i),y.select(),void h.replace(y)}}else{if(h.getTextContent()!==""){let y=ze(e);if(y.setFormat(o),y.setStyle(i),y.select(),a===0)h.insertBefore(y,!1);else{let[x]=h.splitText(a);x.insertAfter(y,!1)}return void(y.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}h.setFormat(o),h.setStyle(i)}let C=c-a;h=h.spliceText(a,C,e,!0),h.getTextContent()===""?h.remove():this.anchor.type==="text"&&(h.isComposing()?this.anchor.offset-=e.length:(this.format=m,this.style=_))}else{let m=new Set([...h.getParentKeys(),...g.getParentKeys()]),_=L(h)?h:h.getParentOrThrow(),C=L(g)?g:g.getParentOrThrow(),y=g;if(!_.is(C)&&C.isInline())do y=C,C=C.getParentOrThrow();while(C.isInline());if(l.type==="text"&&(c!==0||g.getTextContent()==="")||l.type==="element"&&g.getIndexWithinParent()<c)if(B(g)&&!g.isToken()&&c!==g.getTextContentSize()){if(g.isSegmented()){let A=ze(g.getTextContent());g.replace(A),g=A}_t(l.getNode())||l.type!=="text"||(g=g.spliceText(0,c,"")),m.add(g.__key)}else{let A=g.getParentOrThrow();A.canBeEmpty()||A.getChildrenSize()!==1?g.remove():A.remove()}else m.add(g.__key);let x=C.getChildren(),b=new Set(u),T=_.is(C),N=_.isInline()&&h.getNextSibling()===null?_:h;for(let A=x.length-1;A>=0;A--){let O=x[A];if(O.is(h)||L(O)&&O.isParentOf(h))break;O.isAttached()&&(!b.has(O)||O.is(y)?T||N.insertAfter(O,!1):O.remove())}if(!T){let A=C,O=null;for(;A!==null;){let R=A.getChildren(),F=R.length;(F===0||R[F-1].is(O))&&(m.delete(A.__key),O=A),A=A.getParent()}}if(h.isToken())if(a===p)h.select();else{let A=ze(e);A.select(),h.replace(A)}else h=h.spliceText(a,p-a,e,!0),h.getTextContent()===""?h.remove():h.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let A=1;A<d;A++){let O=u[A],R=O.__key;m.has(R)||O.remove()}}}removeText(){let e=de()===this;Vo(this,dg(yl(this))),e&&de()!==this&&Nt(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void Ue(null);let r=this.getNodes(),o=[];for(let x of r)B(x)&&o.push(x);let i=x=>{r.forEach((b=>{if(L(b)){let T=b.getFormatFlags(e,x);b.setTextFormat(T)}}))},s=o.length;if(s===0)return this.toggleFormat(e),Ue(null),void i(t);let l=this.anchor,a=this.focus,c=this.isBackward(),u=c?a:l,d=c?l:a,h=0,p=o[0],f=u.type==="element"?0:u.offset;if(u.type==="text"&&f===p.getTextContentSize()&&(h=1,p=o[1],f=0),p==null)return;let g=p.getFormatFlags(e,t);i(g);let m=s-1,_=o[m],C=d.type==="text"?d.offset:_.getTextContentSize();if(p.is(_)){if(f===C)return;if(ur(p)||f===0&&C===p.getTextContentSize())p.setFormat(g);else{let x=p.splitText(f,C),b=f===0?x[0]:x[1];b.setFormat(g),u.type==="text"&&u.set(b.__key,0,"text"),d.type==="text"&&d.set(b.__key,C-f,"text")}return void(this.format=g)}f===0||ur(p)||([,p]=p.splitText(f),f=0),p.setFormat(g);let y=_.getFormatFlags(e,g);C>0&&(C===_.getTextContentSize()||ur(_)||([_]=_.splitText(C)),_.setFormat(y));for(let x=h+1;x<m;x++){let b=o[x],T=b.getFormatFlags(e,y);b.setFormat(T)}u.type==="text"&&u.set(p.__key,f,"text"),d.type==="text"&&d.set(_.__key,C,"text"),this.format=g|y}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();let f=de();return J(f)||k(134),f.insertNodes(e)}let t=(this.isBackward()?this.focus:this.anchor).getNode(),r=Ya(t,_n),o=e[e.length-1];if(L(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{let f=za(this);r.splice(f,0,e),o.selectEnd()}return}if(!e.some((f=>(L(f)||Ne(f))&&!f.isInline()))){L(r)||k(211,t.constructor.name,t.getType());let f=za(this);return r.splice(f,0,e),void o.selectEnd()}let i=(function(f){let g=Cn(),m=null;for(let _=0;_<f.length;_++){let C=f[_],y=dr(C);if(y||Ne(C)&&C.isInline()||L(C)&&C.isInline()||B(C)||C.isParentRequired()){if(m===null&&(m=C.createParentElementNode(),g.append(m),y))continue;m!==null&&m.append(C)}else g.append(C),m=null}return g})(e),s=i.getLastDescendant(),l=i.getChildren(),a=!L(r)||!r.isEmpty()?this.insertParagraph():null,c=l[l.length-1],u=l[0];var d;L(d=u)&&_n(d)&&!d.isEmpty()&&L(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(L(r)||k(211,t.constructor.name,t.getType()),r.append(...u.getChildren()),u=l[1]),u&&(r===null&&k(212,t.constructor.name,t.getType()),(function(f,g,m){let _=g.getParentOrThrow().getLastChild(),C=g,y=[g];for(;C!==_;)C.getNextSibling()||k(140),C=C.getNextSibling(),y.push(C);let x=f;for(let b of y)x=x.insertAfter(b)})(r,u));let h=Ya(s,_n);a&&L(h)&&(a.canMergeWhenEmpty()||_n(c))&&(h.append(...a.getChildren()),a.remove()),L(r)&&r.isEmpty()&&r.remove(),s.selectEnd();let p=L(r)?r.getLastChild():null;dr(p)&&h!==r&&p.remove()}insertParagraph(){if(this.anchor.key==="root"){let s=Cn();return yt().splice(this.anchor.offset,0,[s]),s.select(),s}let e=za(this),t=Ya(this.anchor.getNode(),_n);L(t)||k(213);let r=t.getChildAtIndex(e),o=r?[r,...r.getNextSiblings()]:[],i=t.insertNewAfter(this,!1);return i?(i.append(...o),i.selectStart(),i):null}insertLineBreak(e){let t=Jr();if(this.insertNodes([t]),e){let r=t.getParentOrThrow(),o=t.getIndexWithinParent();r.select(o,o)}}extract(){let e=this.getNodes(),t=e.length,r=t-1,o=this.anchor,i=this.focus,s=e[0],l=e[r],[a,c]=fl(this);if(t===0)return[];if(t===1){if(B(s)&&!this.isCollapsed()){let d=a>c?c:a,h=a>c?a:c,p=s.splitText(d,h),f=d===0?p[0]:p[1];return f!=null?[f]:[]}return[s]}let u=o.isBefore(i);if(B(s)){let d=u?a:c;d===s.getTextContentSize()?e.shift():d!==0&&([,s]=s.splitText(d),e[0]=s)}if(B(l)){let d=l.getTextContent().length,h=u?c:a;h===0?e.pop():h!==d&&([l]=l.splitText(h),e[r]=l)}return e}modify(e,t,r){if(hd(this,e,t,r))return;let o=e==="move",i=Se(),s=tn(Ft(i));if(!s)return;let l=i._blockCursorElement,a=i._rootElement,c=this.focus.getNode();if(a===null||l===null||!L(c)||c.isInline()||c.canBeEmpty()||hl(l,i,a),this.dirty){let u=Qr(i,this.anchor.key),d=Qr(i,this.focus.key);this.anchor.type==="text"&&(u=_r(u)),this.focus.type==="text"&&(d=_r(d)),u&&d&&wf(s,u,this.anchor.offset,d,this.focus.offset)}if((function(u,d,h,p){u.modify(d,h,p)})(s,e,t?"backward":"forward",r),s.rangeCount>0){let u=s.getRangeAt(0),d=this.anchor.getNode(),h=_t(d)?d:eg(d);if(this.applyDOMRange(u),this.dirty=!0,!o){let p=this.getNodes(),f=[],g=!1;for(let m=0;m<p.length;m++){let _=p[m];us(_,h)?f.push(_):g=!0}if(g&&f.length>0)if(t){let m=f[0];L(m)?m.selectStart():m.getParentOrThrow().selectStart()}else{let m=f[f.length-1];L(m)?m.selectEnd():m.getParentOrThrow().selectEnd()}s.anchorNode===u.startContainer&&s.anchorOffset===u.startOffset||(function(m){let _=m.focus,C=m.anchor,y=C.key,x=C.offset,b=C.type;C.set(_.key,_.offset,_.type,!0),_.set(y,x,b,!0)})(this)}}r==="lineboundary"&&hd(this,e,t,r,"decorators")}forwardDeletion(e,t,r){if(!r&&(e.type==="element"&&L(t)&&e.offset===t.getChildrenSize()||e.type==="text"&&e.offset===t.getTextContentSize())){let o=t.getParent(),i=t.getNextSibling()||(o===null?null:o.getNextSibling());if(L(i)&&i.isShadowRoot())return!0}return!1}deleteCharacter(e){let t=this.isCollapsed();if(this.isCollapsed()){let r=this.anchor,o=r.getNode();if(this.forwardDeletion(r,o,e))return;let i=Vl(Un(r,e?"previous":"next"));if(i.getTextSlices().every((l=>l===null||l.distance===0))){let l={type:"initial"};for(let a of i.iterNodeCarets("shadowRoot"))if(Ut(a)){if(!a.origin.isInline()){if(a.origin.isShadowRoot()){if(l.type==="merge-block")break;if(L(i.anchor.origin)&&i.anchor.origin.isEmpty()){let c=Ht(a);Vo(this,zn(c,c)),i.anchor.origin.remove()}return}l.type!=="merge-next-block"&&l.type!=="merge-block"||(l={block:l.block,caret:a,type:"merge-block"})}}else{if(l.type==="merge-block")break;if(Cr(a)){if(L(a.origin)){if(a.origin.isInline()){if(!a.origin.isParentOf(i.anchor.origin))break}else l={block:a.origin,type:"merge-next-block"};continue}if(Ne(a.origin)){if(!a.origin.isIsolated())if(l.type==="merge-next-block"&&(a.origin.isKeyboardSelectable()||!a.origin.isInline())&&L(i.anchor.origin)&&i.anchor.origin.isEmpty()){i.anchor.origin.remove();let c=Fl();c.add(a.origin.getKey()),Nt(c)}else a.origin.remove();return}break}}if(l.type==="merge-block"){let{caret:a,block:c}=l;return Vo(this,zn(!a.origin.isEmpty()&&c.isEmpty()?ao(Ye(c,a.direction)):i.anchor,a)),this.removeText()}}let s=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&ld(this,r.getNode()))return}else{let l=s.type==="text"?s.getNode():null;if(o=r.type==="text"?r.getNode():null,l!==null&&l.isSegmented()){let a=s.offset,c=l.getTextContentSize();if(l.is(o)||e&&a!==c||!e&&a!==0)return void cd(l,e,a)}else if(o!==null&&o.isSegmented()){let a=r.offset,c=o.getTextContentSize();if(o.is(l)||e&&a!==0||!e&&a!==c)return void cd(o,e,a)}(function(a,c){let u=a.anchor,d=a.focus,h=u.getNode(),p=d.getNode();if(h===p&&u.type==="text"&&d.type==="text"){let f=u.offset,g=d.offset,m=f<g,_=m?f:g,C=m?g:f,y=C-1;_!==y&&(function(x){return!(Yf(x)||HC(x))})(h.getTextContent().slice(_,C))&&(c?d.set(d.key,y,d.type):u.set(u.key,y,u.type))}})(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){let r=this.anchor.getNode();r.isEmpty()&&_t(r.getParent())&&r.getPreviousSibling()===null&&ld(this,r)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){let t=this.anchor,r=t.getNode();if(this.forwardDeletion(t,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}};function ms(n){return n instanceof ns}function ad(n){let e=n.offset;if(n.type==="text")return e;let t=n.getNode();return e===t.getChildrenSize()?t.getTextContent().length:0}function fl(n){let e=n.getStartEndPoints();if(e===null)return[0,0];let[t,r]=e;return t.type==="element"&&r.type==="element"&&t.key===r.key&&t.offset===r.offset?[0,0]:[ad(t),ad(r)]}function ld(n,e){for(let t=e;t;t=t.getParent()){if(L(t)){if(t.collapseAtStart(n))return!0;if(Gt(t))break}if(t.getPreviousSibling())break}return!1}var HC=(()=>{try{let n=new RegExp("\\p{Emoji}","u"),e=n.test.bind(n);if(e("\u2764\uFE0F")&&e("#\uFE0F\u20E3")&&e("\u{1F44D}"))return e}catch{}return()=>!1})();function cd(n,e,t){let r=n,o=r.getTextContent().split(/(?=\s)/g),i=o.length,s=0,l=0;for(let c=0;c<i;c++){let u=c===i-1;if(l=s,s+=o[c].length,e&&s===t||s>t||u){o.splice(c,1),u&&(l=void 0);break}}let a=o.join("").trim();a===""?r.remove():(r.setTextContent(a),r.select(l,l))}function ud(n,e,t,r){let o,i=e;if(at(n)){let s=!1,l=n.childNodes,a=l.length,c=r._blockCursorElement;i===a&&(s=!0,i=a-1);let u=l[i],d=!1;if(u===c)u=l[i+1],d=!0;else if(c!==null){let h=c.parentNode;n===h&&e>Array.prototype.indexOf.call(h.children,c)&&i--}if(o=Kr(u),B(o))i=bd(o,s);else{let h=Kr(n);if(h===null)return null;if(L(h)){let p=r.getElementByKey(h.getKey());p===null&&k(214),[h,i]=h.getDOMSlot(p).resolveChildIndex(h,p,n,e),L(h)||k(215),s&&i>=h.getChildrenSize()&&(i=Math.max(0,h.getChildrenSize()-1));let g=h.getChildAtIndex(i);if(L(g)&&(function(m,_,C){let y=m.getParent();return C===null||y===null||!y.canBeEmpty()||y!==C.getNode()})(g,0,t)){let m=s?g.getLastDescendant():g.getFirstDescendant();m===null?h=g:(g=m,h=L(g)?g:g.getParentOrThrow()),i=0}B(g)?(o=g,h=null,i=bd(g,s)):g!==h&&s&&!d&&(L(h)||k(216),i=Math.min(h.getChildrenSize(),i+1))}else{let p=h.getIndexWithinParent();i=e===0&&Ne(h)&&Kr(n)===h?p:p+1,h=h.getParentOrThrow()}if(L(h))return Wt(h.__key,i,"element")}}else o=Kr(n);return B(o)?Wt(o.__key,i,"text"):null}function dd(n,e,t){let r=n.offset,o=n.getNode();if(r===0){let i=o.getPreviousSibling(),s=o.getParent();if(e){if((t||!e)&&i===null&&L(s)&&s.isInline()){let l=s.getPreviousSibling();B(l)&&n.set(l.__key,l.getTextContent().length,"text")}}else L(i)&&!t&&i.isInline()?n.set(i.__key,i.getChildrenSize(),"element"):B(i)&&n.set(i.__key,i.getTextContent().length,"text")}else if(r===o.getTextContent().length){let i=o.getNextSibling(),s=o.getParent();if(e&&L(i)&&i.isInline())n.set(i.__key,0,"element");else if((t||e)&&i===null&&L(s)&&s.isInline()&&!s.canInsertTextAfter()){let l=s.getNextSibling();B(l)&&n.set(l.__key,0,"text")}}}function Af(n,e,t){if(n.type==="text"&&e.type==="text"){let r=n.isBefore(e),o=n.is(e);dd(n,r,o),dd(e,!r,o),o&&e.set(n.key,n.offset,n.type);let i=Se();if(i.isComposing()&&i._compositionKey!==n.key&&J(t)){let s=t.anchor,l=t.focus;n.set(s.key,s.offset,s.type,!0),e.set(l.key,l.offset,l.type,!0)}}}function Of(n,e,t,r,o,i){if(n===null||t===null||!si(o,n,t))return null;let s=ud(n,e,J(i)?i.anchor:null,o);if(s===null)return null;let l=ud(t,r,J(i)?i.focus:null,o);if(l===null)return null;if(s.type==="element"&&l.type==="element"){let a=Kr(n),c=Kr(t);if(Ne(a)&&Ne(c))return null}return Af(s,l,i),[s,l]}function zC(n){return L(n)&&!n.isInline()}function vf(n,e,t,r,o,i){let s=Tn(),l=new pr(Wt(n,e,o),Wt(t,r,i),0,"");return l.dirty=!0,s._selection=l,l}function Mf(){let n=Wt("root",0,"element"),e=Wt("root",0,"element");return new pr(n,e,0,"")}function Fl(){return new ns(new Set)}function UC(n,e){return _s(null,n,e,null)}function _s(n,e,t,r){let o=t._window;if(o===null)return null;let i=r||o.event,s=i?i.type:void 0,l=s==="selectionchange",a=!Ja&&(l||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&i&&i.detail===3||s==="drop"||s===void 0),c,u,d,h;if(J(n)&&!a)return n.clone();if(e===null)return null;if(c=e.anchorNode,u=e.focusNode,d=e.anchorOffset,h=e.focusOffset,l&&J(n)&&!si(t,c,u))return n.clone();let p=Of(c,d,u,h,t,n);if(p===null)return null;let[f,g]=p;return new pr(f,g,J(n)?n.format:0,J(n)?n.style:"")}function de(){return Tn()._selection}function Nr(){return Se()._editorState._selection}function rs(n,e,t,r=1){let o=n.anchor,i=n.focus,s=o.getNode(),l=i.getNode();if(!e.is(s)&&!e.is(l))return;let a=e.__key;if(n.isCollapsed()){let c=o.offset;if(t<=c&&r>0||t<c&&r<0){let u=Math.max(0,c+r);o.set(a,u,"element"),i.set(a,u,"element"),fd(n)}}else{let c=n.isBackward(),u=c?i:o,d=u.getNode(),h=c?o:i,p=h.getNode();if(e.is(d)){let f=u.offset;(t<=f&&r>0||t<f&&r<0)&&u.set(a,Math.max(0,f+r),"element")}if(e.is(p)){let f=h.offset;(t<=f&&r>0||t<f&&r<0)&&h.set(a,Math.max(0,f+r),"element")}}fd(n)}function fd(n){let e=n.anchor,t=e.offset,r=n.focus,o=r.offset,i=e.getNode(),s=r.getNode();if(n.isCollapsed()){if(!L(i))return;let l=i.getChildrenSize(),a=t>=l,c=a?i.getChildAtIndex(l-1):i.getChildAtIndex(t);if(B(c)){let u=0;a&&(u=c.getTextContentSize()),e.set(c.__key,u,"text"),r.set(c.__key,u,"text")}}else{if(L(i)){let l=i.getChildrenSize(),a=t>=l,c=a?i.getChildAtIndex(l-1):i.getChildAtIndex(t);if(B(c)){let u=0;a&&(u=c.getTextContentSize()),e.set(c.__key,u,"text")}}if(L(s)){let l=s.getChildrenSize(),a=o>=l,c=a?s.getChildAtIndex(l-1):s.getChildAtIndex(o);if(B(c)){let u=0;a&&(u=c.getTextContentSize()),r.set(c.__key,u,"text")}}}}function os(n,e,t,r,o){let i=null,s=0,l=null;r!==null?(i=r.__key,B(r)?(s=r.getTextContentSize(),l="text"):L(r)&&(s=r.getChildrenSize(),l="element")):o!==null&&(i=o.__key,B(o)?l="text":L(o)&&(l="element")),i!==null&&l!==null?n.set(i,s,l):(s=e.getIndexWithinParent(),s===-1&&(s=t.getChildrenSize()),n.set(t.__key,s,"element"))}function gd(n,e,t,r,o){n.type==="text"?n.set(t,n.offset+(e?0:o),"text"):n.offset>r.getIndexWithinParent()&&n.set(n.key,n.offset-1,"element")}function wf(n,e,t,r,o){try{n.setBaseAndExtent(e,t,r,o)}catch{}}function WC(n,e,t,r,o,i,s){let l=r.anchorNode,a=r.focusNode,c=r.anchorOffset,u=r.focusOffset,d=document.activeElement;if(o.has(If)&&d!==i||d!==null&&Bl(d))return;if(!J(e))return void(n!==null&&si(t,l,a)&&r.removeAllRanges());let h=e.anchor,p=e.focus,f=h.key,g=p.key,m=Qr(t,f),_=Qr(t,g),C=h.offset,y=p.offset,x=e.format,b=e.style,T=e.isCollapsed(),N=m,A=_,O=!1;if(h.type==="text"){N=_r(m);let W=h.getNode();O=W.getFormat()!==x||W.getStyle()!==b}else J(n)&&n.anchor.type==="text"&&(O=!0);var R,F,G,U,K;if(p.type==="text"&&(A=_r(_)),N!==null&&A!==null&&(T&&(n===null||O||J(n)&&(n.format!==x||n.style!==b))&&(R=x,F=b,G=C,U=f,K=performance.now(),_f=[R,F,G,U,K]),c!==C||u!==y||l!==N||a!==A||r.type==="Range"&&T||(d!==null&&i.contains(d)||i.focus({preventScroll:!0}),h.type==="element"))){if(wf(r,N,C,A,y),!o.has($f)&&e.isCollapsed()&&i!==null&&i===document.activeElement){let W=J(e)&&e.anchor.type==="element"?N.childNodes[C]||null:r.rangeCount>0?r.getRangeAt(0):null;if(W!==null){let Z;if(W instanceof Text){let ge=document.createRange();ge.selectNode(W),Z=ge.getBoundingClientRect()}else Z=W.getBoundingClientRect();(function(ge,ae,le){let tt=Gl(le),qe=Yl(tt);if(tt===null||qe===null)return;let{top:gt,bottom:He}=ae,Re=0,ht=0,we=le;for(;we!==null;){let oe=we===tt.body;if(oe)Re=0,ht=Ft(ge).innerHeight;else{let Fe=we.getBoundingClientRect();Re=Fe.top,ht=Fe.bottom}let xe=0;if(gt<Re?xe=-(Re-gt):He>ht&&(xe=He-ht),xe!==0)if(oe)qe.scrollBy(0,xe);else{let Fe=we.scrollTop;we.scrollTop+=xe;let Xe=we.scrollTop-Fe;gt-=Xe,He-=Xe}if(oe)break;we=li(we)}})(t,Z,i)}}ll=!0}}function GC(n){let e=de()||Nr();e===null&&(e=yt().selectEnd()),e.insertNodes(n)}function YC(){let n=de();return n===null?"":n.getTextContent()}function za(n){let e=n;n.isCollapsed()||e.removeText();let t=de();J(t)&&(e=t),J(e)||k(161);let r=e.anchor,o=r.getNode(),i=r.offset;for(;!_n(o);){let s=o;if([o,i]=jC(o,i),s.is(o))break}return i}function jC(n,e){let t=n.getParent();if(!t){let o=Cn();return yt().append(o),o.select(),[yt(),0]}if(B(n)){let o=n.splitText(e);if(o.length===0)return[t,n.getIndexWithinParent()];let i=e===0?0:1;return[t,o[0].getIndexWithinParent()+i]}if(!L(n)||e===0)return[t,n.getIndexWithinParent()];let r=n.getChildAtIndex(e);if(r){let o=new pr(Wt(n.__key,e,"element"),Wt(n.__key,e,"element"),0,""),i=n.insertNewAfter(o);i&&i.append(r,...r.getNextSiblings())}return[t,n.getIndexWithinParent()+1]}function hd(n,e,t,r,o="decorators-and-blocks"){if(e==="move"&&r==="character"&&!n.isCollapsed()){let[u,d]=t===n.isBackward()?[n.focus,n.anchor]:[n.anchor,n.focus];return d.set(u.key,u.offset,u.type),!0}let i=Un(n.focus,t?"previous":"next"),s=r==="lineboundary",l=e==="move",a=i,c=o==="decorators-and-blocks";if(!fg(a)){for(let u of a){c=!1;let{origin:d}=u;if(!Ne(d)||d.isIsolated()||(a=u,!s||!d.isInline()))break}if(c)for(let u of Vl(i).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(Ut(u))u.origin.isInline()||(a=u);else{if(L(u.origin))continue;Ne(u.origin)&&!u.origin.isInline()&&(a=u)}break}}if(a===i)return!1;if(l&&!s&&Ne(a.origin)&&a.origin.isKeyboardSelectable()){let u=Fl();return u.add(a.origin.getKey()),Nt(u),!0}return a=Ht(a),l&&oo(n.anchor,a),oo(n.focus,a),c||!s}var We=null,Ge=null,Ct=!1,Ua=!1,Wi=0,pd={characterData:!0,childList:!0,subtree:!0};function io(){return Ct||We!==null&&We._readOnly}function Ze(){Ct&&k(13)}function Df(){Wi>99&&k(14)}function Tn(){return We===null&&k(195,Lf()),We}function Se(){return Ge===null&&k(196,Lf()),Ge}function Lf(){let n=0,e=new Set,t=Zr.version;if(typeof window<"u")for(let o of document.querySelectorAll("[contenteditable]")){let i=ai(o);if(Cs(i))n++;else if(i){let s=String(i.constructor.version||"<0.17.1");s===t&&(s+=" (separately built, likely a bundler configuration issue)"),e.add(s)}}let r=` Detected on the page: ${n} compatible editor(s) with version ${t}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function JC(){return Ge}function md(n,e,t){let r=e.__type,o=(function(l,a){let c=l._nodes.get(a);return c===void 0&&k(30,a),c})(n,r),i=t.get(r);i===void 0&&(i=Array.from(o.transforms),t.set(r,i));let s=i.length;for(let l=0;l<s&&(i[l](e),e.isAttached());l++);}function _d(n,e){return n!==void 0&&n.__key!==e&&n.isAttached()}function kf(n,e){if(!e)return;let t=n._updateTags,r=e;Array.isArray(e)||(r=[e]);for(let o of r)t.add(o)}function VC(n){return Il(n,Se()._nodes)}function Il(n,e){let t=n.type,r=e.get(t);r===void 0&&k(17,t);let o=r.klass;n.type!==o.getType()&&k(18,o.name);let i=o.importJSON(n),s=n.children;if(L(i)&&Array.isArray(s))for(let l=0;l<s.length;l++){let a=Il(s[l],e);i.append(a)}return i}function Cd(n,e,t){let r=We,o=Ct,i=Ge;We=e,Ct=!0,Ge=n;try{return t()}finally{We=r,Ct=o,Ge=i}}function mn(n,e){let t=n._pendingEditorState,r=n._rootElement,o=n._headless||r===null;if(t===null)return;let i=n._editorState,s=i._selection,l=t._selection,a=n._dirtyType!==fr,c=We,u=Ct,d=Ge,h=n._updating,p=n._observer,f=null;if(n._pendingEditorState=null,n._editorState=t,!o&&a&&p!==null){Ge=n,We=t,Ct=!1,n._updating=!0;try{let T=n._dirtyType,N=n._dirtyElements,A=n._dirtyLeaves;p.disconnect(),f=EC(i,t,n,T,N,A)}catch(T){if(T instanceof Error&&n._onError(T),Ua)throw T;return Bf(n,null,r,t),Hd(n),n._dirtyType=Gr,Ua=!0,mn(n,i),void(Ua=!1)}finally{p.observe(r,pd),n._updating=h,We=c,Ct=u,Ge=d}}t._readOnly||(t._readOnly=!0);let g=n._dirtyLeaves,m=n._dirtyElements,_=n._normalizedNodes,C=n._updateTags,y=n._deferred;a&&(n._dirtyType=fr,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),(function(T,N){let A=T._decorators,O=T._pendingDecorators||A,R=N._nodeMap,F;for(F in O)R.has(F)||(O===A&&(O=Wf(T)),delete O[F])})(n,t);let x=o?null:tn(Ft(n));if(n._editable&&x!==null&&(a||l===null||l.dirty)&&r!==null&&!C.has(Pf)){Ge=n,We=t;try{if(p!==null&&p.disconnect(),a||l===null||l.dirty){let T=n._blockCursorElement;T!==null&&hl(T,n,r),WC(s,l,n,x,C,r)}(function(T,N,A){let O=T._blockCursorElement;if(J(A)&&A.isCollapsed()&&A.anchor.type==="element"&&N.contains(document.activeElement)){let R=A.anchor,F=R.getNode(),G=R.offset,U=!1,K=null;if(G===F.getChildrenSize())Ga(F.getChildAtIndex(G-1))&&(U=!0);else{let W=F.getChildAtIndex(G);if(W!==null&&Ga(W)){let Z=W.getPreviousSibling();(Z===null||Ga(Z))&&(U=!0,K=T.getElementByKey(W.__key))}}if(U){let W=T.getElementByKey(F.__key);return O===null&&(T._blockCursorElement=O=(function(Z){let ge=Z.theme,ae=document.createElement("div");ae.contentEditable="false",ae.setAttribute("data-lexical-cursor","true");let le=ge.blockCursor;if(le!==void 0){if(typeof le=="string"){let tt=Ji(le);le=ge.blockCursor=tt}le!==void 0&&ae.classList.add(...le)}return ae})(T._config)),N.style.caretColor="transparent",void(K===null?W.appendChild(O):W.insertBefore(O,K))}}O!==null&&hl(O,T,N)})(n,r,l)}finally{p!==null&&p.observe(r,pd),Ge=d,We=c}}f!==null&&(function(T,N,A,O,R){let F=Array.from(T._listeners.mutation),G=F.length;for(let U=0;U<G;U++){let[K,W]=F[U],Z=N.get(W);Z!==void 0&&K(Z,{dirtyLeaves:O,prevEditorState:R,updateTags:A})}})(n,f,C,g,i),J(l)||l===null||s!==null&&s.is(l)||n.dispatchCommand(vl,void 0);let b=n._pendingDecorators;b!==null&&(n._decorators=b,n._pendingDecorators=null,jo("decorator",n,!0,b)),(function(T,N,A){let O=Ed(N),R=Ed(A);O!==R&&jo("textcontent",T,!0,R)})(n,e||i,t),jo("update",n,!0,{dirtyElements:m,dirtyLeaves:g,editorState:t,mutatedNodes:f,normalizedNodes:_,prevEditorState:e||i,tags:C}),(function(T,N){if(T._deferred=[],N.length!==0){let A=T._updating;T._updating=!0;try{for(let O=0;O<N.length;O++)N[O]()}finally{T._updating=A}}})(n,y),(function(T){let N=T._updates;if(N.length!==0){let A=N.shift();if(A){let[O,R]=A;$l(T,O,R)}}})(n)}function jo(n,e,t,...r){let o=e._updating;e._updating=t;try{let i=Array.from(e._listeners[n]);for(let s=0;s<i.length;s++)i[s].apply(null,r)}finally{e._updating=o}}function yd(n,e){let t=n._updates,r=e||!1;for(;t.length!==0;){let o=t.shift();if(o){let[i,s]=o,l;if(s!==void 0){if(l=s.onUpdate,s.skipTransforms&&(r=!0),s.discrete){let a=n._pendingEditorState;a===null&&k(191),a._flushSync=!0}l&&n._deferred.push(l),kf(n,s.tag)}i()}}return r}function $l(n,e,t){let r=n._updateTags,o,i=!1,s=!1;t!==void 0&&(o=t.onUpdate,kf(n,t.tag),i=t.skipTransforms||!1,s=t.discrete||!1),o&&n._deferred.push(o);let l=n._editorState,a=n._pendingEditorState,c=!1;(a===null||a._readOnly)&&(a=n._pendingEditorState=Rf(a||l),c=!0),a._flushSync=s;let u=We,d=Ct,h=Ge,p=n._updating;We=a,Ct=!1,n._updating=!0,Ge=n;let f=n._headless||n.getRootElement()===null;try{c&&(f?l._selection!==null&&(a._selection=l._selection.clone()):a._selection=(function(C,y){let x=C.getEditorState()._selection,b=tn(Ft(C));return J(x)||x==null?_s(x,b,C,y):x.clone()})(n,t&&t.event||null));let m=n._compositionKey;e(),i=yd(n,i),(function(C,y){let x=y.getEditorState()._selection,b=C._selection;if(J(b)){let T=b.anchor,N=b.focus,A;if(T.type==="text"&&(A=T.getNode(),A.selectionTransform(x,b)),N.type==="text"){let O=N.getNode();A!==O&&O.selectionTransform(x,b)}}})(a,n),n._dirtyType!==fr&&(i?(function(C,y){let x=y._dirtyLeaves,b=C._nodeMap;for(let T of x){let N=b.get(T);B(N)&&N.isAttached()&&N.isSimpleText()&&!N.isUnmergeable()&&qu(N)}})(a,n):(function(C,y){let x=y._dirtyLeaves,b=y._dirtyElements,T=C._nodeMap,N=$n(),A=new Map,O=x,R=O.size,F=b,G=F.size;for(;R>0||G>0;){if(R>0){y._dirtyLeaves=new Set;for(let U of O){let K=T.get(U);B(K)&&K.isAttached()&&K.isSimpleText()&&!K.isUnmergeable()&&qu(K),K!==void 0&&_d(K,N)&&md(y,K,A),x.add(U)}if(O=y._dirtyLeaves,R=O.size,R>0){Wi++;continue}}y._dirtyLeaves=new Set,y._dirtyElements=new Map,F.delete("root")&&F.set("root",!0);for(let U of F){let K=U[0],W=U[1];if(b.set(K,W),!W)continue;let Z=T.get(K);Z!==void 0&&_d(Z,N)&&md(y,Z,A)}O=y._dirtyLeaves,R=O.size,F=y._dirtyElements,G=F.size,Wi++}y._dirtyLeaves=x,y._dirtyElements=b})(a,n),yd(n),(function(C,y,x,b){let T=C._nodeMap,N=y._nodeMap,A=[];for(let[O]of b){let R=N.get(O);R!==void 0&&(R.isAttached()||(L(R)&&Pd(R,O,T,N,A,b),T.has(O)||b.delete(O),A.push(O)))}for(let O of A)N.delete(O);for(let O of x){let R=N.get(O);R===void 0||R.isAttached()||(T.has(O)||x.delete(O),N.delete(O))}})(l,a,n._dirtyLeaves,n._dirtyElements)),m!==n._compositionKey&&(a._flushSync=!0);let _=a._selection;if(J(_)){let C=a._nodeMap,y=_.anchor.key,x=_.focus.key;C.get(y)!==void 0&&C.get(x)!==void 0||k(19)}else ms(_)&&_._nodes.size===0&&(a._selection=null)}catch(m){return m instanceof Error&&n._onError(m),n._pendingEditorState=l,n._dirtyType=Gr,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void mn(n)}finally{We=u,Ct=d,Ge=h,n._updating=p,Wi=0}n._dirtyType!==fr||n._deferred.length>0||(function(m,_){let C=_.getEditorState()._selection,y=m._selection;if(y!==null){if(y.dirty||!y.is(C))return!0}else if(C!==null)return!0;return!1})(a,n)?a._flushSync?(a._flushSync=!1,mn(n)):c&&cy((()=>{mn(n)})):(a._flushSync=!1,c&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function Mt(n,e,t){Ge===n&&t===void 0?e():$l(n,e,t)}var gl=class n{constructor(e,t,r){this.element=e,this.before=t||null,this.after=r||null}withBefore(e){return new n(this.element,e,this.after)}withAfter(e){return new n(this.element,this.before,e)}withElement(e){return this.element===e?this:new n(e,this.before,this.after)}insertChild(e){let t=this.before||this.getManagedLineBreak();return t!==null&&t.parentElement!==this.element&&k(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&k(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&k(224),this.element.replaceChild(e,t),this}getFirstChild(){let e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{let t=e==="decorator"&&(Wr||qo);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){let e=this.getManagedLineBreak();if(e){let t=this.element,r=e.nodeName==="IMG"?e.nextSibling:null;r&&t.removeChild(r),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){let t=this.getManagedLineBreak();if(t){if(e===(t.nodeName==="IMG"))return;this.removeManagedLineBreak()}let r=this.element,o=this.before,i=document.createElement("br");if(r.insertBefore(i,o),e){let s=document.createElement("img");s.setAttribute("data-lexical-linebreak","true"),s.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",s.alt="",r.insertBefore(s,i),r.__lexicalLineBreak=s}else r.__lexicalLineBreak=i}getFirstChildOffset(){let e=0;for(let t=this.after;t!==null;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,r,o){if(r===this.element){let a=this.getFirstChildOffset();return[e,Math.min(a+e.getChildrenSize(),Math.max(a,o))]}let i=Nd(t,r);i.push(o);let s=Nd(t,this.element),l=e.getIndexWithinParent();for(let a=0;a<s.length;a++){let c=i[a],u=s[a];if(c===void 0||c<u)break;if(c>u){l+=1;break}}return[e.getParentOrThrow(),l]}};function Nd(n,e){let t=[],r=e;for(;r!==n&&r!==null;r=r.parentNode){let o=0;for(let i=r.previousSibling;i!==null;i=i.previousSibling)o++;t.push(o)}return r!==n&&k(225),t.reverse()}var mr=class extends Yr{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return cC[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;t!==null;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let e=Se()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return t!==null&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;t!==null;){if(B(t)&&e.push(t),L(t)){let r=t.getAllTextNodes();e.push(...r)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;L(e);){let t=e.getFirstChild();if(t===null)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;L(e);){let t=e.getLastChild();if(t===null)break;e=t}return e}getDescendantByIndex(e){let t=this.getChildren(),r=t.length;if(e>=r){let i=t[r-1];return L(i)&&i.getLastDescendant()||i||null}let o=t[e];return L(o)&&o.getFirstDescendant()||o||null}getFirstChild(){let e=this.getLatest().__first;return e===null?null:$e(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return e===null&&k(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return e===null?null:$e(e)}getLastChildOrThrow(){let e=this.getLastChild();return e===null&&k(96,this.__key),e}getChildAtIndex(e){let t=this.getChildrenSize(),r,o;if(e<t/2){for(r=this.getFirstChild(),o=0;r!==null&&o<=e;){if(o===e)return r;r=r.getNextSibling(),o++}return null}for(r=this.getLastChild(),o=t-1;r!==null&&o>=e;){if(o===e)return r;r=r.getPreviousSibling(),o--}return null}getTextContent(){let e="",t=this.getChildren(),r=t.length;for(let o=0;o<r;o++){let i=t[o];e+=i.getTextContent(),L(i)&&o!==r-1&&!i.isInline()&&(e+=Nn)}return e}getTextContentSize(){let e=0,t=this.getChildren(),r=t.length;for(let o=0;o<r;o++){let i=t[o];e+=i.getTextContentSize(),L(i)&&o!==r-1&&!i.isInline()&&(e+=Nn.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){let t=ju[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){let t=nt[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return ls(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){Ze();let r=de(),o=e,i=t,s=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&t===0){let a=this.getFirstChild();if(B(a)||L(a))return a.select(0,0)}else if(!(e!==void 0&&e!==s||t!==void 0&&t!==s)){let a=this.getLastChild();if(B(a)||L(a))return a.select()}}o===void 0&&(o=s),i===void 0&&(i=s);let l=this.__key;return J(r)?(r.anchor.set(l,o,"element"),r.focus.set(l,i,"element"),r.dirty=!0,r):vf(l,o,l,i,"element","element")}selectStart(){let e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){let e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach((t=>t.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=e!==""?ju[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){let t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){let t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,r){let o=r.length,i=this.getChildrenSize(),s=this.getWritable();e+t<=i||k(226,String(e),String(t),String(i));let l=s.__key,a=[],c=[],u=this.getChildAtIndex(e+t),d=null,h=i-t+o;if(e!==0)if(e===i)d=this.getLastChild();else{let f=this.getChildAtIndex(e);f!==null&&(d=f.getPreviousSibling())}if(t>0){let f=d===null?this.getFirstChild():d.getNextSibling();for(let g=0;g<t;g++){f===null&&k(100);let m=f.getNextSibling(),_=f.__key;Bn(f.getWritable()),c.push(_),f=m}}let p=d;for(let f=0;f<o;f++){let g=r[f];p!==null&&g.is(p)&&(d=p=p.getPreviousSibling());let m=g.getWritable();m.__parent===l&&h--,Bn(m);let _=g.__key;if(p===null)s.__first=_,m.__prev=null;else{let C=p.getWritable();C.__next=_,m.__prev=C.__key}g.__key===l&&k(76),m.__parent=l,a.push(_),p=g}if(e+t===i)p!==null&&(p.getWritable().__next=null,s.__last=p.__key);else if(u!==null){let f=u.getWritable();if(p!==null){let g=p.getWritable();f.__prev=p.__key,g.__next=u.__key}else f.__prev=null}if(s.__size=h,c.length){let f=de();if(J(f)){let g=new Set(c),m=new Set(a),{anchor:_,focus:C}=f;xd(_,g,m)&&os(_,_.getNode(),this,d,u),xd(C,g,m)&&os(C,C.getNode(),this,d,u),h!==0||this.canBeEmpty()||Gt(this)||this.remove()}}return s}getDOMSlot(e){return new gl(e)}exportDOM(e){let{element:t}=super.exportDOM(e);if(at(t)){let r=this.getIndent();r>0&&(t.style.paddingInlineStart=40*r+"px");let o=this.getDirection();o&&(t.dir=o)}return{element:t}}exportJSON(){let e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),r=this.getTextStyle();return t!==0&&(e.textFormat=t),r!==""&&(e.textStyle=r),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){let r=this.getDOMSlot(e),o=r.getFirstChild();for(let i=this.getFirstChild();i;i=i.getNextSibling()){let s=t.getElementByKey(i.getKey());s!==null&&(o==null?(r.insertChild(s),o=s):o!==s&&r.replaceChild(s,o),o=o.nextSibling)}}};function L(n){return n instanceof mr}function xd(n,e,t){let r=n.getNode();for(;r;){let o=r.__key;if(e.has(o)&&!t.has(o))return!0;r=r.getParent()}return!1}var is=class extends Yr{decorate(e,t){k(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}};function Ne(n){return n instanceof is}var qr=class n extends mr{static getType(){return"root"}static clone(){return new n}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){k(51)}getTextContent(){let e=this.__cachedText;return!io()&&Se()._dirtyType!==fr||e===null?super.getTextContent():e}remove(){k(52)}replace(e){k(53)}insertBefore(e){k(54)}insertAfter(e){k(55)}updateDOM(e,t){return!1}splice(e,t,r){for(let o of r)L(o)||Ne(o)||k(282);return super.splice(e,t,r)}static importJSON(e){return yt().updateFromJSON(e)}collapseAtStart(){return!0}};function _t(n){return n instanceof qr}function Rf(n){return new ss(new Map(n._nodeMap))}function Pl(){return new ss(new Map([["root",new qr]]))}function Ff(n){let e=n.exportJSON(),t=n.constructor;if(e.type!==t.getType()&&k(130,t.name),L(n)){let r=e.children;Array.isArray(r)||k(59,t.name);let o=n.getChildren();for(let i=0;i<o.length;i++){let s=Ff(o[i]);r.push(s)}}return e}var ss=class n{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,t){return Cd(t&&t.editor||null,this,e)}clone(e){let t=new n(this._nodeMap,e===void 0?this._selection:e);return t._readOnly=!0,t}toJSON(){return Cd(null,this,(()=>({root:Ff(yt())})))}},qC="historic",XC="history-push",Gi="history-merge",ZC="paste",If="collaboration",QC="skip-collab",$f="skip-scroll-into-view",Pf="skip-dom-selection",as=class extends mr{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}},Xr=class n extends mr{static getType(){return"paragraph"}static clone(e){return new n(e.__key)}createDOM(e){let t=document.createElement("p"),r=Ur(e.theme,"paragraph");return r!==void 0&&t.classList.add(...r),t}updateDOM(e,t,r){return!1}static importDOM(){return{p:e=>({conversion:ey,priority:0})}}exportDOM(e){let{element:t}=super.exportDOM(e);if(at(t)){this.isEmpty()&&t.append(document.createElement("br"));let r=this.getFormatType();r&&(t.style.textAlign=r)}return{element:t}}static importJSON(e){return Cn().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){let r=Cn();r.setTextFormat(e.format),r.setTextStyle(e.style);let o=this.getDirection();return r.setDirection(o),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,t),r}collapseAtStart(){let e=this.getChildren();if(e.length===0||B(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}};function ey(n){let e=Cn();return n.style&&(e.setFormat(n.style.textAlign),sg(n,e)),{node:e}}function Cn(){return ci(new Xr)}function ty(n){return n instanceof Xr}var ny=0,ry=1,oy=2,iy=3,sy=4;function Bf(n,e,t,r){let o=n._keyToDOMMap;o.clear(),n._editorState=Pl(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=fr,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;let i=n._observer;i!==null&&(i.disconnect(),n._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",o.set("root",t))}function ay(n){let e=n||{},t=JC(),r=e.theme||{},o=n===void 0?t:e.parentEditor||null,i=e.disableEvents||!1,s=Pl(),l=e.namespace||(o!==null?o._config.namespace:jf()),a=e.editorState,c=[qr,hr,jr,Vr,Xr,as,...e.nodes||[]],{onError:u,html:d}=e,h=e.editable===void 0||e.editable,p;if(n===void 0&&t!==null)p=t._nodes;else{p=new Map;for(let g=0;g<c.length;g++){let m=c[g],_=null,C=null;if(typeof m!="function"){let T=m;m=T.replace,_=T.with,C=T.withKlass||null}let y=m.getType(),x=m.transform(),b=new Set;x!==null&&b.add(x),p.set(y,{exportDOM:d&&d.export?d.export.get(m):void 0,klass:m,replace:_,replaceWithKlass:C,transforms:b})}}let f=new Zr(s,o,p,{disableEvents:i,namespace:l,theme:r},u||console.error,(function(g,m){let _=new Map,C=new Set,y=x=>{Object.keys(x).forEach((b=>{let T=_.get(b);T===void 0&&(T=[],_.set(b,T)),T.push(x[b])}))};return g.forEach((x=>{let b=x.klass.importDOM;if(b==null||C.has(b))return;C.add(b);let T=b.call(x.klass);T!==null&&y(T)})),m&&y(m),_})(p,d?d.import:void 0),h,n);return a!==void 0&&(f._pendingEditorState=a,f._dirtyType=Gr),f}var Zr=class{constructor(e,t,r,o,i,s,l,a){this._createEditorArgs=a,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=fr,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=jf(),this._onError=i,this._htmlConversions=s,this._editable=l,this._headless=t!==null&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,r){r===void 0&&k(35);let o=this._commands;o.has(e)||o.set(e,[new Set,new Set,new Set,new Set,new Set]);let i=o.get(e);i===void 0&&k(36,String(e));let s=i[r];return s.add(t),()=>{s.delete(t),i.every((l=>l.size===0))&&o.delete(e)}}registerMutationListener(e,t,r){let o=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,i=this._listeners.mutation;i.set(t,o);let s=r&&r.skipInitialization;return s!==void 0&&s||this.initializeMutationListener(t,o),()=>{i.delete(t)}}getRegisteredNode(e){let t=this._nodes.get(e.getType());return t===void 0&&k(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){let r=this._editorState,o=ml(r).get(t.getType());if(!o)return;let i=new Map;for(let s of o.keys())i.set(s,"created");i.size>0&&e(i,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){let r=this.getRegisteredNode(e);return r.transforms.add(t),r}registerNodeTransform(e,t){let r=this.registerNodeTransformToKlass(e,t),o=[r],i=r.replaceWithKlass;if(i!=null){let s=this.registerNodeTransformToKlass(i,t);o.push(s)}return(function(s,l){let a=ml(s.getEditorState()),c=[];for(let u of l){let d=a.get(u);d&&c.push(d)}c.length!==0&&s.update((()=>{for(let u of c)for(let d of u.keys()){let h=$e(d);h&&h.markDirty()}}),s._pendingEditorState===null?{tag:Gi}:void 0)})(this,o.map((s=>s.klass.getType()))),()=>{o.forEach((s=>s.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return $(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let r=Ur(this._config.theme,"root"),o=this._pendingEditorState||this._editorState;if(this._rootElement=e,Bf(this,t,e,o),t!==null&&(this._config.disableEvents||RC(t),r!=null&&t.classList.remove(...r)),e!==null){let i=Yl(e),s=e.style;s.userSelect="text",s.whiteSpace="pre-wrap",s.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=i,this._dirtyType=Gr,Hd(this),this._updateTags.add(Gi),mn(this),this._config.disableEvents||(function(l,a){let c=l.ownerDocument,u=ts.get(c);(u===void 0||u<1)&&c.addEventListener("selectionchange",Tf),ts.set(c,(u||0)+1),l.__lexicalEditor=a;let d=xf(l);for(let h=0;h<al.length;h++){let[p,f]=al[h],g=typeof f=="function"?m=>{nd(m)||(td(m),(a.isEditable()||p==="click")&&f(m,a))}:m=>{if(nd(m))return;td(m);let _=a.isEditable();switch(p){case"cut":return _&&$(a,kl,m);case"copy":return $(a,Ll,m);case"paste":return _&&$(a,Ml,m);case"dragstart":return _&&$(a,cf,m);case"dragover":return _&&$(a,uf,m);case"dragend":return _&&$(a,df,m);case"focus":return _&&$(a,ff,m);case"blur":return _&&$(a,gf,m);case"drop":return _&&$(a,lf,m)}};l.addEventListener(p,g),d.push((()=>{l.removeEventListener(p,g)}))}})(e,this),r!=null&&e.classList.add(...r)}else this._window=null,this._updateTags.add(Gi),mn(this);jo("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&k(38);let r=e;r._readOnly&&(r=Rf(e),r._selection=e._selection?e._selection.clone():null),Kd(this);let o=this._pendingEditorState,i=this._updateTags,s=t!==void 0?t.tag:null;o===null||o.isEmpty()||(s!=null&&i.add(s),mn(this)),this._pendingEditorState=r,this._dirtyType=Gr,this._dirtyElements.set("root",!1),this._compositionKey=null,s!=null&&i.add(s),this._updating||mn(this)}parseEditorState(e,t){return(function(r,o,i){let s=Pl(),l=We,a=Ct,c=Ge,u=o._dirtyElements,d=o._dirtyLeaves,h=o._cloneNotNeeded,p=o._dirtyType;o._dirtyElements=new Map,o._dirtyLeaves=new Set,o._cloneNotNeeded=new Set,o._dirtyType=0,We=s,Ct=!1,Ge=o;try{let f=o._nodes;Il(r.root,f),i&&i(),s._readOnly=!0}catch(f){f instanceof Error&&o._onError(f)}finally{o._dirtyElements=u,o._dirtyLeaves=d,o._cloneNotNeeded=h,o._dirtyType=p,We=l,Ct=a,Ge=c}return s})(typeof e=="string"?JSON.parse(e):e,this,t)}read(e){return mn(this),this.getEditorState().read(e,{editor:this})}update(e,t){(function(r,o,i){r._updating?r._updates.push([o,i]):$l(r,o,i)})(this,e,t)}focus(e,t={}){let r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),Mt(this,(()=>{let o=de(),i=yt();o!==null?o.dirty||Nt(o.clone()):i.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?i.selectStart():i.selectEnd()),Zf("focus"),Qf((()=>{r.removeAttribute("autocapitalize"),e&&e()}))})),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){let e=this._rootElement;e!==null&&e.blur();let t=tn(this._window);t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,jo("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}};Zr.version="0.31.2+prod.esm";var Kf=1;function ly(){Kf=1}var cy=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function Td(n){return Ne(Ns(n))}function Bl(n){let e=document.activeElement;if(!at(e))return!1;let t=e.nodeName;return Ne(Ns(n))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&ai(e)==null)}function si(n,e,t){let r=n.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(t)&&e!==null&&!Bl(e)&&Kl(e)===n}catch{return!1}}function Cs(n){return n instanceof Zr}function Kl(n){let e=n;for(;e!=null;){let t=ai(e);if(Cs(t))return t;e=li(e)}return null}function ai(n){return n?n.__lexicalEditor:null}function ur(n){return n.isToken()||n.isSegmented()}function nn(n){return so(n)&&n.nodeType===J_}function Hf(n){return so(n)&&n.nodeType===V_}function _r(n){let e=n;for(;e!=null;){if(nn(e))return e;e=e.firstChild}return null}function ls(n,e,t){let r=nt[e];if(t!==null&&(n&r)==(t&r))return n;let o=n^r;return e==="subscript"?o&=~nt.superscript:e==="superscript"?o&=~nt.subscript:e==="lowercase"?(o&=~nt.uppercase,o&=~nt.capitalize):e==="uppercase"?(o&=~nt.lowercase,o&=~nt.capitalize):e==="capitalize"&&(o&=~nt.lowercase,o&=~nt.uppercase),o}function uy(n){return B(n)||dr(n)||Ne(n)}function zf(n,e){if(e!=null)return void(n.__key=e);Ze(),Df();let t=Se(),r=Tn(),o=""+Kf++;r._nodeMap.set(o,n),L(n)?t._dirtyElements.set(o,!0):t._dirtyLeaves.add(o),t._cloneNotNeeded.add(o),t._dirtyType=kd,n.__key=o}function Bn(n){let e=n.getParent();if(e!==null){let t=n.getWritable(),r=e.getWritable(),o=n.getPreviousSibling(),i=n.getNextSibling(),s=i!==null?i.__key:null,l=o!==null?o.__key:null,a=o!==null?o.getWritable():null,c=i!==null?i.getWritable():null;o===null&&(r.__first=s),i===null&&(r.__last=l),a!==null&&(a.__next=s),c!==null&&(c.__prev=l),t.__prev=null,t.__next=null,t.__parent=null,r.__size--}}function cs(n){Df();let e=n.getLatest(),t=e.__parent,r=Tn(),o=Se(),i=r._nodeMap,s=o._dirtyElements;t!==null&&(function(a,c,u){let d=a;for(;d!==null;){if(u.has(d))return;let h=c.get(d);if(h===void 0)break;u.set(d,!1),d=h.__parent}})(t,i,s);let l=e.__key;o._dirtyType=kd,L(n)?s.set(l,!0):o._dirtyLeaves.add(l)}function Ue(n){Ze();let e=Se(),t=e._compositionKey;if(n!==t){if(e._compositionKey=n,t!==null){let r=$e(t);r!==null&&r.getWritable()}if(n!==null){let r=$e(n);r!==null&&r.getWritable()}}}function $n(){return io()?null:Se()._compositionKey}function $e(n,e){let t=(e||Tn())._nodeMap.get(n);return t===void 0?null:t}function Uf(n,e){let t=ys(n,Se());return t!==void 0?$e(t,e):null}function ys(n,e){return n[`__lexicalKey_${e._key}`]}function Ns(n,e){let t=n;for(;t!=null;){let r=Uf(t,e);if(r!==null)return r;t=li(t)}return null}function Wf(n){let e=n._decorators,t=Object.assign({},e);return n._pendingDecorators=t,t}function Ed(n){return n.read((()=>yt().getTextContent()))}function yt(){return Gf(Tn())}function Gf(n){return n._nodeMap.get("root")}function Nt(n){Ze();let e=Tn();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),e._selection=n}function Kr(n){let e=Se(),t=(function(r,o){let i=r;for(;i!=null;){let s=ys(i,o);if(s!==void 0)return s;i=li(i)}return null})(n,e);return t===null?n===e.getRootElement()?$e("root"):null:$e(t)}function bd(n,e){return e?n.getTextContentSize():0}function Yf(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function Hl(n){let e=[],t=n;for(;t!==null;)e.push(t),t=t._parentEditor;return e}function jf(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function Jf(n){return nn(n)?n.nodeValue:null}function zl(n,e,t){let r=tn(Ft(e));if(r===null)return;let o=r.anchorNode,{anchorOffset:i,focusOffset:s}=r;if(o!==null){let l=Jf(o),a=Ns(o);if(l!==null&&B(a)){if(l===gs&&t){let c=t.length;l=t,i=c,s=c}l!==null&&Ul(a,l,i,s,n)}}}function Ul(n,e,t,r,o){let i=n;if(i.isAttached()&&(o||!i.isDirty())){let s=i.isComposing(),l=e;(s||o)&&e[e.length-1]===gs&&(l=e.slice(0,-1));let a=i.getTextContent();if(o||l!==a){if(l===""){if(Ue(null),qo||Wr||ji)i.remove();else{let g=Se();setTimeout((()=>{g.update((()=>{i.isAttached()&&i.remove()}))}),20)}return}let c=i.getParent(),u=Nr(),d=i.getTextContentSize(),h=$n(),p=i.getKey();if(i.isToken()||h!==null&&p===h&&!s||J(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===n.__key&&u.anchor.offset===0&&!i.canInsertTextBefore()&&!s||u.focus.key===n.__key&&u.focus.offset===d&&!i.canInsertTextAfter()&&!s))return void i.markDirty();let f=de();if(!J(f)||t===null||r===null)return void i.setTextContent(l);if(f.setTextNodeRange(i,t,i,r),i.isSegmented()){let g=ze(i.getTextContent());i.replace(g),i=g}i.setTextContent(l)}}}function Ki(n,e,t){let r=e[t]||!1;return r==="any"||r===n[t]}function Vf(n,e){return Ki(n,e,"altKey")&&Ki(n,e,"ctrlKey")&&Ki(n,e,"shiftKey")&&Ki(n,e,"metaKey")}function pe(n,e,t){return Vf(n,t)&&n.key.toLowerCase()===e.toLowerCase()}var hn={ctrlKey:!en,metaKey:en},Sd={altKey:en,ctrlKey:!en};function Ad(n){return n.key==="Backspace"}function Od(n){return pe(n,"a",hn)}function dy(n){let e=yt();if(J(n)){let t=n.anchor,r=n.focus,o=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(o.getKey(),0,"element"),r.set(o.getKey(),o.getChildrenSize(),"element"),qi(n),n}{let t=e.select(0,e.getChildrenSize());return Nt(qi(t)),t}}function Ur(n,e){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});let t=n.__lexicalClassNameCache,r=t[e];if(r!==void 0)return r;let o=n[e];if(typeof o=="string"){let i=Ji(o);return t[e]=i,i}return o}function Wl(n,e,t,r,o){if(t.size===0)return;let i=r.__type,s=r.__key,l=e.get(i);l===void 0&&k(33,i);let a=l.klass,c=n.get(a);c===void 0&&(c=new Map,n.set(a,c));let u=c.get(s),d=u==="destroyed"&&o==="created";(u===void 0||d)&&c.set(s,d?"updated":o)}function fy(n){let e=n.getType(),t=Tn();if(t._readOnly){let i=ml(t).get(e);return i?Array.from(i.values()):[]}let r=t._nodeMap,o=[];for(let[,i]of r)i instanceof n&&i.__type===e&&i.isAttached()&&o.push(i);return o}function vd(n,e,t){let r=n.getParent(),o=t,i=n;return r!==null&&(e&&t===0?(o=i.getIndexWithinParent(),i=r):e||t!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(e?o-1:o)}function qf(n,e){let t=n.offset;if(n.type==="element")return vd(n.getNode(),e,t);{let r=n.getNode();if(e&&t===0||!e&&t===r.getTextContentSize()){let o=e?r.getPreviousSibling():r.getNextSibling();return o===null?vd(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):o}}return null}function Xf(n){let e=Ft(n).event,t=e&&e.inputType;return t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function $(n,e,t){return(function(r,o,i){let s=Hl(r);for(let l=4;l>=0;l--)for(let a=0;a<s.length;a++){let c=s[a],u=c._commands.get(o);if(u!==void 0){let d=u[l];if(d!==void 0){let h=Array.from(d),p=h.length,f=!1;if(Mt(c,(()=>{for(let g=0;g<p;g++)if(h[g](i,r))return void(f=!0)})),f)return f}}}return!1})(n,e,t)}function xs(n){return!_t(n)&&!n.isLastChild()&&!n.isInline()}function Qr(n,e){let t=n._keyToDOMMap.get(e);return t===void 0&&k(75,e),t}function li(n){let e=n.assignedSlot||n.parentElement;return rg(e)?e.host:e}function Gl(n){return Hf(n)?n:at(n)?n.ownerDocument:null}function gy(n){return Se()._updateTags.has(n)}function Zf(n){Ze(),Se()._updateTags.add(n)}function Qf(n){Ze(),Se()._deferred.push(n)}function us(n,e){let t=n.getParent();for(;t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function Yl(n){let e=Gl(n);return e?e.defaultView:null}function Ft(n){let e=n._window;return e===null&&k(78),e}function hy(n){return L(n)&&n.isInline()||Ne(n)&&n.isInline()}function eg(n){let e=n.getParentOrThrow();for(;e!==null;){if(Gt(e))return e;e=e.getParentOrThrow()}return e}function Gt(n){return _t(n)||L(n)&&n.isShadowRoot()}function jl(n){let e=n.constructor.clone(n);return zf(e,null),e}function ci(n){let e=Se(),t=n.constructor.getType(),r=e._nodes.get(t);r===void 0&&k(200,n.constructor.name,t);let{replace:o,replaceWithKlass:i}=r;if(o!==null){let s=o(n),l=s.constructor;return i!==null?s instanceof i||k(201,i.name,i.getType(),l.name,l.getType(),n.constructor.name,t):s instanceof n.constructor&&l!==n.constructor||k(202,l.name,l.getType(),n.constructor.name,t),s.__key===n.__key&&k(203,n.constructor.name,t,l.name,l.getType()),s}return n}function Wa(n,e){!_t(n.getParent())||L(e)||Ne(e)||k(99)}function tg(n){let e=$e(n);return e===null&&k(63,n),e}function Ga(n){return(Ne(n)||L(n)&&!n.canBeEmpty())&&!n.isInline()}function hl(n,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null;let r=n.parentElement;r!==null&&r.removeChild(n)}function tn(n){return Yt?(n||window).getSelection():null}function ng(n){let e=Yl(n);return e?e.getSelection():null}function py(n,e){let t=n.getChildAtIndex(e);t==null&&(t=n),Gt(n)&&k(102);let r=s=>{let l=s.getParentOrThrow(),a=Gt(l),c=s!==t||a?jl(s):s;if(a)return L(s)&&L(c)||k(133),s.insertAfter(c),[s,c,c];{let[u,d,h]=r(l),p=s.getNextSiblings();return h.append(c,...p),[u,d,c]}},[o,i]=r(t);return[o,i]}function my(n){return at(n)&&n.tagName==="A"}function at(n){return so(n)&&n.nodeType===j_}function so(n){return typeof n=="object"&&n!==null&&"nodeType"in n&&typeof n.nodeType=="number"}function rg(n){return so(n)&&n.nodeType===q_}function og(n){let e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(e)!==null}function pl(n){let e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(e)!==null}function _n(n){if(Ne(n)&&!n.isInline())return!0;if(!L(n)||Gt(n))return!1;let e=n.getFirstChild(),t=e===null||dr(e)||B(e)||e.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&t}function Ya(n,e){let t=n;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function _y(){return Se()}var Md=new WeakMap,Cy=new Map;function ml(n){if(!n._readOnly&&n.isEmpty())return Cy;n._readOnly||k(192);let e=Md.get(n);return e||(e=(function(t){let r=new Map;for(let[o,i]of t._nodeMap){let s=i.__type,l=r.get(s);l||(l=new Map,r.set(s,l)),l.set(o,i)}return r})(n),Md.set(n,e)),e}function ig(n){let e=n.constructor.clone(n);return e.afterCloneFrom(n),e}function sg(n,e){let t=parseInt(n.style.paddingInlineStart,10)||0,r=Math.round(t/40);e.setIndent(r)}function yy(n){n.__lexicalUnmanaged=!0}function ag(n){return n.__lexicalUnmanaged===!0}var Ny={next:"previous",previous:"next"},eo=class{constructor(e){this.origin=e}[Symbol.iterator](){return ql({hasNext:Cr,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return Ye(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return Ye(this.origin,this.direction)}remove(){let e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){let r=this.getNodeAtCaret();return e.is(this.origin)||e.is(r)||(r===null?this.insert(e):r.replace(e,t)),this}splice(e,t,r="next"){let o=r===this.direction?t:Array.from(t).reverse(),i=this,s=this.getParentAtCaret(),l=new Map;for(let a=i.getAdjacentCaret();a!==null&&l.size<e;a=a.getAdjacentCaret()){let c=a.origin.getWritable();l.set(c.getKey(),c)}for(let a of o){if(l.size>0){let c=i.getNodeAtCaret();if(c){if(l.delete(c.getKey()),l.delete(a.getKey()),!(c.is(a)||i.origin.is(a))){let u=a.getParent();u&&u.is(s)&&a.remove(),c.replace(a)}}else c===null&&k(263,Array.from(l).join(" "))}else i.insert(a);i=Ye(a,this.direction)}for(let a of l.values())a.remove();return this}},ii=class n extends eo{constructor(){super(...arguments);Rt(this,"type","child")}getLatest(){let t=this.origin.getLatest();return t===this.origin?this:xn(t,this.direction)}getParentCaret(t="root"){return Ye(Jl(this.getParentAtCaret(),t),this.direction)}getFlipped(){let t=Gn(this.direction);return Ye(this.getNodeAtCaret(),t)||xn(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof n&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}},xy={root:_t,shadowRoot:Gt};function Gn(n){return Ny[n]}function Jl(n,e="root"){return xy[e](n)?null:n}var to=class n extends eo{constructor(){super(...arguments);Rt(this,"type","sibling")}getLatest(){let t=this.origin.getLatest();return t===this.origin?this:Ye(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return L(this.origin)?xn(this.origin,this.direction):null}getParentCaret(t="root"){return Ye(Jl(this.getParentAtCaret(),t),this.direction)}getFlipped(){let t=Gn(this.direction);return Ye(this.getNodeAtCaret(),t)||xn(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof n&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof n||t instanceof no)&&this.direction===t.direction&&this.origin.is(t.origin)}},no=class n extends eo{constructor(t,r){super(t);Rt(this,"type","text");this.offset=r}getLatest(){let t=this.origin.getLatest();return t===this.origin?this:Hn(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return Ye(Jl(this.getParentAtCaret(),t),this.direction)}getFlipped(){return Hn(this.origin,Gn(this.direction),this.offset)}isSamePointCaret(t){return t instanceof n&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof to||t instanceof n)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return Ye(this.origin,this.direction)}};function yn(n){return n instanceof no}function Ty(n){return n instanceof eo}function Cr(n){return n instanceof to}function Ut(n){return n instanceof ii}var Ey={next:class extends no{constructor(){super(...arguments);Rt(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends no{constructor(){super(...arguments);Rt(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},by={next:class extends to{constructor(){super(...arguments);Rt(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends to{constructor(){super(...arguments);Rt(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},Sy={next:class extends ii{constructor(){super(...arguments);Rt(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends ii{constructor(){super(...arguments);Rt(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function Ye(n,e){return n?new by[e](n):null}function Hn(n,e,t){return n?new Ey[e](n,yr(n,t)):null}function yr(n,e){let t=n.getTextContentSize(),r=e==="next"?t:e==="previous"?0:e;return(r<0||r>t)&&((function(o,...i){let s=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",o);for(let a of i)l.append("v",a);s.search=l.toString(),console.warn(`Minified Lexical warning #${o}; visit ${s.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(284,String(e),String(t),n.getKey()),r=r<0?0:t),r}function _l(n,e){return new ds(n,e)}function xn(n,e){return L(n)?new Sy[e](n):null}function lg(n){return n&&n.getChildCaret()||n}function ro(n){return n&&lg(n.getAdjacentCaret())}var Cl=class n{constructor(e,t,r){Rt(this,"type","node-caret-range");this.anchor=e,this.focus=t,this.direction=r}getLatest(){let e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new n(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){let e=o=>{let i=this[o].getLatest();return yn(i)?(function(s,l){let{direction:a,origin:c}=s,u=yr(c,l==="focus"?Gn(a):a);return _l(s,u-s.offset)})(i,o):null},t=e("anchor"),r=e("focus");if(t&&r){let{caret:o}=t,{caret:i}=r;if(o.isSameNodeCaret(i))return[_l(o,i.offset-o.offset),null]}return[t,r]}iterNodeCarets(e="root"){let t=yn(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),o=yn(r),i=s=>s.isSameNodeCaret(r)?null:ro(s)||s.getParentCaret(e);return ql({hasNext:s=>s!==null&&!(o&&r.isSameNodeCaret(s)),initial:t.isSameNodeCaret(r)?null:i(t),map:s=>s,step:i})}[Symbol.iterator](){return this.iterNodeCarets("root")}},ds=class{constructor(e,t){Rt(this,"type","slice");this.caret=e,this.distance=t}getSliceIndices(){let{distance:e,caret:{offset:t}}=this,r=t+e;return r<t?[r,t]:[t,r]}getTextContent(){let[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){let{caret:{origin:e,direction:t}}=this,[r,o]=this.getSliceIndices(),i=e.getTextContent();return Hn(e.setTextContent(i.slice(0,r)+i.slice(o)),t,r)}};function Ay(n){return n instanceof ds}function Vl(n){return zn(n,Ye(yt(),n.direction))}function cg(n){return zn(n,n)}function zn(n,e){return n.direction!==e.direction&&k(265),new Cl(n,e,n.direction)}function ql(n){let{initial:e,hasNext:t,step:r,map:o}=n,i=e;return{[Symbol.iterator](){return this},next(){if(!t(i))return{done:!0,value:void 0};let s={done:!1,value:o(i)};return i=r(i),s}}}function Xl(n,e){let t=Jo(n.origin,e.origin);switch(t===null&&k(275,n.origin.getKey(),e.origin.getKey()),t.type){case"same":{let r=n.type==="text",o=e.type==="text";return r&&o?(function(i,s){return Math.sign(i-s)})(n.offset,e.offset):n.type===e.type?0:r?-1:o?1:n.type==="child"?-1:1}case"ancestor":return n.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return Zl(t)}}function Zl(n){let{a:e,b:t}=n,r=e.__key,o=t.__key,i=e,s=t;for(;i&&s;i=i.getNextSibling(),s=s.getNextSibling()){if(i.__key===o)return-1;if(s.__key===r)return 1}return i===null?1:-1}function Hi(n,e){return e.is(n)}function wd(n){return L(n)?[n.getLatest(),null]:[n.getParent(),n.getLatest()]}function Jo(n,e){if(n.is(e))return{commonAncestor:n,type:"same"};let t=new Map;for(let[r,o]=wd(n);r;o=r,r=r.getParent())t.set(r,o);for(let[r,o]=wd(e);r;o=r,r=r.getParent()){let i=t.get(r);if(i!==void 0)return i===null?(Hi(n,r)||k(276),{commonAncestor:r,type:"ancestor"}):o===null?(Hi(e,r)||k(277),{commonAncestor:r,type:"descendant"}):((L(i)||Hi(n,i))&&(L(o)||Hi(e,o))&&r.is(i.getParent())&&r.is(o.getParent())||k(278),{a:i,b:o,commonAncestor:r,type:"branch"})}return null}function Un(n,e){let{type:t,key:r,offset:o}=n,i=tg(n.key);return t==="text"?(B(i)||k(266,i.getType(),r),Hn(i,e,o)):(L(i)||k(267,i.getType(),r),gg(i,n.offset,e))}function oo(n,e){let{origin:t,direction:r}=e,o=r==="next";yn(e)?n.set(t.getKey(),e.offset,"text"):Cr(e)?B(t)?n.set(t.getKey(),yr(t,r),"text"):n.set(t.getParentOrThrow().getKey(),t.getIndexWithinParent()+(o?1:0),"element"):(Ut(e)&&L(t)||k(268),n.set(t.getKey(),o?0:t.getChildrenSize(),"element"))}function ug(n){let e=de(),t=J(e)?e:Mf();return Vo(t,n),Nt(t),t}function Vo(n,e){oo(n.anchor,e.anchor),oo(n.focus,e.focus)}function yl(n){let{anchor:e,focus:t}=n,r=Un(e,"next"),o=Un(t,"next"),i=Xl(r,o)<=0?"next":"previous";return zn(Wn(r,i),Wn(o,i))}function ao(n){let{direction:e,origin:t}=n,r=Ye(t,Gn(e)).getNodeAtCaret();return r?Ye(r,e):xn(t.getParentOrThrow(),e)}function Dd(n,e="root"){let t=[n];for(let r=Ut(n)?n.getParentCaret(e):n.getSiblingCaret();r!==null;r=r.getParentCaret(e))t.push(ao(r));return t}function ja(n){return!!n&&n.origin.isAttached()}function dg(n,e="removeEmptySlices"){if(n.isCollapsed())return n;let t="root",r="next",o=e,i=Ql(n,r),s=Dd(i.anchor,t),l=Dd(i.focus.getFlipped(),t),a=new Set,c=[];for(let f of i.iterNodeCarets(t))if(Ut(f))a.add(f.origin.getKey());else if(Cr(f)){let{origin:g}=f;L(g)&&!a.has(g.getKey())||c.push(g)}for(let f of c)f.remove();for(let f of i.getTextSlices()){if(!f)continue;let{origin:g}=f.caret,m=g.getTextContentSize(),_=ao(Ye(g,r)),C=g.getMode();if(Math.abs(f.distance)===m&&o==="removeEmptySlices"||C==="token"&&f.distance!==0)_.remove();else if(f.distance!==0){o="removeEmptySlices";let y=f.removeTextSlice(),x=f.caret.origin;if(C==="segmented"){let b=y.origin,T=ze(b.getTextContent()).setStyle(b.getStyle()).setFormat(b.getFormat());_.replaceOrInsert(T),y=Hn(T,r,y.offset)}x.is(s[0].origin)&&(s[0]=y),x.is(l[0].origin)&&(l[0]=y.getFlipped())}}let u,d;for(let f of s)if(ja(f)){u=Ht(f);break}for(let f of l)if(ja(f)){d=Ht(f);break}let h=(function(f,g,m){if(!f||!g)return null;let _=f.getParentAtCaret(),C=g.getParentAtCaret();if(!_||!C)return null;let y=_.getParents().reverse();y.push(_);let x=C.getParents().reverse();x.push(C);let b=Math.min(y.length,x.length),T;for(T=0;T<b&&y[T]===x[T];T++);let N=(R,F)=>{let G;for(let U=T;U<R.length;U++){let K=R[U];if(Gt(K))return;!G&&F(K)&&(G=K)}return G},A=N(y,_n),O=A&&N(x,(R=>m.has(R.getKey())&&_n(R)));return A&&O?[A,O]:null})(u,d,a);if(h){let[f,g]=h;xn(f,"previous").splice(0,g.getChildren()),g.remove()}let p=[u,d,...s,...l].find(ja);if(p)return cg(Wn(Ht(p),n.direction));k(269,JSON.stringify(s.map((f=>f.origin.__key))))}function Ht(n){let e=(function(o){let i=o;for(;Ut(i);){let s=ro(i);if(!Ut(s))break;i=s}return i})(n.getLatest()),{direction:t}=e;if(B(e.origin))return yn(e)?e:Hn(e.origin,t,t);let r=e.getAdjacentCaret();return Cr(r)&&B(r.origin)?Hn(r.origin,t,Gn(t)):e}function fg(n){return yn(n)&&n.offset!==yr(n.origin,n.direction)}function Wn(n,e){return n.direction===e?n:n.getFlipped()}function Ql(n,e){return n.direction===e?n:zn(Wn(n.focus,e),Wn(n.anchor,e))}function gg(n,e,t){let r=xn(n,"next");for(let o=0;o<e;o++){let i=r.getAdjacentCaret();if(i===null)break;r=i}return Wn(r,t)}function Oy(n,e="root"){let t=0,r=n,o=ro(r);for(;o===null;){if(t--,o=r.getParentCaret(e),!o)return null;r=o,o=ro(r)}return o&&[o,t]}function vy(n){let{origin:e,offset:t,direction:r}=n;if(t===yr(e,r))return n.getSiblingCaret();if(t===yr(e,Gn(r)))return ao(n.getSiblingCaret());let[o]=e.splitText(t);return B(o)||k(281),Wn(Ye(o,"next"),r)}function My(n,e){return!0}function wy(n,{$copyElementNode:e=jl,$splitTextPointCaretNext:t=vy,rootMode:r="shadowRoot",$shouldSplit:o=My}={}){if(yn(n))return t(n);let i=n.getParentCaret(r);if(i){let{origin:s}=i;if(Ut(n)&&(!s.canBeEmpty()||!o(s,"first")))return ao(i);let l=(function(a){let c=[];for(let u=a.getAdjacentCaret();u;u=u.getAdjacentCaret())c.push(u.origin);return c})(n);(l.length>0||s.canBeEmpty()&&o(s,"last"))&&i.insert(e(s).splice(0,0,l))}return i}var S=ec,JT=S.$addUpdateTag,Ae=S.$applyNodeReplacement,lo=S.$caretFromPoint,hg=S.$caretRangeFromSelection,Yn=S.$cloneWithProperties,VT=S.$comparePointCaretNext,qT=S.$copyNode,xr=S.$createLineBreakNode,XT=S.$createNodeSelection,ne=S.$createParagraphNode,ui=S.$createPoint,co=S.$createRangeSelection,pg=S.$createRangeSelectionFromDom,It=S.$createTabNode,lt=S.$createTextNode,di=S.$extendCaretToRange,Tr=S.$getAdjacentChildCaret,tc=S.$getAdjacentNode,ZT=S.$getAdjacentSiblingOrParentSiblingCaret,nc=S.$getCaretInDirection,QT=S.$getCaretRange,eE=S.$getCaretRangeInDirection,mg=S.$getCharacterOffsets,jt=S.$getChildCaret,tE=S.$getChildCaretAtIndex,rc=S.$getChildCaretOrSelf,_g=S.$getCollapsedCaretRange,nE=S.$getCommonAncestor,rE=S.$getCommonAncestorResultBranchOrder,En=S.$getEditor,Pe=S.$getNearestNodeFromDOMNode,oE=S.$getNearestRootOrShadowRoot,ct=S.$getNodeByKey,iE=S.$getNodeByKeyOrThrow,bn=S.$getPreviousSelection,je=S.$getRoot,M=S.$getSelection,xt=S.$getSiblingCaret,Cg=S.$getState,sE=S.$getStateChange,aE=S.$getTextContent,lE=S.$getTextNodeOffset,cE=S.$getTextPointCaret,uE=S.$getTextPointCaretSlice,dE=S.$getWritableNodeState,yg=S.$hasAncestor,fE=S.$hasUpdateTag,jn=S.$insertNodes,Ts=S.$isBlockElementNode,Jn=S.$isChildCaret,Sn=S.$isDecoratorNode,I=S.$isElementNode,Es=S.$isExtendableTextPointCaret,Ng=S.$isInlineElementOrDecoratorNode,fi=S.$isLeafNode,De=S.$isLineBreakNode,gE=S.$isNodeCaret,Tt=S.$isNodeSelection,Vn=S.$isParagraphNode,v=S.$isRangeSelection,rn=S.$isRootNode,rt=S.$isRootOrShadowRoot,bs=S.$isSiblingCaret,Qe=S.$isTabNode,Q=S.$isTextNode,xg=S.$isTextPointCaret,hE=S.$isTextPointCaretSlice,Tg=S.$isTokenOrSegmented,pE=S.$nodesOfType,qn=S.$normalizeCaret,Er=S.$normalizeSelection__EXPERIMENTAL,mE=S.$onUpdate,Eg=S.$parseSerializedNode,_E=S.$removeTextFromCaretRange,bg=S.$rewindSiblingCaret,Ss=S.$selectAll,CE=S.$setCompositionKey,Xn=S.$setPointFromCaret,Je=S.$setSelection,Sg=S.$setSelectionFromCaretRange,Ag=S.$setState,Og=S.$splitAtPointCaretNext,vg=S.$splitNode,yE=S.$updateRangeSelectionFromCaretRange,oc=S.ArtificialNode__DO_NOT_USE,NE=S.BLUR_COMMAND,br=S.CAN_REDO_COMMAND,Sr=S.CAN_UNDO_COMMAND,Mg=S.CLEAR_EDITOR_COMMAND,wg=S.CLEAR_HISTORY_COMMAND,As=S.CLICK_COMMAND,xE=S.COLLABORATION_TAG,wt=S.COMMAND_PRIORITY_CRITICAL,te=S.COMMAND_PRIORITY_EDITOR,Os=S.COMMAND_PRIORITY_HIGH,fe=S.COMMAND_PRIORITY_LOW,Dg=S.COMMAND_PRIORITY_NORMAL,vs=S.CONTROLLED_TEXT_INSERTION_COMMAND,Ms=S.COPY_COMMAND,ws=S.CUT_COMMAND,uo=S.DELETE_CHARACTER_COMMAND,gi=S.DELETE_LINE_COMMAND,Ds=S.DELETE_WORD_COMMAND,TE=S.DRAGEND_COMMAND,Lg=S.DRAGOVER_COMMAND,kg=S.DRAGSTART_COMMAND,Rg=S.DROP_COMMAND,Ls=S.DecoratorNode,Et=S.ElementNode,Fg=S.FOCUS_COMMAND,Dt=S.FORMAT_ELEMENT_COMMAND,ut=S.FORMAT_TEXT_COMMAND,ks=S.HISTORIC_TAG,Ig=S.HISTORY_MERGE_TAG,$g=S.HISTORY_PUSH_TAG,Lt=S.INDENT_CONTENT_COMMAND,ic=S.INSERT_LINE_BREAK_COMMAND,Zn=S.INSERT_PARAGRAPH_COMMAND,hi=S.INSERT_TAB_COMMAND,Rs=S.INTERNAL_$isBlock,EE=S.IS_ALL_FORMATTING,bE=S.IS_BOLD,SE=S.IS_CODE,AE=S.IS_HIGHLIGHT,OE=S.IS_ITALIC,vE=S.IS_STRIKETHROUGH,ME=S.IS_SUBSCRIPT,wE=S.IS_SUPERSCRIPT,DE=S.IS_UNDERLINE,An=S.KEY_ARROW_DOWN_COMMAND,fo=S.KEY_ARROW_LEFT_COMMAND,Fs=S.KEY_ARROW_RIGHT_COMMAND,Jt=S.KEY_ARROW_UP_COMMAND,Is=S.KEY_BACKSPACE_COMMAND,$s=S.KEY_DELETE_COMMAND,LE=S.KEY_DOWN_COMMAND,Pg=S.KEY_ENTER_COMMAND,go=S.KEY_ESCAPE_COMMAND,Bg=S.KEY_MODIFIER_COMMAND,Ps=S.KEY_SPACE_COMMAND,ho=S.KEY_TAB_COMMAND,kE=S.LineBreakNode,sc=S.MOVE_TO_END,Bs=S.MOVE_TO_START,RE=S.NODE_STATE_KEY,$t=S.OUTDENT_CONTENT_COMMAND,Kg=S.PASTE_COMMAND,Hg=S.PASTE_TAG,FE=S.ParagraphNode,Ks=S.REDO_COMMAND,zg=S.REMOVE_TEXT_COMMAND,IE=S.RootNode,Ar=S.SELECTION_CHANGE_COMMAND,pi=S.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,Ug=S.SELECT_ALL_COMMAND,$E=S.SKIP_COLLAB_TAG,PE=S.SKIP_DOM_SELECTION_TAG,BE=S.SKIP_SCROLL_INTO_VIEW_TAG,Wg=S.TEXT_TYPE_TO_FORMAT,KE=S.TabNode,bt=S.TextNode,Hs=S.UNDO_COMMAND,be=S.createCommand,zs=S.createEditor,HE=S.createState,zE=S.flipDirection,UE=S.getDOMOwnerDocument,Qn=S.getDOMSelection,WE=S.getDOMSelectionFromTarget,Gg=S.getDOMTextNode,GE=S.getEditorPropertyFromDOMNode,Us=S.getNearestEditorFromDOMNode,Yg=S.isBlockDomNode,jg=S.isCurrentlyReadOnlyMode,YE=S.isDOMDocumentNode,on=S.isDOMNode,jE=S.isDOMTextNode,JE=S.isDOMUnmanaged,ac=S.isDocumentFragment,VE=S.isExactShortcutMatch,Ws=S.isHTMLAnchorElement,Or=S.isHTMLElement,mi=S.isInlineDomNode,qE=S.isLexicalEditor,XE=S.isModifierMatch,Jg=S.isSelectionCapturedInDecoratorInput,Vg=S.isSelectionWithinEditor,lc=S.makeStepwiseIterator,ZE=S.removeFromParent,QE=S.resetRandomKey,qg=S.setDOMUnmanaged,cc=S.setNodeIndentFromDOM;var gc={};vt(gc,{$addNodeStyle:()=>Fy,$cloneWithProperties:()=>Yn,$copyBlockFormatIndent:()=>sh,$ensureForwardRangeSelection:()=>ih,$forEachSelectedTextNode:()=>oh,$getSelectionStyleValueForProperty:()=>Uy,$isAtNodeEnd:()=>Ry,$isParentElementRTL:()=>ch,$moveCaretSelection:()=>lh,$moveCharacter:()=>Hy,$patchStyleText:()=>Iy,$selectAll:()=>Ss,$setBlocksType:()=>$y,$shouldOverrideDefaultCharacterSelection:()=>Ky,$sliceSelectedTextNodeContent:()=>ky,$trimTextContentFromAnchor:()=>rh,$wrapNodes:()=>By,createDOMRange:()=>Dy,createRectsFromDOMRange:()=>Ly,getCSSFromStyleObject:()=>nh,getStyleObjectFromCSS:()=>Ys,trimTextContentFromAnchor:()=>Wy});function fc(n,...e){let t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var Gs=new Map;function Xg(n){let e=n;for(;e!=null;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function Zg(n){let e=n.parentNode;if(e==null)throw new Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(n)]}function Dy(n,e,t,r,o){let i=e.getKey(),s=r.getKey(),l=document.createRange(),a=n.getElementByKey(i),c=n.getElementByKey(s),u=t,d=o;if(Q(e)&&(a=Xg(a)),Q(r)&&(c=Xg(c)),e===void 0||r===void 0||a===null||c===null)return null;a.nodeName==="BR"&&([a,u]=Zg(a)),c.nodeName==="BR"&&([c,d]=Zg(c));let h=a.firstChild;a===c&&h!=null&&h.nodeName==="BR"&&u===0&&d===0&&(d=1);try{l.setStart(a,u),l.setEnd(c,d)}catch{return null}return!l.collapsed||u===d&&i===s||(l.setStart(c,d),l.setEnd(a,u)),l}function Ly(n,e){let t=n.getRootElement();if(t===null)return[];let r=t.getBoundingClientRect(),o=getComputedStyle(t),i=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),s=Array.from(e.getClientRects()),l,a=s.length;s.sort(((c,u)=>{let d=c.top-u.top;return Math.abs(d)<=3?c.left-u.left:d}));for(let c=0;c<a;c++){let u=s[c],d=l&&l.top<=u.top&&l.top+l.height>u.top&&l.left+l.width>u.left,h=u.width+i===r.width;d||h?(s.splice(c--,1),a--):l=u}return s}function th(n){let e={};if(!n)return e;let t=n.split(";");for(let r of t)if(r!==""){let[o,i]=r.split(/:([^]+)/);o&&i&&(e[o.trim()]=i.trim())}return e}function Ys(n){let e=Gs.get(n);return e===void 0&&(e=th(n),Gs.set(n,e)),e}function nh(n){let e="";for(let t in n)t&&(e+=`${t}: ${n[t]};`);return e}function ky(n,e){let t=n.getStartEndPoints();if(e.isSelected(n)&&!e.isSegmented()&&!e.isToken()&&t!==null){let[r,o]=t,i=n.isBackward(),s=r.getNode(),l=o.getNode(),a=e.is(s),c=e.is(l);if(a||c){let[u,d]=mg(n),h=s.is(l),p=e.is(i?l:s),f=e.is(i?s:l),g,m=0;return h?(m=u>d?d:u,g=u>d?u:d):p?(m=i?d:u,g=void 0):f&&(m=0,g=i?u:d),e.__text=e.__text.slice(m,g),e}}return e}function Ry(n){if(n.type==="text")return n.offset===n.getNode().getTextContentSize();let e=n.getNode();return I(e)||fc(177),n.offset===e.getChildrenSize()}function rh(n,e,t){let r=e.getNode(),o=t;if(I(r)){let i=r.getDescendantByIndex(e.offset);i!==null&&(r=i)}for(;o>0&&r!==null;){if(I(r)){let c=r.getLastDescendant();c!==null&&(r=c)}let i=r.getPreviousSibling(),s=0;if(i===null){let c=r.getParentOrThrow(),u=c.getPreviousSibling();for(;u===null;){if(c=c.getParent(),c===null){i=null;break}u=c.getPreviousSibling()}c!==null&&(s=c.isInline()?0:2,i=u)}let l=r.getTextContent();l===""&&I(r)&&!r.isInline()&&(l=`

`);let a=l.length;if(!Q(r)||o>=a){let c=r.getParent();r.remove(),c==null||c.getChildrenSize()!==0||rn(c)||c.remove(),o-=a+s,r=i}else{let c=r.getKey(),u=n.getEditorState().read((()=>{let p=ct(c);return Q(p)&&p.isSimpleText()?p.getTextContent():null})),d=a-o,h=l.slice(0,d);if(u!==null&&u!==l){let p=bn(),f=r;if(r.isSimpleText())r.setTextContent(u);else{let g=lt(u);r.replace(g),f=g}if(v(p)&&p.isCollapsed()){let g=p.anchor.offset;f.select(g,g)}}else if(r.isSimpleText()){let p=e.key===c,f=e.offset;f<o&&(f=a);let g=p?f-o:0,m=p?f:d;if(p&&g===0){let[_]=r.splitText(g,m);_.remove()}else{let[,_]=r.splitText(g,m);_.remove()}}else{let p=lt(h);r.replace(p)}o=0}}}function Fy(n){let e=n.getStyle(),t=th(e);Gs.set(e,t)}function uc(n,e){(v(n)?n.isCollapsed():Q(n)||I(n))||fc(280);let t=Ys(v(n)?n.style:Q(n)?n.getStyle():n.getTextStyle()),r=Object.entries(e).reduce(((i,[s,l])=>(typeof l=="function"?i[s]=l(t[s],n):l===null?delete i[s]:i[s]=l,i)),{...t}),o=nh(r);v(n)||Q(n)?n.setStyle(o):n.setTextStyle(o),Gs.set(o,r)}function Iy(n,e){if(v(n)&&n.isCollapsed()){uc(n,e);let t=n.anchor.getNode();I(t)&&t.isEmpty()&&uc(t,e)}oh((t=>{uc(t,e)}))}function oh(n){let e=M();if(!e)return;let t=new Map;if(v(e))for(let i of hg(e).getTextSlices())i&&t.set(i.caret.origin.getKey(),i.getSliceIndices());let r=e.getNodes();for(let i of r){if(!Q(i)||!i.canHaveFormat())continue;let[s,l]=(o=i,t.get(o.getKey())||[0,o.getTextContentSize()]);l!==s&&(Tg(i)||s===0&&l===i.getTextContentSize()?n(i):n(i.splitText(s,l)[s===0?0:1]))}var o;v(e)&&e.anchor.type==="text"&&e.focus.type==="text"&&e.anchor.key===e.focus.key&&ih(e)}function ih(n){if(n.isBackward()){let{anchor:e,focus:t}=n,{key:r,offset:o,type:i}=e;e.set(t.key,t.offset,t.type),t.set(r,o,i)}}function sh(n,e){let t=n.getFormatType(),r=n.getIndent();t!==e.getFormatType()&&e.setFormat(t),r!==e.getIndent()&&e.setIndent(r)}function $y(n,e,t=sh){if(n===null)return;let r=n.getStartEndPoints(),o=new Map,i=null;if(r){let[s,l]=r;i=co(),i.anchor.set(s.key,s.offset,s.type),i.focus.set(l.key,l.offset,l.type);let a=eh(s.getNode(),Rs),c=eh(l.getNode(),Rs);I(a)&&o.set(a.getKey(),a),I(c)&&o.set(c.getKey(),c)}for(let s of n.getNodes())I(s)&&Rs(s)&&o.set(s.getKey(),s);for(let[s,l]of o){let a=e();t(l,a),l.replace(a,!0),i&&(s===i.anchor.key&&i.anchor.set(a.getKey(),i.anchor.offset,i.anchor.type),s===i.focus.key&&i.focus.set(a.getKey(),i.focus.offset,i.focus.type))}i&&n.is(M())&&Je(i)}function Qg(n){return n.getNode().isAttached()}function Py(n){let e=n;for(;e!==null&&!rt(e);){let t=e.getLatest(),r=e.getParent();t.getChildrenSize()===0&&e.remove(!0),e=r}}function By(n,e,t=null){let r=n.getStartEndPoints(),o=r?r[0]:null,i=n.getNodes(),s=i.length;if(o!==null&&(s===0||s===1&&o.type==="element"&&o.getNode().getChildrenSize()===0)){let c=o.type==="text"?o.getNode().getParentOrThrow():o.getNode(),u=c.getChildren(),d=e();return d.setFormat(c.getFormatType()),d.setIndent(c.getIndent()),u.forEach((h=>d.append(h))),t&&(d=t.append(d)),void c.replace(d)}let l=null,a=[];for(let c=0;c<s;c++){let u=i[c];rt(u)?(dc(n,a,a.length,e,t),a=[],l=u):l===null||l!==null&&yg(u,l)?a.push(u):(dc(n,a,a.length,e,t),a=[u])}dc(n,a,a.length,e,t)}function dc(n,e,t,r,o=null){if(e.length===0)return;let i=e[0],s=new Map,l=[],a=I(i)?i:i.getParentOrThrow();a.isInline()&&(a=a.getParentOrThrow());let c=!1;for(;a!==null;){let f=a.getPreviousSibling();if(f!==null){a=f,c=!0;break}if(a=a.getParentOrThrow(),rt(a))break}let u=new Set;for(let f=0;f<t;f++){let g=e[f];I(g)&&g.getChildrenSize()===0&&u.add(g.getKey())}let d=new Set;for(let f=0;f<t;f++){let g=e[f],m=g.getParent();if(m!==null&&m.isInline()&&(m=m.getParent()),m!==null&&fi(g)&&!d.has(g.getKey())){let _=m.getKey();if(s.get(_)===void 0){let C=r();C.setFormat(m.getFormatType()),C.setIndent(m.getIndent()),l.push(C),s.set(_,C),m.getChildren().forEach((y=>{C.append(y),d.add(y.getKey()),I(y)&&y.getChildrenKeys().forEach((x=>d.add(x)))})),Py(m)}}else if(u.has(g.getKey())){I(g)||fc(179);let _=r();_.setFormat(g.getFormatType()),_.setIndent(g.getIndent()),l.push(_),g.remove(!0)}}if(o!==null)for(let f=0;f<l.length;f++){let g=l[f];o.append(g)}let h=null;if(rt(a))if(c)if(o!==null)a.insertAfter(o);else for(let f=l.length-1;f>=0;f--){let g=l[f];a.insertAfter(g)}else{let f=a.getFirstChild();if(I(f)&&(a=f),f===null)if(o)a.append(o);else for(let g=0;g<l.length;g++){let m=l[g];a.append(m),h=m}else if(o!==null)f.insertBefore(o);else for(let g=0;g<l.length;g++){let m=l[g];f.insertBefore(m),h=m}}else if(o)a.insertAfter(o);else for(let f=l.length-1;f>=0;f--){let g=l[f];a.insertAfter(g),h=g}let p=bn();v(p)&&Qg(p.anchor)&&Qg(p.focus)?Je(p.clone()):h!==null?h.selectEnd():n.dirty=!0}function ah(n){let e=n.anchor.getNode(),t=rn(e)?e:e.getParentOrThrow(),r=En().getElementByKey(t.getKey());if(r===null)return!1;let o=r.ownerDocument.defaultView;return o===null?!1:o.getComputedStyle(r).writingMode==="vertical-rl"}function Ky(n,e){let t=ah(n)?!e:e,r=lo(n.focus,t?"previous":"next");if(Es(r))return!1;for(let o of di(r)){if(Jn(o))return!o.origin.isInline();if(!I(o.origin)){if(Sn(o.origin))return!0;break}}return!1}function lh(n,e,t,r){n.modify(e?"extend":"move",t,r)}function ch(n){let e=n.anchor.getNode();return(rn(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function Hy(n,e,t){let r=ch(n),o;o=ah(n)||r?!t:t,lh(n,e,o,"character")}function zy(n,e,t){let r=Ys(n.getStyle());return r!==null&&r[e]||t}function Uy(n,e,t=""){let r=null,o=n.getNodes(),i=n.anchor,s=n.focus,l=n.isBackward(),a=l?s.offset:i.offset,c=l?s.getNode():i.getNode();if(v(n)&&n.isCollapsed()&&n.style!==""){let u=Ys(n.style);if(u!==null&&e in u)return u[e]}for(let u=0;u<o.length;u++){let d=o[u];if((u===0||a!==0||!d.is(c))&&Q(d)){let h=zy(d,e,t);if(r===null)r=h;else if(r!==h){r="";break}}}return r===null?t:r}function eh(n,e){let t=n;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}var Wy=rh;var Le=gc,uh=Le.$addNodeStyle,r0=Le.$cloneWithProperties,o0=Le.$copyBlockFormatIndent,i0=Le.$ensureForwardRangeSelection,s0=Le.$forEachSelectedTextNode,_i=Le.$getSelectionStyleValueForProperty,hc=Le.$isAtNodeEnd,dh=Le.$isParentElementRTL,a0=Le.$moveCaretSelection,pc=Le.$moveCharacter,po=Le.$patchStyleText,l0=Le.$selectAll,er=Le.$setBlocksType,mc=Le.$shouldOverrideDefaultCharacterSelection,js=Le.$sliceSelectedTextNodeContent,c0=Le.$trimTextContentFromAnchor,u0=Le.$wrapNodes,d0=Le.createDOMRange,fh=Le.createRectsFromDOMRange,f0=Le.getCSSFromStyleObject,_c=Le.getStyleObjectFromCSS,g0=Le.trimTextContentFromAnchor;var xc={};vt(xc,{$descendantsMatching:()=>MN,$dfs:()=>fN,$dfsIterator:()=>xh,$filter:()=>bN,$findMatchingParent:()=>Sh,$firstToLastIterator:()=>wN,$getAdjacentCaret:()=>gN,$getAdjacentSiblingOrParentSiblingCaret:()=>Ci,$getDepth:()=>Eh,$getNearestBlockElementAncestorOrThrow:()=>CN,$getNearestNodeOfType:()=>_N,$getNextRightPreorderNode:()=>mN,$getNextSiblingOrParentSibling:()=>pN,$insertFirst:()=>SN,$insertNodeToNearestRoot:()=>xN,$insertNodeToNearestRootAtCaret:()=>Ah,$isEditorIsNestedEditor:()=>ON,$lastToFirstIterator:()=>Nc,$restoreEditorState:()=>NN,$reverseDfs:()=>hN,$reverseDfsIterator:()=>bh,$splitNode:()=>vg,$unwrapAndFilterDescendants:()=>vN,$unwrapNode:()=>DN,$wrapNodeInElement:()=>TN,CAN_USE_BEFORE_INPUT:()=>tN,CAN_USE_DOM:()=>Ch,IS_ANDROID:()=>nN,IS_ANDROID_CHROME:()=>rN,IS_APPLE:()=>oN,IS_APPLE_WEBKIT:()=>iN,IS_CHROME:()=>sN,IS_FIREFOX:()=>yh,IS_IOS:()=>aN,IS_SAFARI:()=>lN,addClassNamesToElement:()=>cN,calculateZoomLevel:()=>AN,isBlockDomNode:()=>Yg,isHTMLAnchorElement:()=>Ws,isHTMLElement:()=>Or,isInlineDomNode:()=>mi,isMimeType:()=>Nh,makeStateWrapper:()=>LN,markSelection:()=>_h,mediaFileReader:()=>dN,mergeRegister:()=>ph,objectKlassEquals:()=>EN,positionNodeOnRange:()=>mh,registerNestedElementResolver:()=>yN,removeClassNamesFromElement:()=>uN,selectionAlwaysOnDisplay:()=>eN});function Vs(n,...e){let t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var Vt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Gy=Vt&&"documentMode"in document?document.documentMode:null,Yy=Vt&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),jy=Vt&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Jy=!(!Vt||!("InputEvent"in window)||Gy)&&"getTargetRanges"in new window.InputEvent("input"),Vy=Vt&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),qy=Vt&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,gh=Vt&&/Android/.test(navigator.userAgent),yc=Vt&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Xy=Vt&&gh&&yc,Zy=Vt&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!yc;function hh(...n){let e=[];for(let t of n)if(t&&typeof t=="string")for(let[r]of t.matchAll(/\S+/g))e.push(r);return e}function ph(...n){return()=>{for(let e=n.length-1;e>=0;e--)n[e]();n.length=0}}function sn(n){return`${n}px`}var Qy={attributes:!0,characterData:!0,childList:!0,subtree:!0};function mh(n,e,t){let r=null,o=null,i=null,s=[],l=document.createElement("div");function a(){r===null&&Vs(182),o===null&&Vs(183);let{left:d,top:h}=o.getBoundingClientRect(),p=fh(n,e);var f,g;l.isConnected||(g=l,(f=o).insertBefore(g,f.firstChild));let m=!1;for(let _=0;_<p.length;_++){let C=p[_],y=s[_]||document.createElement("div"),x=y.style;x.position!=="absolute"&&(x.position="absolute",m=!0);let b=sn(C.left-d);x.left!==b&&(x.left=b,m=!0);let T=sn(C.top-h);x.top!==T&&(y.style.top=T,m=!0);let N=sn(C.width);x.width!==N&&(y.style.width=N,m=!0);let A=sn(C.height);x.height!==A&&(y.style.height=A,m=!0),y.parentNode!==l&&(l.append(y),m=!0),s[_]=y}for(;s.length>p.length;)s.pop();m&&t(s)}function c(){o=null,r=null,i!==null&&i.disconnect(),i=null,l.remove();for(let d of s)d.remove();s=[]}l.style.position="relative";let u=n.registerRootListener((function d(){let h=n.getRootElement();if(h===null)return c();let p=h.parentElement;if(!Or(p))return c();c(),r=h,o=p,i=new MutationObserver((f=>{let g=n.getRootElement(),m=g&&g.parentElement;if(g!==r||m!==o)return d();for(let _ of f)if(!l.contains(_.target))return a()})),i.observe(p,Qy),a()}));return()=>{u(),c()}}function Js(n,e,t){if(n.type!=="text"&&I(e)){let r=e.getDOMSlot(t);return[r.element,r.getFirstChildOffset()+n.offset]}return[Gg(t)||t,n.offset]}function _h(n,e){let t=null,r=null,o=null,i=null,s=null,l=null,a=()=>{};function c(u){u.read((()=>{let d=M();if(!v(d))return t=null,o=null,i=null,l=null,a(),void(a=()=>{});let{anchor:h,focus:p}=d,f=h.getNode(),g=f.getKey(),m=h.offset,_=p.getNode(),C=_.getKey(),y=p.offset,x=n.getElementByKey(g),b=n.getElementByKey(C),T=t===null||x!==r||m!==o||g!==t.getKey(),N=i===null||b!==s||y!==l||C!==i.getKey();if((T||N)&&x!==null&&b!==null){let A=(function(O,R,F,G,U,K,W){let Z=(O._window?O._window.document:document).createRange();return K.isBefore(F)?(Z.setStart(...Js(U,K,W)),Z.setEnd(...Js(R,F,G))):(Z.setStart(...Js(R,F,G)),Z.setEnd(...Js(U,K,W))),Z})(n,h,f,x,p,_,b);a(),a=mh(n,A,(O=>{if(e===void 0)for(let R of O){let F=R.style;F.background!=="Highlight"&&(F.background="Highlight"),F.color!=="HighlightText"&&(F.color="HighlightText"),F.marginTop!==sn(-1.5)&&(F.marginTop=sn(-1.5)),F.paddingTop!==sn(4)&&(F.paddingTop=sn(4)),F.paddingBottom!==sn(0)&&(F.paddingBottom=sn(0))}else e(O)}))}t=f,r=x,o=m,i=_,s=b,l=y}))}return c(n.getEditorState()),ph(n.registerUpdateListener((({editorState:u})=>c(u))),(()=>{a()}))}function eN(n){let e=null,t=()=>{let r=getSelection(),o=r&&r.anchorNode,i=n.getRootElement();o!==null&&i!==null&&i.contains(o)?e!==null&&(e(),e=null):e===null&&(e=_h(n))};return document.addEventListener("selectionchange",t),()=>{e!==null&&e(),document.removeEventListener("selectionchange",t)}}var tN=Jy,Ch=Vt,nN=gh,rN=Xy,oN=Yy,iN=Zy,sN=yc,yh=jy,aN=qy,lN=Vy;function cN(n,...e){let t=hh(...e);t.length>0&&n.classList.add(...t)}function uN(n,...e){let t=hh(...e);t.length>0&&n.classList.remove(...t)}function Nh(n,e){for(let t of e)if(n.type.startsWith(t))return!0;return!1}function dN(n,e){let t=n[Symbol.iterator]();return new Promise(((r,o)=>{let i=[],s=()=>{let{done:l,value:a}=t.next();if(l)return r(i);let c=new FileReader;c.addEventListener("error",o),c.addEventListener("load",(()=>{let u=c.result;typeof u=="string"&&i.push({file:a,result:u}),s()})),Nh(a,e)?c.readAsDataURL(a):s()};s()}))}function fN(n,e){return Array.from(xh(n,e))}function gN(n){return n?n.getAdjacentCaret():null}function hN(n,e){return Array.from(bh(n,e))}function xh(n,e){return Th("next",n,e)}function Th(n,e,t){let r=je(),o=e||r,i=I(o)?jt(o,n):xt(o,n),s=Eh(o),l=t?Tr(rc(xt(t,n))):(function(c,u){let d=Ci(xt(c,u));return d&&d[0]})(o,n),a=s;return lc({hasNext:c=>c!==null,initial:i,map:c=>({depth:a,node:c.origin}),step:c=>{if(c.isSameNodeCaret(l))return null;Jn(c)&&a++;let u=Ci(c);return!u||u[0].isSameNodeCaret(l)?null:(a+=u[1],u[0])}})}function pN(n){let e=Ci(xt(n,"next"));return e&&[e[0].origin,e[1]]}function Eh(n){let e=-1;for(let t=n;t!==null;t=t.getParent())e++;return e}function mN(n){let e=Ci(rc(xt(n,"previous")),"root");return e&&e[0].origin}function bh(n,e){return Th("previous",n,e)}function _N(n,e){let t=n;for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null}function CN(n){let e=Sh(n,(t=>I(t)&&!t.isInline()));return I(e)||Vs(4,n.__key),e}var Sh=(n,e)=>{let t=n;for(;t!==je()&&t!=null;){if(e(t))return t;t=t.getParent()}return null};function yN(n,e,t,r){let o=i=>i instanceof e;return n.registerNodeTransform(e,(i=>{let s=(l=>{let a=l.getChildren();for(let d=0;d<a.length;d++){let h=a[d];if(o(h))return null}let c=l,u=l;for(;c!==null;)if(u=c,c=c.getParent(),o(c))return{child:u,parent:c};return null})(i);if(s!==null){let{child:l,parent:a}=s;if(l.is(i)){r(a,i);let c=l.getNextSiblings(),u=c.length;if(a.insertAfter(l),u!==0){let d=t(a);l.insertAfter(d);for(let h=0;h<u;h++)d.append(c[h])}a.canBeEmpty()||a.getChildrenSize()!==0||a.remove()}}}))}function NN(n,e){let t=new Map,r=n._pendingEditorState;for(let[i,s]of e._nodeMap)t.set(i,Yn(s));r&&(r._nodeMap=t),n._dirtyType=2;let o=e._selection;Je(o===null?null:o.clone())}function xN(n){let e=M()||bn(),t;if(v(e))t=lo(e.focus,"next");else{if(e!=null){let s=e.getNodes(),l=s[s.length-1];l&&(t=xt(l,"next"))}t=t||jt(je(),"previous").getFlipped().insert(ne())}let r=Ah(n,t),o=Tr(r),i=Jn(o)?qn(o):r;return Sg(_g(i)),n.getLatest()}function Ah(n,e,t){let r=nc(e,"next");for(let o=r;o;o=Og(o,t))r=o;return xg(r)&&Vs(283),r.insert(n.isInline()?ne().append(n):n),nc(xt(n.getLatest(),"next"),e.direction)}function TN(n,e){let t=e();return n.replace(t),t.append(n),t}function EN(n,e){return n!==null&&Object.getPrototypeOf(n).constructor.name===e.name}function bN(n,e){let t=[];for(let r=0;r<n.length;r++){let o=e(n[r]);o!==null&&t.push(o)}return t}function SN(n,e){jt(n,"next").insert(e)}var Cc=!(yh||!Ch)&&void 0;function AN(n){let e=1;if((function(){if(Cc===void 0){let t=document.createElement("div");t.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(t);let r=t.getBoundingClientRect();t.style.setProperty("zoom","2"),Cc=t.getBoundingClientRect().width===r.width,document.body.removeChild(t)}return Cc})())for(;n;)e*=Number(window.getComputedStyle(n).getPropertyValue("zoom")),n=n.parentElement;return e}function ON(n){return n._parentEditor!==null}function vN(n,e){return Oh(n,e,null)}function Oh(n,e,t){let r=!1;for(let o of Nc(n))e(o)?t!==null&&t(o):(r=!0,I(o)&&Oh(o,e,t||(i=>o.insertAfter(i))),o.remove());return r}function MN(n,e){let t=[],r=Array.from(n).reverse();for(let o=r.pop();o!==void 0;o=r.pop())if(e(o))t.push(o);else if(I(o))for(let i of Nc(o))r.push(i);return t}function wN(n){return vh(jt(n,"next"))}function Nc(n){return vh(jt(n,"previous"))}function vh(n){return lc({hasNext:bs,initial:n.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}function DN(n){bg(xt(n,"next")).splice(1,n.getChildren())}function Ci(n,e="root"){let t=0,r=n,o=Tr(r);for(;o===null;){if(t--,o=r.getParentCaret(e),!o)return null;r=o,o=Tr(r)}return o&&[o,t]}function LN(n){let e=r=>Cg(r,n),t=(r,o)=>Ag(r,n,o);return{$get:e,$set:t,accessors:[e,t],makeGetterMethod:()=>function(){return e(this)},makeSetterMethod:()=>function(r){return t(this,r)},stateConfig:n}}var X=xc,Tc=X.$descendantsMatching,C0=X.$dfs,y0=X.$dfsIterator,N0=X.$filter,V=X.$findMatchingParent,x0=X.$firstToLastIterator,Mh=X.$getAdjacentCaret,T0=X.$getAdjacentSiblingOrParentSiblingCaret,E0=X.$getDepth,qs=X.$getNearestBlockElementAncestorOrThrow,Xs=X.$getNearestNodeOfType,b0=X.$getNextRightPreorderNode,S0=X.$getNextSiblingOrParentSibling,wh=X.$insertFirst,Zs=X.$insertNodeToNearestRoot,A0=X.$insertNodeToNearestRootAtCaret,O0=X.$isEditorIsNestedEditor,v0=X.$lastToFirstIterator,M0=X.$restoreEditorState,w0=X.$reverseDfs,D0=X.$reverseDfsIterator,L0=X.$splitNode,Ec=X.$unwrapAndFilterDescendants,k0=X.$unwrapNode,R0=X.$wrapNodeInElement,F0=X.CAN_USE_BEFORE_INPUT,I0=X.CAN_USE_DOM,$0=X.IS_ANDROID,P0=X.IS_ANDROID_CHROME,B0=X.IS_APPLE,K0=X.IS_APPLE_WEBKIT,H0=X.IS_CHROME,z0=X.IS_FIREFOX,U0=X.IS_IOS,W0=X.IS_SAFARI,_e=X.addClassNamesToElement,Dh=X.calculateZoomLevel,bc=X.isBlockDomNode,Sc=X.isHTMLAnchorElement,Ve=X.isHTMLElement,G0=X.isInlineDomNode,Y0=X.isMimeType,j0=X.makeStateWrapper,J0=X.markSelection,V0=X.mediaFileReader,dt=X.mergeRegister,qt=X.objectKlassEquals,q0=X.positionNodeOnRange,X0=X.registerNestedElementResolver,Pt=X.removeClassNamesFromElement,Z0=X.selectionAlwaysOnDisplay;var Ac={};vt(Ac,{$generateHtmlFromNodes:()=>RN,$generateNodesFromDOM:()=>kN});function kN(n,e){let t=e.body?e.body.childNodes:[],r=[],o=[];for(let i=0;i<t.length;i++){let s=t[i];if(!kh.has(s.nodeName)){let l=Rh(s,n,o,!1);l!==null&&(r=r.concat(l))}}return(function(i){for(let s of i)s.getNextSibling()instanceof oc&&s.insertAfter(xr());for(let s of i){let l=s.getChildren();for(let a of l)s.insertBefore(a);s.remove()}})(o),r}function RN(n,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let t=document.createElement("div"),r=je().getChildren();for(let o=0;o<r.length;o++)Lh(n,r[o],t,e);return t.innerHTML}function Lh(n,e,t,r=null){let o=r===null||e.isSelected(r),i=I(e)&&e.excludeFromCopy("html"),s=e;if(r!==null){let p=Yn(e);p=Q(p)&&r!==null?js(r,p):p,s=p}let l=I(s)?s.getChildren():[],a=n._nodes.get(s.getType()),c;c=a&&a.exportDOM!==void 0?a.exportDOM(n,s):s.exportDOM(n);let{element:u,after:d}=c;if(!u)return!1;let h=document.createDocumentFragment();for(let p=0;p<l.length;p++){let f=l[p],g=Lh(n,f,h,r);!o&&I(e)&&g&&e.extractWithChild(f,r,"html")&&(o=!0)}if(o&&!i){if((Ve(u)||ac(u))&&u.append(h),t.append(u),d){let p=d.call(s,u);p&&(ac(u)?u.replaceChildren(p):u.replaceWith(p))}}else t.append(h);return o}var kh=new Set(["STYLE","SCRIPT"]);function Rh(n,e,t,r,o=new Map,i){let s=[];if(kh.has(n.nodeName))return s;let l=null,a=(function(f,g){let{nodeName:m}=f,_=g._htmlConversions.get(m.toLowerCase()),C=null;if(_!==void 0)for(let y of _){let x=y(f);x!==null&&(C===null||(C.priority||0)<=(x.priority||0))&&(C=x)}return C!==null?C.conversion:null})(n,e),c=a?a(n):null,u=null;if(c!==null){u=c.after;let f=c.node;if(l=Array.isArray(f)?f[f.length-1]:f,l!==null){for(let[,g]of o)if(l=g(l,i),!l)break;l&&s.push(...Array.isArray(f)?f:[l])}c.forChild!=null&&o.set(n.nodeName,c.forChild)}let d=n.childNodes,h=[],p=(l==null||!rt(l))&&(l!=null&&Ts(l)||r);for(let f=0;f<d.length;f++)h.push(...Rh(d[f],e,t,p,new Map(o),l));return u!=null&&(h=u(h)),bc(n)&&(h=FN(n,h,p?()=>{let f=new oc;return t.push(f),f}:ne)),l==null?h.length>0?s=s.concat(h):bc(n)&&(function(f){return f.nextSibling==null||f.previousSibling==null?!1:mi(f.nextSibling)&&mi(f.previousSibling)})(n)&&(s=s.concat(xr())):I(l)&&l.append(...h),s}function FN(n,e,t){let r=n.style.textAlign,o=[],i=[];for(let s=0;s<e.length;s++){let l=e[s];if(Ts(l))r&&!l.getFormat()&&l.setFormat(r),o.push(l);else if(i.push(l),s===e.length-1||s<e.length-1&&Ts(e[s+1])){let a=t();a.setFormat(r),a.append(...i),o.push(a),i=[]}}return o}var Fh=Ac,Qs=Fh.$generateHtmlFromNodes,ea=Fh.$generateNodesFromDOM;var vc={};vt(vc,{$generateJSONFromSelectedNodes:()=>Kh,$generateNodesFromSerializedNodes:()=>Hh,$getClipboardDataFromSelection:()=>zh,$getHtmlContent:()=>$h,$getLexicalContent:()=>Ph,$insertDataTransferForPlainText:()=>IN,$insertDataTransferForRichText:()=>$N,$insertGeneratedNodes:()=>Oc,copyToClipboard:()=>PN,setLexicalClipboardDataTransfer:()=>Uh});function ta(n,...e){let t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function $h(n,e=M()){return e==null&&ta(166),v(e)&&e.isCollapsed()||e.getNodes().length===0?"":Qs(n,e)}function Ph(n,e=M()){return e==null&&ta(166),v(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(Kh(n,e))}function IN(n,e){let t=n.getData("text/plain")||n.getData("text/uri-list");t!=null&&e.insertRawText(t)}function $N(n,e,t){let r=n.getData("application/x-lexical-editor");if(r)try{let l=JSON.parse(r);if(l.namespace===t._config.namespace&&Array.isArray(l.nodes))return Oc(t,Hh(l.nodes),e)}catch{}let o=n.getData("text/html"),i=n.getData("text/plain");if(o&&i!==o)try{let l=new DOMParser().parseFromString((function(a){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:c=>c}).createHTML(a):a})(o),"text/html");return Oc(t,ea(t,l),e)}catch{}let s=i||n.getData("text/uri-list");if(s!=null)if(v(e)){let l=s.split(/(\r?\n|\t)/);l[l.length-1]===""&&l.pop();for(let a=0;a<l.length;a++){let c=M();if(v(c)){let u=l[a];u===`
`||u===`\r
`?c.insertParagraph():u==="	"?c.insertNodes([It()]):c.insertText(u)}}}else e.insertRawText(s)}function Oc(n,e,t){n.dispatchCommand(pi,{nodes:e,selection:t})||t.insertNodes(e)}function Bh(n,e,t,r=[]){let o=e===null||t.isSelected(e),i=I(t)&&t.excludeFromCopy("html"),s=t;if(e!==null){let c=Yn(t);c=Q(c)&&e!==null?js(e,c):c,s=c}let l=I(s)?s.getChildren():[],a=(function(c){let u=c.exportJSON(),d=c.constructor;if(u.type!==d.getType()&&ta(58,d.name),I(c)){let h=u.children;Array.isArray(h)||ta(59,d.name)}return u})(s);if(Q(s)){let c=s.__text;c.length>0?a.text=c:o=!1}for(let c=0;c<l.length;c++){let u=l[c],d=Bh(n,e,u,a.children);!o&&I(t)&&d&&t.extractWithChild(u,e,"clone")&&(o=!0)}if(o&&!i)r.push(a);else if(Array.isArray(a.children))for(let c=0;c<a.children.length;c++){let u=a.children[c];r.push(u)}return o}function Kh(n,e){let t=[],r=je().getChildren();for(let o=0;o<r.length;o++)Bh(n,e,r[o],t);return{namespace:n._config.namespace,nodes:t}}function Hh(n){let e=[];for(let t=0;t<n.length;t++){let r=n[t],o=Eg(r);Q(o)&&uh(o),e.push(o)}return e}var mo=null;async function PN(n,e,t){if(mo!==null)return!1;if(e!==null)return new Promise(((c,u)=>{n.update((()=>{c(Ih(n,e,t))}))}));let r=n.getRootElement(),o=n._window||window,i=window.document,s=Qn(o);if(r===null||s===null)return!1;let l=i.createElement("span");l.style.cssText="position: fixed; top: -1000px;",l.append(i.createTextNode("#")),r.append(l);let a=new Range;return a.setStart(l,0),a.setEnd(l,1),s.removeAllRanges(),s.addRange(a),new Promise(((c,u)=>{let d=n.registerCommand(Ms,(h=>(qt(h,ClipboardEvent)&&(d(),mo!==null&&(window.clearTimeout(mo),mo=null),c(Ih(n,h,t))),!0)),wt);mo=window.setTimeout((()=>{d(),mo=null,c(!1)}),50),i.execCommand("copy"),l.remove()}))}function Ih(n,e,t){if(t===void 0){let o=Qn(n._window);if(!o)return!1;let i=o.anchorNode,s=o.focusNode;if(i!==null&&s!==null&&!Vg(n,i,s))return!1;let l=M();if(l===null)return!1;t=zh(l)}e.preventDefault();let r=e.clipboardData;return r!==null&&(Uh(r,t),!0)}var BN=[["text/html",$h],["application/x-lexical-editor",Ph]];function zh(n=M()){let e={"text/plain":n?n.getTextContent():""};if(n){let t=En();for(let[r,o]of BN){let i=o(t,n);i!==null&&(e[r]=i)}}return e}function Uh(n,e){for(let t in e){let r=e[t];r!==void 0&&n.setData(t,r)}}var an=vc,lb=an.$generateJSONFromSelectedNodes,cb=an.$generateNodesFromSerializedNodes,Wh=an.$getClipboardDataFromSelection,ub=an.$getHtmlContent,db=an.$getLexicalContent,fb=an.$insertDataTransferForPlainText,Mc=an.$insertDataTransferForRichText,gb=an.$insertGeneratedNodes,yi=an.copyToClipboard,hb=an.setLexicalClipboardDataTransfer;var kc={};vt(kc,{$createHeadingNode:()=>Co,$createQuoteNode:()=>Lc,$isHeadingNode:()=>jN,$isQuoteNode:()=>GN,DRAG_DROP_PASTE:()=>Dc,HeadingNode:()=>Ti,QuoteNode:()=>xi,eventFiles:()=>Ni,registerRichText:()=>JN});function Gh(n,e){if(document.caretRangeFromPoint!==void 0){let t=document.caretRangeFromPoint(n,e);return t===null?null:{node:t.startContainer,offset:t.startOffset}}if(document.caretPositionFromPoint!=="undefined"){let t=document.caretPositionFromPoint(n,e);return t===null?null:{node:t.offsetNode,offset:t.offset}}return null}var yo=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,KN=yo&&"documentMode"in document?document.documentMode:null,HN=!(!yo||!("InputEvent"in window)||KN)&&"getTargetRanges"in new window.InputEvent("input"),zN=yo&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Yh=yo&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,UN=yo&&/^(?=.*Chrome).*/i.test(navigator.userAgent),WN=yo&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!UN,Dc=be("DRAG_DROP_PASTE_FILE"),xi=class n extends Et{static getType(){return"quote"}static clone(e){return new n(e.__key)}createDOM(e){let t=document.createElement("blockquote");return _e(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:YN,priority:0})}}exportDOM(e){let{element:t}=super.exportDOM(e);if(Ve(t)){this.isEmpty()&&t.append(document.createElement("br"));let r=this.getFormatType();r&&(t.style.textAlign=r);let o=this.getDirection();o&&(t.dir=o)}return{element:t}}static importJSON(e){return Lc().updateFromJSON(e)}insertNewAfter(e,t){let r=ne(),o=this.getDirection();return r.setDirection(o),this.insertAfter(r,t),r}collapseAtStart(){let e=ne();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}canMergeWhenEmpty(){return!0}};function Lc(){return Ae(new xi)}function GN(n){return n instanceof xi}var Ti=class n extends Et{static getType(){return"heading"}static clone(e){return new n(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){let t=this.getWritable();return this.__tag=e,t}createDOM(e){let t=this.__tag,r=document.createElement(t),o=e.theme.heading;if(o!==void 0){let i=o[t];_e(r,i)}return r}updateDOM(e,t,r){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:_o,priority:0}),h2:e=>({conversion:_o,priority:0}),h3:e=>({conversion:_o,priority:0}),h4:e=>({conversion:_o,priority:0}),h5:e=>({conversion:_o,priority:0}),h6:e=>({conversion:_o,priority:0}),p:e=>{let t=e.firstChild;return t!==null&&jh(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>jh(e)?{conversion:t=>({node:Co("h1")}),priority:3}:null}}exportDOM(e){let{element:t}=super.exportDOM(e);if(Ve(t)){this.isEmpty()&&t.append(document.createElement("br"));let r=this.getFormatType();r&&(t.style.textAlign=r);let o=this.getDirection();o&&(t.dir=o)}return{element:t}}static importJSON(e){return Co(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){let r=e?e.anchor.offset:0,o=this.getLastDescendant(),i=!o||e&&e.anchor.key===o.getKey()&&r===o.getTextContentSize()||!e?ne():Co(this.getTag()),s=this.getDirection();if(i.setDirection(s),this.insertAfter(i,t),r===0&&!this.isEmpty()&&e){let l=ne();l.select(),this.replace(l,!0)}return i}collapseAtStart(){let e=this.isEmpty()?ne():Co(this.getTag());return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}extractWithChild(){return!0}};function jh(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function _o(n){let e=n.nodeName.toLowerCase(),t=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(t=Co(e),n.style!==null&&(cc(n,t),t.setFormat(n.style.textAlign))),{node:t}}function YN(n){let e=Lc();return n.style!==null&&(e.setFormat(n.style.textAlign),cc(n,e)),{node:e}}function Co(n="h1"){return Ae(new Ti(n))}function jN(n){return n instanceof Ti}function Ni(n){let e=null;if(qt(n,DragEvent)?e=n.dataTransfer:qt(n,ClipboardEvent)&&(e=n.clipboardData),e===null)return[!1,[],!1];let t=e.types,r=t.includes("Files"),o=t.includes("text/html")||t.includes("text/plain");return[r,Array.from(e.files),o]}function Jh(n){let e=M();if(!v(e))return!1;let t=new Set,r=e.getNodes();for(let o=0;o<r.length;o++){let i=r[o],s=i.getKey();if(t.has(s))continue;let l=V(i,(c=>I(c)&&!c.isInline()));if(l===null)continue;let a=l.getKey();l.canIndent()&&!t.has(a)&&(t.add(a),n(l))}return t.size>0}function Vh(n){let e=Pe(n);return Sn(e)}function wc(n){for(let e of["lowercase","uppercase","capitalize"])n.hasFormat(e)&&n.toggleFormat(e)}function JN(n){return dt(n.registerCommand(As,(e=>{let t=M();return!!Tt(t)&&(t.clear(),!0)}),0),n.registerCommand(uo,(e=>{let t=M();return v(t)?(t.deleteCharacter(e),!0):!!Tt(t)&&(t.deleteNodes(),!0)}),te),n.registerCommand(Ds,(e=>{let t=M();return!!v(t)&&(t.deleteWord(e),!0)}),te),n.registerCommand(gi,(e=>{let t=M();return!!v(t)&&(t.deleteLine(e),!0)}),te),n.registerCommand(vs,(e=>{let t=M();if(typeof e=="string")t!==null&&t.insertText(e);else{if(t===null)return!1;let r=e.dataTransfer;if(r!=null)Mc(r,t,n);else if(v(t)){let o=e.data;return o&&t.insertText(o),!0}}return!0}),te),n.registerCommand(zg,(()=>{let e=M();return!!v(e)&&(e.removeText(),!0)}),te),n.registerCommand(ut,(e=>{let t=M();return!!v(t)&&(t.formatText(e),!0)}),te),n.registerCommand(Dt,(e=>{let t=M();if(!v(t)&&!Tt(t))return!1;let r=t.getNodes();for(let o of r){let i=V(o,(s=>I(s)&&!s.isInline()));i!==null&&i.setFormat(e)}return!0}),te),n.registerCommand(ic,(e=>{let t=M();return!!v(t)&&(t.insertLineBreak(e),!0)}),te),n.registerCommand(Zn,(()=>{let e=M();return!!v(e)&&(e.insertParagraph(),!0)}),te),n.registerCommand(hi,(()=>(jn([It()]),!0)),te),n.registerCommand(Lt,(()=>Jh((e=>{let t=e.getIndent();e.setIndent(t+1)}))),te),n.registerCommand($t,(()=>Jh((e=>{let t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}))),te),n.registerCommand(Jt,(e=>{let t=M();if(Tt(t)){let r=t.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(v(t)){let r=tc(t.focus,!0);if(!e.shiftKey&&Sn(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1}),te),n.registerCommand(An,(e=>{let t=M();if(Tt(t)){let r=t.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(v(t)){if((function(o){let i=o.focus;return i.key==="root"&&i.offset===je().getChildrenSize()})(t))return e.preventDefault(),!0;let r=tc(t.focus,!1);if(!e.shiftKey&&Sn(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1}),te),n.registerCommand(fo,(e=>{let t=M();if(Tt(t)){let r=t.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}if(!v(t))return!1;if(mc(t,!0)){let r=e.shiftKey;return e.preventDefault(),pc(t,r,!0),!0}return!1}),te),n.registerCommand(Fs,(e=>{let t=M();if(Tt(t)){let o=t.getNodes();if(o.length>0)return e.preventDefault(),o[0].selectNext(0,0),!0}if(!v(t))return!1;let r=e.shiftKey;return!!mc(t,!1)&&(e.preventDefault(),pc(t,r,!1),!0)}),te),n.registerCommand(Is,(e=>{if(Vh(e.target))return!1;let t=M();if(v(t)){if((function(r){if(!r.isCollapsed())return!1;let{anchor:o}=r;if(o.offset!==0)return!1;let i=o.getNode();if(rn(i))return!1;let s=qs(i);return s.getIndent()>0&&(s.is(i)||i.is(s.getFirstDescendant()))})(t))return e.preventDefault(),n.dispatchCommand($t,void 0);if(Yh&&navigator.language==="ko-KR")return!1}else if(!Tt(t))return!1;return e.preventDefault(),n.dispatchCommand(uo,!0)}),te),n.registerCommand($s,(e=>{if(Vh(e.target))return!1;let t=M();return!(!v(t)&&!Tt(t))&&(e.preventDefault(),n.dispatchCommand(uo,!1))}),te),n.registerCommand(Pg,(e=>{let t=M();if(!v(t))return!1;if(wc(t),e!==null){if((Yh||zN||WN)&&HN)return!1;if(e.preventDefault(),e.shiftKey)return n.dispatchCommand(ic,!1)}return n.dispatchCommand(Zn,void 0)}),te),n.registerCommand(go,(()=>{let e=M();return!!v(e)&&(n.blur(),!0)}),te),n.registerCommand(Rg,(e=>{let[,t]=Ni(e);if(t.length>0){let o=Gh(e.clientX,e.clientY);if(o!==null){let{offset:i,node:s}=o,l=Pe(s);if(l!==null){let a=co();if(Q(l))a.anchor.set(l.getKey(),i,"text"),a.focus.set(l.getKey(),i,"text");else{let u=l.getParentOrThrow().getKey(),d=l.getIndexWithinParent()+1;a.anchor.set(u,d,"element"),a.focus.set(u,d,"element")}let c=Er(a);Je(c)}n.dispatchCommand(Dc,t)}return e.preventDefault(),!0}let r=M();return!!v(r)}),te),n.registerCommand(kg,(e=>{let[t]=Ni(e),r=M();return!(t&&!v(r))}),te),n.registerCommand(Lg,(e=>{let[t]=Ni(e),r=M();if(t&&!v(r))return!1;let o=Gh(e.clientX,e.clientY);if(o!==null){let i=Pe(o.node);Sn(i)&&e.preventDefault()}return!0}),te),n.registerCommand(Ug,(()=>(Ss(),!0)),te),n.registerCommand(Ms,(e=>(yi(n,qt(e,ClipboardEvent)?e:null),!0)),te),n.registerCommand(ws,(e=>((async function(t,r){await yi(r,qt(t,ClipboardEvent)?t:null),r.update((()=>{let o=M();v(o)?o.removeText():Tt(o)&&o.getNodes().forEach((i=>i.remove()))}))})(e,n),!0)),te),n.registerCommand(Kg,(e=>{let[,t,r]=Ni(e);return t.length>0&&!r?(n.dispatchCommand(Dc,t),!0):on(e.target)&&Jg(e.target)?!1:M()!==null&&((function(o,i){o.preventDefault(),i.update((()=>{let s=M(),l=qt(o,InputEvent)||qt(o,KeyboardEvent)?null:o.clipboardData;l!=null&&s!==null&&Mc(l,s,i)}),{tag:Hg})})(e,n),!0)}),te),n.registerCommand(Ps,(e=>{let t=M();return v(t)&&wc(t),!1}),te),n.registerCommand(ho,(e=>{let t=M();return v(t)&&wc(t),!1}),te))}var On=kc,na=On.$createHeadingNode,qh=On.$createQuoteNode,ra=On.$isHeadingNode,Xh=On.$isQuoteNode,Nb=On.DRAG_DROP_PASTE,Zh=On.HeadingNode,Qh=On.QuoteNode,xb=On.eventFiles,ep=On.registerRichText;var Rc={};vt(Rc,{$createHashtagNode:()=>tp,$isHashtagNode:()=>VN,HashtagNode:()=>Ei});var Ei=class n extends bt{static getType(){return"hashtag"}static clone(e){return new n(e.__text,e.__key)}createDOM(e){let t=super.createDOM(e);return _e(t,e.theme.hashtag),t}static importJSON(e){return tp().updateFromJSON(e)}canInsertTextBefore(){return!1}isTextEntity(){return!0}};function tp(n=""){return Ae(new Ei(n))}function VN(n){return n instanceof Ei}var Fc=Rc,np=Fc.$createHashtagNode,Sb=Fc.$isHashtagNode,Ic=Fc.HashtagNode;var vb=Gu($c(),1);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:o},Prism.languages.insertBefore("markup","cdata",i)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(n,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(n){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function t(u){return u=u.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+u+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+i+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+i+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:t(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:t(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:t(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:t(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(u){["url","bold","italic","strike","code-snippet"].forEach(function(d){u!==d&&(n.languages.markdown[u].inside.content.inside[d]=n.languages.markdown[d])})}),n.hooks.add("after-tokenize",function(u){if(u.language!=="markdown"&&u.language!=="md")return;function d(h){if(!(!h||typeof h=="string"))for(var p=0,f=h.length;p<f;p++){var g=h[p];if(g.type!=="code"){d(g.content);continue}var m=g.content[1],_=g.content[3];if(m&&_&&m.type==="code-language"&&_.type==="code-block"&&typeof m.content=="string"){var C=m.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");C=(/[a-z][\w-]*/i.exec(C)||[""])[0].toLowerCase();var y="language-"+C;_.alias?typeof _.alias=="string"?_.alias=[_.alias,y]:_.alias.push(y):_.alias=[y]}}}d(u.tokens)}),n.hooks.add("wrap",function(u){if(u.type==="code-block"){for(var d="",h=0,p=u.classes.length;h<p;h++){var f=u.classes[h],g=/language-(.+)/.exec(f);if(g){d=g[1];break}}var m=n.languages[d];if(m)u.content=n.highlight(c(u.content),m,d);else if(d&&d!=="none"&&n.plugins.autoloader){var _="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);u.attributes.id=_,n.plugins.autoloader.loadLanguages(d,function(){var C=document.getElementById(_);C&&(C.innerHTML=n.highlight(C.textContent,n.languages[d],d))})}}});var s=RegExp(n.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;function c(u){var d=u.replace(s,"");return d=d.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(h,p){if(p=p.toLowerCase(),p[0]==="#"){var f;return p[1]==="x"?f=parseInt(p.slice(2),16):f=Number(p.slice(1)),a(f)}else{var g=l[p];return g||h}}),d}n.languages.md=n.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(n){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var t=n.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(n){var e=n.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};e.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:e},boolean:e.boolean,variable:e.variable}})(Prism);Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(n){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,t=0;t<2;t++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=Prism.languages.swift});(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var e=n.languages.extend("typescript",{});delete e["class-name"],n.languages.typescript["class-name"].inside=e,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),n.languages.ts=n.languages.typescript})(Prism);(function(n){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,t=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+t+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+t+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+t+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(n){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,t=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});n.languages.cpp=n.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),n.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return t})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),n.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n.languages.cpp}}}}),n.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),n.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:n.languages.extend("cpp",{})}}),n.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},n.languages.cpp["base-clause"])})(Prism);var Wb=globalThis.Prism||window.Prism;var Gc={};vt(Gc,{$createCodeHighlightNode:()=>sa,$createCodeNode:()=>xo,$getEndOfCodeInLine:()=>Wc,$getFirstCodeNodeOfLine:()=>vn,$getLastCodeNodeOfLine:()=>Mr,$getStartOfCodeInLine:()=>Uc,$isCodeHighlightNode:()=>ke,$isCodeNode:()=>St,CODE_LANGUAGE_FRIENDLY_NAME_MAP:()=>gp,CODE_LANGUAGE_MAP:()=>hp,CodeHighlightNode:()=>wr,CodeNode:()=>tr,DEFAULT_CODE_LANGUAGE:()=>zc,PrismTokenizer:()=>_p,getCodeLanguages:()=>tx,getDefaultCodeLanguage:()=>ex,getEndOfCodeInLine:()=>sx,getFirstCodeNodeOfLine:()=>ox,getLanguageFriendlyName:()=>QN,getLastCodeNodeOfLine:()=>ix,getStartOfCodeInLine:()=>ax,normalizeCodeLang:()=>pp,registerCodeHighlighting:()=>rx});var Jb=Gu($c(),1);function Si(n,...e){let t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var No=globalThis.Prism||window.Prism,rp=n=>{try{return!!n&&No.languages.hasOwnProperty(n)}catch{return!1}};function fp(n,e){for(let t of n.childNodes){if(Ve(t)&&t.tagName===e)return!0;fp(t,e)}return!1}var bi="data-language",ia="data-highlight-language",tr=class n extends Et{static getType(){return"code"}static clone(e){return new n(e.__language,e.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=rp(e)}createDOM(e){let t=document.createElement("code");_e(t,e.theme.code),t.setAttribute("spellcheck","false");let r=this.getLanguage();return r&&(t.setAttribute(bi,r),this.getIsSyntaxHighlightSupported()&&t.setAttribute(ia,r)),t}updateDOM(e,t,r){let o=this.__language,i=e.__language;return o?o!==i&&(t.setAttribute(bi,o),this.__isSyntaxHighlightSupported&&t.setAttribute(ia,o)):i&&(t.removeAttribute(bi),e.__isSyntaxHighlightSupported&&t.removeAttribute(ia)),!1}exportDOM(e){let t=document.createElement("pre");_e(t,e._config.theme.code),t.setAttribute("spellcheck","false");let r=this.getLanguage();return r&&(t.setAttribute(bi,r),this.getIsSyntaxHighlightSupported()&&t.setAttribute(ia,r)),{element:t}}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||fp(e,"BR"))?{conversion:op,priority:1}:null,div:()=>({conversion:XN,priority:1}),pre:()=>({conversion:op,priority:0}),table:e=>Pc(e)?{conversion:ZN,priority:3}:null,td:e=>{let t=e,r=t.closest("table");return t.classList.contains("js-file-line")||r&&Pc(r)?{conversion:ip,priority:3}:null},tr:e=>{let t=e.closest("table");return t&&Pc(t)?{conversion:ip,priority:3}:null}}}static importJSON(e){return xo().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(e,t=!0){let r=this.getChildren(),o=r.length;if(o>=2&&r[o-1].getTextContent()===`
`&&r[o-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===o){r[o-1].remove(),r[o-2].remove();let a=ne();return this.insertAfter(a,t),a}let{anchor:i,focus:s}=e,l=(i.isBefore(s)?i:s).getNode();if(Q(l)){let a=vn(l),c=[];for(;;)if(Qe(a))c.push(It()),a=a.getNextSibling();else{if(!ke(a))break;{let m=0,_=a.getTextContent(),C=a.getTextContentSize();for(;m<C&&_[m]===" ";)m++;if(m!==0&&c.push(sa(" ".repeat(m))),m!==C)break;a=a.getNextSibling()}}let u=l.splitText(i.offset)[0],d=i.offset===0?0:1,h=u.getIndexWithinParent()+d,p=l.getParentOrThrow(),f=[xr(),...c];p.splice(h,0,f);let g=c[c.length-1];g?g.select():i.offset===0?u.selectPrevious():u.getNextSibling().selectNext(0,0)}if(St(l)){let{offset:a}=e.anchor;l.splice(a,0,[xr()]),l.select(a+1,a+1)}return null}canIndent(){return!1}collapseAtStart(){let e=ne();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}setLanguage(e){let t=this.getWritable();return t.__language=e||void 0,t.__isSyntaxHighlightSupported=rp(e),t}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}};function xo(n){return Ae(new tr(n))}function St(n){return n instanceof tr}function op(n){return{node:xo(n.getAttribute(bi))}}function XN(n){let e=n,t=sp(e);return t||(function(r){let o=r.parentElement;for(;o!==null;){if(sp(o))return!0;o=o.parentElement}return!1})(e)?{node:t?xo():null}:{node:null}}function ZN(){return{node:xo()}}function ip(){return{node:null}}function sp(n){return n.style.fontFamily.match("monospace")!==null}function Pc(n){return n.classList.contains("js-file-line-container")}var zc="javascript",gp={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",powershell:"PowerShell",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},hp={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function pp(n){return hp[n]||n}function QN(n){let e=pp(n);return gp[e]||e}var ex=()=>zc,tx=()=>Object.keys(No.languages).filter((n=>typeof No.languages[n]!="function")).sort(),wr=class n extends bt{constructor(e="",t,r){super(e,r),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new n(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){let t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){let t=super.createDOM(e),r=Bc(e.theme,this.__highlightType);return _e(t,r),t}updateDOM(e,t,r){let o=super.updateDOM(e,t,r),i=Bc(r.theme,e.__highlightType),s=Bc(r.theme,this.__highlightType);return i!==s&&(i&&Pt(t,i),s&&_e(t,s)),o}static importJSON(e){return sa().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return xo()}};function Bc(n,e){return e&&n&&n.codeHighlight&&n.codeHighlight[e]}function sa(n="",e){return Ae(new wr(n,e))}function ke(n){return n instanceof wr}function mp(n,e){let t=n;for(let r=xt(n,e);r&&(ke(r.origin)||Qe(r.origin));r=Mh(r))t=r.origin;return t}function vn(n){return mp(n,"previous")}function Mr(n){return mp(n,"next")}var _p={defaultLanguage:zc,tokenize(n,e){return No.tokenize(n,No.languages[e||""]||No.languages[this.defaultLanguage])}};function Uc(n,e){let t=null,r=null,o=n,i=e,s=n.getTextContent();for(;;){if(i===0){if(o=o.getPreviousSibling(),o===null)break;if(ke(o)||Qe(o)||De(o)||Si(167),De(o)){t={node:o,offset:1};break}i=Math.max(0,o.getTextContentSize()-1),s=o.getTextContent()}else i--;let a=s[i];ke(o)&&a!==" "&&(r={node:o,offset:i})}if(r!==null)return r;let l=null;if(e<n.getTextContentSize())ke(n)&&(l=n.getTextContent()[e]);else{let a=n.getNextSibling();ke(a)&&(l=a.getTextContent()[0])}if(l!==null&&l!==" ")return t;{let a=(function(c,u){let d=c,h=u,p=c.getTextContent(),f=c.getTextContentSize();for(;;){if(!ke(d)||h===f){if(d=d.getNextSibling(),d===null||De(d))return null;ke(d)&&(h=0,p=d.getTextContent(),f=d.getTextContentSize())}if(ke(d)){if(p[h]!==" ")return{node:d,offset:h};h++}}})(n,e);return a!==null?a:t}}function Wc(n){let e=Mr(n);return De(e)&&Si(168),e}function ap(n,e,t){let r=n.getParent();St(r)?Cp(r,e,t):ke(n)&&n.replace(lt(n.__text))}function nx(n,e){let t=e.getElementByKey(n.getKey());if(t===null)return;let r=n.getChildren(),o=r.length;if(o===t.__cachedChildrenLength)return;t.__cachedChildrenLength=o;let i="1",s=1;for(let l=0;l<o;l++)De(r[l])&&(i+=`
`+ ++s);t.setAttribute("data-gutter",i)}var Kc=new Set;function Cp(n,e,t){let r=n.getKey();Kc.has(r)||(Kc.add(r),n.getLanguage()===void 0&&n.setLanguage(t.defaultLanguage),e.update((()=>{(function(o,i){let s=ct(o);if(!St(s)||!s.isAttached())return;let l=M();if(!v(l))return void i();let a=l.anchor,c=a.offset,u=a.type==="element"&&De(s.getChildAtIndex(a.offset-1)),d=0;if(!u){let h=a.getNode();d=c+h.getPreviousSiblings().reduce(((p,f)=>p+f.getTextContentSize()),0)}if(i()){if(u)return void a.getNode().select(c,c);s.getChildren().some((h=>{let p=Q(h);if(p||De(h)){let f=h.getTextContentSize();if(p&&f>=d)return h.select(d,d),!0;d-=f}return!1}))}})(r,(()=>{let o=ct(r);if(!St(o)||!o.isAttached())return!1;let i=o.getTextContent(),s=Hc(t.tokenize(i,o.getLanguage()||t.defaultLanguage)),l=(function(d,h){let p=0;for(;p<d.length&&lp(d[p],h[p]);)p++;let f=d.length,g=h.length,m=Math.min(f,g)-p,_=0;for(;_<m;)if(_++,!lp(d[f-_],h[g-_])){_--;break}let C=p,y=f-_,x=h.slice(p,g-_);return{from:C,nodesForReplacement:x,to:y}})(o.getChildren(),s),{from:a,to:c,nodesForReplacement:u}=l;return!(a===c&&!u.length)&&(n.splice(a,c-a,u),!0)}))}),{onUpdate:()=>{Kc.delete(r)},skipTransforms:!0}))}function Hc(n,e){let t=[];for(let r of n)if(typeof r=="string"){let o=r.split(/(\n|\t)/),i=o.length;for(let s=0;s<i;s++){let l=o[s];l===`
`||l===`\r
`?t.push(xr()):l==="	"?t.push(It()):l.length>0&&t.push(sa(l,e))}}else{let{content:o}=r;typeof o=="string"?t.push(...Hc([o],r.type)):Array.isArray(o)&&t.push(...Hc(o,r.type))}return t}function lp(n,e){return ke(n)&&ke(e)&&n.__text===e.__text&&n.__highlightType===e.__highlightType||Qe(n)&&Qe(e)||De(n)&&De(e)}function vr(n){if(!v(n))return!1;let e=n.anchor.getNode(),t=n.focus.getNode();if(e.is(t)&&St(e))return!0;let r=e.getParent();return St(r)&&r.is(t.getParent())}function yp(n){let e=n.getNodes(),t=[[]];if(e.length===1&&St(e[0]))return t;let r=t[0];for(let o=0;o<e.length;o++){let i=e[o];ke(i)||Qe(i)||De(i)||Si(169),De(i)?o!==0&&r.length>0&&(r=[],t.push(r)):r.push(i)}return t}function cp(n){let e=M();if(!v(e)||!vr(e))return!1;let t=yp(e),r=t.length;if(t.length>1){for(let s=0;s<r;s++){let l=t[s];if(l.length>0){let a=l[0];s===0&&(a=vn(a)),a!==null&&(n===Lt?a.insertBefore(It()):Qe(a)&&a.remove())}}return!0}let o=e.getNodes()[0];if(St(o)||ke(o)||Qe(o)||De(o)||Si(171),St(o))return n===Lt&&e.insertNodes([It()]),!0;let i=vn(o);return n===Lt?De(i)?i.insertAfter(It()):i.insertBefore(It()):Qe(i)&&i.remove(),!0}function up(n,e){let t=M();if(!v(t))return!1;let{anchor:r,focus:o}=t,i=r.offset,s=o.offset,l=r.getNode(),a=o.getNode(),c=n===Jt;if(!vr(t)||!ke(l)&&!Qe(l)||!ke(a)&&!Qe(a))return!1;if(!e.altKey){if(t.isCollapsed()){let _=l.getParentOrThrow();if(c&&i===0&&l.getPreviousSibling()===null){if(_.getPreviousSibling()===null)return _.selectPrevious(),e.preventDefault(),!0}else if(!c&&i===l.getTextContentSize()&&l.getNextSibling()===null&&_.getNextSibling()===null)return _.selectNext(),e.preventDefault(),!0}return!1}let u,d;if(l.isBefore(a)?(u=vn(l),d=Mr(a)):(u=vn(a),d=Mr(l)),u==null||d==null)return!1;let h=u.getNodesBetween(d);for(let _=0;_<h.length;_++){let C=h[_];if(!ke(C)&&!Qe(C)&&!De(C))return!1}e.preventDefault(),e.stopPropagation();let p=c?u.getPreviousSibling():d.getNextSibling();if(!De(p))return!0;let f=c?p.getPreviousSibling():p.getNextSibling();if(f==null)return!0;let g=ke(f)||Qe(f)||De(f)?c?vn(f):Mr(f):null,m=g??f;return p.remove(),h.forEach((_=>_.remove())),n===Jt?(h.forEach((_=>m.insertBefore(_))),m.insertBefore(p)):(m.insertAfter(p),m=p,h.forEach((_=>{m.insertAfter(_),m=_}))),t.setTextNodeRange(l,i,a,s),!0}function dp(n,e){let t=M();if(!v(t))return!1;let{anchor:r,focus:o}=t,i=r.getNode(),s=o.getNode(),l=n===Bs;if(!vr(t)||!ke(i)&&!Qe(i)||!ke(s)&&!Qe(s))return!1;if(l){let a=Uc(s,o.offset);if(a!==null){let{node:c,offset:u}=a;De(c)?c.selectNext(0,0):t.setTextNodeRange(c,u,c,u)}else s.getParentOrThrow().selectStart()}else Wc(s).select();return e.preventDefault(),e.stopPropagation(),!0}function rx(n,e){if(!n.hasNodes([tr,wr]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");e==null&&(e=_p);let t=[];return n._headless!==!0&&t.push(n.registerMutationListener(tr,(r=>{n.update((()=>{for(let[o,i]of r)if(i!=="destroyed"){let s=ct(o);s!==null&&nx(s,n)}}))}),{skipInitialization:!1})),t.push(n.registerNodeTransform(tr,(r=>Cp(r,n,e))),n.registerNodeTransform(bt,(r=>ap(r,n,e))),n.registerNodeTransform(wr,(r=>ap(r,n,e))),n.registerCommand(ho,(r=>{let o=(function(i){let s=M();if(!v(s)||!vr(s))return null;let l=i?$t:Lt,a=i?$t:hi;if(yp(s).length>1)return l;let c=s.getNodes()[0];if(St(c)||ke(c)||Qe(c)||De(c)||Si(170),St(c))return l;let u=vn(c),d=Mr(c),h=s.anchor,p=s.focus,f,g;return p.isBefore(h)?(f=p,g=h):(f=h,g=p),u!==null&&d!==null&&f.key===u.getKey()&&f.offset===0&&g.key===d.getKey()&&g.offset===d.getTextContentSize()?l:a})(r.shiftKey);return o!==null&&(r.preventDefault(),n.dispatchCommand(o,void 0),!0)}),fe),n.registerCommand(hi,(()=>!!vr(M())&&(jn([It()]),!0)),fe),n.registerCommand(Lt,(r=>cp(Lt)),fe),n.registerCommand($t,(r=>cp($t)),fe),n.registerCommand(Jt,(r=>{let o=M();if(!v(o))return!1;let{anchor:i}=o,s=i.getNode();return!!vr(o)&&(o.isCollapsed()&&i.offset===0&&s.getPreviousSibling()===null&&St(s.getParentOrThrow())?(r.preventDefault(),!0):up(Jt,r))}),fe),n.registerCommand(An,(r=>{let o=M();if(!v(o))return!1;let{anchor:i}=o,s=i.getNode();return!!vr(o)&&(o.isCollapsed()&&i.offset===s.getTextContentSize()&&s.getNextSibling()===null&&St(s.getParentOrThrow())?(r.preventDefault(),!0):up(An,r))}),fe),n.registerCommand(Bs,(r=>dp(Bs,r)),fe),n.registerCommand(sc,(r=>dp(sc,r)),fe)),dt(...t)}var ox=vn,ix=Mr,sx=Wc,ax=Uc;var Me=Gc,dS=Me.$createCodeHighlightNode,Yc=Me.$createCodeNode,fS=Me.$getEndOfCodeInLine,gS=Me.$getFirstCodeNodeOfLine,hS=Me.$getLastCodeNodeOfLine,pS=Me.$getStartOfCodeInLine,mS=Me.$isCodeHighlightNode,Np=Me.$isCodeNode,_S=Me.CODE_LANGUAGE_FRIENDLY_NAME_MAP,xp=Me.CODE_LANGUAGE_MAP,CS=Me.CodeHighlightNode,Tp=Me.CodeNode,yS=Me.DEFAULT_CODE_LANGUAGE,NS=Me.PrismTokenizer,xS=Me.getCodeLanguages,TS=Me.getDefaultCodeLanguage,ES=Me.getEndOfCodeInLine,bS=Me.getFirstCodeNodeOfLine,SS=Me.getLanguageFriendlyName,AS=Me.getLastCodeNodeOfLine,OS=Me.getStartOfCodeInLine,vS=Me.normalizeCodeLang,MS=Me.registerCodeHighlighting;var Jc={};vt(Jc,{$createAutoLinkNode:()=>jc,$createLinkNode:()=>Eo,$isAutoLinkNode:()=>Ai,$isLinkNode:()=>nr,$toggleLink:()=>Sp,AutoLinkNode:()=>Oi,LinkNode:()=>To,TOGGLE_LINK_COMMAND:()=>ux,toggleLink:()=>dx});var lx=new Set(["http:","https:","mailto:","sms:","tel:"]),To=class n extends Et{static getType(){return"link"}static clone(e){return new n(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e="",t={},r){super(r);let{target:o=null,rel:i=null,title:s=null}=t;this.__url=e,this.__target=o,this.__rel=i,this.__title=s}createDOM(e){let t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),this.__target!==null&&(t.target=this.__target),this.__rel!==null&&(t.rel=this.__rel),this.__title!==null&&(t.title=this.__title),_e(t,e.theme.link),t}updateDOM(e,t,r){if(Sc(t)){let o=this.__url,i=this.__target,s=this.__rel,l=this.__title;o!==e.__url&&(t.href=o),i!==e.__target&&(i?t.target=i:t.removeAttribute("target")),s!==e.__rel&&(s?t.rel=s:t.removeAttribute("rel")),l!==e.__title&&(l?t.title=l:t.removeAttribute("title"))}return!1}static importDOM(){return{a:e=>({conversion:cx,priority:1})}}static importJSON(e){return Eo().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){try{let t=new URL(e);if(!lx.has(t.protocol))return"about:blank"}catch{return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){let t=this.getWritable();return t.__url=e,t}getTarget(){return this.getLatest().__target}setTarget(e){let t=this.getWritable();return t.__target=e,t}getRel(){return this.getLatest().__rel}setRel(e){let t=this.getWritable();return t.__rel=e,t}getTitle(){return this.getLatest().__title}setTitle(e){let t=this.getWritable();return t.__title=e,t}insertNewAfter(e,t=!0){let r=Eo(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(r,t),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,r){if(!v(t))return!1;let o=t.anchor.getNode(),i=t.focus.getNode();return this.isParentOf(o)&&this.isParentOf(i)&&t.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function cx(n){let e=null;if(Sc(n)){let t=n.textContent;(t!==null&&t!==""||n.children.length>0)&&(e=Eo(n.getAttribute("href")||"",{rel:n.getAttribute("rel"),target:n.getAttribute("target"),title:n.getAttribute("title")}))}return{node:e}}function Eo(n="",e){return Ae(new To(n,e))}function nr(n){return n instanceof To}var Oi=class n extends To{constructor(e="",t={},r){super(e,t,r),this.__isUnlinked=t.isUnlinked!==void 0&&t.isUnlinked!==null&&t.isUnlinked}static getType(){return"autolink"}static clone(e){return new n(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){let t=this.getWritable();return t.__isUnlinked=e,t}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,t,r){return super.updateDOM(e,t,r)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return jc().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e,t=!0){let r=this.getParentOrThrow().insertNewAfter(e,t);if(I(r)){let o=jc(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return r.append(o),o}return null}};function jc(n="",e){return Ae(new Oi(n,e))}function Ai(n){return n instanceof Oi}var ux=be("TOGGLE_LINK_COMMAND");function Ep(n,e){if(n.type==="element"){let t=n.getNode();return I(t)||(function(r,...o){let i=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",r);for(let l of o)s.append("v",l);throw i.search=s.toString(),Error(`Minified Lexical error #${r}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(252),t.getChildren()[n.offset+e]||null}return null}function Sp(n,e={}){let{target:t,title:r}=e,o=e.rel===void 0?"noreferrer":e.rel,i=M();if(i===null||!v(i)&&!Tt(i))return;if(Tt(i)){let c=i.getNodes();return c.length===0?void 0:void c.forEach((u=>{if(n===null){let d=V(u,(h=>!Ai(h)&&nr(h)));d&&(d.insertBefore(u),d.getChildren().length===0&&d.remove())}else{let d=V(u,(h=>!Ai(h)&&nr(h)));if(d)d.setURL(n),t!==void 0&&d.setTarget(t),o!==void 0&&d.setRel(o);else{let h=Eo(n,{rel:o,target:t});u.insertBefore(h),h.append(u)}}}))}let s=i.extract();if(n===null)return void s.forEach((c=>{let u=V(c,(d=>!Ai(d)&&nr(d)));if(u){let d=u.getChildren();for(let h=0;h<d.length;h++)u.insertBefore(d[h]);u.remove()}}));let l=new Set,a=c=>{l.has(c.getKey())||(l.add(c.getKey()),c.setURL(n),t!==void 0&&c.setTarget(t),o!==void 0&&c.setRel(o),r!==void 0&&c.setTitle(r))};if(s.length===1){let c=bp(s[0],nr);if(c!==null)return a(c)}(function(c){let u=M();if(!v(u))return c();let d=Er(u),h=d.isBackward(),p=Ep(d.anchor,h?-1:0),f=Ep(d.focus,h?0:-1),g=c();if(p||f){let m=M();if(v(m)){let _=m.clone();if(p){let C=p.getParent();C&&_.anchor.set(C.getKey(),p.getIndexWithinParent()+(h?1:0),"element")}if(f){let C=f.getParent();C&&_.focus.set(C.getKey(),f.getIndexWithinParent()+(h?0:1),"element")}Je(Er(_))}}})((()=>{let c=null;for(let u of s){if(!u.isAttached())continue;let d=bp(u,nr);if(d){a(d);continue}if(I(u)){if(!u.isInline())continue;if(nr(u)){if(!(Ai(u)||c!==null&&c.getParentOrThrow().isParentOf(u))){a(u),c=u;continue}for(let p of u.getChildren())u.insertBefore(p);u.remove();continue}}let h=u.getPreviousSibling();nr(h)&&h.is(c)?h.append(u):(c=Eo(n,{rel:o,target:t,title:r}),u.insertAfter(c),c.append(u))}}))}var dx=Sp;function bp(n,e){let t=n;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}var Mn=Jc,kS=Mn.$createAutoLinkNode,RS=Mn.$createLinkNode,FS=Mn.$isAutoLinkNode,Bt=Mn.$isLinkNode,Vc=Mn.$toggleLink,Ap=Mn.AutoLinkNode,Op=Mn.LinkNode,rr=Mn.TOGGLE_LINK_COMMAND,IS=Mn.toggleLink;var eu={};vt(eu,{$createListItemNode:()=>At,$createListNode:()=>ft,$getListDepth:()=>aa,$handleListInsertParagraph:()=>Hp,$insertList:()=>vi,$isListItemNode:()=>se,$isListNode:()=>re,$removeList:()=>Qc,INSERT_CHECK_LIST_COMMAND:()=>zp,INSERT_ORDERED_LIST_COMMAND:()=>Gp,INSERT_UNORDERED_LIST_COMMAND:()=>Wp,ListItemNode:()=>Lr,ListNode:()=>bo,REMOVE_LIST_COMMAND:()=>Yp,insertList:()=>Nx,registerCheckList:()=>_x,registerList:()=>Cx,registerListStrictIndentTransform:()=>yx,removeList:()=>xx});function ln(n,...e){let t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function aa(n){let e=1,t=n.getParent();for(;t!=null;){if(se(t)){let r=t.getParent();if(re(r)){e++,t=r.getParent();continue}ln(40)}return e}return e}function qc(n){let e=n.getParent();re(e)||ln(40);let t=e;for(;t!==null;)t=t.getParent(),re(t)&&(e=t);return e}function Bp(n){let e=[],t=n.getChildren().filter(se);for(let r=0;r<t.length;r++){let o=t[r],i=o.getFirstChild();re(i)?e=e.concat(Bp(i)):e.push(o)}return e}function cn(n){return se(n)&&re(n.getFirstChild())}function vp(n){return At().append(n)}function Kp(n,e){return se(n)&&(e.length===0||e.length===1&&n.is(e[0])&&n.getChildrenSize()===0)}function vi(n){let e=M();if(e!==null){let t=e.getNodes();if(v(e)){let o=e.getStartEndPoints();o===null&&ln(143);let[i]=o,s=i.getNode(),l=s.getParent();if(rt(s)){let a=s.getFirstChild();if(a)t=a.selectStart().getNodes();else{let c=ne();s.append(c),t=c.select().getNodes()}}else if(Kp(s,t)){let a=ft(n);if(rt(l)){s.replace(a);let c=At();I(s)&&(c.setFormat(s.getFormatType()),c.setIndent(s.getIndent())),a.append(c)}else if(se(s)){let c=s.getParentOrThrow();Dr(a,c.getChildren()),c.replace(a)}return}}let r=new Set;for(let o=0;o<t.length;o++){let i=t[o];if(I(i)&&i.isEmpty()&&!se(i)&&!r.has(i.getKey())){Mp(i,n);continue}let s=fi(i)?i.getParent():se(i)&&i.isEmpty()?i:null;for(;s!=null;){let l=s.getKey();if(re(s)){if(!r.has(l)){let a=ft(n);Dr(a,s.getChildren()),s.replace(a),r.add(l)}break}{let a=s.getParent();if(rt(a)&&!r.has(l)){r.add(l),Mp(s,n);break}s=a}}}}}function Dr(n,e){n.splice(n.getChildrenSize(),0,e)}function Mp(n,e){if(re(n))return n;let t=n.getPreviousSibling(),r=n.getNextSibling(),o=At(),i;if(Dr(o,n.getChildren()),re(t)&&e===t.getListType())t.append(o),re(r)&&e===r.getListType()&&(Dr(t,r.getChildren()),r.remove()),i=t;else if(re(r)&&e===r.getListType())r.getFirstChildOrThrow().insertBefore(o),i=r;else{let s=ft(e);s.append(o),n.replace(s),i=s}return o.setFormat(n.getFormatType()),o.setIndent(n.getIndent()),n.remove(),i}function Zc(n,e){let t=n.getLastChild(),r=e.getFirstChild();t&&r&&cn(t)&&cn(r)&&(Zc(t.getFirstChild(),r.getFirstChild()),r.remove());let o=e.getChildren();o.length>0&&n.append(...o),e.remove()}function Qc(){let n=M();if(v(n)){let e=new Set,t=n.getNodes(),r=n.anchor.getNode();if(Kp(r,t))e.add(qc(r));else for(let o=0;o<t.length;o++){let i=t[o];if(fi(i)){let s=Xs(i,Lr);s!=null&&e.add(qc(s))}}for(let o of e){let i=o,s=Bp(o);for(let l of s){let a=ne().setTextStyle(n.style).setTextFormat(n.format);Dr(a,l.getChildren()),i.insertAfter(a),i=a,l.__key===n.anchor.key&&Xn(n.anchor,qn(jt(a,"next"))),l.__key===n.focus.key&&Xn(n.focus,qn(jt(a,"next"))),l.remove()}o.remove()}}}function fx(n){let e=new Set;if(cn(n)||e.has(n.getKey()))return;let t=n.getParent(),r=n.getNextSibling(),o=n.getPreviousSibling();if(cn(r)&&cn(o)){let i=o.getFirstChild();if(re(i)){i.append(n);let s=r.getFirstChild();re(s)&&(Dr(i,s.getChildren()),r.remove(),e.add(r.getKey()))}}else if(cn(r)){let i=r.getFirstChild();if(re(i)){let s=i.getFirstChild();s!==null&&s.insertBefore(n)}}else if(cn(o)){let i=o.getFirstChild();re(i)&&i.append(n)}else if(re(t)){let i=At().setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle()),s=ft(t.getListType()).setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle());i.append(s),s.append(n),o?o.insertAfter(i):r?r.insertBefore(i):t.append(i)}}function gx(n){if(cn(n))return;let e=n.getParent(),t=e?e.getParent():void 0;if(re(t?t.getParent():void 0)&&se(t)&&re(e)){let r=e?e.getFirstChild():void 0,o=e?e.getLastChild():void 0;if(n.is(r))t.insertBefore(n),e.isEmpty()&&t.remove();else if(n.is(o))t.insertAfter(n),e.isEmpty()&&t.remove();else{let i=e.getListType(),s=At(),l=ft(i);s.append(l),n.getPreviousSiblings().forEach((u=>l.append(u)));let a=At(),c=ft(i);a.append(c),Dr(c,n.getNextSiblings()),t.insertBefore(s),t.insertAfter(a),t.replace(n)}}}function Hp(){let n=M();if(!v(n)||!n.isCollapsed())return!1;let e=n.anchor.getNode();if(!se(e)||e.getChildrenSize()!==0)return!1;let t=qc(e),r=e.getParent();re(r)||ln(40);let o=r.getParent(),i;if(rt(o))i=ne(),t.insertAfter(i);else{if(!se(o))return!1;i=At(),o.insertAfter(i)}i.setTextStyle(n.style).setTextFormat(n.format).select();let s=e.getNextSiblings();if(s.length>0){let l=ft(r.getListType());if(se(i)){let a=At();a.append(l),i.insertAfter(a)}else i.insertAfter(l);l.append(...s)}return(function(l){let a=l;for(;a.getNextSibling()==null&&a.getPreviousSibling()==null;){let c=a.getParent();if(c==null||!se(c)&&!re(c))break;a=c}a.remove()})(e),!0}function la(...n){let e=[];for(let t of n)if(t&&typeof t=="string")for(let[r]of t.matchAll(/\S+/g))e.push(r);return e}function wp(n,e,t){let r=_c(e.__textStyle);for(let o in r)n.style.setProperty(`--listitem-marker-${o}`,r[o]);if(t)for(let o in _c(t.__textStyle))o in r||n.style.removeProperty(`--listitem-marker-${o}`)}var Lr=class n extends Et{static getType(){return"listitem"}static clone(e){return new n(e.__value,e.__checked,e.__key)}constructor(e,t,r){super(r),this.__value=e===void 0?1:e,this.__checked=t}createDOM(e){let t=document.createElement("li"),r=this.getParent();re(r)&&r.getListType()==="check"&&Lp(t,this,null),t.value=this.__value,Dp(t,e.theme,this);let o=this.__style;return o&&(t.style.cssText=o),wp(t,this,null),t}updateDOM(e,t,r){let o=this.getParent();re(o)&&o.getListType()==="check"&&Lp(t,this,e),t.value=this.__value,Dp(t,r.theme,this);let i=e.__style,s=this.__style;return i!==s&&(s===""?t.removeAttribute("style"):t.style.cssText=s),wp(t,this,e),!1}static transform(){return e=>{if(se(e)||ln(144),e.__checked==null)return;let t=e.getParent();re(t)&&t.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:hx,priority:0})}}static importJSON(e){return At().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){let t=this.createDOM(e._config),r=this.getFormatType();r&&(t.style.textAlign=r);let o=this.getDirection();return o&&(t.dir=o),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let t=0;t<e.length;t++){let r=e[t];if(I(r)&&this.canMergeWith(r)){let o=r.getChildren();this.append(...o),r.remove()}else super.append(r)}return this}replace(e,t){if(se(e))return super.replace(e);this.setIndent(0);let r=this.getParentOrThrow();if(!re(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{let o=ft(r.getListType()),i=this.getNextSibling();for(;i;){let s=i;i=i.getNextSibling(),o.append(s)}r.insertAfter(e),e.insertAfter(o)}return t&&(I(e)||ln(139),this.getChildren().forEach((o=>{e.append(o)}))),this.remove(),r.getChildrenSize()===0&&r.remove(),e}insertAfter(e,t=!0){let r=this.getParentOrThrow();if(re(r)||ln(39),se(e))return super.insertAfter(e,t);let o=this.getNextSiblings();if(r.insertAfter(e,t),o.length!==0){let i=ft(r.getListType());o.forEach((s=>i.append(s))),e.insertAfter(i,t)}return e}remove(e){let t=this.getPreviousSibling(),r=this.getNextSibling();super.remove(e),t&&r&&cn(t)&&cn(r)&&(Zc(t.getFirstChild(),r.getFirstChild()),r.remove())}insertNewAfter(e,t=!0){let r=At().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(r,t),r}collapseAtStart(e){let t=ne();this.getChildren().forEach((s=>t.append(s)));let r=this.getParentOrThrow(),o=r.getParentOrThrow(),i=se(o);if(r.getChildrenSize()===1)if(i)r.remove(),o.select();else{r.insertBefore(t),r.remove();let s=e.anchor,l=e.focus,a=t.getKey();s.type==="element"&&s.getNode().is(this)&&s.set(a,s.offset,"element"),l.type==="element"&&l.getNode().is(this)&&l.set(a,l.offset,"element")}else r.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){let t=this.getWritable();return t.__value=e,t}getChecked(){let e=this.getLatest(),t,r=this.getParent();return re(r)&&(t=r.getListType()),t==="check"?!!e.__checked:void 0}setChecked(e){let t=this.getWritable();return t.__checked=e,t}toggleChecked(){let e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){let e=this.getParent();if(e===null||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),r=0;for(;se(t);)t=t.getParentOrThrow().getParentOrThrow(),r++;return r}setIndent(e){typeof e!="number"&&ln(117),(e=Math.floor(e))>=0||ln(199);let t=this.getIndent();for(;t!==e;)t<e?(fx(this),t++):(gx(this),t--);return this}canInsertAfter(e){return se(e)}canReplaceWith(e){return se(e)}canMergeWith(e){return se(e)||Vn(e)}extractWithChild(e,t){if(!v(t))return!1;let r=t.anchor.getNode(),o=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(o)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return ft("bullet")}canMergeWhenEmpty(){return!0}};function Dp(n,e,t){let r=[],o=[],i=e.list,s=i?i.listitem:void 0,l;if(i&&i.nested&&(l=i.nested.listitem),s!==void 0&&r.push(...la(s)),i){let a=t.getParent(),c=re(a)&&a.getListType()==="check",u=t.getChecked();c&&!u||o.push(i.listitemUnchecked),c&&u||o.push(i.listitemChecked),c&&r.push(u?i.listitemChecked:i.listitemUnchecked)}if(l!==void 0){let a=la(l);t.getChildren().some((c=>re(c)))?r.push(...a):o.push(...a)}o.length>0&&Pt(n,...o),r.length>0&&_e(n,...r)}function Lp(n,e,t,r){re(e.getFirstChild())?(n.removeAttribute("role"),n.removeAttribute("tabIndex"),n.removeAttribute("aria-checked")):(n.setAttribute("role","checkbox"),n.setAttribute("tabIndex","-1"),t&&e.__checked===t.__checked||n.setAttribute("aria-checked",e.getChecked()?"true":"false"))}function hx(n){if(n.classList.contains("task-list-item")){for(let t of n.children)if(t.tagName==="INPUT")return px(t)}let e=n.getAttribute("aria-checked");return{node:At(e==="true"||e!=="false"&&void 0)}}function px(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:At(n.hasAttribute("checked"))}}function At(n){return Ae(new Lr(void 0,n))}function se(n){return n instanceof Lr}var bo=class n extends Et{static getType(){return"list"}static clone(e){let t=e.__listType||Fp[e.__tag];return new n(t,e.__start,e.__key)}constructor(e="number",t=1,r){super(r);let o=Fp[e]||e;this.__listType=o,this.__tag=o==="number"?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){let t=this.getWritable();return t.__listType=e,t.__tag=e==="number"?"ol":"ul",t}getListType(){return this.__listType}getStart(){return this.__start}setStart(e){let t=this.getWritable();return t.__start=e,t}createDOM(e,t){let r=this.__tag,o=document.createElement(r);return this.__start!==1&&o.setAttribute("start",String(this.__start)),o.__lexicalListType=this.__listType,kp(o,e.theme,this),o}updateDOM(e,t,r){return e.__tag!==this.__tag||(kp(t,r.theme,this),!1)}static transform(){return e=>{re(e)||ln(163),(function(t){let r=t.getNextSibling();re(r)&&t.getListType()===r.getListType()&&Zc(t,r)})(e),(function(t){let r=t.getListType()!=="check",o=t.getStart();for(let i of t.getChildren())se(i)&&(i.getValue()!==o&&i.setValue(o),r&&i.getLatest().__checked!=null&&i.setChecked(void 0),re(i.getFirstChild())||o++)})(e)}}static importDOM(){return{ol:()=>({conversion:Rp,priority:0}),ul:()=>({conversion:Rp,priority:0})}}static importJSON(e){return ft().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){let t=this.createDOM(e._config,e);return Ve(t)&&(this.__start!==1&&t.setAttribute("start",String(this.__start)),this.__listType==="check"&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,r){let o=r;for(let i=0;i<r.length;i++){let s=r[i];se(s)||(o===r&&(o=[...r]),o[i]=At().append(!I(s)||re(s)||s.isInline()?s:lt(s.getTextContent())))}return super.splice(e,t,o)}extractWithChild(e){return se(e)}};function kp(n,e,t){let r=[],o=[],i=e.list;if(i!==void 0){let s=i[`${t.__tag}Depth`]||[],l=aa(t)-1,a=l%s.length,c=s[a],u=i[t.__tag],d,h=i.nested,p=i.checklist;if(h!==void 0&&h.list&&(d=h.list),u!==void 0&&r.push(u),p!==void 0&&t.__listType==="check"&&r.push(p),c!==void 0){r.push(...la(c));for(let f=0;f<s.length;f++)f!==a&&o.push(t.__tag+f)}if(d!==void 0){let f=la(d);l>1?r.push(...f):o.push(...f)}}o.length>0&&Pt(n,...o),r.length>0&&_e(n,...r)}function mx(n){let e=[];for(let t=0;t<n.length;t++){let r=n[t];if(se(r)){e.push(r);let o=r.getChildren();o.length>1&&o.forEach((i=>{re(i)&&e.push(vp(i))}))}else e.push(vp(r))}return e}function Rp(n){let e=n.nodeName.toLowerCase(),t=null;return e==="ol"?t=ft("number",n.start):e==="ul"&&(t=(function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list"))return!0;for(let o of r.childNodes)if(Ve(o)&&o.hasAttribute("aria-checked"))return!0;return!1})(n)?ft("check"):ft("bullet")),{after:mx,node:t}}var Fp={ol:"number",ul:"bullet"};function ft(n="number",e=1){return Ae(new bo(n,e))}function re(n){return n instanceof bo}var zp=be("INSERT_CHECK_LIST_COMMAND");function _x(n){return dt(n.registerCommand(zp,(()=>(vi("check"),!0)),fe),n.registerCommand(An,(e=>Pp(e,n,!1)),fe),n.registerCommand(Jt,(e=>Pp(e,n,!0)),fe),n.registerCommand(go,(()=>{if(Xc()!=null){let e=n.getRootElement();return e?.focus(),!0}return!1}),fe),n.registerCommand(Ps,(e=>{let t=Xc();return!(t==null||!n.isEditable())&&(n.update((()=>{let r=Pe(t);se(r)&&(e.preventDefault(),r.toggleChecked())})),!0)}),fe),n.registerCommand(fo,(e=>n.getEditorState().read((()=>{let t=M();if(v(t)&&t.isCollapsed()){let{anchor:r}=t,o=r.type==="element";if(o||r.offset===0){let i=r.getNode(),s=V(i,(l=>I(l)&&!l.isInline()));if(se(s)){let l=s.getParent();if(re(l)&&l.getListType()==="check"&&(o||s.getFirstDescendant()===i)){let a=n.getElementByKey(s.__key);if(a!=null&&document.activeElement!==a)return a.focus(),e.preventDefault(),!0}}}}return!1}))),fe),n.registerRootListener(((e,t)=>{e!==null&&(e.addEventListener("click",Ip),e.addEventListener("pointerdown",$p)),t!==null&&(t.removeEventListener("click",Ip),t.removeEventListener("pointerdown",$p))})))}function Up(n,e){let t=n.target;if(!Ve(t))return;let r=t.firstChild;if(Ve(r)&&(r.tagName==="UL"||r.tagName==="OL"))return;let o=t.parentNode;if(!o||o.__lexicalListType!=="check")return;let i=t.getBoundingClientRect(),s=n.pageX/Dh(t);(t.dir==="rtl"?s<i.right&&s>i.right-20:s>i.left&&s<i.left+20)&&e()}function Ip(n){Up(n,(()=>{if(Ve(n.target)){let e=n.target,t=Us(e);t!=null&&t.isEditable()&&t.update((()=>{let r=Pe(e);se(r)&&(e.focus(),r.toggleChecked())}))}}))}function $p(n){Up(n,(()=>{n.preventDefault()}))}function Xc(){let n=document.activeElement;return Ve(n)&&n.tagName==="LI"&&n.parentNode!=null&&n.parentNode.__lexicalListType==="check"?n:null}function Pp(n,e,t){let r=Xc();return r!=null&&e.update((()=>{let o=Pe(r);if(!se(o))return;let i=(function(s,l){let a=l?s.getPreviousSibling():s.getNextSibling(),c=s;for(;a==null&&se(c);)c=c.getParentOrThrow().getParent(),c!=null&&(a=l?c.getPreviousSibling():c.getNextSibling());for(;se(a);){let u=l?a.getLastChild():a.getFirstChild();if(!re(u))return a;a=l?u.getLastChild():u.getFirstChild()}return null})(o,t);if(i!=null){i.selectStart();let s=e.getElementByKey(i.__key);s!=null&&(n.preventDefault(),setTimeout((()=>{s.focus()}),0))}})),!1}var Wp=be("INSERT_UNORDERED_LIST_COMMAND"),Gp=be("INSERT_ORDERED_LIST_COMMAND"),Yp=be("REMOVE_LIST_COMMAND");function Cx(n){return dt(n.registerCommand(Gp,(()=>(vi("number"),!0)),fe),n.registerCommand(Wp,(()=>(vi("bullet"),!0)),fe),n.registerCommand(Yp,(()=>(Qc(),!0)),fe),n.registerCommand(Zn,(()=>Hp()),fe),n.registerNodeTransform(Lr,(e=>{let t=e.getFirstChild();if(t){if(Q(t)){let r=t.getStyle(),o=t.getFormat();e.getTextStyle()!==r&&e.setTextStyle(r),e.getTextFormat()!==o&&e.setTextFormat(o)}}else{let r=M();v(r)&&(r.style!==e.getTextStyle()||r.format!==e.getTextFormat())&&r.isCollapsed()&&e.is(r.anchor.getNode())&&e.setTextStyle(r.style).setTextFormat(r.format)}})),n.registerNodeTransform(bt,(e=>{let t=e.getParent();if(se(t)&&e.is(t.getFirstChild())){let r=e.getStyle(),o=e.getFormat();r===t.getTextStyle()&&o===t.getTextFormat()||t.setTextStyle(r).setTextFormat(o)}})))}function yx(n){let e=t=>{let r=t.getParent();if(re(t.getFirstChild())||!re(r))return;let o=V(t,(i=>se(i)&&re(i.getParent())&&se(i.getPreviousSibling())));if(o===null&&t.getIndent()>0)t.setIndent(0);else if(se(o)){let i=o.getPreviousSibling();if(se(i)){let s=(function(a){let c=a,u=c.getFirstChild();for(;re(u);){let d=u.getLastChild();if(!se(d))break;c=d,u=c.getFirstChild()}return c})(i),l=s.getParent();if(re(l)){let a=aa(l);a+1<aa(r)&&t.setIndent(a)}}}};return n.registerNodeTransform(bo,(t=>{let r=[t];for(;r.length>0;){let o=r.shift();if(re(o)){for(let i of o.getChildren())if(se(i)){e(i);let s=i.getFirstChild();re(s)&&r.push(s)}}}}))}function Nx(n,e){n.update((()=>vi(e)))}function xx(n){n.update((()=>Qc()))}var Be=eu,HS=Be.$createListItemNode,zS=Be.$createListNode,US=Be.$getListDepth,WS=Be.$handleListInsertParagraph,GS=Be.$insertList,YS=Be.$isListItemNode,jp=Be.$isListNode,jS=Be.$removeList,Jp=Be.INSERT_CHECK_LIST_COMMAND,ca=Be.INSERT_ORDERED_LIST_COMMAND,ua=Be.INSERT_UNORDERED_LIST_COMMAND,Vp=Be.ListItemNode,tu=Be.ListNode,JS=Be.REMOVE_LIST_COMMAND,VS=Be.insertList,qS=Be.registerCheckList,qp=Be.registerList,XS=Be.registerListStrictIndentTransform,ZS=Be.removeList;var ou={};vt(ou,{createEmptyHistoryState:()=>vx,registerHistory:()=>Ox});var da=0,nu=1,ru=2,Xt=0,Tx=1,Xp=2,Ex=3,bx=4;function Sx(n,e,t,r,o){if(n===null||t.size===0&&r.size===0&&!o)return Xt;let i=e._selection,s=n._selection;if(o)return Tx;if(!(v(i)&&v(s)&&s.isCollapsed()&&i.isCollapsed()))return Xt;let l=(function(_,C,y){let x=_._nodeMap,b=[];for(let T of C){let N=x.get(T);N!==void 0&&b.push(N)}for(let[T,N]of y){if(!N)continue;let A=x.get(T);A===void 0||rn(A)||b.push(A)}return b})(e,t,r);if(l.length===0)return Xt;if(l.length>1){let _=e._nodeMap,C=_.get(i.anchor.key),y=_.get(s.anchor.key);return C&&y&&!n._nodeMap.has(C.__key)&&Q(C)&&C.__text.length===1&&i.anchor.offset===1?Xp:Xt}let a=l[0],c=n._nodeMap.get(a.__key);if(!Q(c)||!Q(a)||c.__mode!==a.__mode)return Xt;let u=c.__text,d=a.__text;if(u===d)return Xt;let h=i.anchor,p=s.anchor;if(h.key!==p.key||h.type!=="text")return Xt;let f=h.offset,g=p.offset,m=d.length-u.length;return m===1&&g===f-1?Xp:m===-1&&g===f+1?Ex:m===-1&&g===f?bx:Xt}function Ax(n,e){let t=Date.now(),r=Xt;return(o,i,s,l,a,c)=>{let u=Date.now();if(c.has(ks))return r=Xt,t=u,ru;let d=Sx(o,i,l,a,n.isComposing()),h=(()=>{let p=s===null||s.editor===n,f=c.has($g);if(!f&&p&&c.has(Ig))return da;if(o===null)return nu;let g=i._selection;return l.size>0||a.size>0?f===!1&&d!==Xt&&d===r&&u<t+e&&p||l.size===1&&(function(m,_,C){let y=_._nodeMap.get(m),x=C._nodeMap.get(m),b=_._selection,T=C._selection;return!(v(b)&&v(T)&&b.anchor.type==="element"&&b.focus.type==="element"&&T.anchor.type==="text"&&T.focus.type==="text"||!Q(y)||!Q(x)||y.__parent!==x.__parent)&&JSON.stringify(_.read((()=>y.exportJSON())))===JSON.stringify(C.read((()=>x.exportJSON())))})(Array.from(l)[0],o,i)?da:nu:g!==null?da:ru})();return t=u,r=d,h}}function Zp(n){n.undoStack=[],n.redoStack=[],n.current=null}function Ox(n,e,t){let r=Ax(n,t);return dt(n.registerCommand(Hs,(()=>((function(i,s){let l=s.redoStack,a=s.undoStack;if(a.length!==0){let c=s.current,u=a.pop();c!==null&&(l.push(c),i.dispatchCommand(br,!0)),a.length===0&&i.dispatchCommand(Sr,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:ks})}})(n,e),!0)),te),n.registerCommand(Ks,(()=>((function(i,s){let l=s.redoStack,a=s.undoStack;if(l.length!==0){let c=s.current;c!==null&&(a.push(c),i.dispatchCommand(Sr,!0));let u=l.pop();l.length===0&&i.dispatchCommand(br,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:ks})}})(n,e),!0)),te),n.registerCommand(Mg,(()=>(Zp(e),!1)),te),n.registerCommand(wg,(()=>(Zp(e),n.dispatchCommand(br,!1),n.dispatchCommand(Sr,!1),!0)),te),n.registerUpdateListener((({editorState:i,prevEditorState:s,dirtyLeaves:l,dirtyElements:a,tags:c})=>{let u=e.current,d=e.redoStack,h=e.undoStack,p=u===null?null:u.editorState;if(u!==null&&i===p)return;let f=r(s,i,u,l,a,c);if(f===nu)d.length!==0&&(e.redoStack=[],n.dispatchCommand(br,!1)),u!==null&&(h.push({...u}),n.dispatchCommand(Sr,!0));else if(f===ru)return;e.current={editor:n,editorState:i}})))}function vx(){return{current:null,redoStack:[],undoStack:[]}}var Qp=ou,em=Qp.createEmptyHistoryState,tm=Qp.registerHistory;var wn=(()=>{return((n,e,t,r)=>{let o=e.createElement("canvas").getContext("2d"),i={r:0,g:0,b:0,h:0,s:0,v:0,a:1},s,l,a,c,u,d,h,p,f,g,m,_,C,y,x,b,T={},N={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:[],swatchesOnly:!1,alpha:!0,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Clear",closeButton:!1,closeLabel:"Close",onChange:()=>r,a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},A={},O="",R={},F=!1;function G(E){if(typeof E=="object")for(let w in E)switch(w){case"el":ge(E.el),E.wrap!==!1&&tt(E.el);break;case"parent":s=E.parent instanceof HTMLElement?E.parent:e.querySelector(E.parent),s&&(s.appendChild(l),N.parent=E.parent,s===e.body&&(s=r));break;case"themeMode":N.themeMode=E.themeMode,E.themeMode==="auto"&&n.matchMedia&&n.matchMedia("(prefers-color-scheme: dark)").matches&&(N.themeMode="dark");case"theme":E.theme&&(N.theme=E.theme),l.className=`clr-picker clr-${N.theme} clr-${N.themeMode}`,N.inline&&le();break;case"rtl":N.rtl=!!E.rtl,Array.from(e.getElementsByClassName("clr-field")).forEach(Y=>Y.classList.toggle("clr-rtl",N.rtl));break;case"margin":E.margin*=1,N.margin=isNaN(E.margin)?N.margin:E.margin;break;case"wrap":E.el&&E.wrap&&tt(E.el);break;case"formatToggle":N.formatToggle=!!E.formatToggle,ot("clr-format").style.display=N.formatToggle?"block":"none",N.formatToggle&&(N.format="auto");break;case"swatches":if(Array.isArray(E.swatches)){let Y=ot("clr-swatches"),ie=e.createElement("div");Y.textContent="",E.swatches.forEach((ve,pt)=>{let ye=e.createElement("button");ye.setAttribute("type","button"),ye.setAttribute("id",`clr-swatch-${pt}`),ye.setAttribute("aria-labelledby",`clr-swatch-label clr-swatch-${pt}`),ye.style.color=ve,ye.textContent=ve,ie.appendChild(ye)}),E.swatches.length&&Y.appendChild(ie),N.swatches=E.swatches.slice()}break;case"swatchesOnly":N.swatchesOnly=!!E.swatchesOnly,l.setAttribute("data-minimal",N.swatchesOnly);break;case"alpha":N.alpha=!!E.alpha,l.setAttribute("data-alpha",N.alpha);break;case"inline":if(N.inline=!!E.inline,l.setAttribute("data-inline",N.inline),N.inline){let Y=E.defaultColor||N.defaultColor;y=ht(Y),le(),Re(Y)}break;case"clearButton":typeof E.clearButton=="object"&&(E.clearButton.label&&(N.clearLabel=E.clearButton.label,h.innerHTML=N.clearLabel),E.clearButton=E.clearButton.show),N.clearButton=!!E.clearButton,h.style.display=N.clearButton?"block":"none";break;case"clearLabel":N.clearLabel=E.clearLabel,h.innerHTML=N.clearLabel;break;case"closeButton":N.closeButton=!!E.closeButton,N.closeButton?l.insertBefore(p,u):u.appendChild(p);break;case"closeLabel":N.closeLabel=E.closeLabel,p.innerHTML=N.closeLabel;break;case"a11y":let D=E.a11y,P=!1;if(typeof D=="object")for(let Y in D)D[Y]&&N.a11y[Y]&&(N.a11y[Y]=D[Y],P=!0);if(P){let Y=ot("clr-open-label"),ie=ot("clr-swatch-label");Y.innerHTML=N.a11y.open,ie.innerHTML=N.a11y.swatch,p.setAttribute("aria-label",N.a11y.close),h.setAttribute("aria-label",N.a11y.clear),f.setAttribute("aria-label",N.a11y.hueSlider),m.setAttribute("aria-label",N.a11y.alphaSlider),d.setAttribute("aria-label",N.a11y.input),a.setAttribute("aria-label",N.a11y.instruction)}break;default:N[w]=E[w]}}function U(E,w){typeof E=="string"&&typeof w=="object"&&(A[E]=w,F=!0)}function K(E){delete A[E],Object.keys(A).length===0&&(F=!1,E===O&&Z())}function W(E){if(F){let w=["el","wrap","rtl","inline","defaultColor","a11y"];for(let D in A){let P=A[D];if(E.matches(D)){O=D,R={},w.forEach(Y=>delete P[Y]);for(let Y in P)R[Y]=Array.isArray(N[Y])?N[Y].slice():N[Y];G(P);break}}}}function Z(){Object.keys(R).length>0&&(G(R),O="",R={})}function ge(E){E instanceof HTMLElement&&(E=[E]),Array.isArray(E)?E.forEach(w=>{Te(w,"click",ae),Te(w,"input",gt)}):(Te(e,"click",E,ae),Te(e,"input",E,gt))}function ae(E){N.inline||(W(E.target),C=E.target,x=C.value,y=ht(x),l.classList.add("clr-open"),le(),Re(x),(N.focusInput||N.selectInput)&&(d.focus({preventScroll:!0}),d.setSelectionRange(C.selectionStart,C.selectionEnd)),N.selectInput&&d.select(),(b||N.swatchesOnly)&&Wu().shift().focus(),C.dispatchEvent(new Event("open",{bubbles:!0})))}function le(){if(!l||!C&&!N.inline)return;let E=s,w=n.scrollY,D=l.offsetWidth,P=l.offsetHeight,Y={left:!1,top:!1},ie,ve,pt,ye={x:0,y:0};if(E&&(ie=n.getComputedStyle(E),ve=parseFloat(ie.marginTop),pt=parseFloat(ie.borderTopWidth),ye=E.getBoundingClientRect(),ye.y+=pt+w),!N.inline){let mt=C.getBoundingClientRect(),Fn=mt.x,ar=w+mt.y+mt.height+N.margin;E?(Fn-=ye.x,ar-=ye.y,Fn+D>E.clientWidth&&(Fn+=mt.width-D,Y.left=!0),ar+P>E.clientHeight-ve&&P+N.margin<=mt.top-(ye.y-w)&&(ar-=mt.height+P+N.margin*2,Y.top=!0),ar+=E.scrollTop):(Fn+D>e.documentElement.clientWidth&&(Fn+=mt.width-D,Y.left=!0),ar+P-w>e.documentElement.clientHeight&&P+N.margin<=mt.top&&(ar=w+mt.y-P-N.margin,Y.top=!0)),l.classList.toggle("clr-left",Y.left),l.classList.toggle("clr-top",Y.top),l.style.left=`${Fn}px`,l.style.top=`${ar}px`,ye.x+=l.offsetLeft,ye.y+=l.offsetTop}T={width:a.offsetWidth,height:a.offsetHeight,x:a.offsetLeft+ye.x,y:a.offsetTop+ye.y}}function tt(E){E instanceof HTMLElement?qe(E):Array.isArray(E)?E.forEach(qe):e.querySelectorAll(E).forEach(qe)}function qe(E){let w=E.parentNode;if(!w.classList.contains("clr-field")){let D=e.createElement("div"),P="clr-field";(N.rtl||E.classList.contains("clr-rtl"))&&(P+=" clr-rtl"),D.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',w.insertBefore(D,E),D.className=P,D.style.color=E.value,D.appendChild(E)}}function gt(E){let w=E.target.parentNode;w.classList.contains("clr-field")&&(w.style.color=E.target.value)}function He(E){if(C&&!N.inline){let w=C;E&&(C=r,x!==w.value&&(w.value=x,w.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout(()=>{x!==w.value&&w.dispatchEvent(new Event("change",{bubbles:!0}))}),l.classList.remove("clr-open"),F&&Z(),w.dispatchEvent(new Event("close",{bubbles:!0})),N.focusInput&&w.focus({preventScroll:!0}),C=r}}function Re(E){let w=Ho(E),D=Ko(w);xe(D.s,D.v),Rn(w,D),f.value=D.h,l.style.color=`hsl(${D.h}, 100%, 50%)`,g.style.left=`${D.h/360*100}%`,c.style.left=`${T.width*D.s/100}px`,c.style.top=`${T.height-T.height*D.v/100}px`,m.value=D.a*100,_.style.left=`${D.a*100}%`}function ht(E){let w=E.substring(0,3).toLowerCase();return w==="rgb"||w==="hsl"?w:"hex"}function we(E){E=E!==r?E:d.value,C&&(C.value=E,C.dispatchEvent(new Event("input",{bubbles:!0}))),N.onChange&&N.onChange.call(n,E,C),e.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:E,currentEl:C}}))}function oe(E,w){let D={h:f.value*1,s:E/T.width*100,v:100-w/T.height*100,a:m.value/100},P=Da(D);xe(D.s,D.v),Rn(P,D),we()}function xe(E,w){let D=N.a11y.marker;E=E.toFixed(1)*1,w=w.toFixed(1)*1,D=D.replace("{s}",E),D=D.replace("{v}",w),c.setAttribute("aria-label",D)}function Fe(E){return{pageX:E.changedTouches?E.changedTouches[0].pageX:E.pageX,pageY:E.changedTouches?E.changedTouches[0].pageY:E.pageY}}function Xe(E){let w=Fe(E),D=w.pageX-T.x,P=w.pageY-T.y;s&&(P+=s.scrollTop),kn(D,P),E.preventDefault(),E.stopPropagation()}function Bo(E,w){let D=c.style.left.replace("px","")*1+E,P=c.style.top.replace("px","")*1+w;kn(D,P)}function kn(E,w){E=E<0?0:E>T.width?T.width:E,w=w<0?0:w>T.height?T.height:w,c.style.left=`${E}px`,c.style.top=`${w}px`,oe(E,w),c.focus()}function Rn(E,w){E===void 0&&(E={}),w===void 0&&(w={});let D=N.format;for(let ie in E)i[ie]=E[ie];for(let ie in w)i[ie]=w[ie];let P=ka(i),Y=P.substring(0,7);switch(c.style.color=Y,_.parentNode.style.color=Y,_.style.color=P,u.style.color=P,a.style.display="none",a.offsetHeight,a.style.display="",_.nextElementSibling.style.display="none",_.nextElementSibling.offsetHeight,_.nextElementSibling.style.display="",D==="mixed"?D=i.a===1?"hex":"rgb":D==="auto"&&(D=y),D){case"hex":d.value=P;break;case"rgb":d.value=k_(i);break;case"hsl":d.value=R_(La(i));break}e.querySelector(`.clr-format [value="${D}"]`).checked=!0}function wa(){let E=f.value*1,w=c.style.left.replace("px","")*1,D=c.style.top.replace("px","")*1;l.style.color=`hsl(${E}, 100%, 50%)`,g.style.left=`${E/360*100}%`,oe(w,D)}function Kt(){let E=m.value/100;_.style.left=`${E*100}%`,Rn({a:E}),we()}function Da(E){let w=E.s/100,D=E.v/100,P=w*D,Y=E.h/60,ie=P*(1-t.abs(Y%2-1)),ve=D-P;P=P+ve,ie=ie+ve;let pt=t.floor(Y)%6,ye=[P,ie,ve,ve,ie,P][pt],mt=[ie,P,P,ie,ve,ve][pt],Fn=[ve,ve,ie,P,P,ie][pt];return{r:t.round(ye*255),g:t.round(mt*255),b:t.round(Fn*255),a:E.a}}function La(E){let w=E.v/100,D=w*(1-E.s/100/2),P;return D>0&&D<1&&(P=t.round((w-D)/t.min(D,1-D)*100)),{h:E.h,s:P||0,l:t.round(D*100),a:E.a}}function Ko(E){let w=E.r/255,D=E.g/255,P=E.b/255,Y=t.max(w,D,P),ie=t.min(w,D,P),ve=Y-ie,pt=Y,ye=0,mt=0;return ve&&(Y===w&&(ye=(D-P)/ve),Y===D&&(ye=2+(P-w)/ve),Y===P&&(ye=4+(w-D)/ve),Y&&(mt=ve/Y)),ye=t.floor(ye*60),{h:ye<0?ye+360:ye,s:t.round(mt*100),v:t.round(pt*100),a:E.a}}function Ho(E){let w=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,D,P;return o.fillStyle="#000",o.fillStyle=E,D=w.exec(o.fillStyle),D?P={r:D[3]*1,g:D[4]*1,b:D[5]*1,a:D[6]*1}:(D=o.fillStyle.replace("#","").match(/.{2}/g).map(Y=>parseInt(Y,16)),P={r:D[0],g:D[1],b:D[2],a:1}),P}function ka(E){let w=E.r.toString(16),D=E.g.toString(16),P=E.b.toString(16),Y="";if(E.r<16&&(w="0"+w),E.g<16&&(D="0"+D),E.b<16&&(P="0"+P),N.alpha&&(E.a<1||N.forceAlpha)){let ie=E.a*255|0;Y=ie.toString(16),ie<16&&(Y="0"+Y)}return"#"+w+D+P+Y}function k_(E){return!N.alpha||E.a===1&&!N.forceAlpha?`rgb(${E.r}, ${E.g}, ${E.b})`:`rgba(${E.r}, ${E.g}, ${E.b}, ${E.a})`}function R_(E){return!N.alpha||E.a===1&&!N.forceAlpha?`hsl(${E.h}, ${E.s}%, ${E.l}%)`:`hsla(${E.h}, ${E.s}%, ${E.l}%, ${E.a})`}function F_(){e.getElementById("clr-picker")||(s=r,l=e.createElement("div"),l.setAttribute("id","clr-picker"),l.className="clr-picker",l.innerHTML=`<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="${N.a11y.input}"><div id="clr-color-area" class="clr-gradient" role="application" aria-label="${N.a11y.instruction}"><div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue"><input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="${N.a11y.hueSlider}"><div id="clr-hue-marker"></div></div><div class="clr-alpha"><input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="${N.a11y.alphaSlider}"><div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented"><legend>${N.a11y.format}</legend><input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div><button type="button" id="clr-clear" class="clr-clear" aria-label="${N.a11y.clear}">${N.clearLabel}</button><div id="clr-color-preview" class="clr-preview"><button type="button" id="clr-close" class="clr-close" aria-label="${N.a11y.close}">${N.closeLabel}</button></div><span id="clr-open-label" hidden>${N.a11y.open}</span><span id="clr-swatch-label" hidden>${N.a11y.swatch}</span>`,e.body.appendChild(l),a=ot("clr-color-area"),c=ot("clr-color-marker"),h=ot("clr-clear"),p=ot("clr-close"),u=ot("clr-color-preview"),d=ot("clr-color-value"),f=ot("clr-hue-slider"),g=ot("clr-hue-marker"),m=ot("clr-alpha-slider"),_=ot("clr-alpha-marker"),ge(N.el),tt(N.el),Te(l,"mousedown",E=>{l.classList.remove("clr-keyboard-nav"),E.stopPropagation()}),Te(a,"mousedown",E=>{Te(e,"mousemove",Xe)}),Te(a,"contextmenu",E=>{E.preventDefault()}),Te(a,"touchstart",E=>{e.addEventListener("touchmove",Xe,{passive:!1})}),Te(c,"mousedown",E=>{Te(e,"mousemove",Xe)}),Te(c,"touchstart",E=>{e.addEventListener("touchmove",Xe,{passive:!1})}),Te(d,"change",E=>{let w=d.value;if(C||N.inline){let D=w===""?w:Re(w);we(D)}}),Te(h,"click",E=>{we(""),He()}),Te(p,"click",E=>{we(),He()}),Te(ot("clr-format"),"click",".clr-format input",E=>{y=E.target.value,Rn(),we()}),Te(l,"click",".clr-swatches button",E=>{Re(E.target.textContent),we(),N.swatchesOnly&&He()}),Te(e,"mouseup",E=>{e.removeEventListener("mousemove",Xe)}),Te(e,"touchend",E=>{e.removeEventListener("touchmove",Xe)}),Te(e,"mousedown",E=>{b=!1,l.classList.remove("clr-keyboard-nav"),He()}),Te(e,"keydown",E=>{let w=E.key,D=E.target,P=E.shiftKey;if(w==="Escape"?He(!0):["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(w)&&(b=!0,l.classList.add("clr-keyboard-nav")),w==="Tab"&&D.matches(".clr-picker *")){let ie=Wu(),ve=ie.shift(),pt=ie.pop();P&&D===ve?(pt.focus(),E.preventDefault()):!P&&D===pt&&(ve.focus(),E.preventDefault())}}),Te(e,"click",".clr-field button",E=>{F&&Z(),E.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))}),Te(c,"keydown",E=>{let w={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(w).includes(E.key)&&(Bo(...w[E.key]),E.preventDefault())}),Te(a,"click",Xe),Te(f,"input",wa),Te(m,"input",Kt))}function Wu(){return Array.from(l.querySelectorAll("input, button")).filter(D=>!!D.offsetWidth)}function ot(E){return e.getElementById(E)}function Te(E,w,D,P){let Y=Element.prototype.matches||Element.prototype.msMatchesSelector;typeof D=="string"?E.addEventListener(w,ie=>{Y.call(ie.target,D)&&P.call(ie.target,ie)}):(P=D,E.addEventListener(w,P))}function Ri(E,w){w=w!==r?w:[],e.readyState!=="loading"?E(...w):e.addEventListener("DOMContentLoaded",()=>{E(...w)})}NodeList!==r&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function I_(E,w){C=w,x=C.value,W(w),y=ht(E),le(),Re(E),we(),x!==E&&C.dispatchEvent(new Event("change",{bubbles:!0}))}let Ra=(()=>{let E={init:F_,set:G,wrap:tt,close:He,setInstance:U,setColor:I_,removeInstance:K,updatePosition:le,ready:Ri};function w(D){Ri(()=>{D&&(typeof D=="string"?ge(D):G(D))})}for(let D in E)w[D]=function(){for(var P=arguments.length,Y=new Array(P),ie=0;ie<P;ie++)Y[ie]=arguments[ie];Ri(E[D],Y)};return Ri(()=>{n.addEventListener("resize",D=>{w.updatePosition()}),n.addEventListener("scroll",D=>{w.updatePosition()})}),w})();return Ra.coloris=Ra,Ra})(window,document,Math)})(),rA=wn.coloris,oA=wn.init,iA=wn.set,sA=wn.wrap,aA=wn.close,lA=wn.setInstance,cA=wn.removeInstance,uA=wn.updatePosition,nm=wn;var su={};vt(su,{$canShowPlaceholder:()=>om,$canShowPlaceholderCurry:()=>wx,$findTextIntersectionFromCharacters:()=>Dx,$isRootTextContentEmpty:()=>iu,$isRootTextContentEmptyCurry:()=>Mx,$rootTextContent:()=>rm,registerLexicalTextEntity:()=>kx});function rm(){return je().getTextContent()}function iu(n,e=!0){if(n)return!1;let t=rm();return e&&(t=t.trim()),t===""}function Mx(n,e){return()=>iu(n,e)}function om(n){if(!iu(n,!1))return!1;let e=je().getChildren(),t=e.length;if(t>1)return!1;for(let r=0;r<t;r++){let o=e[r];if(Sn(o))return!1;if(I(o)){if(!Vn(o)||o.__indent!==0)return!1;let i=o.getChildren(),s=i.length;for(let l=0;l<s;l++){let a=i[r];if(!Q(a))return!1}}}return!0}function wx(n){return()=>om(n)}function Dx(n,e){let t=n.getFirstChild(),r=0;e:for(;t!==null;){if(I(t)){let s=t.getFirstChild();if(s!==null){t=s;continue}}else if(Q(t)){let s=t.getTextContentSize();if(r+s>e)return{node:t,offset:e-r};r+=s}let o=t.getNextSibling();if(o!==null){t=o;continue}let i=t.getParent();for(;i!==null;){let s=i.getNextSibling();if(s!==null){t=s;continue e}i=i.getParent()}break}return null}function Lx(n,...e){let t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function kx(n,e,t,r){let o=s=>s instanceof t,i=s=>{let l=lt(s.getTextContent());l.setFormat(s.getFormat()),s.replace(l)};return[n.registerNodeTransform(bt,(s=>{if(!s.isSimpleText())return;let l,a=s.getPreviousSibling(),c=s.getTextContent(),u=s;if(Q(a)){let h=a.getTextContent(),p=e(h+c);if(o(a)){if(p===null||(f=>f.getLatest().__mode)(a)!==0)return void i(a);{let f=p.end-h.length;if(f>0){let g=h+c.slice(0,f);if(a.select(),a.setTextContent(g),f===c.length)s.remove();else{let m=c.slice(f);s.setTextContent(m)}return}}}else if(p===null||p.start<h.length)return}let d=0;for(;;){l=e(c);let h,p=l===null?"":c.slice(l.end);if(c=p,p===""){let g=u.getNextSibling();if(Q(g)){p=u.getTextContent()+g.getTextContent();let m=e(p);if(m===null)return void(o(g)?i(g):g.markDirty());if(m.start!==0)return}}if(l===null)return;if(l.start===0&&Q(a)&&a.isTextEntity()){d+=l.end;continue}l.start===0?[h,u]=u.splitText(l.end):[,h,u]=u.splitText(l.start+d,l.end+d),h===void 0&&Lx(165,"nodeToReplace");let f=r(h);if(f.setFormat(h.getFormat()),h.replace(f),u==null)return;d=0,a=f}})),n.registerNodeTransform(t,(s=>{let l=s.getTextContent(),a=e(l);if(a===null||a.start!==0)return void i(s);if(l.length>a.end)return void s.splitText(a.end);let c=s.getPreviousSibling();Q(c)&&c.isTextEntity()&&(i(c),i(s));let u=s.getNextSibling();Q(u)&&u.isTextEntity()&&(i(u),o(s)&&i(s))}))]}var kr=su,gA=kr.$canShowPlaceholder,hA=kr.$canShowPlaceholderCurry,pA=kr.$findTextIntersectionFromCharacters,mA=kr.$isRootTextContentEmpty,_A=kr.$isRootTextContentEmptyCurry,CA=kr.$rootTextContent,im=kr.registerLexicalTextEntity;function Rx(){let n="\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253-\u0254\u0256-\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF",e="\u0400-\u04FF\u0500-\u0527\u2DE0-\u2DFF\uA640-\uA69F\u0591-\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F4\uFB12-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFB4F\u0610-\u061A\u0620-\u065F\u066E-\u06D3\u06D5-\u06DC\u06DE-\u06E8\u06EA-\u06EF\u06FA-\u06FC\u06FF\u0750-\u077F\u08A0\u08A2-\u08AC\u08E4-\u08FE\uFB50-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\u200C-\u200C\u0E01-\u0E3A\u0E40-\u0E4E\u1100-\u11FF\u3130-\u3185\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\uFFA1-\uFFDC",t=String.fromCharCode,r="\u30A1-\u30FA\u30FC-\u30FE\uFF66-\uFF9F\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\u3041-\u3096\u3099-\u309E\u3400-\u4DBF\u4E00-\u9FFF"+t(173824)+"-"+t(177983)+t(177984)+"-"+t(178207)+t(194560)+"-"+t(195103)+"\u3003\u3005\u303B",o=n+e+r,i="A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u076D\u0780-\u07A5\u07B1\u0904-\u0939\u093D\u0950\u0958-\u0961\u097D\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6A\u0F88-\u0F8B\u1000-\u1021\u1023-\u1027\u1029-\u102A\u1050-\u1055\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1D00-\u1DBF\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3006\u3031-\u3035\u303B-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",s="\u0300-\u036F\u0483-\u0486\u0591-\u05B9\u05BB-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u0615\u064B-\u065E\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u0901-\u0903\u093C\u093E-\u094D\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7-\u09C8\u09CB-\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A70-\u0A71\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B43\u0B47-\u0B48\u0B4B-\u0B4D\u0B56-\u0B57\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C82-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D82-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2-\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F3E-\u0F3F\u0F71-\u0F84\u0F86-\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102C-\u1032\u1036-\u1039\u1056-\u1059\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8-\u19C9\u1A17-\u1A1B\u1DC0-\u1DC3\u20D0-\u20DC\u20E1\u20E5-\u20EB\u302A-\u302F\u3099-\u309A\uA802\uA806\uA80B\uA823-\uA827\uFB1E\uFE00-\uFE0F\uFE20-\uFE23",l="0-9\u0660-\u0669\u06F0-\u06F9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\uFF10-\uFF19",a=i+s+o,c=l+"_",u=a+c;return{alpha:a,alphanumeric:u,hashChars:"#\\uFF03"}}function Fx(){let{alpha:n,alphanumeric:e,hashChars:t}=Rx(),r="["+n+"]",o="["+e+"]",i="^|$|[^&/"+e+"]",s="["+t+"]";return"("+i+")("+s+")("+o+"*"+r+o+"*)"}var Ix=new RegExp(Fx(),"i"),sm=function(n){return np(n.getTextContent())},am=function(n){let e=Ix.exec(n);if(e===null)return null;let t=e[3].length+1,r=e.index+e[1].length;return{end:r+t,start:r}};var au=be("INSERT_HORIZONTAL_RULE_COMMAND"),Mi=class n extends Ls{static getType(){return"horizontalrule"}static clone(e){return new n(e.__key)}static importJSON(e){return lu()}static importDOM(){return{hr:()=>({conversion:Px,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){let t=document.createElement("hr");_e(t,e.theme.hr);let r="selected";return t?.addEventListener("click",()=>{t.classList.toggle(r)}),t?.setAttribute("x-on:click.outside",'$el.classList.remove("'+r+'")'),t}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return En().getElementByKey(this.__key)}};function Px(){return{node:lu()}}function lu(){return Ae(new Mi)}function lm(n){return n.registerCommand(au,e=>{let t=M();if(!v(t))return!1;if(t.focus.getNode()!==null){let o=lu();Zs(o)}return!0},te)}var Ou={};vt(Ou,{$computeTableMap:()=>et,$computeTableMapSkipCellCheck:()=>Ln,$createTableCellNode:()=>Ot,$createTableNode:()=>Na,$createTableNodeWithDimensions:()=>Cm,$createTableRowNode:()=>Ir,$createTableSelection:()=>Eu,$createTableSelectionFrom:()=>Am,$deleteTableColumn:()=>Vx,$deleteTableColumnAtSelection:()=>Em,$deleteTableColumn__EXPERIMENTAL:()=>Xx,$deleteTableRowAtSelection:()=>Tm,$deleteTableRow__EXPERIMENTAL:()=>qx,$findCellNode:()=>Oo,$findTableNode:()=>Fr,$getElementForTableNode:()=>Dm,$getNodeTriplet:()=>Ke,$getTableAndElementByKey:()=>bu,$getTableCellNodeFromLexicalNode:()=>Hx,$getTableCellNodeRect:()=>hu,$getTableColumnIndexFromTableCellNode:()=>Ux,$getTableNodeFromLexicalNodeOrThrow:()=>ya,$getTableRowIndexFromTableCellNode:()=>zx,$getTableRowNodeFromTableCellNodeOrThrow:()=>xu,$insertTableColumn:()=>jx,$insertTableColumnAtSelection:()=>xm,$insertTableColumn__EXPERIMENTAL:()=>Jx,$insertTableRow:()=>Gx,$insertTableRowAtSelection:()=>Nm,$insertTableRow__EXPERIMENTAL:()=>Yx,$isScrollableTablesActive:()=>Ca,$isTableCellNode:()=>j,$isTableNode:()=>Oe,$isTableRowNode:()=>me,$isTableSelection:()=>he,$mergeCells:()=>bm,$removeTableRowAtIndex:()=>Wx,$unmergeCell:()=>Qx,INSERT_TABLE_COMMAND:()=>_m,TableCellHeaderStates:()=>Ce,TableCellNode:()=>or,TableNode:()=>sr,TableObserver:()=>_a,TableRowNode:()=>Mo,applyTableHandlers:()=>Om,getDOMCellFromTarget:()=>Li,getTableElement:()=>ir,getTableObserverFromTableElement:()=>mu,registerTableCellUnmergeTransform:()=>pT,registerTablePlugin:()=>_T,registerTableSelectionObserver:()=>mT,setScrollableTablesActive:()=>lT});var yu=/^(\d+(?:\.\d+)?)px$/,Ce={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1},or=class n extends Et{static getType(){return"tablecell"}static clone(e){return new n(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:cm,priority:0}),th:e=>({conversion:cm,priority:0})}}static importJSON(e){return Ot().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(e=Ce.NO_STATUS,t=1,r,o){super(o),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=r,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){let t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(t.style.backgroundColor=this.__backgroundColor),uu(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),_e(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){let t=super.exportDOM(e);if(Or(t.element)){let r=t.element;r.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),r.style.border="1px solid black",this.__colSpan>1&&(r.colSpan=this.__colSpan),this.__rowSpan>1&&(r.rowSpan=this.__rowSpan),r.style.width=`${this.getWidth()||75}px`,r.style.verticalAlign=this.getVerticalAlign()||"top",r.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(r.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...uu(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){let t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){let t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e,t=Ce.BOTH){let r=this.getWritable();return r.__headerState=e&t|r.__headerState&~t,r}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){let t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){let t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){let t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){let t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==Ce.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};function uu(n){return n==="middle"||n==="bottom"}function cm(n){let e=n,t=n.nodeName.toLowerCase(),r;yu.test(e.style.width)&&(r=parseFloat(e.style.width));let o=Ot(t==="th"?Ce.ROW:Ce.NO_STATUS,e.colSpan,r);o.__rowSpan=e.rowSpan;let i=e.style.backgroundColor;i!==""&&(o.__backgroundColor=i);let s=e.style.verticalAlign;uu(s)&&(o.__verticalAlign=s);let l=e.style,a=(l&&l.textDecoration||"").split(" "),c=l.fontWeight==="700"||l.fontWeight==="bold",u=a.includes("line-through"),d=l.fontStyle==="italic",h=a.includes("underline");return{after:p=>{let f=[],g=null,m=()=>{if(g){let _=g.getFirstChild();De(_)&&g.getChildrenSize()===1&&_.remove()}};for(let _ of p)Ng(_)||Q(_)||De(_)?(Q(_)&&(c&&_.toggleFormat("bold"),u&&_.toggleFormat("strikethrough"),d&&_.toggleFormat("italic"),h&&_.toggleFormat("underline")),g?g.append(_):(g=ne().append(_),f.push(g))):(f.push(_),m(),g=null);return m(),f.length===0&&f.push(ne()),f},node:o}}function Ot(n=Ce.NO_STATUS,e=1,t){return Ae(new or(n,e,t))}function j(n){return n instanceof or}var _m=be("INSERT_TABLE_COMMAND");function z(n,...e){let t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var Mo=class n extends Et{static getType(){return"tablerow"}static clone(e){return new n(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:Bx,priority:0})}}static importJSON(e){return Ir().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){let e=this.getHeight();return{...super.exportJSON(),...e===void 0?void 0:{height:e}}}createDOM(e){let t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),_e(t,e.theme.tableRow),t}extractWithChild(e,t,r){return r==="html"}isShadowRoot(){return!0}setHeight(e){let t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}};function Bx(n){let e=n,t;return yu.test(e.style.height)&&(t=parseFloat(e.style.height)),{after:r=>Tc(r,j),node:Ir(t)}}function Ir(n){return Ae(new Mo(n))}function me(n){return n instanceof Mo}var Nu=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Kx=Nu&&"documentMode"in document?document.documentMode:null,um=Nu&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);function Cm(n,e,t=!0){let r=Na();for(let o=0;o<n;o++){let i=Ir();for(let s=0;s<e;s++){let l=Ce.NO_STATUS;typeof t=="object"?(o===0&&t.rows&&(l|=Ce.ROW),s===0&&t.columns&&(l|=Ce.COLUMN)):t&&(o===0&&(l|=Ce.ROW),s===0&&(l|=Ce.COLUMN));let a=Ot(l),c=ne();c.append(lt()),a.append(c),i.append(a)}r.append(i)}return r}function Hx(n){let e=V(n,(t=>j(t)));return j(e)?e:null}function xu(n){let e=V(n,(t=>me(t)));if(me(e))return e;throw new Error("Expected table cell to be inside of table row.")}function ya(n){let e=V(n,(t=>Oe(t)));if(Oe(e))return e;throw new Error("Expected table cell to be inside of table.")}function zx(n){let e=xu(n);return ya(e).getChildren().findIndex((t=>t.is(e)))}function Ux(n){return xu(n).getChildren().findIndex((e=>e.is(n)))}function ym(n,e){let t=ya(n),{x:r,y:o}=t.getCordsFromCellNode(n,e);return{above:t.getCellNodeFromCords(r,o-1,e),below:t.getCellNodeFromCords(r,o+1,e),left:t.getCellNodeFromCords(r-1,o,e),right:t.getCellNodeFromCords(r+1,o,e)}}function Wx(n,e){let t=n.getChildren();if(e>=t.length||e<0)throw new Error("Expected table cell to be inside of table row.");return t[e].remove(),n}function Gx(n,e,t=!0,r,o){let i=n.getChildren();if(e>=i.length||e<0)throw new Error("Table row target index out of range");let s=i[e];if(!me(s))throw new Error("Row before insertion index does not exist.");for(let l=0;l<r;l++){let a=s.getChildren(),c=a.length,u=Ir();for(let d=0;d<c;d++){let h=a[d];j(h)||z(12);let{above:p,below:f}=ym(h,o),g=Ce.NO_STATUS,m=p&&p.getWidth()||f&&f.getWidth()||void 0;(p&&p.hasHeaderState(Ce.COLUMN)||f&&f.hasHeaderState(Ce.COLUMN))&&(g|=Ce.COLUMN);let _=Ot(g,1,m);_.append(ne()),u.append(_)}t?s.insertAfter(u):s.insertBefore(u)}return n}Nu&&"InputEvent"in window&&!Kx&&new window.InputEvent("input");var du=(n,e)=>n===Ce.BOTH||n===e?e:Ce.NO_STATUS;function Nm(n=!0){let e=M();v(e)||he(e)||z(188);let t=e.anchor.getNode(),r=e.focus.getNode(),[o]=Ke(t),[i,,s]=Ke(r),[,l,a]=et(s,i,o),{startRow:c}=a,{startRow:u}=l;return n?fu(c+o.__rowSpan>u+i.__rowSpan?o:i,!0):fu(u<c?i:o,!1)}var Yx=Nm;function fu(n,e=!0){let[,,t]=Ke(n),[r,o]=et(t,n,n),i=r[0].length,{startRow:s}=o,l=null;if(e){let a=s+n.__rowSpan-1,c=r[a],u=Ir();for(let h=0;h<i;h++){let{cell:p,startRow:f}=c[h];if(f+p.__rowSpan-1<=a){let g=c[h].cell.__headerState,m=du(g,Ce.COLUMN);u.append(Ot(m).append(ne()))}else p.setRowSpan(p.__rowSpan+1)}let d=t.getChildAtIndex(a);me(d)||z(256),d.insertAfter(u),l=u}else{let a=s,c=r[a],u=Ir();for(let h=0;h<i;h++){let{cell:p,startRow:f}=c[h];if(f===a){let g=c[h].cell.__headerState,m=du(g,Ce.COLUMN);u.append(Ot(m).append(ne()))}else p.setRowSpan(p.__rowSpan+1)}let d=t.getChildAtIndex(a);me(d)||z(257),d.insertBefore(u),l=u}return l}function jx(n,e,t=!0,r,o){let i=n.getChildren(),s=[];for(let l=0;l<i.length;l++){let a=i[l];if(me(a))for(let c=0;c<r;c++){let u=a.getChildren();if(e>=u.length||e<0)throw new Error("Table column target index out of range");let d=u[e];j(d)||z(12);let{left:h,right:p}=ym(d,o),f=Ce.NO_STATUS;(h&&h.hasHeaderState(Ce.ROW)||p&&p.hasHeaderState(Ce.ROW))&&(f|=Ce.ROW);let g=Ot(f);g.append(ne()),s.push({newTableCell:g,targetCell:d})}}return s.forEach((({newTableCell:l,targetCell:a})=>{t?a.insertAfter(l):a.insertBefore(l)})),n}function xm(n=!0){let e=M();v(e)||he(e)||z(188);let t=e.anchor.getNode(),r=e.focus.getNode(),[o]=Ke(t),[i,,s]=Ke(r),[,l,a]=et(s,i,o),{startColumn:c}=a,{startColumn:u}=l;return n?gu(c+o.__colSpan>u+i.__colSpan?o:i,!0):gu(u<c?i:o,!1)}var Jx=xm;function gu(n,e=!0,t=!0){let[,,r]=Ke(n),[o,i]=et(r,n,n),s=o.length,{startColumn:l}=i,a=e?l+n.__colSpan-1:l-1,c=r.getFirstChild();me(c)||z(120);let u=null;function d(f=Ce.NO_STATUS){let g=Ot(f).append(ne());return u===null&&(u=g),g}let h=c;e:for(let f=0;f<s;f++){if(f!==0){let b=h.getNextSibling();me(b)||z(121),h=b}let g=o[f],m=g[a<0?0:a].cell.__headerState,_=du(m,Ce.ROW);if(a<0){Tu(h,d(_));continue}let{cell:C,startColumn:y,startRow:x}=g[a];if(y+C.__colSpan-1<=a){let b=C,T=x,N=a;for(;T!==f&&b.__rowSpan>1;){if(N-=C.__colSpan,!(N>=0)){h.append(d(_));continue e}{let{cell:A,startRow:O}=g[N];b=A,T=O}}b.insertAfter(d(_))}else C.setColSpan(C.__colSpan+1)}u!==null&&t&&Di(u);let p=r.getColWidths();if(p){let f=[...p],g=a<0?0:a,m=f[g];f.splice(g,0,m),r.setColWidths(f)}return u}function Vx(n,e){let t=n.getChildren();for(let r=0;r<t.length;r++){let o=t[r];if(me(o)){let i=o.getChildren();if(e>=i.length||e<0)throw new Error("Table column target index out of range");i[e].remove()}}return n}function Tm(){let n=M();v(n)||he(n)||z(188);let[e,t]=n.isBackward()?[n.focus.getNode(),n.anchor.getNode()]:[n.anchor.getNode(),n.focus.getNode()],[r,,o]=Ke(e),[i]=Ke(t),[s,l,a]=et(o,r,i),{startRow:c}=l,{startRow:u}=a,d=u+i.__rowSpan-1;if(s.length===d-c+1)return void o.remove();let h=s[0].length,p=r.__rowSpan,f=s[d+1],g=o.getChildAtIndex(d+1);for(let m=d;m>=c;m--){for(let C=h-1;C>=0;C--){let{cell:y,startRow:x,startColumn:b}=s[m][C];if(b===C){if(m===c&&x<c){let T=c-x;y.setRowSpan(y.__rowSpan-Math.min(p,y.__rowSpan-T))}if(x>=c&&x+y.__rowSpan-1>d){y.setRowSpan(y.__rowSpan-(d-x+1)),g===null&&z(122);let T=null;for(let N=0;N<C;N++){let A=f[N],O=A.cell;A.startRow===m+1&&(T=O),O.__colSpan>1&&(N+=O.__colSpan-1)}T===null?Tu(g,y):T.insertAfter(y)}}}let _=o.getChildAtIndex(m);me(_)||z(206,String(m)),_.remove()}if(f!==void 0){let{cell:m}=f[0];Di(m)}else{let m=s[c-1],{cell:_}=m[0];Di(_)}}var qx=Tm;function Em(){let n=M();v(n)||he(n)||z(188);let e=n.anchor.getNode(),t=n.focus.getNode(),[r,,o]=Ke(e),[i]=Ke(t),[s,l,a]=et(o,r,i),{startColumn:c}=l,{startRow:u,startColumn:d}=a,h=Math.min(c,d),p=Math.max(c+r.__colSpan-1,d+i.__colSpan-1),f=p-h+1;if(s[0].length===p-h+1)return o.selectPrevious(),void o.remove();let g=s.length;for(let y=0;y<g;y++)for(let x=h;x<=p;x++){let{cell:b,startColumn:T}=s[y][x];if(T<h){if(x===h){let N=h-T;b.setColSpan(b.__colSpan-Math.min(f,b.__colSpan-N))}}else if(T+b.__colSpan-1>p){if(x===p){let N=p-T+1;b.setColSpan(b.__colSpan-N)}}else b.remove()}let m=s[u],_=c>d?m[c+r.__colSpan]:m[d+i.__colSpan];if(_!==void 0){let{cell:y}=_;Di(y)}else{let y=d<c?m[d-1]:m[c-1],{cell:x}=y;Di(x)}let C=o.getColWidths();if(C){let y=[...C];y.splice(h,f),o.setColWidths(y)}}var Xx=Em;function Di(n){let e=n.getFirstDescendant();e==null?n.selectStart():e.getParentOrThrow().selectStart()}function Tu(n,e){let t=n.getFirstChild();t!==null?t.insertBefore(e):n.append(e)}function bm(n){if(n.length===0)return null;let e=ya(n[0]),[t]=Ln(e,null,null),r=1/0,o=-1/0,i=1/0,s=-1/0,l=new Set;for(let p of t)for(let f of p){if(!f||!f.cell)continue;let g=f.cell.getKey();if(!l.has(g)&&n.some((m=>m.is(f.cell)))){l.add(g);let m=f.startRow,_=f.startColumn,C=f.cell.__rowSpan||1,y=f.cell.__colSpan||1;r=Math.min(r,m),o=Math.max(o,m+C-1),i=Math.min(i,_),s=Math.max(s,_+y-1)}}if(r===1/0||i===1/0)return null;let a=o-r+1,c=s-i+1,u=t[r][i];if(!u.cell)return null;let d=u.cell;d.setColSpan(c),d.setRowSpan(a);let h=new Set([d.getKey()]);for(let p=r;p<=o;p++)for(let f=i;f<=s;f++){let g=t[p][f];if(!g.cell)continue;let m=g.cell,_=m.getKey();h.has(_)||(h.add(_),Zx(m)||d.append(...m.getChildren()),m.remove())}return d.getChildrenSize()===0&&d.append(ne()),d}function Zx(n){if(n.getChildrenSize()!==1)return!1;let e=n.getFirstChildOrThrow();return!(!Vn(e)||!e.isEmpty())}function Qx(){let n=M();v(n)||he(n)||z(188);let e=n.anchor.getNode(),t=V(e,j);return j(t)||z(148),Sm(t)}function Sm(n){let[e,t,r]=Ke(n),o=e.__colSpan,i=e.__rowSpan;if(o===1&&i===1)return;let[s,l]=et(r,e,e),{startColumn:a,startRow:c}=l,u=e.__headerState&Ce.COLUMN,d=Array.from({length:o},((f,g)=>{let m=u;for(let _=0;m!==0&&_<s.length;_++)m&=s[_][g+a].cell.__headerState;return m})),h=e.__headerState&Ce.ROW,p=Array.from({length:i},((f,g)=>{let m=h;for(let _=0;m!==0&&_<s[0].length;_++)m&=s[g+c][_].cell.__headerState;return m}));if(o>1){for(let f=1;f<o;f++)e.insertAfter(Ot(d[f]|p[0]).append(ne()));e.setColSpan(1)}if(i>1){let f;for(let g=1;g<i;g++){let m=c+g,_=s[m];f=(f||t).getNextSibling(),me(f)||z(125);let C=null;for(let y=0;y<a;y++){let x=_[y],b=x.cell;x.startRow===m&&(C=b),b.__colSpan>1&&(y+=b.__colSpan-1)}if(C===null)for(let y=o-1;y>=0;y--)Tu(f,Ot(d[y]|p[g]).append(ne()));else for(let y=o-1;y>=0;y--)C.insertAfter(Ot(d[y]|p[g]).append(ne()))}e.setRowSpan(1)}}function et(n,e,t){let[r,o,i]=Ln(n,e,t);return o===null&&z(207),i===null&&z(208),[r,o,i]}function Ln(n,e,t){let r=[],o=null,i=null;function s(a){let c=r[a];return c===void 0&&(r[a]=c=[]),c}let l=n.getChildren();for(let a=0;a<l.length;a++){let c=l[a];me(c)||z(209);let u=s(a);for(let d=c.getFirstChild(),h=0;d!=null;d=d.getNextSibling()){for(j(d)||z(147);u[h]!==void 0;)h++;let p={cell:d,startColumn:h,startRow:a},{__rowSpan:f,__colSpan:g}=d;for(let m=0;m<f&&!(a+m>=l.length);m++){let _=s(a+m);for(let C=0;C<g;C++)_[h+C]=p}e!==null&&o===null&&e.is(d)&&(o=p),t!==null&&i===null&&t.is(d)&&(i=p)}}return[r,o,i]}function Ke(n){let e;if(n instanceof or)e=n;else if("__type"in n){let o=V(n,j);j(o)||z(148),e=o}else{let o=V(n.getNode(),j);j(o)||z(148),e=o}let t=e.getParent();me(t)||z(149);let r=t.getParent();return Oe(r)||z(210),[e,t,r]}function pa(n,e,t){let r,o=Math.min(e.startColumn,t.startColumn),i=Math.min(e.startRow,t.startRow),s=Math.max(e.startColumn+e.cell.__colSpan-1,t.startColumn+t.cell.__colSpan-1),l=Math.max(e.startRow+e.cell.__rowSpan-1,t.startRow+t.cell.__rowSpan-1);do{r=!1;for(let a=0;a<n.length;a++)for(let c=0;c<n[0].length;c++){let u=n[a][c];if(!u)continue;let d=u.startColumn+u.cell.__colSpan-1,h=u.startRow+u.cell.__rowSpan-1,p=u.startColumn<=s&&d>=o,f=u.startRow<=l&&h>=i;if(p&&f){let g=Math.min(o,u.startColumn),m=Math.max(s,d),_=Math.min(i,u.startRow),C=Math.max(l,h);g===o&&m===s&&_===i&&C===l||(o=g,s=m,i=_,l=C,r=!0)}}}while(r);return{maxColumn:s,maxRow:l,minColumn:o,minRow:i}}function hu(n){let[e,,t]=Ke(n),r=t.getChildren(),o=r.length,i=r[0].getChildren().length,s=new Array(o);for(let l=0;l<o;l++)s[l]=new Array(i);for(let l=0;l<o;l++){let a=r[l].getChildren(),c=0;for(let u=0;u<a.length;u++){for(;s[l][c];)c++;let d=a[u],h=d.__rowSpan||1,p=d.__colSpan||1;for(let f=0;f<h;f++)for(let g=0;g<p;g++)s[l+f][c+g]=d;if(e===d)return{colSpan:p,columnIndex:c,rowIndex:l,rowSpan:h};c+=p}}return null}function dm(n){let[[e,t,r,o],[i,s,l,a]]=["anchor","focus"].map((c=>{let u=n[c].getNode(),d=V(u,j);j(d)||z(238,c,u.getKey(),u.getType());let h=d.getParent();me(h)||z(239,c);let p=h.getParent();return Oe(p)||z(240,c),[u,d,h,p]}));return o.is(a)||z(241),{anchorCell:t,anchorNode:e,anchorRow:r,anchorTable:o,focusCell:s,focusNode:i,focusRow:l,focusTable:a}}var ma=class n{constructor(e,t,r){this.anchor=t,this.focus=r,t._selection=this,r._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){return this.tableKey!=="root"&&this.anchor.key!=="root"&&this.anchor.type==="element"&&this.focus.key!=="root"&&this.focus.type==="element"}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return he(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,r){this.dirty=this.dirty||e!==this.tableKey||t!==this.anchor.key||r!==this.focus.key,this.tableKey=e,this.anchor.key=t,this.focus.key=r,this._cachedNodes=null}clone(){return new n(this.tableKey,ui(this.anchor.key,this.anchor.offset,this.anchor.type),ui(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let t=0;this.getNodes().filter(j).forEach((o=>{let i=o.getFirstChild();Vn(i)&&(t|=i.getTextFormat())}));let r=Wg[e];return!!(t&r)}insertNodes(e){let t=this.focus.getNode();I(t)||z(151),Er(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){let{anchorCell:e,focusCell:t}=dm(this),r=hu(e);r===null&&z(153);let o=hu(t);o===null&&z(155);let i=Math.min(r.columnIndex,o.columnIndex),s=Math.max(r.columnIndex+r.colSpan-1,o.columnIndex+o.colSpan-1),l=Math.min(r.rowIndex,o.rowIndex),a=Math.max(r.rowIndex+r.rowSpan-1,o.rowIndex+o.rowSpan-1);return{fromX:Math.min(i,s),fromY:Math.min(l,a),toX:Math.max(i,s),toY:Math.max(l,a)}}getNodes(){if(!this.isValid())return[];let e=this._cachedNodes;if(e!==null)return e;let{anchorTable:t,anchorCell:r,focusCell:o}=dm(this),i=o.getParents()[1];if(i!==t){if(t.isParentOf(o)){let m=i.getParent();m==null&&z(159),this.set(this.tableKey,o.getKey(),m.getKey())}else{let m=t.getParent();m==null&&z(158),this.set(this.tableKey,m.getKey(),o.getKey())}return this.getNodes()}let[s,l,a]=et(t,r,o),{minColumn:c,maxColumn:u,minRow:d,maxRow:h}=pa(s,l,a),p=new Map([[t.getKey(),t]]),f=null;for(let m=d;m<=h;m++)for(let _=c;_<=u;_++){let{cell:C}=s[m][_],y=C.getParent();me(y)||z(160),y!==f&&(p.set(y.getKey(),y),f=y),p.has(C.getKey())||eT(C,(x=>{p.set(x.getKey(),x)}))}let g=Array.from(p.values());return jg()||(this._cachedNodes=g),g}getTextContent(){let e=this.getNodes().filter((r=>j(r))),t="";for(let r=0;r<e.length;r++){let o=e[r],i=o.__parent,s=(e[r+1]||{}).__parent;t+=o.getTextContent()+(s!==i?`
`:"	")}return t}};function he(n){return n instanceof ma}function Eu(){let n=ui("root",0,"element"),e=ui("root",0,"element");return new ma("root",n,e)}function Am(n,e,t){n.getKey(),e.getKey(),t.getKey();let r=M(),o=he(r)?r.clone():Eu();return o.set(n.getKey(),e.getKey(),t.getKey()),o}function eT(n,e){let t=[[n]];for(let r=t.at(-1);r!==void 0&&t.length>0;r=t.at(-1)){let o=r.pop();o===void 0?t.pop():e(o)!==!1&&I(o)&&t.push(o.getChildren())}}function bu(n,e=En()){let t=ct(n);Oe(t)||z(231,n);let r=ir(t,e.getElementByKey(n));return r===null&&z(232,n),{tableElement:r,tableNode:t}}var _a=class{constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach((e=>e())),this.listenersToRemove.clear()}$lookup(){return bu(this.tableNodeKey,this.editor)}trackTable(){let e=new MutationObserver((t=>{this.editor.getEditorState().read((()=>{let r=!1;for(let s=0;s<t.length;s++){let l=t[s].target.nodeName;if(l==="TABLE"||l==="TBODY"||l==="THEAD"||l==="TR"){r=!0;break}}if(!r)return;let{tableNode:o,tableElement:i}=this.$lookup();this.table=vo(o,i)}),{editor:this.editor})}));this.editor.getEditorState().read((()=>{let{tableNode:t,tableElement:r}=this.$lookup();this.table=vo(t,r),e.observe(r,{attributes:!0,childList:!0,subtree:!0})}),{editor:this.editor})}$clearHighlight(){let e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();let{tableNode:t,tableElement:r}=this.$lookup();fa(e,vo(t,r),null),M()!==null&&(Je(null),e.dispatchCommand(Ar,void 0))}$enableHighlightStyle(){let e=this.editor,{tableElement:t}=this.$lookup();Pt(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){let{tableElement:e}=this.$lookup();_e(e,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(e){if(e!==null){e.tableKey!==this.tableNodeKey&&z(233,e.tableKey,this.tableNodeKey);let t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),fa(t,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(e){this.nextFocus=e}getAndClearNextFocus(){let{nextFocus:e}=this;return e!==null&&(this.nextFocus=null),e}updateDOMSelection(){if(this.anchorCell!==null&&this.focusCell!==null){let e=Qn(this.editor._window);e&&e.rangeCount>0&&e.removeAllRanges()}}$setFocusCellForSelection(e,t=!1){let r=this.editor,{tableNode:o}=this.$lookup(),i=e.x,s=e.y;if(this.focusCell=e,this.isHighlightingCells||this.anchorX===i&&this.anchorY===s&&!t){if(i===this.focusX&&s===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=i,this.focusY=s,this.isHighlightingCells){let l=_u(o,e.elem);if(this.tableSelection!=null&&this.anchorCellNodeKey!=null&&l!==null)return this.focusCellNodeKey=l.getKey(),this.tableSelection=Am(o,this.$getAnchorTableCellOrThrow(),l),Je(this.tableSelection),r.dispatchCommand(Ar,void 0),fa(r,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?ct(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){let e=this.$getAnchorTableCell();return e===null&&z(234),e}$getFocusTableCell(){return this.focusCellNodeKey?ct(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){let e=this.$getFocusTableCell();return e===null&&z(235),e}$setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y;let{tableNode:t}=this.$lookup(),r=_u(t,e.elem);if(r!==null){let o=r.getKey();this.tableSelection=this.tableSelection!=null?this.tableSelection.clone():Eu(),this.anchorCellNodeKey=o}}$formatCells(e){let t=M();he(t)||z(236);let r=co(),o=r.anchor,i=r.focus,s=t.getNodes().filter(j);s.length>0||z(237);let l=s[0].getFirstChild(),a=Vn(l)?l.getFormatFlags(e,null):null;s.forEach((c=>{o.set(c.getKey(),0,"element"),i.set(c.getKey(),c.getChildrenSize(),"element"),r.formatText(e,a)})),Je(t),this.editor.dispatchCommand(Ar,void 0)}$clearText(){let{editor:e}=this,t=ct(this.tableNodeKey);if(!Oe(t))throw new Error("Expected TableNode.");let r=M();he(r)||z(253);let o=r.getNodes().filter(j),i=t.getFirstChild(),s=t.getLastChild();if(o.length>0&&i!==null&&s!==null&&me(i)&&me(s)&&o[0]===i.getFirstChild()&&o[o.length-1]===s.getLastChild()){t.selectPrevious();let l=t.getParent();return t.remove(),void(rn(l)&&l.isEmpty()&&e.dispatchCommand(Zn,void 0))}o.forEach((l=>{if(I(l)){let a=ne(),c=lt();a.append(c),l.append(a),l.getChildren().forEach((u=>{u!==a&&u.remove()}))}})),fa(e,this.table,null),Je(null),e.dispatchCommand(Ar,void 0)}},pu="__lexicalTableSelection",tT=n=>!(1&~n.buttons);function Ao(n){return Or(n)&&n.nodeName==="TABLE"}function ir(n,e){if(!e)return e;let t=Ao(e)?e:n.getDOMSlot(e).element;return t.nodeName!=="TABLE"&&z(245,e.nodeName),t}function Su(n){return n._window}function wi(n,e){for(let t=e,r=null;t!==null;t=t.getParent()){if(n.is(t))return r;j(t)&&(r=t)}return null}var nT=[[An,"down"],[Jt,"up"],[fo,"backward"],[Fs,"forward"]],rT=[Ds,gi,uo],oT=[Is,$s];function Om(n,e,t,r){let o=t.getRootElement(),i=Su(t);o!==null&&i!==null||z(246);let s=new _a(t,n.getKey()),l=ir(n,e);(function(p,f){mu(p)!==null&&z(205),p[pu]=f})(l,s),s.listenersToRemove.add((()=>(function(p,f){mu(p)===f&&delete p[pu]})(l,s)));let a=p=>{if(s.pointerType=p.pointerType,p.button!==0||!on(p.target)||!i)return;let f=Li(p.target);f!==null&&t.update((()=>{let g=bn();if(um&&p.shiftKey&&un(g,n)&&(v(g)||he(g))){let m=g.anchor.getNode(),_=wi(n,g.anchor.getNode());_?(s.$setAnchorCellForSelection(Rr(s,_)),s.$setFocusCellForSelection(f),Dn(p)):(n.isBefore(m)?n.selectStart():n.selectEnd()).anchor.set(g.anchor.key,g.anchor.offset,g.anchor.type)}else s.$setAnchorCellForSelection(f)})),(()=>{if(s.isSelecting)return;let g=()=>{s.isSelecting=!1,i.removeEventListener("pointerup",g),i.removeEventListener("pointermove",m)},m=_=>{if(!tT(_)&&s.isSelecting)return s.isSelecting=!1,i.removeEventListener("pointerup",g),void i.removeEventListener("pointermove",m);if(!on(_.target))return;let C=null,y=!(um||l.contains(_.target));if(y)C=fm(l,_.target);else for(let x of document.elementsFromPoint(_.clientX,_.clientY))if(C=fm(l,x),C)break;!C||s.focusCell!==null&&C.elem===s.focusCell.elem||(s.setNextFocus({focusCell:C,override:y}),t.dispatchCommand(Ar,void 0))};s.isSelecting=!0,i.addEventListener("pointerup",g,s.listenerOptions),i.addEventListener("pointermove",m,s.listenerOptions)})()};l.addEventListener("pointerdown",a,s.listenerOptions),s.listenersToRemove.add((()=>{l.removeEventListener("pointerdown",a)}));let c=p=>{p.detail>=3&&on(p.target)&&Li(p.target)!==null&&p.preventDefault()};l.addEventListener("mousedown",c,s.listenerOptions),s.listenersToRemove.add((()=>{l.removeEventListener("mousedown",c)}));let u=p=>{let f=p.target;p.button===0&&on(f)&&t.update((()=>{let g=M();he(g)&&g.tableKey===s.tableNodeKey&&o.contains(f)&&s.$clearHighlight()}))};i.addEventListener("pointerdown",u,s.listenerOptions),s.listenersToRemove.add((()=>{i.removeEventListener("pointerdown",u)}));for(let[p,f]of nT)s.listenersToRemove.add(t.registerCommand(p,(g=>wm(t,g,f,n,s)),Os));s.listenersToRemove.add(t.registerCommand(go,(p=>{let f=M();if(he(f)){let g=wi(n,f.focus.getNode());if(g!==null)return Dn(p),g.selectEnd(),!0}return!1}),Os));let d=p=>()=>{let f=M();if(!un(f,n))return!1;if(he(f))return s.$clearText(),!0;if(v(f)){if(!j(wi(n,f.anchor.getNode())))return!1;let g=f.anchor.getNode(),m=f.focus.getNode(),_=n.isParentOf(g),C=n.isParentOf(m);if(_&&!C||C&&!_)return s.$clearText(),!0;let y=V(f.anchor.getNode(),(b=>I(b))),x=y&&V(y,(b=>I(b)&&j(b.getParent())));if(!I(x)||!I(y))return!1;if(p===gi&&x.getPreviousSibling()===null)return!0}return!1};for(let p of rT)s.listenersToRemove.add(t.registerCommand(p,d(p),wt));let h=p=>{let f=M();if(!he(f)&&!v(f))return!1;let g=n.isParentOf(f.anchor.getNode());if(g!==n.isParentOf(f.focus.getNode())){let m=g?"anchor":"focus",_=g?"focus":"anchor",{key:C,offset:y,type:x}=f[_];return n[f[m].isBefore(f[_])?"selectPrevious":"selectNext"]()[_].set(C,y,x),!1}return!!un(f,n)&&!!he(f)&&(p&&(p.preventDefault(),p.stopPropagation()),s.$clearText(),!0)};for(let p of oT)s.listenersToRemove.add(t.registerCommand(p,h,wt));return s.listenersToRemove.add(t.registerCommand(ws,(p=>{let f=M();if(f){if(!he(f)&&!v(f))return!1;yi(t,qt(p,ClipboardEvent)?p:null,Wh(f));let g=h(p);return v(f)?(f.removeText(),!0):g}return!1}),wt)),s.listenersToRemove.add(t.registerCommand(ut,(p=>{let f=M();if(!un(f,n))return!1;if(he(f))return s.$formatCells(p),!0;if(v(f)){let g=V(f.anchor.getNode(),(m=>j(m)));if(!j(g))return!1}return!1}),wt)),s.listenersToRemove.add(t.registerCommand(Dt,(p=>{let f=M();if(!he(f)||!un(f,n))return!1;let g=f.anchor.getNode(),m=f.focus.getNode();if(!j(g)||!j(m))return!1;if((function(O,R){if(he(O)){let F=O.anchor.getNode(),G=O.focus.getNode();if(R&&F&&G){let[U]=et(R,F,G);return F.getKey()===U[0][0].cell.getKey()&&G.getKey()===U[U.length-1].at(-1).cell.getKey()}}return!1})(f,n))return n.setFormat(p),!0;let[_,C,y]=et(n,g,m),x=Math.max(C.startRow+C.cell.__rowSpan-1,y.startRow+y.cell.__rowSpan-1),b=Math.max(C.startColumn+C.cell.__colSpan-1,y.startColumn+y.cell.__colSpan-1),T=Math.min(C.startRow,y.startRow),N=Math.min(C.startColumn,y.startColumn),A=new Set;for(let O=T;O<=x;O++)for(let R=N;R<=b;R++){let F=_[O][R].cell;if(A.has(F))continue;A.add(F),F.setFormat(p);let G=F.getChildren();for(let U=0;U<G.length;U++){let K=G[U];I(K)&&!K.isInline()&&K.setFormat(p)}}return!0}),wt)),s.listenersToRemove.add(t.registerCommand(vs,(p=>{let f=M();if(!un(f,n))return!1;if(he(f))return s.$clearHighlight(),!1;if(v(f)){let g=V(f.anchor.getNode(),(m=>j(m)));if(!j(g))return!1;if(typeof p=="string"){let m=pm(t,f,n);if(m)return hm(m,n,[lt(p)]),!0}}return!1}),wt)),r&&s.listenersToRemove.add(t.registerCommand(ho,(p=>{let f=M();if(!v(f)||!f.isCollapsed()||!un(f,n))return!1;let g=Oo(f.anchor.getNode());return!(g===null||!n.is(Fr(g)))&&(Dn(p),(function(m,_){let C=_==="next"?"getNextSibling":"getPreviousSibling",y=_==="next"?"getFirstChild":"getLastChild",x=m[C]();if(I(x))return x.selectEnd();let b=V(m,me);b===null&&z(247);for(let N=b[C]();me(N);N=N[C]()){let A=N[y]();if(I(A))return A.selectEnd()}let T=V(b,Oe);T===null&&z(248),_==="next"?T.selectNext():T.selectPrevious()})(g,p.shiftKey?"previous":"next"),!0)}),wt)),s.listenersToRemove.add(t.registerCommand(Fg,(p=>n.isSelected()),Os)),s.listenersToRemove.add(t.registerCommand(pi,(p=>{let{nodes:f,selection:g}=p,m=g.getStartEndPoints(),_=he(g),C=v(g)&&V(g.anchor.getNode(),(oe=>j(oe)))!==null&&V(g.focus.getNode(),(oe=>j(oe)))!==null||_;if(f.length!==1||!Oe(f[0])||!C||m===null)return!1;let[y,x]=m,[b,T,N]=Ke(y),A=V(x.getNode(),(oe=>j(oe)));if(!(j(b)&&j(A)&&me(T)&&Oe(N)))return!1;let O=f[0],[R,F,G]=et(N,b,A),[U]=Ln(O,null,null),K=R.length,W=K>0?R[0].length:0,Z=F.startRow,ge=F.startColumn,ae=U.length,le=ae>0?U[0].length:0;if(_){let oe=pa(R,F,G),xe=oe.maxRow-oe.minRow+1,Fe=oe.maxColumn-oe.minColumn+1;Z=oe.minRow,ge=oe.minColumn,ae=Math.min(ae,xe),le=Math.min(le,Fe)}let tt=!1,qe=Math.min(K,Z+ae)-1,gt=Math.min(W,ge+le)-1,He=new Set;for(let oe=Z;oe<=qe;oe++)for(let xe=ge;xe<=gt;xe++){let Fe=R[oe][xe];He.has(Fe.cell.getKey())||Fe.cell.__rowSpan===1&&Fe.cell.__colSpan===1||(Sm(Fe.cell),He.add(Fe.cell.getKey()),tt=!0)}let[Re]=Ln(N.getWritable(),null,null),ht=ae-K+Z;for(let oe=0;oe<ht;oe++)fu(Re[K-1][0].cell);let we=le-W+ge;for(let oe=0;oe<we;oe++)gu(Re[0][W-1].cell,!0,!1);[Re]=Ln(N.getWritable(),null,null);for(let oe=Z;oe<Z+ae;oe++)for(let xe=ge;xe<ge+le;xe++){let Fe=oe-Z,Xe=xe-ge,Bo=U[Fe][Xe];if(Bo.startRow!==Fe||Bo.startColumn!==Xe)continue;let kn=Bo.cell;if(kn.__rowSpan!==1||kn.__colSpan!==1){let Kt=[],Da=Math.min(oe+kn.__rowSpan,Z+ae)-1,La=Math.min(xe+kn.__colSpan,ge+le)-1;for(let Ko=oe;Ko<=Da;Ko++)for(let Ho=xe;Ho<=La;Ho++){let ka=Re[Ko][Ho];Kt.push(ka.cell)}bm(Kt),tt=!0}let{cell:Rn}=Re[oe][xe],wa=Rn.getChildren();kn.getChildren().forEach((Kt=>{Q(Kt)&&ne().append(Kt),Rn.append(Kt)})),wa.forEach((Kt=>Kt.remove()))}if(_&&tt){let[oe]=Ln(N.getWritable(),null,null);oe[F.startRow][F.startColumn].cell.selectEnd()}return!0}),wt)),s.listenersToRemove.add(t.registerCommand(Ar,(()=>{let p=M(),f=bn(),g=s.getAndClearNextFocus();if(g!==null){let{focusCell:m}=g;if(he(p)&&p.tableKey===s.tableNodeKey)return(m.x!==s.focusX||m.y!==s.focusY)&&(s.$setFocusCellForSelection(m),!0);if(m!==s.anchorCell&&un(p,n))return s.$setFocusCellForSelection(m),!0}if(s.getAndClearShouldCheckSelection()&&v(f)&&v(p)&&p.isCollapsed()){let m=p.anchor.getNode(),_=n.getFirstChild(),C=Oo(m);if(C!==null&&me(_)){let y=_.getFirstChild();if(j(y)&&n.is(V(C,(x=>x.is(n)||x.is(y)))))return y.selectStart(),!0}}if(v(p)){let{anchor:m,focus:_}=p,C=m.getNode(),y=_.getNode(),x=Oo(C),b=Oo(y),T=!(!x||!n.is(Fr(x))),N=!(!b||!n.is(Fr(b))),A=T!==N,O=T&&N,R=p.isBackward();if(A){let F=p.clone();if(N){let[G]=et(n,b,b),U=G[0][0].cell,K=G[G.length-1].at(-1).cell;F.focus.set(R?U.getKey():K.getKey(),R?U.getChildrenSize():K.getChildrenSize(),"element")}else if(T){let[G]=et(n,x,x),U=G[0][0].cell,K=G[G.length-1].at(-1).cell;F.anchor.set(R?K.getKey():U.getKey(),R?K.getChildrenSize():0,"element")}Je(F),gm(t,s)}else if(O&&(x.is(b)||(s.$setAnchorCellForSelection(Rr(s,x)),s.$setFocusCellForSelection(Rr(s,b),!0)),s.pointerType==="touch"&&p.isCollapsed()&&v(f)&&f.isCollapsed())){let F=Oo(f.anchor.getNode());F&&!F.is(b)&&(s.$setAnchorCellForSelection(Rr(s,F)),s.$setFocusCellForSelection(Rr(s,b),!0),s.pointerType=null)}}else if(p&&he(p)&&p.is(f)&&p.tableKey===n.getKey()){let m=Qn(i);if(m&&m.anchorNode&&m.focusNode){let _=Pe(m.focusNode),C=_&&!n.isParentOf(_),y=Pe(m.anchorNode),x=y&&n.isParentOf(y);if(C&&x&&m.rangeCount>0){let b=pg(m,t);b&&(b.anchor.set(n.getKey(),p.isBackward()?n.getChildrenSize():0,"element"),m.removeAllRanges(),Je(b))}}}return p&&!p.is(f)&&(he(p)||he(f))&&s.tableSelection&&!s.tableSelection.is(f)?(he(p)&&p.tableKey===s.tableNodeKey?s.$updateTableTableSelection(p):!he(p)&&he(f)&&f.tableKey===s.tableNodeKey&&s.$updateTableTableSelection(null),!1):(s.hasHijackedSelectionStyles&&!n.isSelected()?(function(m,_){_.$enableHighlightStyle(),Au(_.table,(C=>{let y=C.elem;C.highlighted=!1,Mm(m,C),y.getAttribute("style")||y.removeAttribute("style")}))})(t,s):!s.hasHijackedSelectionStyles&&n.isSelected()&&gm(t,s),!1)}),wt)),s.listenersToRemove.add(t.registerCommand(Zn,(()=>{let p=M();if(!v(p)||!p.isCollapsed()||!un(p,n))return!1;let f=pm(t,p,n);return!!f&&(hm(f,n),!0)}),wt)),s}function mu(n){return n[pu]||null}function Li(n){let e=n;for(;e!=null;){let t=e.nodeName;if(t==="TD"||t==="TH"){let r=e._cell;return r===void 0?null:r}e=e.parentNode}return null}function fm(n,e){if(!n.contains(e))return null;let t=null;for(let r=e;r!=null;r=r.parentNode){if(r===n)return t;let o=r.nodeName;o!=="TD"&&o!=="TH"||(t=r._cell||null)}return null}function vo(n,e){let t=[],r={columns:0,domRows:t,rows:0},o=ir(n,e).querySelector("tr"),i=0,s=0;for(t.length=0;o!=null;){let l=o.nodeName;if(l==="TD"||l==="TH"){let u={elem:o,hasBackgroundColor:o.style.backgroundColor!=="",highlighted:!1,x:i,y:s};o._cell=u;let d=t[s];d===void 0&&(d=t[s]=[]),d[i]=u}else{let u=o.firstChild;if(u!=null){o=u;continue}}let a=o.nextSibling;if(a!=null){i++,o=a;continue}let c=o.parentNode;if(c!=null){let u=c.nextSibling;if(u==null)break;s++,i=0,o=u}}return r.columns=i+1,r.rows=s+1,r}function fa(n,e,t){let r=new Set(t?t.getNodes():[]);Au(e,((o,i)=>{let s=o.elem;r.has(i)?(o.highlighted=!0,vm(n,o)):(o.highlighted=!1,Mm(n,o),s.getAttribute("style")||s.removeAttribute("style"))}))}function Au(n,e){let{domRows:t}=n;for(let r=0;r<t.length;r++){let o=t[r];if(o)for(let i=0;i<o.length;i++){let s=o[i];if(!s)continue;let l=Pe(s.elem);l!==null&&e(s,l,{x:i,y:r})}}}function gm(n,e){e.$disableHighlightStyle(),Au(e.table,(t=>{t.highlighted=!0,vm(n,t)}))}var iT=(n,e,t,r,o)=>{let i=o==="forward";switch(o){case"backward":case"forward":return t!==(i?n.table.columns-1:0)?ha(e.getCellNodeFromCordsOrThrow(t+(i?1:-1),r,n.table),i):r!==(i?n.table.rows-1:0)?ha(e.getCellNodeFromCordsOrThrow(i?0:n.table.columns-1,r+(i?1:-1),n.table),i):i?e.selectNext():e.selectPrevious(),!0;case"up":return r!==0?ha(e.getCellNodeFromCordsOrThrow(t,r-1,n.table),!1):e.selectPrevious(),!0;case"down":return r!==n.table.rows-1?ha(e.getCellNodeFromCordsOrThrow(t,r+1,n.table),!0):e.selectNext(),!0;default:return!1}};function cu(n,e){let t,r;if(e.startColumn===n.minColumn)t="minColumn";else{if(e.startColumn+e.cell.__colSpan-1!==n.maxColumn)return null;t="maxColumn"}if(e.startRow===n.minRow)r="minRow";else{if(e.startRow+e.cell.__rowSpan-1!==n.maxRow)return null;r="maxRow"}return[t,r]}function ga([n,e]){return[n==="minColumn"?"maxColumn":"minColumn",e==="minRow"?"maxRow":"minRow"]}function So(n,e,[t,r]){let o=e[r],i=n[o];i===void 0&&z(250,r,String(o));let s=e[t],l=i[s];return l===void 0&&z(250,t,String(s)),l}function sT(n,e,t,r,o){let i=pa(e,t,r),s=(function(T,N){let{minColumn:A,maxColumn:O,minRow:R,maxRow:F}=N,G=1,U=1,K=1,W=1,Z=T[R],ge=T[F];for(let ae=A;ae<=O;ae++)G=Math.max(G,Z[ae].cell.__rowSpan),W=Math.max(W,ge[ae].cell.__rowSpan);for(let ae=R;ae<=F;ae++)U=Math.max(U,T[ae][A].cell.__colSpan),K=Math.max(K,T[ae][O].cell.__colSpan);return{bottomSpan:W,leftSpan:U,rightSpan:K,topSpan:G}})(e,i),{topSpan:l,leftSpan:a,bottomSpan:c,rightSpan:u}=s,d=(function(T,N){let A=cu(T,N);return A===null&&z(249,N.cell.getKey()),A})(i,t),[h,p]=ga(d),f=i[h],g=i[p];o==="forward"?f+=h==="maxColumn"?1:a:o==="backward"?f-=h==="minColumn"?1:u:o==="down"?g+=p==="maxRow"?1:l:o==="up"&&(g-=p==="minRow"?1:c);let m=e[g];if(m===void 0)return!1;let _=m[f];if(_===void 0)return!1;let[C,y]=(function(T,N,A){let O=pa(T,N,A),R=cu(O,N);if(R)return[So(T,O,R),So(T,O,ga(R))];let F=cu(O,A);if(F)return[So(T,O,ga(F)),So(T,O,F)];let G=["minColumn","minRow"];return[So(T,O,G),So(T,O,ga(G))]})(e,t,_),x=Rr(n,C.cell),b=Rr(n,y.cell);return n.$setAnchorCellForSelection(x),n.$setFocusCellForSelection(b,!0),!0}function un(n,e){if(v(n)||he(n)){let t=e.isParentOf(n.anchor.getNode()),r=e.isParentOf(n.focus.getNode());return t&&r}return!1}function ha(n,e){e?n.selectStart():n.selectEnd()}function vm(n,e){let t=e.elem,r=n._config.theme;j(Pe(t))||z(131),_e(t,r.tableCellSelected)}function Mm(n,e){let t=e.elem;j(Pe(t))||z(131);let r=n._config.theme;Pt(t,r.tableCellSelected)}function Oo(n){let e=V(n,j);return j(e)?e:null}function Fr(n){let e=V(n,Oe);return Oe(e)?e:null}function aT(n,e,t,r,o,i,s){let l=lo(t.focus,o?"previous":"next");if(Es(l))return!1;let a=l;for(let m of di(l).iterNodeCarets("shadowRoot")){if(!bs(m)||!I(m.origin))return!1;a=m}let c=a.getParentAtCaret();if(!j(c))return!1;let u=c,d=(function(m){for(let _ of di(m).iterNodeCarets("root")){let{origin:C}=_;if(j(C)){if(Jn(_))return jt(C,m.direction)}else if(!me(C))break}return null})(xt(u,a.direction)),h=V(u,Oe);if(!h||!h.is(i))return!1;let p=n.getElementByKey(u.getKey()),f=Li(p);if(!p||!f)return!1;let g=Dm(n,h);if(s.table=g,d)if(r==="extend"){let m=Li(n.getElementByKey(d.origin.getKey()));if(!m)return!1;s.$setAnchorCellForSelection(f),s.$setFocusCellForSelection(m,!0)}else{let m=qn(d);Xn(t.anchor,m),Xn(t.focus,m)}else if(r==="extend")s.$setAnchorCellForSelection(f),s.$setFocusCellForSelection(f,!0);else{let m=(function(_){let C=Tr(_);return Jn(C)?qn(C):_})(xt(h,l.direction));Xn(t.anchor,m),Xn(t.focus,m)}return Dn(e),!0}function wm(n,e,t,r,o){if((t==="up"||t==="down")&&(function(s){let l=s.getRootElement();return l?l.hasAttribute("aria-controls")&&l.getAttribute("aria-controls")==="typeahead-menu":!1})(n))return!1;let i=M();if(!un(i,r)){if(v(i)){if(t==="backward"){if(i.focus.offset>0)return!1;let s=(function(a){for(let c=a,u=a;u!==null;c=u,u=u.getParent())if(I(u)){if(u!==c&&u.getFirstChild()!==c)return null;if(!u.isInline())return u}return null})(i.focus.getNode());if(!s)return!1;let l=s.getPreviousSibling();return!!Oe(l)&&(Dn(e),e.shiftKey?i.focus.set(l.getParentOrThrow().getKey(),l.getIndexWithinParent(),"element"):l.selectEnd(),!0)}if(e.shiftKey&&(t==="up"||t==="down")){let s=i.focus.getNode();if(!i.isCollapsed()&&(t==="up"&&!i.isBackward()||t==="down"&&i.isBackward())){let l=V(s,(h=>Oe(h)));if(j(l)&&(l=V(l,Oe)),l!==r||!l)return!1;let a=t==="down"?l.getNextSibling():l.getPreviousSibling();if(!a)return!1;let c=0;t==="up"&&I(a)&&(c=a.getChildrenSize());let u=a;t==="up"&&I(a)&&(u=a.getLastChild()||a,c=Q(u)?u.getTextContentSize():0);let d=i.clone();return d.focus.set(u.getKey(),c,Q(u)?"text":"element"),Je(d),Dn(e),!0}if(rt(s)){let l=t==="up"?i.getNodes()[i.getNodes().length-1]:i.getNodes()[0];if(l&&wi(r,l)!==null){let a=r.getFirstDescendant(),c=r.getLastDescendant();if(!a||!c)return!1;let[u]=Ke(a),[d]=Ke(c),h=r.getCordsFromCellNode(u,o.table),p=r.getCordsFromCellNode(d,o.table),f=r.getDOMCellFromCordsOrThrow(h.x,h.y,o.table),g=r.getDOMCellFromCordsOrThrow(p.x,p.y,o.table);return o.$setAnchorCellForSelection(f),o.$setFocusCellForSelection(g,!0),!0}return!1}{let l=V(s,(c=>I(c)&&!c.isInline()));if(j(l)&&(l=V(l,Oe)),!l)return!1;let a=t==="down"?l.getNextSibling():l.getPreviousSibling();if(Oe(a)&&o.tableNodeKey===a.getKey()){let c=a.getFirstDescendant(),u=a.getLastDescendant();if(!c||!u)return!1;let[d]=Ke(c),[h]=Ke(u),p=i.clone();return p.focus.set((t==="up"?d:h).getKey(),t==="up"?0:h.getChildrenSize(),"element"),Dn(e),Je(p),!0}}}}return t==="down"&&Ca(n)&&o.setShouldCheckSelection(),!1}if(v(i)){if(t==="backward"||t==="forward")return aT(n,e,i,e.shiftKey?"extend":"move",t==="backward",r,o);if(i.isCollapsed()){let{anchor:s,focus:l}=i,a=V(s.getNode(),j),c=V(l.getNode(),j);if(!j(a)||!a.is(c))return!1;let u=Fr(a);if(u!==r&&u!=null){let _=ir(u,n.getElementByKey(u.getKey()));if(_!=null)return o.table=vo(u,_),wm(n,e,t,u,o)}let d=n.getElementByKey(a.__key),h=n.getElementByKey(s.key);if(h==null||d==null)return!1;let p;if(s.type==="element")p=h.getBoundingClientRect();else{let _=Qn(Su(n));if(_===null||_.rangeCount===0)return!1;p=_.getRangeAt(0).getBoundingClientRect()}let f=t==="up"?a.getFirstChild():a.getLastChild();if(f==null)return!1;let g=n.getElementByKey(f.__key);if(g==null)return!1;let m=g.getBoundingClientRect();if(t==="up"?m.top>p.top-p.height:p.bottom+p.height>m.bottom){Dn(e);let _=r.getCordsFromCellNode(a,o.table);if(!e.shiftKey)return iT(o,r,_.x,_.y,t);{let C=r.getDOMCellFromCordsOrThrow(_.x,_.y,o.table);o.$setAnchorCellForSelection(C),o.$setFocusCellForSelection(C,!0)}return!0}}}else if(he(i)){let{anchor:s,focus:l}=i,a=V(s.getNode(),j),c=V(l.getNode(),j),[u]=i.getNodes();Oe(u)||z(251);let d=ir(u,n.getElementByKey(u.getKey()));if(!j(a)||!j(c)||!Oe(u)||d==null)return!1;o.$updateTableTableSelection(i);let h=vo(u,d),p=r.getCordsFromCellNode(a,h),f=r.getDOMCellFromCordsOrThrow(p.x,p.y,h);if(o.$setAnchorCellForSelection(f),Dn(e),e.shiftKey){let[g,m,_]=et(r,a,c);return sT(o,g,m,_,t)}return c.selectEnd(),!0}return!1}function Dn(n){n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation()}function hm(n,e,t){let r=ne();n==="first"?e.insertBefore(r):e.insertAfter(r),r.append(...t||[]),r.selectEnd()}function pm(n,e,t){let r=t.getParent();if(!r)return;let o=Qn(Su(n));if(!o)return;let i=o.anchorNode,s=n.getElementByKey(r.getKey()),l=ir(t,n.getElementByKey(t.getKey()));if(!i||!s||!l||!s.contains(i)||l.contains(i))return;let a=V(e.anchor.getNode(),(C=>j(C)));if(!a)return;let c=V(a,(C=>Oe(C)));if(!Oe(c)||!c.is(t))return;let[u,d]=et(t,a,a),h=u[0][0],p=u[u.length-1][u[0].length-1],{startRow:f,startColumn:g}=d,m=f===h.startRow&&g===h.startColumn,_=f===p.startRow&&g===p.startColumn;return m?"first":_?"last":void 0}function Rr(n,e){let{tableNode:t}=n.$lookup(),r=t.getCordsFromCellNode(e,n.table);return t.getDOMCellFromCordsOrThrow(r.x,r.y,n.table)}function _u(n,e,t){return wi(n,Pe(e,t))}function mm(n,e,t){if(!e.theme.tableAlignment)return;let r=[],o=[];for(let i of["center","right"]){let s=e.theme.tableAlignment[i];s&&(i===t?o:r).push(s)}Pt(n,...r),_e(n,...o)}var Cu=new WeakSet;function Ca(n=En()){return Cu.has(n)}function lT(n,e){e?Cu.add(n):Cu.delete(n)}var sr=class n extends Et{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){let t=this.getWritable();return t.__colWidths=e,t}static clone(e){return new n(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:cT,priority:1})}}static importJSON(e){return Na().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,r){return r==="html"}getDOMSlot(e){let t=Ao(e)?e:e.querySelector("table");return Ao(t)||z(229),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){let r=document.createElement("table");this.__style&&(r.style.cssText=this.__style);let o=document.createElement("colgroup");if(r.appendChild(o),qg(o),_e(r,e.theme.table),this.updateTableElement(null,r,e),Ca(t)){let i=document.createElement("div"),s=e.theme.tableScrollableWrapper;return s?_e(i,s):i.style.cssText="overflow-x: auto;",i.appendChild(r),this.updateTableWrapper(null,i,r,e),i}return r}updateTableWrapper(e,t,r,o){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&(function(i,s,l,a){a>0?(_e(i,l.theme.tableFrozenColumn),s.setAttribute("data-lexical-frozen-column","true")):(Pt(i,l.theme.tableFrozenColumn),s.removeAttribute("data-lexical-frozen-column"))})(t,r,o,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&(function(i,s,l,a){a>0?(_e(i,l.theme.tableFrozenRow),s.setAttribute("data-lexical-frozen-row","true")):(Pt(i,l.theme.tableFrozenRow),s.removeAttribute("data-lexical-frozen-row"))})(t,r,o,this.__frozenRowCount)}updateTableElement(e,t,r){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&(function(o,i,s){s?(_e(o,i.theme.tableRowStriping),o.setAttribute("data-lexical-row-striping","true")):(Pt(o,i.theme.tableRowStriping),o.removeAttribute("data-lexical-row-striping"))})(t,r,this.__rowStriping),(function(o,i,s,l){let a=o.querySelector("colgroup");if(!a)return;let c=[];for(let u=0;u<s;u++){let d=document.createElement("col"),h=l&&l[u];h&&(d.style.width=`${h}px`),c.push(d)}a.replaceChildren(...c)})(t,0,this.getColumnCount(),this.getColWidths()),mm(t,r,this.getFormatType())}updateDOM(e,t,r){let o=this.getDOMSlot(t).element;return t===o===Ca()||(Ve(i=t)&&i.nodeName==="DIV"&&this.updateTableWrapper(e,t,o,r),this.updateTableElement(e,o,r),!1);var i}exportDOM(e){let t=super.exportDOM(e),{element:r}=t;return{after:o=>{if(t.after&&(o=t.after(o)),!Ao(o)&&Ve(o)&&(o=o.querySelector("table")),!Ao(o))return null;mm(o,e._config,this.getFormatType());let[i]=Ln(this,null,null),s=new Map;for(let u of i)for(let d of u){let h=d.cell.getKey();s.has(h)||s.set(h,{colSpan:d.cell.getColSpan(),startColumn:d.startColumn})}let l=new Set;for(let u of o.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){let d=u.getAttribute("data-temporary-table-cell-lexical-key");if(d){let h=s.get(d);if(u.removeAttribute("data-temporary-table-cell-lexical-key"),h){s.delete(d);for(let p=0;p<h.colSpan;p++)l.add(p+h.startColumn)}}}let a=o.querySelector(":scope > colgroup");if(a){let u=Array.from(o.querySelectorAll(":scope > colgroup > col")).filter(((d,h)=>l.has(h)));a.replaceChildren(...u)}let c=o.querySelectorAll(":scope > tr");if(c.length>0){let u=document.createElement("tbody");for(let d of c)u.appendChild(d);o.append(u)}return o},element:!Ao(r)&&Ve(r)?r.querySelector("table"):r}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){let{rows:r,domRows:o}=t;for(let i=0;i<r;i++){let s=o[i];if(s!=null)for(let l=0;l<s.length;l++){let a=s[l];if(a==null)continue;let{elem:c}=a,u=_u(this,c);if(u!==null&&e.is(u))return{x:l,y:i}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,r){let{domRows:o}=r,i=o[t];if(i==null)return null;let s=i[e<i.length?e:i.length-1];return s??null}getDOMCellFromCordsOrThrow(e,t,r){let o=this.getDOMCellFromCords(e,t,r);if(!o)throw new Error("Cell not found at cords.");return o}getCellNodeFromCords(e,t,r){let o=this.getDOMCellFromCords(e,t,r);if(o==null)return null;let i=Pe(o.elem);return j(i)?i:null}getCellNodeFromCordsOrThrow(e,t,r){let o=this.getCellNodeFromCords(e,t,r);if(!o)throw new Error("Node at cords not TableCellNode.");return o}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(e){let t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){let t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){let t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){let e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach((r=>{j(r)&&(t+=r.getColSpan())})),t}};function Dm(n,e){let t=n.getElementByKey(e.getKey());return t===null&&z(230),vo(e,t)}function cT(n){let e=Na();n.hasAttribute("data-lexical-row-striping")&&e.setRowStriping(!0),n.hasAttribute("data-lexical-frozen-column")&&e.setFrozenColumns(1),n.hasAttribute("data-lexical-frozen-row")&&e.setFrozenRows(1);let t=n.querySelector(":scope > colgroup");if(t){let r=[];for(let o of t.querySelectorAll(":scope > col")){let i=o.style.width||"";if(!yu.test(i)&&(i=o.getAttribute("width")||"",!/^\d+$/.test(i))){r=void 0;break}r.push(parseFloat(i))}r&&e.setColWidths(r)}return{after:r=>Tc(r,me),node:e}}function Na(){return Ae(new sr)}function Oe(n){return n instanceof sr}function uT({rows:n,columns:e,includeHeaders:t}){let r=M()||bn();if(!r||!v(r)||Fr(r.anchor.getNode()))return!1;let o=Cm(Number(n),Number(e),t);Zs(o);let i=o.getFirstDescendant();return Q(i)&&i.select(),!0}function dT(n){me(n.getParent())?n.isEmpty()&&n.append(ne()):n.remove()}function fT(n){Oe(n.getParent())?Ec(n,j):n.remove()}function gT(n){Ec(n,me);let[e]=Ln(n,null,null),t=e.reduce(((o,i)=>Math.max(o,i.length)),0),r=n.getChildren();for(let o=0;o<e.length;++o){let i=r[o];if(!i)continue;me(i)||z(254,i.constructor.name,i.getType());let s=e[o].reduce(((l,a)=>a?1+l:l),0);if(s!==t)for(let l=s;l<t;++l){let a=Ot();a.append(ne()),i.append(a)}}}function hT(n){if(n.detail<3||!on(n.target))return!1;let e=Pe(n.target);if(e===null)return!1;let t=V(e,(r=>I(r)&&!r.isInline()));return t===null?!1:!!j(t.getParent())&&(t.select(0),!0)}function pT(n){return n.registerNodeTransform(or,(e=>{if(e.getColSpan()>1||e.getRowSpan()>1){let[,,t]=Ke(e),[r]=et(t,e,e),o=r.length,i=r[0].length,s=t.getFirstChild();me(s)||z(175);let l=[];for(let a=0;a<o;a++){a!==0&&(s=s.getNextSibling(),me(s)||z(175));let c=null;for(let u=0;u<i;u++){let d=r[a][u],h=d.cell;if(d.startRow===a&&d.startColumn===u)c=h,l.push(h);else if(h.getColSpan()>1||h.getRowSpan()>1){j(h)||z(176);let p=Ot(h.__headerState);c!==null?c.insertAfter(p):wh(s,p)}}}for(let a of l)a.setColSpan(1),a.setRowSpan(1)}}))}function mT(n,e=!0){let t=new Map,r=(i,s,l)=>{let a=ir(i,l),c=Om(i,a,n,e);t.set(s,[c,a])},o=n.registerMutationListener(sr,(i=>{n.getEditorState().read((()=>{for(let[s,l]of i){let a=t.get(s);if(l==="created"||l==="updated"){let{tableNode:c,tableElement:u}=bu(s);a===void 0?r(c,s,u):u!==a[1]&&(a[0].removeListeners(),t.delete(s),r(c,s,u))}else l==="destroyed"&&a!==void 0&&(a[0].removeListeners(),t.delete(s))}}),{editor:n})}),{skipInitialization:!1});return()=>{o();for(let[,[i]]of t)i.removeListeners()}}function _T(n){return n.hasNodes([sr])||z(255),dt(n.registerCommand(_m,uT,te),n.registerCommand(pi,(({nodes:e,selection:t})=>v(t)?Fr(t.anchor.getNode())!==null&&e.some(Oe):!1),te),n.registerCommand(As,hT,te),n.registerNodeTransform(sr,gT),n.registerNodeTransform(Mo,fT),n.registerNodeTransform(or,dT))}var q=Ou,jA=q.$computeTableMap,JA=q.$computeTableMapSkipCellCheck,Lm=q.$createTableCellNode,km=q.$createTableNode,VA=q.$createTableNodeWithDimensions,Rm=q.$createTableRowNode,qA=q.$createTableSelection,XA=q.$createTableSelectionFrom,ZA=q.$deleteTableColumn,QA=q.$deleteTableColumnAtSelection,Fm=q.$deleteTableColumn__EXPERIMENTAL,eO=q.$deleteTableRowAtSelection,Im=q.$deleteTableRow__EXPERIMENTAL,tO=q.$findCellNode,nO=q.$findTableNode,rO=q.$getElementForTableNode,$m=q.$getNodeTriplet,oO=q.$getTableAndElementByKey,xa=q.$getTableCellNodeFromLexicalNode,iO=q.$getTableCellNodeRect,Pm=q.$getTableColumnIndexFromTableCellNode,sO=q.$getTableNodeFromLexicalNodeOrThrow,Bm=q.$getTableRowIndexFromTableCellNode,aO=q.$getTableRowNodeFromTableCellNodeOrThrow,lO=q.$insertTableColumn,cO=q.$insertTableColumnAtSelection,Km=q.$insertTableColumn__EXPERIMENTAL,uO=q.$insertTableRow,dO=q.$insertTableRowAtSelection,vu=q.$insertTableRow__EXPERIMENTAL,fO=q.$isScrollableTablesActive,wo=q.$isTableCellNode,$r=q.$isTableNode,CT=q.$isTableRowNode,kt=q.$isTableSelection,gO=q.$mergeCells,hO=q.$removeTableRowAtIndex,Hm=q.$unmergeCell,pO=q.INSERT_TABLE_COMMAND,Mu=q.TableCellHeaderStates,wu=q.TableCellNode,Du=q.TableNode,mO=q.TableObserver,Lu=q.TableRowNode,_O=q.applyTableHandlers,CO=q.getDOMCellFromTarget,yO=q.getTableElement,NO=q.getTableObserverFromTableElement,xO=q.registerTableCellUnmergeTransform,TO=q.registerTablePlugin,EO=q.registerTableSelectionObserver,bO=q.setScrollableTablesActive;var Lo=8,ko=72,Do=15;var zm={bullet:"Bulleted List",check:"Check List",code:"Code Block",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",number:"Numbered List",paragraph:"Normal",quote:"Quote"},Um={none:!1,bgColor:"#fff",blockType:"paragraph",canRedo:!1,canUndo:!1,cannotRedo:!0,cannotUndo:!0,codeLanguage:"",elementFormat:"left",fontColor:"#000",fontFamily:"Arial",fontSize:`${Do}px`,fontSizeInputValue:`${Do}`,isBold:!1,isCode:!1,isImageCaption:!1,isItalic:!1,isLink:!1,isRTL:!1,isStrikethrough:!1,isSubscript:!1,isSuperscript:!1,isUnderline:!1,isLowercase:!1,isUppercase:!1,isCapitalize:!1,rootType:"root"};var Wm={autocomplete:"lexical__autocomplete",blockCursor:"lexical__blockCursor",characterLimit:"lexical__characterLimit",code:"lexical__code",codeHighlight:{atrule:"lexical__tokenAttr",attr:"lexical__tokenAttr",boolean:"lexical__tokenProperty",builtin:"lexical__tokenSelector",cdata:"lexical__tokenComment",char:"lexical__tokenSelector",class:"lexical__tokenFunction","class-name":"lexical__tokenFunction",comment:"lexical__tokenComment",constant:"lexical__tokenProperty",deleted:"lexical__tokenProperty",doctype:"lexical__tokenComment",entity:"lexical__tokenOperator",function:"lexical__tokenFunction",important:"lexical__tokenVariable",inserted:"lexical__tokenSelector",keyword:"lexical__tokenAttr",namespace:"lexical__tokenVariable",number:"lexical__tokenProperty",operator:"lexical__tokenOperator",prolog:"lexical__tokenComment",property:"lexical__tokenProperty",punctuation:"lexical__tokenPunctuation",regex:"lexical__tokenVariable",selector:"lexical__tokenSelector",string:"lexical__tokenSelector",symbol:"lexical__tokenProperty",tag:"lexical__tokenProperty",url:"lexical__tokenOperator",variable:"lexical__tokenVariable"},embedBlock:{base:"lexical__embedBlock",focus:"lexical__embedBlockFocus"},hashtag:"lexical__hashtag",heading:{h1:"lexical__h1",h2:"lexical__h2",h3:"lexical__h3",h4:"lexical__h4",h5:"lexical__h5",h6:"lexical__h6"},hr:"lexical__hr",image:"lexical__editor-image",indent:"lexical__indent",inlineImage:"lexical__inline-editor-image",layoutContainer:"lexical__layoutContainer",layoutItem:"lexical__layoutItem",link:"lexical__link",list:{checklist:"lexical__checklist",listitem:"lexical__listItem",listitemChecked:"lexical__listItemChecked",listitemUnchecked:"lexical__listItemUnchecked",nested:{listitem:"lexical__nestedListItem"},olDepth:["lexical__ol1","lexical__ol2","lexical__ol3","lexical__ol4","lexical__ol5"],ul:"lexical__ul"},ltr:"lexical__ltr",mark:"lexical__mark",markOverlap:"lexical__markOverlap",paragraph:"lexical__paragraph",quote:"lexical__quote",rtl:"lexical__rtl",table:"lexical__table",tableAddColumns:"lexical__tableAddColumns",tableAddRows:"lexical__tableAddRows",tableCell:"lexical__tableCell",tableCellActionButton:"lexical__tableCellActionButton",tableCellActionButtonContainer:"lexical__tableCellActionButtonContainer",tableCellEditing:"lexical__tableCellEditing",tableCellHeader:"lexical__tableCellHeader",tableCellPrimarySelected:"lexical__tableCellPrimarySelected",tableCellResizer:"lexical__tableCellResizer",tableCellSelected:"lexical__tableCellSelected",tableCellSortedIndicator:"lexical__tableCellSortedIndicator",tableResizeRuler:"lexical__tableCellResizeRuler",tableSelected:"lexical__tableSelected",tableSelection:"lexical__tableSelection",text:{bold:"lexical__textBold",code:"lexical__textCode",italic:"lexical__textItalic",strikethrough:"lexical__textStrikethrough",subscript:"lexical__textSubscript",superscript:"lexical__textSuperscript",underline:"lexical__textUnderline",underlineStrikethrough:"lexical__textUnderlineStrikethrough",lowercase:"lexical__textLowercase",uppercase:"lexical__textUppercase",capitalize:"lexical__textCapitalize"}},Gm=(n,e)=>{if(!e)return n;let t=n;switch(e){case 2:switch(!0){case n>ko:t=ko;break;case n>=48:t-=12;break;case n>=24:t-=4;break;case n>=14:t-=2;break;case n>=9:t-=1;break;default:t=Lo;break}break;case 1:switch(!0){case n<Lo:t=Lo;break;case n<12:t+=1;break;case n<20:t+=2;break;case n<36:t+=4;break;case n<=60:t+=12;break;default:t=ko;break}break;default:break}return t},ku=(n,e,t)=>{let r=o=>(o||(o=`${Do}px`),o=o.slice(0,-2),`${Gm(Number(o),t)}px`);n.update(()=>{if(!n.isEditable())return;let o=M();o!==null&&po(o,{"font-size":e||r})})},Ro=(n,e,t)=>{let r=t.value;if(r!==""){let o=Gm(Number(r),e);ku(n,String(o)+"px",null),t.value=o.toString();return}ku(n,null,e)},Ru=function(n,e,t){if(e==null)return;let r=e;e>ko?(r=ko,t.value=r.toString()):e<Lo&&(r=Lo,t.value=r.toString()),ku(n,String(r)+"px",null)},Fo=n=>{n.update(()=>{let e=M();v(e)&&er(e,()=>ne())})},Ym=(n,e,t)=>{e!==t&&n.update(()=>{let r=M();er(r,()=>na(t))})},jm=(n,e)=>{if(e!=="bullet"){n.dispatchCommand(ua,void 0);return}Fo(n)},Jm=(n,e)=>{if(e!=="check"){n.dispatchCommand(Jp,void 0);return}Fo(n)},Vm=(n,e)=>{if(e!=="number"){n.dispatchCommand(ca,void 0);return}Fo(n)},Ta=(n,e)=>{e!=="quote"&&n.update(()=>{let t=M();er(t,()=>qh())})},Ea=(n,e)=>{e!=="code"&&n.update(()=>{let t=M();if(t!==null)if(t.isCollapsed())er(t,()=>Yc());else{let r=t.getTextContent(),o=Yc();t.insertNodes([o]),t=M(),v(t)&&t.insertRawText(r)}})},ki=function(n){let e=n.anchor,t=n.focus,r=n.anchor.getNode(),o=n.focus.getNode();return r===o?r:n.isBackward()?hc(t)?r:o:hc(e)?o:r},ba=n=>{Fo(n),n.update(()=>{let e=M();if(!(v(e)||kt(e)))return;let t=e.anchor,r=e.focus,o=e.getNodes(),i=e.extract();t.key===r.key&&t.offset===r.offset||o.forEach((s,l)=>{if(Q(s)){let a=s;l===0&&t.offset!==0&&(a=a.splitText(t.offset)[1]||a),l===o.length-1&&(a=a.splitText(r.offset)[0]||a);let c=i[0];o.length===1&&Q(c)&&(a=c),a.__style!==""&&a.setStyle(""),a.__format!==0&&(a.setFormat(0),qs(a).setFormat("")),s=a}else ra(s)||Xh(s)?s.replace(ne(),!0):Bt(s)&&s.replace(lt(s.getTextContent()),!1)})})};var yT=new Set(["http:","https:","mailto:","sms:","tel:"]),UO=new RegExp(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/),NT=/^\/[a-zA-Z0-9\-_\/\.]*$/;function Io(n){return NT.test(n)}function qm(n,e=!0){if(e&&Io(n))return n;try{let t=new URL(n);return yT.has(t.protocol)?n:"about:blank"}catch{return"about:blank"}}function Zm(n){return n.registerCommand(rr,e=>{let t=M();if(!v(t))return!1;let r=n.getElementByKey(je().getKey());if(!r)return!1;let o=ki(t),i=o.getParent(),s=null,l="_blank",a="noopener noreferrer";if(e===null?s=null:typeof e=="string"?(s=qm(e),Io(e)&&(l="_self",a="")):typeof e=="object"&&(s=qm(e.url),l=e.target??(Io(e.url)?"_self":"_blank"),a=e.rel??(l==="_blank"?"noopener noreferrer":"")),Bt(i)||Bt(o))return Vc(s,{rel:a||void 0,target:l}),s===null&&r.dispatchEvent(new CustomEvent("close-link-editor-dialog")),!0;let c="https://";return Vc(c,{rel:"noopener noreferrer",target:"_blank"}),n.read(()=>{let u=M();if(!v(u))return;let d=ki(u),p=(V(d,Bt)??d).getKey(),f=n.getElementByKey(p);f&&r.dispatchEvent(new CustomEvent("link-created",{detail:{url:c,target:f}}))}),!0},fe),n.registerRootListener((e,t)=>{t&&(t.removeEventListener("click",Fu),t.removeEventListener("mouseup",Xm)),e&&(e.addEventListener("click",Fu),e.addEventListener("mouseup",Xm))})}var Fu=n=>{let e=n.target;if(!on(e))return;let t=Us(e);if(t===null)return;let r=null,o=null;if(t.update(()=>{let s=Pe(e);if(s===null)return;let l=V(s,Bt);if(Bt(l)){r=l.getURL(),o=l.getTarget();return}let a=xT(e,Ws);a&&(r=a.href,o=a.target)}),!r)return;let i=t.getEditorState().read(M);if(v(i)&&!i.isCollapsed()){n.preventDefault();return}t.read(()=>{let s=t.getElementByKey(je().getKey());s&&s.dispatchEvent(new CustomEvent("link-clicked",{detail:{url:r,target:e,urlTarget:o,isInternal:Io(r||"")}}))})},Xm=n=>{n.button===1&&Fu(n)};function xT(n,e){let t=n;for(;t;){if(e(t))return t;t=t.parentNode}return null}var dn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";var TT=dn&&"documentMode"in document?document.documentMode:null,ue=dn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),jO=dn&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),JO=dn&&"InputEvent"in window&&!TT?"getTargetRanges"in new window.InputEvent("input"):!1,VO=dn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),qO=dn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,XO=dn&&/Android/.test(navigator.userAgent),ET=dn&&/^(?=.*Chrome).*/i.test(navigator.userAgent);var ZO=dn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ET;var tv=Object.freeze({NORMAL:ue?"\u2318+Opt+0":"Ctrl+Alt+0",HEADING1:ue?"\u2318+Opt+1":"Ctrl+Alt+1",HEADING2:ue?"\u2318+Opt+2":"Ctrl+Alt+2",HEADING3:ue?"\u2318+Opt+3":"Ctrl+Alt+3",BULLET_LIST:ue?"\u2318+Opt+4":"Ctrl+Alt+4",NUMBERED_LIST:ue?"\u2318+Opt+5":"Ctrl+Alt+5",CHECK_LIST:ue?"\u2318+Opt+6":"Ctrl+Alt+6",CODE_BLOCK:ue?"\u2318+Opt+C":"Ctrl+Alt+C",QUOTE:ue?"\u2318+Opt+Q":"Ctrl+Alt+Q",INCREASE_FONT_SIZE:ue?"\u2318+Shift+.":"Ctrl+Shift+.",DECREASE_FONT_SIZE:ue?"\u2318+Shift+,":"Ctrl+Shift+,",INSERT_CODE_BLOCK:ue?"\u2318+Shift+C":"Ctrl+Shift+C",STRIKETHROUGH:ue?"\u2318+Shift+S":"Ctrl+Shift+S",LOWERCASE:ue?"\u2318+Shift+1":"Ctrl+Shift+1",UPPERCASE:ue?"\u2318+Shift+2":"Ctrl+Shift+2",CAPITALIZE:ue?"\u2318+Shift+3":"Ctrl+Shift+3",CENTER_ALIGN:ue?"\u2318+Shift+E":"Ctrl+Shift+E",JUSTIFY_ALIGN:ue?"\u2318+Shift+J":"Ctrl+Shift+J",LEFT_ALIGN:ue?"\u2318+Shift+L":"Ctrl+Shift+L",RIGHT_ALIGN:ue?"\u2318+Shift+R":"Ctrl+Shift+R",SUBSCRIPT:ue?"\u2318+,":"Ctrl+,",SUPERSCRIPT:ue?"\u2318+.":"Ctrl+.",INDENT:ue?"\u2318+]":"Ctrl+]",OUTDENT:ue?"\u2318+[":"Ctrl+[",CLEAR_FORMATTING:ue?"\u2318+\\":"Ctrl+\\",REDO:ue?"\u2318+Shift+Z":"Ctrl+Y",UNDO:ue?"\u2318+Z":"Ctrl+Z",BOLD:ue?"\u2318+B":"Ctrl+B",ITALIC:ue?"\u2318+I":"Ctrl+I",UNDERLINE:ue?"\u2318+U":"Ctrl+U",INSERT_LINK:ue?"\u2318+K":"Ctrl+K"});function Ee(n,e){return ue?n:e}function Qm(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return(e==="Numpad0"||e==="Digit0")&&!t&&r&&Ee(o,i)}function e_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n,s=e[e.length-1];return["1","2","3","4","5","6"].includes(s)&&!t&&r&&Ee(o,i)}function t_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return(e==="Numpad7"||e==="Digit7")&&!t&&r&&Ee(o,i)}function n_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return(e==="Numpad8"||e==="Digit8")&&!t&&r&&Ee(o,i)}function r_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return(e==="Numpad6"||e==="Digit6")&&!t&&r&&Ee(o,i)}function o_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="KeyC"&&!t&&r&&Ee(o,i)}function i_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="KeyQ"&&!t&&r&&Ee(o,i)}function s_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return(e==="Numpad1"||e==="Digit1")&&t&&!r&&Ee(o,i)}function a_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return(e==="Numpad2"||e==="Digit2")&&t&&!r&&Ee(o,i)}function l_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return(e==="Numpad3"||e==="Digit3")&&t&&!r&&Ee(o,i)}function c_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="KeyS"&&t&&!r&&Ee(o,i)}function u_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="BracketRight"&&!t&&!r&&Ee(o,i)}function d_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="BracketLeft"&&!t&&!r&&Ee(o,i)}function f_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="KeyE"&&t&&!r&&Ee(o,i)}function g_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="KeyL"&&t&&!r&&Ee(o,i)}function h_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="KeyR"&&t&&!r&&Ee(o,i)}function p_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="KeyJ"&&t&&!r&&Ee(o,i)}function m_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="BracketLeft"&&t&&!r&&Ee(o,i)}function __(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="BracketRight"&&t&&!r&&Ee(o,i)}function C_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="Comma"&&!t&&!r&&Ee(o,i)}function y_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="Period"&&!t&&!r&&Ee(o,i)}function N_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="KeyC"&&t&&!r&&Ee(o,i)}function x_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="Period"&&t&&!r&&Ee(o,i)}function T_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="Comma"&&t&&!r&&Ee(o,i)}function E_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="Slash"&&!t&&!r&&Ee(o,i)}function b_(n){let{code:e,shiftKey:t,altKey:r,metaKey:o,ctrlKey:i}=n;return e==="KeyK"&&!t&&!r&&Ee(o,i)}function S_(n){let e=t=>{if(Qm(t))return t.preventDefault(),Fo(n),!0;if(e_(t)){t.preventDefault();let{code:r}=t,o=`h${r[r.length-1]}`;return Ym(n,"",o),!0}if(t_(t))return t.preventDefault(),jm(n,""),!0;if(n_(t))return t.preventDefault(),Vm(n,""),!0;if(r_(t))return t.preventDefault(),Jm(n,""),!0;if(o_(t))return t.preventDefault(),Ea(n,""),!0;if(i_(t))return t.preventDefault(),Ta(n,""),!0;if(c_(t))return t.preventDefault(),n.dispatchCommand(ut,"strikethrough"),!0;if(s_(t))return t.preventDefault(),n.dispatchCommand(ut,"lowercase"),!0;if(a_(t))return t.preventDefault(),n.dispatchCommand(ut,"uppercase"),!0;if(l_(t))return t.preventDefault(),n.dispatchCommand(ut,"capitalize"),!0;if(u_(t))return t.preventDefault(),n.dispatchCommand(Lt,void 0),!0;if(d_(t))return t.preventDefault(),n.dispatchCommand($t,void 0),!0;if(f_(t))return t.preventDefault(),n.dispatchCommand(Dt,"center"),!0;if(g_(t))return t.preventDefault(),n.dispatchCommand(Dt,"left"),!0;if(h_(t))return t.preventDefault(),n.dispatchCommand(Dt,"right"),!0;if(p_(t))return t.preventDefault(),n.dispatchCommand(Dt,"justify"),!0;if(m_(t))return t.preventDefault(),n.dispatchCommand(Dt,"start"),!0;if(__(t))return t.preventDefault(),n.dispatchCommand(Dt,"end"),!0;if(C_(t))return t.preventDefault(),n.dispatchCommand(ut,"subscript"),!0;if(y_(t))return t.preventDefault(),n.dispatchCommand(ut,"superscript"),!0;if(N_(t))return t.preventDefault(),n.dispatchCommand(ut,"code"),!0;if(x_(t)){t.preventDefault();let o=t.target?.closest(".editor-shell")?.querySelector('[x-ref="fontSize"]');return o&&Ro(n,1,o),!0}if(T_(t)){t.preventDefault();let o=t.target?.closest(".editor-shell")?.querySelector('[x-ref="fontSize"]');return o&&Ro(n,2,o),!0}return E_(t)?(t.preventDefault(),ba(n),!0):b_(t)?(t.preventDefault(),n.dispatchCommand(rr,null),!0):!1};return n.registerCommand(Bg,e,Dg)}function Sa(n){if(!n)return"";if(n.startsWith("/"))return n;try{let e=new URL(n);return e.protocol==="http:"||e.protocol==="https:"?e.toString():""}catch{return""}}var $o=class n extends Ls{static getType(){return"image"}static clone(e){return new n(e.__src,e.__altText,e.__maxWidth,e.__width,e.__height,e.__showCaption,e.__caption,e.__captionsEnabled,e.__key)}static importJSON(e){let{altText:t,height:r,width:o,maxWidth:i,caption:s,src:l,showCaption:a}=e,c=Iu({altText:t,height:r,maxWidth:i,showCaption:a,src:l,width:o}),u=c.__caption,d=u.parseEditorState(s.editorState);return d.isEmpty()||u.setEditorState(d),c}exportDOM(){let e=document.createElement("img");return e.setAttribute("src",this.__src),e.setAttribute("alt",this.__altText),typeof this.__width=="number"&&this.__width>0&&e.setAttribute("width",String(this.__width)),typeof this.__height=="number"&&this.__height>0&&e.setAttribute("height",String(this.__height)),{element:e}}static importDOM(){return{img:()=>({conversion:ST,priority:0})}}constructor(e,t,r,o,i,s,l,a,c){super(c),this.__src=Sa(e),this.__altText=t,this.__maxWidth=r,this.__width=o||"inherit",this.__height=i||"inherit",this.__showCaption=s||!1,this.__caption=l||zs(),this.__captionsEnabled=a||a===void 0}exportJSON(){return{altText:this.getAltText(),caption:this.__caption.toJSON(),height:this.__height==="inherit"?0:this.__height,maxWidth:this.__maxWidth,showCaption:this.__showCaption,src:this.getSrc(),type:"image",version:1,width:this.__width==="inherit"?0:this.__width}}setWidthAndHeight(e,t){let r=this.getWritable();r.__width=e,r.__height=t}setAltText(e){let t=this.getWritable();t.__altText=e}createDOM(e){let t=document.createElement("span"),o=e.theme.image;o&&(t.className=o),t.classList.add("relative","image-span");let i=document.createElement("img"),s=Sa(this.__src);s&&i.setAttribute("src",s),i.setAttribute("alt",this.__altText),i.style.width=this.__width==="inherit"||this.__width===0?"":`${this.__width}px`,i.style.height="auto";let l="focused";i.onclick=()=>{i.classList.toggle(l)},i.setAttribute("x-on:click.outside",`$el.classList.remove("${l}")`),t.appendChild(i);let a=document.createElement("button");a.type="button",a.style.width="2rem",a.style.height="2rem",a.className="image-editor-button bg-gray-200 rounded-full",a.style.top="0",a.style.right="0",a.style.position="absolute";let c=document.createElement("i");return c.className="edit",c.style.width="1.5rem",c.style.height="1.5rem",c.style.display="block",c.style.margin="auto",a.appendChild(c),a.setAttribute("x-on:click",`openImageEditor('${this.getKey()}')`),t.appendChild(a),t}updateDOM(e,t,r){let o=t.querySelector("img");if(!o)return!0;o.style.width=this.__width==="inherit"||this.__width===0?"":`${this.__width}px`,o.style.height="auto",o.setAttribute("alt",this.__altText);let i=Sa(this.__src);return i?o.setAttribute("src",i):o.removeAttribute("src"),!0}getSrc(){return this.__src}getAltText(){return this.__altText}getWidth(){return this.__width==="inherit"?0:this.__width}getHeight(){return this.__height==="inherit"?0:this.__height}decorate(){return null}};function ST(n){let e=n,t=e.getAttribute("src")??"";if(!(t.startsWith("/")||/^https?:\/\//i.test(t)))return null;let r=e.getAttribute("alt")??"",o=e.width||0,i=e.height||0;return{node:Iu({altText:r,height:i,src:t,width:o})}}function Iu({altText:n,height:e,maxWidth:t=500,captionsEnabled:r,src:o,width:i,showCaption:s,caption:l,key:a}){return Ae(new $o(o,n,t,i,e,s,l,r,a))}function Aa(n){return n instanceof $o}var $u=be("INSERT_IMAGE_COMMAND"),A_=n=>n.registerCommand($u,e=>{let t=Iu({...e,src:Sa(e.src)});return t.getSrc()&&jn([t]),!0},te);var Pu=be("INSERT_TABLE_COMMAND"),Oa=be("INSERT_TABLE_ROW_COMMAND"),va=be("INSERT_TABLE_COLUMN_COMMAND"),Bu=be("DELETE_TABLE_ROW_COMMAND"),Ku=be("DELETE_TABLE_COLUMN_COMMAND"),Hu=be("DELETE_TABLE_COMMAND"),zu=be("MERGE_TABLE_CELLS_COMMAND"),Uu=be("UNMERGE_TABLE_CELL_COMMAND"),Ma=be("SET_TABLE_CELL_BACKGROUND_COMMAND");function AT(n,e,t=!0){let r=km();for(let o=0;o<n;o++){let i=Rm();for(let s=0;s<e;s++){let l=t&&o===0?Mu.ROW:Mu.NO_STATUS,a=Lm(l),c=ne();a.append(c),i.append(a)}r.append(i)}return r}function O_(n){let e=n.registerCommand(Pu,d=>{let{rows:h,columns:p,includeHeaders:f=!0,borderStyle:g,cellPadding:m}=d;return n.update(()=>{let _=M();if(!v(_))return;let C=AT(Number(h),Number(p),f);g&&C.setStyle(`--table-border-style: ${g}`),m&&C.setStyle((C.getStyle()||"")+`; --table-cell-padding: ${m}`),_.insertNodes([C]);let y=C.getFirstDescendant();y&&y.selectEnd()}),!0},te),t=n.registerCommand(Oa,d=>{let h=M();return!v(h)&&!kt(h)?!1:(vu(d.insertAfter),!0)},fe),r=n.registerCommand(va,d=>{let h=M();return!v(h)&&!kt(h)?!1:(Km(d.insertAfter),!0)},fe),o=n.registerCommand(Bu,()=>{let d=M();return!v(d)&&!kt(d)?!1:(Im(),!0)},fe),i=n.registerCommand(Ku,()=>{let d=M();return!v(d)&&!kt(d)?!1:(Fm(),!0)},fe),s=n.registerCommand(Hu,()=>{let d=M();if(!v(d)&&!kt(d))return!1;let h=V(d.anchor.getNode(),p=>$r(p));return $r(h)?(h.remove(),!0):!1},fe),l=n.registerCommand(zu,()=>{let d=M();if(!kt(d))return!1;let p=d.getNodes().filter(N=>wo(N));if(p.length<2)return!1;let f=V(p[0],N=>$r(N));if(!$r(f))return!1;let g=1/0,m=-1,_=1/0,C=-1;for(let N of p){let A=Bm(N),O=Pm(N);g=Math.min(g,A),m=Math.max(m,A+(N.getRowSpan()||1)-1),_=Math.min(_,O),C=Math.max(C,O+(N.getColSpan()||1)-1)}let y=m-g+1,x=C-_+1,T=f.getChildren()[g]?.getChildren()?.[_];if(!T)return!1;for(let N of p)if(N!==T){let A=N.getChildren();for(let O of A)T.append(O);N.remove()}return T.setRowSpan(y),T.setColSpan(x),!0},fe),a=n.registerCommand(Uu,()=>{let d=M();return!v(d)||!xa(d.anchor.getNode())?!1:(Hm(),!0)},fe),c=n.registerCommand(Ma,d=>{let h=M();if(kt(h)){let f=h.getNodes().filter(g=>wo(g));for(let g of f)g.setBackgroundColor(d);return!0}if(v(h)){let p=xa(h.anchor.getNode());if(p)return p.setBackgroundColor(d),!0}return!1},fe),u=n.registerCommand({type:"keydown"},d=>{if(d.key!=="Tab")return!1;let h=M();if(!v(h))return!1;let p=xa(h.anchor.getNode());if(!p)return!1;d.preventDefault();let f=V(p,b=>$r(b));if(!$r(f))return!1;let[g,m]=$m(p),_=f.getChildren(),C=_.indexOf(m),y=m.getChildren(),x=y.indexOf(g);if(d.shiftKey){if(x>0)y[x-1].selectEnd();else if(C>0){let T=_[C-1].getChildren();T[T.length-1]?.selectEnd()}}else x<y.length-1?y[x+1].selectStart():C<_.length-1?_[C+1].getChildren()[0]?.selectStart():vu(!0);return!0},fe);return dt(e,t,r,o,i,s,l,a,c)}var OT={insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",insertColumnLeft:"Insert column left",insertColumnRight:"Insert column right",deleteRow:"Delete row",deleteColumn:"Delete column",mergeCells:"Merge cells",unmergeCells:"Unmerge cell",cellBackground:"Cell background color",deleteTable:"Delete table"};function v_(n,e={}){let t={...OT,...e},r=null,o=null;function i(){let g=document.createElement("div");return g.className="lexical-table-context-menu",g.style.cssText=`
            position: fixed;
            z-index: 10000;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            padding: 4px 0;
            min-width: 180px;
            display: none;
        `,document.documentElement.classList.contains("dark")&&(g.style.background="#1f2937",g.style.borderColor="#374151",g.style.color="#f3f4f6"),document.body.appendChild(g),g}function s(g,m,_=!1){let C=document.createElement("button");return C.type="button",C.className="lexical-table-context-menu-item",C.textContent=g,C.disabled=_,C.style.cssText=`
            display: block;
            width: 100%;
            padding: 8px 12px;
            text-align: left;
            background: none;
            border: none;
            cursor: ${_?"not-allowed":"pointer"};
            font-size: 14px;
            color: ${_?"#9ca3af":"inherit"};
            opacity: ${_?"0.5":"1"};
        `,_||(C.addEventListener("mouseenter",()=>{C.style.background=document.documentElement.classList.contains("dark")?"#374151":"#f3f4f6"}),C.addEventListener("mouseleave",()=>{C.style.background="none"}),C.addEventListener("click",()=>{m(),h()})),C}function l(){let g=document.createElement("div");return g.style.cssText=`
            height: 1px;
            background: ${document.documentElement.classList.contains("dark")?"#374151":"#e5e7eb"};
            margin: 4px 0;
        `,g}function a(){let g=document.createElement("div");g.className="lexical-table-color-picker",g.style.cssText=`
            position: fixed;
            z-index: 10001;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 8px;
            display: none;
        `,document.documentElement.classList.contains("dark")&&(g.style.background="#1f2937",g.style.borderColor="#374151");let m=["#ffffff","#f3f4f6","#e5e7eb","#d1d5db","#fef2f2","#fef3c7","#d1fae5","#dbeafe","#ede9fe","#fce7f3","#fee2e2","#fde68a","#6ee7b7","#93c5fd","#c4b5fd","#f9a8d4"],_=document.createElement("div");_.style.cssText=`
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
        `,m.forEach(y=>{let x=document.createElement("button");x.type="button",x.style.cssText=`
                width: 24px;
                height: 24px;
                border: 1px solid #d1d5db;
                border-radius: 4px;
                background: ${y};
                cursor: pointer;
            `,x.addEventListener("click",()=>{n.dispatchCommand(Ma,y),u(),h()}),_.appendChild(x)});let C=document.createElement("button");return C.type="button",C.textContent="Clear",C.style.cssText=`
            width: 100%;
            margin-top: 8px;
            padding: 4px 8px;
            font-size: 12px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            background: none;
            cursor: pointer;
        `,C.addEventListener("click",()=>{n.dispatchCommand(Ma,""),u(),h()}),g.appendChild(_),g.appendChild(C),document.body.appendChild(g),g}function c(g,m){o||(o=a()),o.style.left=`${g}px`,o.style.top=`${m}px`,o.style.display="block"}function u(){o&&(o.style.display="none")}function d(g,m,_,C){r||(r=i()),r.innerHTML="",r.appendChild(s(t.insertRowAbove,()=>{n.dispatchCommand(Oa,{insertAfter:!1})})),r.appendChild(s(t.insertRowBelow,()=>{n.dispatchCommand(Oa,{insertAfter:!0})})),r.appendChild(l()),r.appendChild(s(t.insertColumnLeft,()=>{n.dispatchCommand(va,{insertAfter:!1})})),r.appendChild(s(t.insertColumnRight,()=>{n.dispatchCommand(va,{insertAfter:!0})})),r.appendChild(l()),r.appendChild(s(t.deleteRow,()=>{n.dispatchCommand(Bu,void 0)})),r.appendChild(s(t.deleteColumn,()=>{n.dispatchCommand(Ku,void 0)})),r.appendChild(l()),r.appendChild(s(t.mergeCells,()=>{n.dispatchCommand(zu,void 0)},!_)),r.appendChild(s(t.unmergeCells,()=>{n.dispatchCommand(Uu,void 0)},!C)),r.appendChild(l());let y=s(t.cellBackground,()=>{let b=y.getBoundingClientRect();c(b.right+4,b.top)});r.appendChild(y),r.appendChild(l());let x=s(t.deleteTable,()=>{n.dispatchCommand(Hu,void 0)});x.style.color="#ef4444",r.appendChild(x),r.style.left=`${g}px`,r.style.top=`${m}px`,r.style.display="block",requestAnimationFrame(()=>{if(!r)return;let b=r.getBoundingClientRect();b.right>window.innerWidth&&(r.style.left=`${window.innerWidth-b.width-10}px`),b.bottom>window.innerHeight&&(r.style.top=`${window.innerHeight-b.height-10}px`)}),document.addEventListener("click",p),document.addEventListener("contextmenu",p)}function h(){r&&(r.style.display="none"),u(),document.removeEventListener("click",p),document.removeEventListener("contextmenu",p)}function p(g){let m=g.target;r&&!r.contains(m)&&(!o||!o.contains(m))&&h()}function f(){h(),r&&(r.remove(),r=null),o&&(o.remove(),o=null)}return{show:d,hide:h,destroy:f}}var Pr=class n extends bt{constructor(e,t){super(e,t)}static getType(){return"extended-text"}static clone(e){let t=new n(e.__text,e.__key);return t.__format=e.__format,t.__style=e.__style,t.__mode=e.__mode,t.__detail=e.__detail,t}static importDOM(){let e=bt.importDOM();return{...e,code:()=>({conversion:Po(e?.code),priority:1}),em:()=>({conversion:Po(e?.em),priority:1}),span:()=>({conversion:Po(e?.span),priority:1}),strong:()=>({conversion:Po(e?.strong),priority:1}),sub:()=>({conversion:Po(e?.sub),priority:1}),sup:()=>({conversion:Po(e?.sup),priority:1})}}static importJSON(e){let t=vT(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}isSimpleText(){return this.__type==="extended-text"&&this.__mode===0}exportJSON(){return{...super.exportJSON(),type:"extended-text"}}exportDOM(e){let{element:t}=super.exportDOM(e);if(t!==null&&t instanceof HTMLElement){let r=this.getStyle();r&&t.setAttribute("style",r),this.getFormat()!==0&&r&&!t.getAttribute("style")&&t.setAttribute("style",r)}return{element:t}}};function vT(n=""){return Ae(new Pr(n))}var MT=1,wT=2,DT=4,LT=8,kT=16,RT=32,FT=64,M_={lexical__textBold:MT,lexical__textItalic:wT,lexical__textStrikethrough:DT,lexical__textUnderline:LT,lexical__textCode:kT,lexical__textSubscript:RT,lexical__textSuperscript:FT};function Po(n){return e=>{let t=n?.(e);if(!t)return null;let r=t.conversion(e);if(!r)return r;let o=e.style.backgroundColor,i=e.style.color,s=e.style.fontFamily,l=e.style.fontWeight,a=e.style.fontSize,c=e.style.textDecoration,u=0;if(e.classList)for(let d of Array.from(e.classList))M_[d]&&(u|=M_[d]);return{...r,forChild:(d,h)=>{let f=(r?.forChild??(g=>g))(d,h);if(Q(f)){let g=[o?`background-color: ${o}`:null,i?`color: ${i}`:null,s?`font-family: ${s}`:null,l?`font-weight: ${l}`:null,a?`font-size: ${a}`:null,c?`text-decoration: ${c}`:null].filter(m=>m!=null).join("; ");if(g.length&&f.setStyle(g),u!==0){let m=f.getFormat();f.setFormat(m|u)}}return f}}}}var w_=1;function ce(n,e){let t=n?.[e];return t instanceof HTMLElement?t:null}function IT(n){let e=new DOMParser().parseFromString(n,"text/html");return e.querySelectorAll("img").forEach(t=>{let r=t.getAttribute("src")??"";/^https?:\/\//i.test(r)||t.remove()}),e.body.innerHTML}function D_(n){return n?n.startsWith("/")?!0:/^https?:\/\//i.test(n):!1}function L_(n){let e=Array.from(n.querySelectorAll("img"));for(let t of e){let r=t.getAttribute("src")??"";if(!D_(r)){t.remove();continue}let o=t.getAttribute("width"),i=t.getAttribute("height");o&&!/^\d+$/.test(o)&&t.removeAttribute("width"),i&&!/^\d+$/.test(i)&&t.removeAttribute("height")}}function $T(n){if(!n)return n;let e=new DOMParser().parseFromString(n,"text/html");return L_(e),e.body.innerHTML}function PT(n){let e=new Set;return n&&new DOMParser().parseFromString(n,"text/html").querySelectorAll("img").forEach(r=>{let o=r.getAttribute("src");o&&D_(o)&&e.add(o)}),e}function BT({basicColors:n=["#d0021b","#f5a623","#f8e71c","#8b572a","#7ed321","#417505","#bd10e0","#9013fe","#4a90e2","#50e3c2","#b8e986","#000000","#4a4a4a","#9b9b9b","#ffffff"],state:e,enabledToolbars:t=["undo","redo","normal","h1","h2","h3","h4","h5","h6","bullet","numbered","quote","code","fontSize","bold","italic","underline","icode","link","textColor","backgroundColor","lowercase","uppercase","capitalize","strikethrough","subscript","superscript","clear","left","center","right","justify","start","end","indent","outdent","hr","image"],internalLinks:r=[],hasInternalLinks:o=!1,siteUrl:i=""}){let s=nm;return{$refs:{},$nextTick:()=>{},$dispatch:()=>{},state:e??null,basicColors:n,toolbarState:JSON.parse(JSON.stringify(Um)),showLinkEditor:!1,linkEditMode:!1,linkEditorAnchor:null,linkEditorUrl:null,linkType:"external",linkOpenInNewTab:!0,selectedInternalLink:"",internalLinks:r,hasInternalLinks:o,siteUrl:i,editor:null,uploadUrl:null,enabledToolbars:t,activeImageKey:null,imageLockAspect:!0,imageAspectRatio:null,imageLastChanged:null,originalImages:new Set,deletedImages:[],showTableEditor:!1,tableEditorAnchor:null,tableRows:3,tableCols:3,tableHasHeaders:!0,tableBorderStyle:"light",tableCellPadding:"normal",tableContextMenu:null,init:function(){this.uploadUrl=window?.filamentData?.metaLexicalEditor?.uploadUrl??"/filament-meta-lexical-editor/upload-image";let a=ce(this.$refs,"editor");if(!a)return;let c={namespace:"lexical-editor",nodes:[Pr,{replace:bt,with:d=>{let h=new Pr(d.__text);return h.__format=d.__format,h.__style=d.__style,h.__mode=d.__mode,h.__detail=d.__detail,h},withKlass:Pr},Ap,Vp,Tp,Zh,Op,tu,Qh,Ic,Mi,$o,Du,wu,Lu],onError:console.error,theme:Wm};this.editor=zs(c),this.editor.setRootElement(a);let u=this.editor;if(dt(ep(u),qp(u),tm(u,em(),300),Zm(u),S_(u),lm(u),A_(u),O_(u),...im(u,am,Ic,sm)),this.tableContextMenu=v_(u),a.addEventListener("contextmenu",d=>{d.target.closest("td, th")&&this.tableContextMenu&&(d.preventDefault(),u.getEditorState().read(()=>{let f=M(),g=kt(f)&&f.getNodes().filter(wo).length>1,m=v(f)&&(()=>{let C=f.anchor.getNode().getParent();return wo(C)?(C.getRowSpan()||1)>1||(C.getColSpan()||1)>1:!1})();this.tableContextMenu?.show(d.clientX,d.clientY,g,m)}))}),u.registerCommand(Sr,d=>(this.updateToolbarState("canUndo",d),this.updateToolbarState("cannotUndo",!d),!1),w_),u.registerCommand(br,d=>(this.updateToolbarState("canRedo",d),this.updateToolbarState("cannotRedo",!d),!1),w_),u.registerUpdateListener(({editorState:d})=>{d.read(()=>{let h=Qs(u);this.state=$T(h),this.updateToolbar()})}),this.state){let d=IT(this.state);this.originalImages=PT(this.state),u.update(()=>{let h=new DOMParser().parseFromString(d,"text/html");L_(h);let p=ea(u,h);je().select(),jn(p)})}this.registerToolbarActions(),this.initColorPickers()},initColorPickers:function(){window.__metaLexicalColorisInit||(window.__metaLexicalColorisInit=!0,s.init?.())},updateLink:function(){if(!this.editor)return;let a=null;if(this.linkType==="internal"&&this.selectedInternalLink?a="/"+this.selectedInternalLink:a=this.linkEditorUrl,!a)return;let c={url:a,target:this.linkOpenInNewTab?"_blank":"_self",rel:this.linkOpenInNewTab?"noopener noreferrer":""};this.editor.dispatchCommand(rr,c),this.linkEditMode=!1,this.closeLinkEditorDialog()},removeLink:function(){this.editor&&(this.editor.dispatchCommand(rr,null),this.closeLinkEditorDialog())},showLinkEditorDialog:function(a,c=null,u=!0){this.$nextTick(()=>{this.linkEditorAnchor=a,this.linkEditMode=u,this.linkEditorUrl=c,this.showLinkEditor=!0,this.linkType="external",this.selectedInternalLink="",this.linkOpenInNewTab=!0,c&&this.detectLinkType()})},closeLinkEditorDialog:function(){this.$nextTick(()=>{this.linkEditorAnchor=null,this.linkEditorUrl=null,this.showLinkEditor=!1,this.linkType="external",this.selectedInternalLink="",this.linkOpenInNewTab=!0})},onInternalLinkSelected:function(){this.selectedInternalLink&&(this.linkOpenInNewTab=!1)},getInternalLinkUrl:function(){return this.selectedInternalLink?`${this.siteUrl.replace(/\/$/,"")}/${this.selectedInternalLink}`:""},detectLinkType:function(){let a=this.linkEditorUrl;if(a)if(Io(a)){this.linkType="internal";let c=a.replace(/^\//,""),u=this.internalLinks.find(d=>d.slug===c);u&&(this.selectedInternalLink=u.slug),this.linkOpenInNewTab=!1}else this.linkType="external",this.linkOpenInNewTab=!0},handleImage:async function(){let a=ce(this.$refs,"image_input"),c=ce(this.$refs,"image_alt"),u=a?.files,d=c?.value??"";if(!u||!u[0])return!1;let h=new FormData;h.append("image",u[0]),h.append("alt",d);let p=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")??"",f=await fetch(this.uploadUrl??"/filament-meta-lexical-editor/upload-image",{method:"POST",headers:p?{"X-CSRF-TOKEN":p}:{},body:h,credentials:"same-origin"});if(!f.ok)return console.error("Image upload failed:",await f.text()),!1;let g=await f.json(),m={altText:g.alt??d??"",src:g.url,...g.width?{width:Number(g.width)}:{},...g.height?{height:Number(g.height)}:{}};return this.insertImage(m),a&&(a.value=""),c&&(c.value=""),!0},insertImage:function(a){this.editor&&this.editor.dispatchCommand($u,a)},openImageEditor:function(a){this.editor&&this.editor.read(()=>{let c=ct(a);if(!Aa(c))return;let u=ce(this.$refs,"imageEditorModal"),d=u?.getAttribute("modal-id")??null;if(!u||!d)return;let h=u.querySelector("[x-ref='image_editor_alt']"),p=u.querySelector("[x-ref='image_editor_width']"),f=u.querySelector("[x-ref='image_editor_height']");if(!h||!p||!f)return;let g=c.getWidth(),m=c.getHeight();h.value=c.getAltText(),p.value=g>0?String(g):"",f.value=m>0?String(m):"",this.activeImageKey=a,this.imageAspectRatio=g>0&&m>0?g/m:null,this.imageLockAspect=!0,this.imageLastChanged=null,this.$dispatch("open-modal",{id:d})})},deleteImage:function(a){if(!this.editor)return;let c=a??this.activeImageKey??"";c&&(this.editor.update(()=>{let u=ct(c);if(Aa(u)){let d=u.getSrc();d&&!this.deletedImages.includes(d)&&this.deletedImages.push(d),u.remove()}}),this.resetImageEditorForm(),this.activeImageKey=null,this.closeImageEditorModal())},updateImage:function(){if(!this.editor)return;let a=this.activeImageKey??"";if(!a)return;let c=ce(this.$refs,"imageEditorModal");if(!c)return;let u=c.querySelector("[x-ref='image_editor_alt']"),d=c.querySelector("[x-ref='image_editor_width']"),h=c.querySelector("[x-ref='image_editor_height']");if(!u||!d||!h)return;let p=u.value??"",f=Number(d.value),g=Number(h.value);f=Number.isFinite(f)?f:0,g=Number.isFinite(g)?g:0,this.imageLockAspect&&this.imageAspectRatio&&(this.imageLastChanged==="height"&&g>0?(f=Math.round(g*this.imageAspectRatio),d.value=String(f)):f>0&&(g=Math.round(f/this.imageAspectRatio),h.value=String(g))),this.editor.update(()=>{let m=ct(a);Aa(m)&&(m.setAltText(p),m.setWidthAndHeight(f,g))}),this.resetImageEditorForm(),this.activeImageKey=null,this.closeImageEditorModal()},resetImageEditorForm:function(){let a=ce(this.$refs,"imageEditorModal");if(!a)return;let c=a.querySelector("[x-ref='image_editor_alt']"),u=a.querySelector("[x-ref='image_editor_width']"),d=a.querySelector("[x-ref='image_editor_height']");c&&(c.value=""),u&&(u.value=""),d&&(d.value=""),this.imageAspectRatio=null,this.imageLastChanged=null,this.imageLockAspect=!0},closeImageEditorModal:function(){let c=ce(this.$refs,"imageEditorModal")?.getAttribute("modal-id")??null;c&&this.$dispatch("close-modal",{id:c})},toggleImageLockAspect:function(){if(this.imageLockAspect&&!this.imageAspectRatio){let a=ce(this.$refs,"imageEditorModal");if(!a)return;let c=a.querySelector("[x-ref='image_editor_width']"),u=a.querySelector("[x-ref='image_editor_height']");if(!c||!u)return;let d=Number(c.value),h=Number(u.value);Number.isFinite(d)&&Number.isFinite(h)&&d>0&&h>0&&(this.imageAspectRatio=d/h)}},imageWidthInput:function(){if(this.imageLastChanged="width",!this.imageLockAspect)return;let a=ce(this.$refs,"imageEditorModal");if(!a)return;let c=a.querySelector("[x-ref='image_editor_width']"),u=a.querySelector("[x-ref='image_editor_height']");if(!c||!u)return;let d=Number(c.value);if(!Number.isFinite(d)||d<=0)return;let h=Number(u.value);if(!this.imageAspectRatio&&Number.isFinite(h)&&h>0&&(this.imageAspectRatio=d/h),!this.imageAspectRatio)return;let p=Math.round(d/this.imageAspectRatio);u.value=String(p)},imageHeightInput:function(){if(this.imageLastChanged="height",!this.imageLockAspect)return;let a=ce(this.$refs,"imageEditorModal");if(!a)return;let c=a.querySelector("[x-ref='image_editor_width']"),u=a.querySelector("[x-ref='image_editor_height']");if(!c||!u)return;let d=Number(u.value);if(!Number.isFinite(d)||d<=0)return;let h=Number(c.value);if(!this.imageAspectRatio&&Number.isFinite(h)&&h>0&&(this.imageAspectRatio=h/d),!this.imageAspectRatio)return;let p=Math.round(d*this.imageAspectRatio);c.value=String(p)},showTableEditorDialog:function(a){this.$nextTick(()=>{this.tableEditorAnchor=a,this.showTableEditor=!0,this.tableRows=3,this.tableCols=3,this.tableHasHeaders=!0,this.tableBorderStyle="light",this.tableCellPadding="normal"})},closeTableEditorDialog:function(){this.$nextTick(()=>{this.tableEditorAnchor=null,this.showTableEditor=!1})},insertTable:function(){if(!this.editor)return;let a={rows:this.tableRows,columns:this.tableCols,includeHeaders:this.tableHasHeaders,borderStyle:this.tableBorderStyle,cellPadding:this.tableCellPadding};this.editor.dispatchCommand(Pu,a),this.closeTableEditorDialog()},formatHeading:function(a){this.editor&&this.editor.update(()=>{let c=M();v(c)&&er(c,()=>na(a))})},formatAlignment:function(a){this.editor&&this.editor.dispatchCommand(Dt,a)},formatFontFamily:function(a){this.editor&&this.editor.update(()=>{let c=M();v(c)&&po(c,{"font-family":a})})},formatText:function(a){this.editor&&this.editor.dispatchCommand(ut,a)},formatParagraph:function(){this.editor&&this.editor.update(()=>{let a=M();v(a)&&er(a,()=>ne())})},formatBulletList:function(){this.editor&&this.editor.dispatchCommand(ua,void 0)},formatNumberedList:function(){this.editor&&this.editor.dispatchCommand(ca,void 0)},formatLineCode:function(){this.editor&&this.editor.dispatchCommand(ut,"code")},insetLink:function(){this.editor&&this.editor.dispatchCommand(rr,null)},insetHR:function(){this.editor&&this.editor.dispatchCommand(au,void 0)},getToolbarActions:function(){return{bold:()=>this.formatText("bold"),strikethrough:()=>this.formatText("strikethrough"),subscript:()=>this.formatText("subscript"),lowercase:()=>this.formatText("lowercase"),uppercase:()=>this.formatText("uppercase"),capitalize:()=>this.formatText("capitalize"),superscript:()=>this.formatText("superscript"),italic:()=>this.formatText("italic"),underline:()=>this.formatText("underline"),link:a=>{a.stopPropagation(),this.insetLink()},h1:()=>this.formatHeading("h1"),h2:()=>this.formatHeading("h2"),h3:()=>this.formatHeading("h3"),h4:()=>this.formatHeading("h4"),h5:()=>this.formatHeading("h5"),h6:()=>this.formatHeading("h6"),normal:()=>this.formatParagraph(),bullet:()=>this.formatBulletList(),numbered:()=>this.formatNumberedList(),quote:()=>{this.editor&&Ta(this.editor)},code:()=>{this.editor&&Ea(this.editor)},decrement:()=>{if(!this.editor)return;let a=ce(this.$refs,"fontSize");a&&Ro(this.editor,2,a)},increment:()=>{if(!this.editor)return;let a=ce(this.$refs,"fontSize");a&&Ro(this.editor,1,a)},icode:()=>this.formatLineCode(),fontSizeChange:()=>{if(!this.editor)return;let a=ce(this.$refs,"fontSize");a&&Ru(this.editor,Number(a.value),a)},fontSizeKeydown:a=>{if(!this.editor||a.key!=="Enter")return;a.stopPropagation(),a.preventDefault();let c=ce(this.$refs,"fontSize");c&&Ru(this.editor,Number(c.value),c)},undo:()=>this.editor?.dispatchCommand(Hs,void 0),redo:()=>this.editor?.dispatchCommand(Ks,void 0),left:()=>this.formatAlignment("left"),right:()=>this.formatAlignment("right"),center:()=>this.formatAlignment("center"),justify:()=>this.formatAlignment("justify"),start:()=>this.formatAlignment("start"),end:()=>this.formatAlignment("end"),indent:()=>this.editor?.dispatchCommand(Lt,void 0),outdent:()=>this.editor?.dispatchCommand($t,void 0),clear:()=>{this.editor&&ba(this.editor)},textColor:()=>{ce(this.$refs,"text_color_input")?.click(),s({swatches:this.basicColors,alpha:!1,formatToggle:!0})},textColorChange:a=>{if(!this.editor)return;let u=a.target.value;this.editor.update(()=>{let d=M();v(d)&&po(d,{color:u})})},backgroundColor:()=>{ce(this.$refs,"background_color_input")?.click(),s({swatches:this.basicColors,alpha:!1,formatToggle:!0})},backgroundColorChange:a=>{if(!this.editor)return;let u=a.target.value;this.editor.update(()=>{let d=M();v(d)&&po(d,{"background-color":u})})},fontFamily:a=>this.formatFontFamily(a),hr:()=>this.insetHR(),image:()=>{let c=ce(this.$refs,"imageModal")?.getAttribute("modal-id")??null;c&&this.$dispatch("open-modal",{id:c})},table:a=>{a.stopPropagation();let c=ce(this.$refs,"table");c&&this.showTableEditorDialog(c)}}},registerToolbarActions:function(){let a=this.getToolbarActions();this.enabledToolbars.forEach(c=>{if(c==="backgroundColor"){let u=ce(this.$refs,"background_color"),d=ce(this.$refs,"background_color_input");u?.addEventListener("click",()=>a.backgroundColor()),d?.addEventListener("change",h=>a.backgroundColorChange(h))}else if(c==="textColor"){let u=ce(this.$refs,"text_color"),d=ce(this.$refs,"text_color_input");u?.addEventListener("click",()=>a.textColor()),d?.addEventListener("change",h=>a.textColorChange(h))}else if(c==="link")ce(this.$refs,"link")?.addEventListener("click",d=>a.link(d));else if(c==="fontSize"){ce(this.$refs,"decrement")?.addEventListener("click",()=>a.decrement()),ce(this.$refs,"increment")?.addEventListener("click",()=>a.increment());let u=ce(this.$refs,"fontSize");u?.addEventListener("change",()=>a.fontSizeChange()),u?.addEventListener("keydown",d=>a.fontSizeKeydown(d))}else if(c==="fontFamily")ce(this.$refs,"fontFamily")?.addEventListener("change",d=>{let h=d.target;a.fontFamily(h.value)});else if(c==="image")ce(this.$refs,"image")?.addEventListener("click",()=>a.image());else if(c==="table")ce(this.$refs,"table")?.addEventListener("click",d=>a.table(d));else if(c!=="divider"){let u=ce(this.$refs,c),d=a[c];if(!u||typeof d!="function")return;u.addEventListener("click",()=>d())}})},updateToolbar:function(){if(!this.editor)return;let a=M();if(v(a)){let c=a.anchor.getNode(),u=c.getKey()==="root"?c:V(c,_=>{let C=_.getParent();return C!==null&&rt(C)});u===null&&(u=c.getTopLevelElementOrThrow());let d=u.getKey(),h=this.editor.getElementByKey(d);this.updateToolbarState("isRTL",dh(a));let p=ki(a),f=p.getParent(),g=Bt(f)||Bt(p);if(this.updateToolbarState("isLink",g),h!==null)if(jp(u)){let _=Xs(c,tu),C=_?_.getListType():u.getListType();this.updateToolbarState("blockType",C)}else{let _=ra(u)?u.getTag():u.getType();if(_ in zm&&this.updateToolbarState("blockType",_),Np(u)){let C=u.getLanguage();this.updateToolbarState("codeLanguage",C?xp[C]||C:"");return}}this.updateToolbarState("fontColor",_i(a,"color","#000")),this.updateToolbarState("bgColor",_i(a,"background-color","#fff")),this.updateToolbarState("fontFamily",_i(a,"font-family","Arial"));let m;Bt(f)&&(m=V(p,_=>I(_)&&!_.isInline())),this.updateToolbarState("elementFormat",I(m)?m.getFormatType():I(p)?p.getFormatType():f?.getFormatType()||"left")}(v(a)||kt(a))&&(this.updateToolbarState("isBold",a.hasFormat("bold")),this.updateToolbarState("isItalic",a.hasFormat("italic")),this.updateToolbarState("isUnderline",a.hasFormat("underline")),this.updateToolbarState("isStrikethrough",a.hasFormat("strikethrough")),this.updateToolbarState("isSubscript",a.hasFormat("subscript")),this.updateToolbarState("isSuperscript",a.hasFormat("superscript")),this.updateToolbarState("isCode",a.hasFormat("code")),this.updateToolbarState("fontSize",_i(a,"font-size","15px")),this.updateToolbarState("isLowercase",a.hasFormat("lowercase")),this.updateToolbarState("isUppercase",a.hasFormat("uppercase")),this.updateToolbarState("isCapitalize",a.hasFormat("capitalize")))},updateToolbarState:function(a,c){if(this.toolbarState[a]=c,a==="fontColor"){let u=ce(this.$refs,"text_color_input");u&&this.$nextTick(()=>{u.value=c??"#000000",u.dispatchEvent(new Event("input",{bubbles:!0}))})}else if(a==="bgColor"){let u=ce(this.$refs,"background_color_input");u&&this.$nextTick(()=>{u.value=c??"#ffffff",u.dispatchEvent(new Event("input",{bubbles:!0}))})}else if(a==="fontSize"){let u=ce(this.$refs,"fontSize");u&&(u.value=String(c??Do).replace("px",""))}else if(a==="fontFamily"){let u=ce(this.$refs,"fontFamily");u&&(u.value=String(c??"Arial"))}}}}export{BT as default};
/*! Bundled license information:

prismjs/prism.js:
  (**
   * Prism: Lightweight, robust, elegant syntax highlighting
   *
   * @license MIT <https://opensource.org/licenses/MIT>
   * @author Lea Verou <https://lea.verou.me>
   * @namespace
   * @public
   *)

@melloware/coloris/dist/esm/coloris.js:
  (*!
  * Copyright (c) 2021-2024 Momo Bassit.
  * Licensed under the MIT License (MIT)
  * https://github.com/mdbassit/Coloris
  * Version: 0.24.0
  * NPM: https://github.com/melloware/coloris-npm
  *)
*/
