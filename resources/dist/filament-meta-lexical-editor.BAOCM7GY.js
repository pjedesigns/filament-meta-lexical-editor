var Cx=Object.create;var Ns=Object.defineProperty;var yx=Object.getOwnPropertyDescriptor;var xx=Object.getOwnPropertyNames;var Ex=Object.getPrototypeOf,Nx=Object.prototype.hasOwnProperty;var Sx=(n,t,e)=>t in n?Ns(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Tx=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),Tt=(n,t)=>{for(var e in t)Ns(n,e,{get:t[e],enumerable:!0})},bx=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xx(t))!Nx.call(n,o)&&o!==e&&Ns(n,o,{get:()=>t[o],enumerable:!(r=yx(t,o))||r.enumerable});return n};var Tf=(n,t,e)=>(e=n!=null?Cx(Ex(n)):{},bx(t||!n||!n.__esModule?Ns(e,"default",{value:n,enumerable:!0}):e,n));var O=(n,t,e)=>Sx(n,typeof t!="symbol"?t+"":t,e);var ud=Tx((jv,Va)=>{var C0=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var W=(function(n){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,e=0,r={},o={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function h(p){return p instanceof i?new i(p.type,h(p.content),p.alias):Array.isArray(p)?p.map(h):p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(h){return Object.prototype.toString.call(h).slice(8,-1)},objId:function(h){return h.__id||Object.defineProperty(h,"__id",{value:++e}),h.__id},clone:function h(p,_){_=_||{};var C,y;switch(o.util.type(p)){case"Object":if(y=o.util.objId(p),_[y])return _[y];C={},_[y]=C;for(var N in p)p.hasOwnProperty(N)&&(C[N]=h(p[N],_));return C;case"Array":return y=o.util.objId(p),_[y]?_[y]:(C=[],_[y]=C,p.forEach(function(S,E){C[E]=h(S,_)}),C);default:return p}},getLanguage:function(h){for(;h;){var p=t.exec(h.className);if(p)return p[1].toLowerCase();h=h.parentElement}return"none"},setLanguage:function(h,p){h.className=h.className.replace(RegExp(t,"gi"),""),h.classList.add("language-"+p)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(C){var h=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(C.stack)||[])[1];if(h){var p=document.getElementsByTagName("script");for(var _ in p)if(p[_].src==h)return p[_]}return null}},isActive:function(h,p,_){for(var C="no-"+p;h;){var y=h.classList;if(y.contains(p))return!0;if(y.contains(C))return!1;h=h.parentElement}return!!_}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(h,p){var _=o.util.clone(o.languages[h]);for(var C in p)_[C]=p[C];return _},insertBefore:function(h,p,_,C){C=C||o.languages;var y=C[h],N={};for(var S in y)if(y.hasOwnProperty(S)){if(S==p)for(var E in _)_.hasOwnProperty(E)&&(N[E]=_[E]);_.hasOwnProperty(S)||(N[S]=y[S])}var x=C[h];return C[h]=N,o.languages.DFS(o.languages,function(A,v){v===x&&A!=h&&(this[A]=N)}),N},DFS:function h(p,_,C,y){y=y||{};var N=o.util.objId;for(var S in p)if(p.hasOwnProperty(S)){_.call(p,S,p[S],C||S);var E=p[S],x=o.util.type(E);x==="Object"&&!y[N(E)]?(y[N(E)]=!0,h(E,_,null,y)):x==="Array"&&!y[N(E)]&&(y[N(E)]=!0,h(E,_,S,y))}}},plugins:{},highlightAll:function(h,p){o.highlightAllUnder(document,h,p)},highlightAllUnder:function(h,p,_){var C={callback:_,container:h,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",C),C.elements=Array.prototype.slice.apply(C.container.querySelectorAll(C.selector)),o.hooks.run("before-all-elements-highlight",C);for(var y=0,N;N=C.elements[y++];)o.highlightElement(N,p===!0,C.callback)},highlightElement:function(h,p,_){var C=o.util.getLanguage(h),y=o.languages[C];o.util.setLanguage(h,C);var N=h.parentElement;N&&N.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(N,C);var S=h.textContent,E={element:h,language:C,grammar:y,code:S};function x(v){E.highlightedCode=v,o.hooks.run("before-insert",E),E.element.innerHTML=E.highlightedCode,o.hooks.run("after-highlight",E),o.hooks.run("complete",E),_&&_.call(E.element)}if(o.hooks.run("before-sanity-check",E),N=E.element.parentElement,N&&N.nodeName.toLowerCase()==="pre"&&!N.hasAttribute("tabindex")&&N.setAttribute("tabindex","0"),!E.code){o.hooks.run("complete",E),_&&_.call(E.element);return}if(o.hooks.run("before-highlight",E),!E.grammar){x(o.util.encode(E.code));return}if(p&&n.Worker){var A=new Worker(o.filename);A.onmessage=function(v){x(v.data)},A.postMessage(JSON.stringify({language:E.language,code:E.code,immediateClose:!0}))}else x(o.highlight(E.code,E.grammar,E.language))},highlight:function(h,p,_){var C={code:h,grammar:p,language:_};if(o.hooks.run("before-tokenize",C),!C.grammar)throw new Error('The language "'+C.language+'" has no grammar.');return C.tokens=o.tokenize(C.code,C.grammar),o.hooks.run("after-tokenize",C),i.stringify(o.util.encode(C.tokens),C.language)},tokenize:function(h,p){var _=p.rest;if(_){for(var C in _)p[C]=_[C];delete p.rest}var y=new l;return c(y,y.head,h),a(h,y,p,y.head,0),d(y)},hooks:{all:{},add:function(h,p){var _=o.hooks.all;_[h]=_[h]||[],_[h].push(p)},run:function(h,p){var _=o.hooks.all[h];if(!(!_||!_.length))for(var C=0,y;y=_[C++];)y(p)}},Token:i};n.Prism=o;function i(h,p,_,C){this.type=h,this.content=p,this.alias=_,this.length=(C||"").length|0}i.stringify=function h(p,_){if(typeof p=="string")return p;if(Array.isArray(p)){var C="";return p.forEach(function(x){C+=h(x,_)}),C}var y={type:p.type,content:h(p.content,_),tag:"span",classes:["token",p.type],attributes:{},language:_},N=p.alias;N&&(Array.isArray(N)?Array.prototype.push.apply(y.classes,N):y.classes.push(N)),o.hooks.run("wrap",y);var S="";for(var E in y.attributes)S+=" "+E+'="'+(y.attributes[E]||"").replace(/"/g,"&quot;")+'"';return"<"+y.tag+' class="'+y.classes.join(" ")+'"'+S+">"+y.content+"</"+y.tag+">"};function s(h,p,_,C){h.lastIndex=p;var y=h.exec(_);if(y&&C&&y[1]){var N=y[1].length;y.index+=N,y[0]=y[0].slice(N)}return y}function a(h,p,_,C,y,N){for(var S in _)if(!(!_.hasOwnProperty(S)||!_[S])){var E=_[S];E=Array.isArray(E)?E:[E];for(var x=0;x<E.length;++x){if(N&&N.cause==S+","+x)return;var A=E[x],v=A.inside,D=!!A.lookbehind,R=!!A.greedy,$=A.alias;if(R&&!A.pattern.global){var H=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,H+"g")}for(var V=A.pattern||A,q=C.next,se=y;q!==p.tail&&!(N&&se>=N.reach);se+=q.value.length,q=q.next){var ue=q.value;if(p.length>h.length)return;if(!(ue instanceof i)){var ge=1,de;if(R){if(de=s(V,se,h,D),!de||de.index>=h.length)break;var dt=de.index,Je=de.index+de[0].length,Ve=se;for(Ve+=q.value.length;dt>=Ve;)q=q.next,Ve+=q.value.length;if(Ve-=q.value.length,se=Ve,q.value instanceof i)continue;for(var wt=q;wt!==p.tail&&(Ve<Je||typeof wt.value=="string");wt=wt.next)ge++,Ve+=wt.value.length;ge--,ue=h.slice(se,Ve),de.index-=se}else if(de=s(V,0,ue,D),!de)continue;var dt=de.index,tt=de[0],nt=ue.slice(0,dt),Be=ue.slice(dt+tt.length),jt=se+ue.length;N&&jt>N.reach&&(N.reach=jt);var re=q.prev;nt&&(re=c(p,re,nt),se+=nt.length),u(p,re,ge);var He=new i(S,v?o.tokenize(tt,v):tt,$,tt);if(q=c(p,re,He),Be&&c(p,q,Be),ge>1){var Le={cause:S+","+x,reach:jt};a(h,p,_,q.prev,se,Le),N&&Le.reach>N.reach&&(N.reach=Le.reach)}}}}}}function l(){var h={value:null,prev:null,next:null},p={value:null,prev:h,next:null};h.next=p,this.head=h,this.tail=p,this.length=0}function c(h,p,_){var C=p.next,y={value:_,prev:p,next:C};return p.next=y,C.prev=y,h.length++,y}function u(h,p,_){for(var C=p.next,y=0;y<_&&C!==h.tail;y++)C=C.next;p.next=C,C.prev=p,h.length-=y}function d(h){for(var p=[],_=h.head.next;_!==h.tail;)p.push(_.value),_=_.next;return p}if(!n.document)return n.addEventListener&&(o.disableWorkerMessageHandler||n.addEventListener("message",function(h){var p=JSON.parse(h.data),_=p.language,C=p.code,y=p.immediateClose;n.postMessage(o.highlight(C,o.languages[_],_)),y&&n.close()},!1)),o;var f=o.util.currentScript();f&&(o.filename=f.src,f.hasAttribute("data-manual")&&(o.manual=!0));function m(){o.manual||o.highlightAll()}if(!o.manual){var g=document.readyState;g==="loading"||g==="interactive"&&f&&f.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return o})(C0);typeof Va<"u"&&Va.exports&&(Va.exports=W);typeof global<"u"&&(global.Prism=W);W.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};W.languages.markup.tag.inside["attr-value"].inside.entity=W.languages.markup.entity;W.languages.markup.doctype.inside["internal-subset"].inside=W.languages.markup;W.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(W.languages.markup.tag,"addInlined",{value:function(t,e){var r={};r["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:W.languages[e]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+e]={pattern:/[\s\S]+/,inside:W.languages[e]};var i={};i[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:o},W.languages.insertBefore("markup","cdata",i)}});Object.defineProperty(W.languages.markup.tag,"addAttribute",{value:function(n,t){W.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:W.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});W.languages.html=W.languages.markup;W.languages.mathml=W.languages.markup;W.languages.svg=W.languages.markup;W.languages.xml=W.languages.extend("markup",{});W.languages.ssml=W.languages.xml;W.languages.atom=W.languages.xml;W.languages.rss=W.languages.xml;(function(n){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var e=n.languages.markup;e&&(e.tag.addInlined("style","css"),e.tag.addAttribute("style","css"))})(W);W.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};W.languages.javascript=W.languages.extend("clike",{"class-name":[W.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});W.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;W.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:W.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:W.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:W.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:W.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:W.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});W.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:W.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});W.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});W.languages.markup&&(W.languages.markup.tag.addInlined("script","javascript"),W.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));W.languages.js=W.languages.javascript;(function(){if(typeof W>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading\u2026",t=function(f,m){return"\u2716 Error "+f+" while fetching file: "+m},e="\u2716 Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",i="loading",s="loaded",a="failed",l="pre[data-src]:not(["+o+'="'+s+'"]):not(['+o+'="'+i+'"])';function c(f,m,g){var h=new XMLHttpRequest;h.open("GET",f,!0),h.onreadystatechange=function(){h.readyState==4&&(h.status<400&&h.responseText?m(h.responseText):h.status>=400?g(t(h.status,h.statusText)):g(e))},h.send(null)}function u(f){var m=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(f||"");if(m){var g=Number(m[1]),h=m[2],p=m[3];return h?p?[g,Number(p)]:[g,void 0]:[g,g]}}W.hooks.add("before-highlightall",function(f){f.selector+=", "+l}),W.hooks.add("before-sanity-check",function(f){var m=f.element;if(m.matches(l)){f.code="",m.setAttribute(o,i);var g=m.appendChild(document.createElement("CODE"));g.textContent=n;var h=m.getAttribute("data-src"),p=f.language;if(p==="none"){var _=(/\.(\w+)$/.exec(h)||[,"none"])[1];p=r[_]||_}W.util.setLanguage(g,p),W.util.setLanguage(m,p);var C=W.plugins.autoloader;C&&C.loadLanguages(p),c(h,function(y){m.setAttribute(o,s);var N=u(m.getAttribute("data-range"));if(N){var S=y.split(/\r\n?|\n/g),E=N[0],x=N[1]==null?S.length:N[1];E<0&&(E+=S.length),E=Math.max(0,Math.min(E-1,S.length)),x<0&&(x+=S.length),x=Math.max(0,Math.min(x,S.length)),y=S.slice(E,x).join(`
`),m.hasAttribute("data-start")||m.setAttribute("data-start",String(E+1))}g.textContent=y,W.highlightElement(g)},function(y){m.setAttribute(o,a),g.textContent=y})}}),W.plugins.fileHighlight={highlight:function(m){for(var g=(m||document).querySelectorAll(l),h=0,p;p=g[h++];)W.highlightElement(p)}};var d=!1;W.fileHighlight=function(){d||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),d=!0),W.plugins.fileHighlight.highlight.apply(this,arguments)}})()});var ou={};Tt(ou,{$addUpdateTag:()=>Fh,$applyNodeReplacement:()=>Ki,$caretFromPoint:()=>cr,$caretRangeFromSelection:()=>_c,$cloneWithProperties:()=>qc,$cloneWithPropertiesEphemeral:()=>cN,$comparePointCaretNext:()=>tu,$copyNode:()=>Vc,$create:()=>dN,$createLineBreakNode:()=>So,$createNodeSelection:()=>Rc,$createParagraphNode:()=>$n,$createPoint:()=>sn,$createRangeSelection:()=>hh,$createRangeSelectionFromDom:()=>PE,$createTabNode:()=>qs,$createTextNode:()=>rt,$extendCaretToRange:()=>Qc,$findMatchingParent:()=>Si,$getAdjacentChildCaret:()=>wo,$getAdjacentNode:()=>Rh,$getAdjacentSiblingOrParentSiblingCaret:()=>yN,$getCaretInDirection:()=>ur,$getCaretRange:()=>lr,$getCaretRangeInDirection:()=>ru,$getCharacterOffsets:()=>cc,$getChildCaret:()=>Kn,$getChildCaretAtIndex:()=>Xh,$getChildCaretOrSelf:()=>Gh,$getCollapsedCaretRange:()=>Yh,$getCommonAncestor:()=>Ti,$getCommonAncestorResultBranchOrder:()=>nu,$getEditor:()=>Xc,$getNearestNodeFromDOMNode:()=>ra,$getNearestRootOrShadowRoot:()=>Ph,$getNodeByKey:()=>qe,$getNodeByKeyOrThrow:()=>Bh,$getNodeFromDOMNode:()=>zc,$getPreviousSelection:()=>Gr,$getRoot:()=>Kt,$getSelection:()=>pe,$getSiblingCaret:()=>ct,$getState:()=>Ds,$getStateChange:()=>oE,$getTextContent:()=>HE,$getTextNodeOffset:()=>on,$getTextPointCaret:()=>ar,$getTextPointCaretSlice:()=>pc,$getWritableNodeState:()=>xc,$hasAncestor:()=>js,$hasUpdateTag:()=>oN,$insertNodes:()=>KE,$isBlockElementNode:()=>$E,$isChildCaret:()=>rn,$isDecoratorNode:()=>Me,$isEditorState:()=>GE,$isElementNode:()=>I,$isExtendableTextPointCaret:()=>Vh,$isInlineElementOrDecoratorNode:()=>iN,$isLeafNode:()=>tN,$isLineBreakNode:()=>Fr,$isNodeCaret:()=>hN,$isNodeSelection:()=>Zs,$isParagraphNode:()=>Eh,$isRangeSelection:()=>X,$isRootNode:()=>lt,$isRootOrShadowRoot:()=>Jt,$isSiblingCaret:()=>Wr,$isTabNode:()=>kc,$isTextNode:()=>z,$isTextPointCaret:()=>Bn,$isTextPointCaretSlice:()=>CN,$isTokenOrSegmented:()=>kn,$isTokenOrTab:()=>rr,$nodesOfType:()=>rN,$normalizeCaret:()=>tn,$normalizeSelection__EXPERIMENTAL:()=>Ls,$onUpdate:()=>$h,$parseSerializedNode:()=>WE,$removeTextFromCaretRange:()=>Jh,$rewindSiblingCaret:()=>Io,$selectAll:()=>nN,$setCompositionKey:()=>it,$setPointFromCaret:()=>Do,$setSelection:()=>Rt,$setSelectionFromCaretRange:()=>jh,$setState:()=>iE,$splitAtPointCaretNext:()=>NN,$splitNode:()=>sN,$updateRangeSelectionFromCaretRange:()=>bi,ArtificialNode__DO_NOT_USE:()=>Ws,BEFORE_INPUT_COMMAND:()=>Nc,BLUR_COMMAND:()=>Jg,CAN_REDO_COMMAND:()=>_E,CAN_UNDO_COMMAND:()=>CE,CLEAR_EDITOR_COMMAND:()=>pE,CLEAR_HISTORY_COMMAND:()=>mE,CLICK_COMMAND:()=>Dg,COLLABORATION_TAG:()=>ih,COMMAND_PRIORITY_CRITICAL:()=>XE,COMMAND_PRIORITY_EDITOR:()=>_o,COMMAND_PRIORITY_HIGH:()=>VE,COMMAND_PRIORITY_LOW:()=>jE,COMMAND_PRIORITY_NORMAL:()=>JE,COMPOSITION_END_COMMAND:()=>bc,COMPOSITION_START_COMMAND:()=>Tc,CONTROLLED_TEXT_INSERTION_COMMAND:()=>yo,COPY_COMMAND:()=>wc,CUT_COMMAND:()=>Dc,DELETE_CHARACTER_COMMAND:()=>vi,DELETE_LINE_COMMAND:()=>wi,DELETE_WORD_COMMAND:()=>Mi,DRAGEND_COMMAND:()=>Yg,DRAGOVER_COMMAND:()=>Gg,DRAGSTART_COMMAND:()=>Wg,DROP_COMMAND:()=>Ug,DecoratorNode:()=>Li,ElementNode:()=>sr,FOCUS_COMMAND:()=>jg,FORMAT_ELEMENT_COMMAND:()=>hE,FORMAT_TEXT_COMMAND:()=>tr,HISTORIC_TAG:()=>AE,HISTORY_MERGE_TAG:()=>vs,HISTORY_PUSH_TAG:()=>OE,INDENT_CONTENT_COMMAND:()=>fE,INPUT_COMMAND:()=>Sc,INSERT_LINE_BREAK_COMMAND:()=>xi,INSERT_PARAGRAPH_COMMAND:()=>Zl,INSERT_TAB_COMMAND:()=>dE,INTERNAL_$isBlock:()=>Fn,IS_ALL_FORMATTING:()=>Px,IS_BOLD:()=>Dx,IS_CODE:()=>Ix,IS_HIGHLIGHT:()=>Cc,IS_ITALIC:()=>Lx,IS_STRIKETHROUGH:()=>kx,IS_SUBSCRIPT:()=>Fx,IS_SUPERSCRIPT:()=>$x,IS_UNDERLINE:()=>Rx,KEY_ARROW_DOWN_COMMAND:()=>$g,KEY_ARROW_LEFT_COMMAND:()=>Rg,KEY_ARROW_RIGHT_COMMAND:()=>Lg,KEY_ARROW_UP_COMMAND:()=>Fg,KEY_BACKSPACE_COMMAND:()=>Bg,KEY_DELETE_COMMAND:()=>Hg,KEY_DOWN_COMMAND:()=>Mc,KEY_ENTER_COMMAND:()=>$s,KEY_ESCAPE_COMMAND:()=>Kg,KEY_MODIFIER_COMMAND:()=>Vg,KEY_SPACE_COMMAND:()=>Pg,KEY_TAB_COMMAND:()=>zg,LineBreakNode:()=>No,MOVE_TO_END:()=>kg,MOVE_TO_START:()=>Ig,NODE_STATE_KEY:()=>Zx,OUTDENT_CONTENT_COMMAND:()=>gE,PASTE_COMMAND:()=>Ac,PASTE_TAG:()=>vE,ParagraphNode:()=>Ao,REDO_COMMAND:()=>vc,REMOVE_TEXT_COMMAND:()=>Ql,RootNode:()=>bo,SELECTION_CHANGE_COMMAND:()=>Ec,SELECTION_INSERT_CLIPBOARD_NODES_COMMAND:()=>uE,SELECT_ALL_COMMAND:()=>ec,SKIP_COLLAB_TAG:()=>ME,SKIP_DOM_SELECTION_TAG:()=>ah,SKIP_SCROLL_INTO_VIEW_TAG:()=>sh,SKIP_SELECTION_FOCUS_TAG:()=>lh,TEXT_TYPE_TO_FORMAT:()=>yt,TabNode:()=>To,TextNode:()=>Kr,UNDO_COMMAND:()=>Oc,buildImportMap:()=>bE,configExtension:()=>TN,createCommand:()=>te,createEditor:()=>qE,createSharedNodeState:()=>bg,createState:()=>rE,declarePeerDependency:()=>bN,defineExtension:()=>SN,flipDirection:()=>dr,getDOMOwnerDocument:()=>jc,getDOMSelection:()=>Cn,getDOMSelectionFromTarget:()=>Kh,getDOMTextNode:()=>zr,getEditorPropertyFromDOMNode:()=>Pi,getNearestEditorFromDOMNode:()=>Hc,getRegisteredNode:()=>Bc,getRegisteredNodeOrThrow:()=>Pc,getStaticNodeConfig:()=>Hi,getTextDirection:()=>eN,getTransformSetFromKlass:()=>Sh,isBlockDomNode:()=>gc,isCurrentlyReadOnlyMode:()=>ko,isDOMDocumentNode:()=>Ah,isDOMNode:()=>Ro,isDOMTextNode:()=>_n,isDOMUnmanaged:()=>Wh,isDocumentFragment:()=>Hh,isExactShortcutMatch:()=>xe,isHTMLAnchorElement:()=>aN,isHTMLElement:()=>bt,isInlineDomNode:()=>zh,isLexicalEditor:()=>ta,isModifierMatch:()=>kh,isSelectionCapturedInDecoratorInput:()=>Kc,isSelectionWithinEditor:()=>$i,makeStepwiseIterator:()=>eu,removeFromParent:()=>or,resetRandomKey:()=>ZE,safeCast:()=>AN,setDOMUnmanaged:()=>uN,setNodeIndentFromDOM:()=>Uh,shallowMergeConfig:()=>ON});function F(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function mg(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);e.search=r.toString(),console.warn(`Minified Lexical warning #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var an=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Ax=an&&"documentMode"in document?document.documentMode:null,en=an&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),$r=an&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ws=!(!an||!("InputEvent"in window)||Ax)&&"getTargetRanges"in new window.InputEvent("input"),Ii=an&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Lo=an&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ox=an&&/Android/.test(navigator.userAgent),_g=an&&/^(?=.*Chrome).*/i.test(navigator.userAgent),bf=an&&Ox&&_g,Fi=an&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&en&&!_g;function Cg(...n){let t=[];for(let e of n)if(e&&typeof e=="string")for(let[r]of e.matchAll(/\S+/g))t.push(r);return t}var vx=0,Mx=1,wx=2,Dx=1,Lx=2,kx=4,Rx=8,Ix=16,Fx=32,$x=64,Cc=128,Px=2047,Bx=1,Kx=2,Hx=3,zx=4,Ux=5,Wx=6,Vs=Ii||Lo||Fi?"\xA0":"\u200B",ir=`

`,Gx=$r?"\xA0":Vs,yg="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",xg="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",Yx=new RegExp("^[^"+xg+"]*["+yg+"]"),jx=new RegExp("^[^"+yg+"]*["+xg+"]"),yt={bold:1,capitalize:1024,code:16,highlight:Cc,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},Jx={directionless:1,unmergeable:2},Af={center:2,end:6,justify:4,left:1,right:3,start:5},Vx={[Kx]:"center",[Wx]:"end",[zx]:"justify",[Bx]:"left",[Hx]:"right",[Ux]:"start"},Xx={normal:0,segmented:2,token:1},qx={[vx]:"normal",[wx]:"segmented",[Mx]:"token"},Zx="$",Of="$config";function Eg(n,t,e,r,o,i){let s=n.getFirstChild();for(;s!==null;){let a=s.__key;s.__parent===t&&(I(s)&&Eg(s,a,e,r,o,i),e.has(a)||i.delete(a),o.push(a)),s=s.getNextSibling()}}var zl=!1,yc=0;function Qx(n){yc=n.timeStamp}function Ll(n,t,e){let r=n.nodeName==="BR",o=t.__lexicalLineBreak;return o&&(n===o||r&&n.previousSibling===o)||r&&na(n,e)!==void 0}function eE(n,t,e){let r=Cn(Vt(e)),o=null,i=null;r!==null&&r.anchorNode===n&&(o=r.anchorOffset,i=r.focusOffset);let s=n.nodeValue;s!==null&&Gc(t,s,o,i,!1)}function tE(n,t,e){if(X(n)){let r=n.anchor.getNode();if(r.is(e)&&n.format!==r.getFormat())return!1}return _n(t)&&e.isAttached()}function nE(n,t,e,r){for(let o=n;o&&!Wh(o);o=Bi(o)){let i=na(o,t);if(i!==void 0){let s=qe(i,e);if(s)return Me(s)||!bt(o)?void 0:[o,s]}else if(o===r)return[r,Mh(e)]}}function Ng(n,t,e){zl=!0;let r=performance.now()-yc>100;try{mn(n,()=>{let o=pe()||(function(f){return f.getEditorState().read(()=>{let m=pe();return m!==null?m.clone():null})})(n),i=new Map,s=n.getRootElement(),a=n._editorState,l=n._blockCursorElement,c=!1,u="";for(let f=0;f<t.length;f++){let m=t[f],g=m.type,h=m.target,p=nE(h,n,a,s);if(!p)continue;let[_,C]=p;if(g==="characterData")r&&z(C)&&_n(h)&&tE(o,h,C)&&eE(h,C,n);else if(g==="childList"){c=!0;let y=m.addedNodes;for(let E=0;E<y.length;E++){let x=y[E],A=zc(x),v=x.parentNode;if(v!=null&&x!==l&&A===null&&!Ll(x,v,n)){if($r){let D=(bt(x)?x.innerText:null)||x.nodeValue;D&&(u+=D)}v.removeChild(x)}}let N=m.removedNodes,S=N.length;if(S>0){let E=0;for(let x=0;x<S;x++){let A=N[x];(Ll(A,h,n)||l===A)&&(h.appendChild(A),E++)}S!==E&&i.set(_,C)}}}if(i.size>0)for(let[f,m]of i)m.reconcileObservedMutation(f,n);let d=e.takeRecords();if(d.length>0){for(let f=0;f<d.length;f++){let m=d[f],g=m.addedNodes,h=m.target;for(let p=0;p<g.length;p++){let _=g[p],C=_.parentNode;C==null||_.nodeName!=="BR"||Ll(_,h,n)||C.removeChild(_)}}e.takeRecords()}o!==null&&(c&&Rt(o),$r&&Ih(n)&&o.insertRawText(u))})}finally{zl=!1}}function Sg(n){let t=n._observer;t!==null&&Ng(n,t.takeRecords(),t)}function Tg(n){(function(t){yc===0&&Vt(t).addEventListener("textInput",Qx,!0)})(n),n._observer=new MutationObserver((t,e)=>{Ng(n,t,e)})}var Ul=class{constructor(t,e){O(this,"key");O(this,"parse");O(this,"unparse");O(this,"isEqual");O(this,"defaultValue");this.key=t,this.parse=e.parse.bind(e),this.unparse=(e.unparse||sE).bind(e),this.isEqual=(e.isEqual||Object.is).bind(e),this.defaultValue=this.parse(void 0)}};function rE(n,t){return new Ul(n,t)}function Ds(n,t,e="latest"){let r=(e==="latest"?n.getLatest():n).__state;return r?r.getValue(t):t.defaultValue}function oE(n,t,e){let r=Ds(n,e,"direct"),o=Ds(t,e,"direct");return e.isEqual(r,o)?null:[r,o]}function iE(n,t,e){let r;if(ot(),typeof e=="function"){let i=n.getLatest(),s=Ds(i,t);if(r=e(s),t.isEqual(s,r))return i}else r=e;let o=n.getWritable();return xc(o).updateFromKnown(t,r),o}function bg(n){let t=new Map,e=new Set;for(let r=typeof n=="function"?n:n.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){let{ownNodeConfig:o}=Hi(r);if(o&&o.stateConfigs)for(let i of o.stateConfigs){let s;"stateConfig"in i?(s=i.stateConfig,i.flat&&e.add(s.key)):s=i,t.set(s.key,s)}}return{flatKeys:e,sharedConfigMap:t}}var Wl=class n{constructor(t,e,r=void 0,o=new Map,i=void 0){O(this,"node");O(this,"knownState");O(this,"unknownState");O(this,"sharedNodeState");O(this,"size");this.node=t,this.sharedNodeState=e,this.unknownState=r,this.knownState=o;let{sharedConfigMap:s}=this.sharedNodeState,a=i!==void 0?i:(function(l,c,u){let d=u.size;if(c)for(let f in c){let m=l.get(f);m&&u.has(m)||d++}return d})(s,r,o);this.size=a}getValue(t){let e=this.knownState.get(t);if(e!==void 0)return e;this.sharedNodeState.sharedConfigMap.set(t.key,t);let r=t.defaultValue;if(this.unknownState&&t.key in this.unknownState){let o=this.unknownState[t.key];o!==void 0&&(r=t.parse(o)),this.updateFromKnown(t,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){let t={...this.unknownState},e={};for(let[r,o]of this.knownState)r.isEqual(o,r.defaultValue)?delete t[r.key]:t[r.key]=r.unparse(o);for(let r of this.sharedNodeState.flatKeys)r in t&&(e[r]=t[r],delete t[r]);return vf(t)&&(e.$=t),e}getWritable(t){if(this.node===t)return this;let{sharedNodeState:e,unknownState:r}=this,o=new Map(this.knownState);return new n(t,e,(function(i,s,a){let l;if(a)for(let[c,u]of Object.entries(a)){let d=i.get(c);d?s.has(d)||s.set(d,d.parse(u)):(l=l||{},l[c]=u)}return l})(e.sharedConfigMap,o,r),o,this.size)}updateFromKnown(t,e){let r=t.key;this.sharedNodeState.sharedConfigMap.set(r,t);let{knownState:o,unknownState:i}=this;o.has(t)||i&&r in i||(i&&(delete i[r],this.unknownState=vf(i)),this.size++),o.set(t,e)}updateFromUnknown(t,e){let r=this.sharedNodeState.sharedConfigMap.get(t);r?this.updateFromKnown(r,r.parse(e)):(this.unknownState=this.unknownState||{},t in this.unknownState||this.size++,this.unknownState[t]=e)}updateFromJSON(t){let{knownState:e}=this;for(let r of e.keys())e.set(r,r.defaultValue);if(this.size=e.size,this.unknownState=void 0,t)for(let[r,o]of Object.entries(t))this.updateFromUnknown(r,o)}};function xc(n){let t=n.getWritable(),e=t.__state?t.__state.getWritable(t):new Wl(t,Ag(t));return t.__state=e,e}function Ag(n){return n.__state?n.__state.sharedNodeState:Pc(Xc(),n.getType()).sharedNodeState}function vf(n){if(n)for(let t in n)return n}function sE(n){return n}function Mf(n,t,e){for(let[r,o]of t.knownState){if(n.has(r.key))continue;n.add(r.key);let i=e?e.getValue(r):r.defaultValue;if(i!==o&&!r.isEqual(i,o))return!0}return!1}function wf(n,t,e){let{unknownState:r}=t,o=e?e.unknownState:void 0;if(r){for(let[i,s]of Object.entries(r))if(!n.has(i)&&(n.add(i),s!==(o?o[i]:void 0)))return!0}return!1}function Df(n,t){let e=n.__state;return e&&e.node===n?e.getWritable(t):e}function Lf(n,t){let e=n.__mode,r=n.__format,o=n.__style,i=t.__mode,s=t.__format,a=t.__style,l=n.__state,c=t.__state;return(e===null||e===i)&&(r===null||r===s)&&(o===null||o===a)&&(n.__state===null||l===c||(function(u,d){if(u===d)return!0;if(u&&d&&u.size!==d.size)return!1;let f=new Set;return!(u&&Mf(f,u,d)||d&&Mf(f,d,u)||u&&wf(f,u,d)||d&&wf(f,d,u))})(l,c))}function kf(n,t){let e=n.mergeWithSibling(t),r=Ne()._normalizedNodes;return r.add(n.__key),r.add(t.__key),e}function Rf(n){let t,e,r=n;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(t=r.getPreviousSibling())!==null&&z(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(Lf(t,r)){r=kf(t,r);break}break}t.remove()}for(;(e=r.getNextSibling())!==null&&z(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(Lf(r,e)){r=kf(r,e);break}break}e.remove()}}else r.remove()}function Ls(n){return If(n.anchor),If(n.focus),n}function If(n){for(;n.type==="element";){let t=n.getNode(),e=n.offset,r,o;if(e===t.getChildrenSize()?(r=t.getChildAtIndex(e-1),o=!0):(r=t.getChildAtIndex(e),o=!1),z(r)){n.set(r.__key,o?r.getTextContentSize():0,"text",!0);break}if(!I(r))break;n.set(r.__key,o?r.getChildrenSize():0,"element",!0)}}var Pr,xt,Ai,Xs,Gl,Yl,Br,nn,jl,Oi,Xe="",pn=null,Rr=null,Rn="",po=!1,ks=!1;function Rs(n,t){let e=Br.get(n);if(t!==null){let r=ql(n);r.parentNode===t&&t.removeChild(r)}if(nn.has(n)||xt._keyToDOMMap.delete(n),I(e)){let r=Fs(e,Br);Jl(r,0,r.length-1,null)}e!==void 0&&Yc(Oi,Ai,Xs,e,"destroyed")}function Jl(n,t,e,r){let o=t;for(;o<=e;++o){let i=n[o];i!==void 0&&Rs(i,r)}}function kr(n,t){n.setProperty("text-align",t)}var aE="40px";function Og(n,t){let e=Pr.theme.indent;if(typeof e=="string"){let o=n.classList.contains(e);t>0&&!o?n.classList.add(e):t<1&&o&&n.classList.remove(e)}let r=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||aE;n.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${r})`)}function vg(n,t){let e=n.style;t===0?kr(e,""):t===1?kr(e,"left"):t===2?kr(e,"center"):t===3?kr(e,"right"):t===4?kr(e,"justify"):t===5?kr(e,"start"):t===6&&kr(e,"end")}function Vl(n,t){let e=(function(r){let o=r.__dir;if(o!==null)return o;if(lt(r))return null;let i=r.getParentOrThrow();return lt(i)&&i.__dir===null?"auto":null})(t);e!==null?n.dir=e:n.removeAttribute("dir")}function Is(n,t){let e=nn.get(n);e===void 0&&F(60);let r=e.createDOM(Pr,xt);if((function(o,i,s){let a=s._keyToDOMMap;(function(l,c,u){let d=`__lexicalKey_${c._key}`;l[d]=u})(i,s,o),a.set(o,i)})(n,r,xt),z(e)?r.setAttribute("data-lexical-text","true"):Me(e)&&r.setAttribute("data-lexical-decorator","true"),I(e)){let o=e.__indent,i=e.__size;if(Vl(r,e),o!==0&&Og(r,o),i!==0){let a=i-1;Xl(Fs(e,nn),e,0,a,e.getDOMSlot(r))}let s=e.__format;s!==0&&vg(r,s),e.isInline()||Mg(null,e,r),oa(e)&&(Xe+=ir,Rn+=ir)}else{let o=e.getTextContent();if(Me(e)){let i=e.decorate(xt,Pr);i!==null&&wg(n,i),r.contentEditable="false"}Xe+=o,Rn+=o}return t!==null&&t.insertChild(r),Yc(Oi,Ai,Xs,e,"created"),r}function Xl(n,t,e,r,o){let i=Xe;Xe="";let s=e;for(;s<=r;++s){Is(n[s],o);let a=nn.get(n[s]);a!==null&&z(a)&&pn===null&&(pn=a.getFormat(),Rr=a.getStyle())}oa(t)&&(Xe+=ir),o.element.__lexicalTextContent=Xe,Xe=i+Xe}function Ff(n,t){if(n){let e=n.__last;if(e){let r=t.get(e);if(r)return Fr(r)?"line-break":Me(r)&&r.isInline()?"decorator":null}return"empty"}return null}function Mg(n,t,e){let r=Ff(n,Br),o=Ff(t,nn);r!==o&&t.getDOMSlot(e).setManagedLineBreak(o)}function lE(n,t,e){var r;pn=null,Rr=null,(function(o,i,s){let a=Xe,l=o.__size,c=i.__size;Xe="";let u=s.element;if(l===1&&c===1){let d=o.__first,f=i.__first;if(d===f)Ci(d,u);else{let g=ql(d),h=Is(f,null);try{u.replaceChild(h,g)}catch(p){if(typeof p=="object"&&p!=null){let _=`${p.toString()} Parent: ${u.tagName}, new child: {tag: ${h.tagName} key: ${f}}, old child: {tag: ${g.tagName}, key: ${d}}.`;throw new Error(_)}throw p}Rs(d,null)}let m=nn.get(f);z(m)&&pn===null&&(pn=m.getFormat(),Rr=m.getStyle())}else{let d=Fs(o,Br),f=Fs(i,nn);if(d.length!==l&&F(227),f.length!==c&&F(228),l===0)c!==0&&Xl(f,i,0,c-1,s);else if(c===0){if(l!==0){let m=s.after==null&&s.before==null&&s.element.__lexicalLineBreak==null;Jl(d,0,l-1,m?null:u),m&&(u.textContent="")}}else(function(m,g,h,p,_,C){let y=p-1,N=_-1,S,E,x=C.getFirstChild(),A=0,v=0;for(;A<=y&&v<=N;){let $=g[A],H=h[v];if($===H)x=kl(Ci(H,C.element)),A++,v++;else{S===void 0&&(S=new Set(g)),E===void 0&&(E=new Set(h));let q=E.has($),se=S.has(H);if(q)if(se){let ue=Ur(xt,H);ue===x?x=kl(Ci(H,C.element)):(C.withBefore(x).insertChild(ue),Ci(H,C.element)),A++,v++}else Is(H,C.withBefore(x)),v++;else x=kl(ql($)),Rs($,C.element),A++}let V=nn.get(H);V!==null&&z(V)&&pn===null&&(pn=V.getFormat(),Rr=V.getStyle())}let D=A>y,R=v>N;if(D&&!R){let $=h[N+1],H=$===void 0?null:xt.getElementByKey($);Xl(h,m,v,N,C.withBefore(H))}else R&&!D&&Jl(g,A,y,C.element)})(i,d,f,l,c,s)}oa(i)&&(Xe+=ir),u.__lexicalTextContent=Xe,Xe=a+Xe})(n,t,t.getDOMSlot(e)),r=t,pn==null||pn===r.__textFormat||ks||r.setTextFormat(pn),(function(o){Rr==null||Rr===o.__textStyle||ks||o.setTextStyle(Rr)})(t)}function Fs(n,t){let e=[],r=n.__first;for(;r!==null;){let o=t.get(r);o===void 0&&F(101),e.push(r),r=o.__next}return e}function Ci(n,t){let e=Br.get(n),r=nn.get(n);e!==void 0&&r!==void 0||F(61);let o=po||Yl.has(n)||Gl.has(n),i=Ur(xt,n);if(e===r&&!o){if(I(e)){let s=i.__lexicalTextContent;s!==void 0&&(Xe+=s,Rn+=s)}else{let s=e.getTextContent();Rn+=s,Xe+=s}return i}if(e!==r&&o&&Yc(Oi,Ai,Xs,r,"updated"),r.updateDOM(e,i,Pr)){let s=Is(n,null);return t===null&&F(62),t.replaceChild(s,i),Rs(n,null),s}if(I(e)&&I(r)){let s=r.__indent;(po||s!==e.__indent)&&Og(i,s);let a=r.__format;if((po||a!==e.__format)&&vg(i,a),o&&(lE(e,r,i),lt(r)||r.isInline()||Mg(e,r,i)),oa(r)&&(Xe+=ir,Rn+=ir),(po||r.__dir!==e.__dir)&&(Vl(i,r),lt(r)&&!po))for(let l of r.getChildren())I(l)&&Vl(Ur(xt,l.getKey()),l)}else{let s=r.getTextContent();if(Me(r)){let a=r.decorate(xt,Pr);a!==null&&wg(n,a)}Xe+=s,Rn+=s}if(!ks&&lt(r)&&r.__cachedText!==Rn){let s=r.getWritable();s.__cachedText=Rn,r=s}return i}function wg(n,t){let e=xt._pendingDecorators,r=xt._decorators;if(e===null){if(r[n]===t)return;e=vh(xt)}e[n]=t}function kl(n){let t=n.nextSibling;return t!==null&&t===xt._blockCursorElement&&(t=t.nextSibling),t}function cE(n,t,e,r,o,i){Xe="",Rn="",po=r===2,xt=e,Pr=e._config,Ai=e._nodes,Xs=xt._listeners.mutation,Gl=o,Yl=i,Br=n._nodeMap,nn=t._nodeMap,ks=t._readOnly,jl=new Map(e._keyToDOMMap);let s=new Map;return Oi=s,Ci("root",null),xt=void 0,Ai=void 0,Gl=void 0,Yl=void 0,Br=void 0,nn=void 0,Pr=void 0,jl=void 0,Oi=void 0,s}function ql(n){let t=jl.get(n);return t===void 0&&F(75,n),t}function te(n){return{type:n}}var Ec=te("SELECTION_CHANGE_COMMAND"),uE=te("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),Dg=te("CLICK_COMMAND"),Nc=te("BEFORE_INPUT_COMMAND"),Sc=te("INPUT_COMMAND"),Tc=te("COMPOSITION_START_COMMAND"),bc=te("COMPOSITION_END_COMMAND"),vi=te("DELETE_CHARACTER_COMMAND"),xi=te("INSERT_LINE_BREAK_COMMAND"),Zl=te("INSERT_PARAGRAPH_COMMAND"),yo=te("CONTROLLED_TEXT_INSERTION_COMMAND"),Ac=te("PASTE_COMMAND"),Ql=te("REMOVE_TEXT_COMMAND"),Mi=te("DELETE_WORD_COMMAND"),wi=te("DELETE_LINE_COMMAND"),tr=te("FORMAT_TEXT_COMMAND"),Oc=te("UNDO_COMMAND"),vc=te("REDO_COMMAND"),Mc=te("KEYDOWN_COMMAND"),Lg=te("KEY_ARROW_RIGHT_COMMAND"),kg=te("MOVE_TO_END"),Rg=te("KEY_ARROW_LEFT_COMMAND"),Ig=te("MOVE_TO_START"),Fg=te("KEY_ARROW_UP_COMMAND"),$g=te("KEY_ARROW_DOWN_COMMAND"),$s=te("KEY_ENTER_COMMAND"),Pg=te("KEY_SPACE_COMMAND"),Bg=te("KEY_BACKSPACE_COMMAND"),Kg=te("KEY_ESCAPE_COMMAND"),Hg=te("KEY_DELETE_COMMAND"),zg=te("KEY_TAB_COMMAND"),dE=te("INSERT_TAB_COMMAND"),fE=te("INDENT_CONTENT_COMMAND"),gE=te("OUTDENT_CONTENT_COMMAND"),Ug=te("DROP_COMMAND"),hE=te("FORMAT_ELEMENT_COMMAND"),Wg=te("DRAGSTART_COMMAND"),Gg=te("DRAGOVER_COMMAND"),Yg=te("DRAGEND_COMMAND"),wc=te("COPY_COMMAND"),Dc=te("CUT_COMMAND"),ec=te("SELECT_ALL_COMMAND"),pE=te("CLEAR_EDITOR_COMMAND"),mE=te("CLEAR_HISTORY_COMMAND"),_E=te("CAN_REDO_COMMAND"),CE=te("CAN_UNDO_COMMAND"),jg=te("FOCUS_COMMAND"),Jg=te("BLUR_COMMAND"),Vg=te("KEY_MODIFIER_COMMAND"),wn=Object.freeze({}),tc=[["keydown",function(n,t){Di=n.timeStamp,Xg=n.key,!t.isComposing()&&B(t,Mc,n)}],["pointerdown",function(n,t){let e=n.target,r=n.pointerType;Ro(e)&&r!=="touch"&&r!=="pen"&&n.button===0&&mn(t,()=>{bh(e)||(oc=!0)})}],["compositionstart",function(n,t){B(t,Tc,n)}],["compositionend",function(n,t){$r?yi=!0:Lo||!Ii&&!Fi?B(t,bc,n):(ic=!0,sc=n.data)}],["input",function(n,t){n.stopPropagation(),mn(t,()=>{t.dispatchCommand(Sc,n)},{event:n}),mo=null}],["click",function(n,t){mn(t,()=>{let e=pe(),r=Cn(Vt(t)),o=Gr();if(r){if(X(e)){let i=e.anchor,s=i.getNode();if(i.type==="element"&&i.offset===0&&e.isCollapsed()&&!lt(s)&&Kt().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&o!==null&&e.is(o))r.removeAllRanges(),e.dirty=!0;else if(n.detail===3&&!e.isCollapsed()&&s!==e.focus.getNode()){let a=Si(s,l=>I(l)&&!l.isInline());I(a)&&a.select(0)}}else if(n.pointerType==="touch"||n.pointerType==="pen"){let i=r.anchorNode;(bt(i)||_n(i))&&Rt(Qs(o,r,t,n))}}B(t,Dg,n)})}],["cut",wn],["copy",wn],["dragstart",wn],["dragover",wn],["dragend",wn],["paste",wn],["focus",wn],["blur",wn],["drop",wn]];ws&&tc.push(["beforeinput",(n,t)=>(function(e,r){let o=e.inputType;o==="deleteCompositionText"||$r&&Ih(r)||o!=="insertCompositionText"&&B(r,Nc,e)})(n,t)]);var Di=0,Xg=null,qg=0,mo=null,nc=new WeakMap,Ps=new WeakMap,rc=!1,oc=!1,Ei=!1,yi=!1,ic=!1,sc="",Ir=null,Zg=[0,"",0,"root",0];function Qg(n,t,e,r,o){let i=n.anchor,s=n.focus,a=i.getNode(),l=Ne(),c=Cn(Vt(l)),u=c!==null?c.anchorNode:null,d=i.key,f=l.getElementByKey(d),m=e.length;return d!==s.key||!z(a)||(!o&&(!ws||qg<r+50)||a.isDirty()&&m<2||wh(e))&&i.offset!==s.offset&&!a.isComposing()||kn(a)||a.isDirty()&&m>1||(o||!ws)&&f!==null&&!a.isComposing()&&u!==zr(f)||c!==null&&t!==null&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||a.getFormat()!==n.format||a.getStyle()!==n.style||(function(g,h){if(h.isSegmented())return!0;if(!g.isCollapsed())return!1;let p=g.anchor.offset,_=h.getParentOrThrow(),C=rr(h);return p===0?!h.canInsertTextBefore()||!_.canInsertTextBefore()&&!h.isComposing()||C||(function(y){let N=y.getPreviousSibling();return(z(N)||I(N)&&N.isInline())&&!N.canInsertTextAfter()})(h):p===h.getTextContentSize()&&(!h.canInsertTextAfter()||!_.canInsertTextAfter()&&!h.isComposing()||C)})(n,a)}function $f(n,t){return _n(n)&&n.nodeValue!==null&&t!==0&&t!==n.nodeValue.length}function Pf(n,t,e){let{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}=n;rc&&(rc=!1,$f(r,o)&&$f(i,s)&&!Ir)||mn(t,()=>{if(!e)return void Rt(null);if(!$i(t,r,i))return;let a=pe();if(Ir&&X(a)&&a.isCollapsed()){let l=a.anchor,c=Ir.anchor;(l.key===c.key&&l.offset===c.offset+1||l.offset===1&&c.getNode().is(l.getNode().getPreviousSibling()))&&(a=Ir.clone(),Rt(a))}if(Ir=null,X(a)){let l=a.anchor,c=l.getNode();if(a.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(a.dirty=!0);let u=Vt(t).event,d=u?u.timeStamp:performance.now(),[f,m,g,h,p]=Zg,_=Kt(),C=t.isComposing()===!1&&_.getTextContent()==="";if(d<p+200&&l.offset===g&&l.key===h)Os(a,f,m);else if(l.type==="text")z(c)||F(141),eh(a,c);else if(l.type==="element"&&!C){I(c)||F(259);let y=l.getNode();y.isEmpty()?(function(N,S){let E=S.getTextFormat(),x=S.getTextStyle();Os(N,E,x)})(a,y):Os(a,0,"")}}else{let u=l.key,d=a.focus.key,f=a.getNodes(),m=f.length,g=a.isBackward(),h=g?s:o,p=g?o:s,_=g?d:u,C=g?u:d,y=2047,N=!1;for(let S=0;S<m;S++){let E=f[S],x=E.getTextContentSize();if(z(E)&&x!==0&&!(S===0&&E.__key===_&&h===x||S===m-1&&E.__key===C&&p===0)&&(N=!0,y&=E.getFormat(),y===0))break}a.format=N?y:0}}B(t,Ec,void 0)})}function Os(n,t,e){n.format===t&&n.style===e||(n.format=t,n.style=e,n.dirty=!0)}function eh(n,t){Os(n,t.getFormat(),t.getStyle())}function th(n){if(!n.getTargetRanges)return null;let t=n.getTargetRanges();return t.length===0?null:t[0]}function yE(n){let t=n.inputType,e=th(n),r=Ne(),o=pe();if(t==="deleteContentBackward"){if(o===null){let d=Gr();if(!X(d))return!0;Rt(d.clone())}if(X(o)){let d=o.anchor.key===o.focus.key;if(i=n.timeStamp,Xg==="MediaLast"&&i<Di+30&&r.isComposing()&&d){if(it(null),Di=0,setTimeout(()=>{mn(r,()=>{it(null)})},30),X(o)){let f=o.anchor.getNode();f.markDirty(),z(f)||F(142),eh(o,f)}}else{it(null),n.preventDefault();let f=o.anchor.getNode(),m=f.getTextContent(),g=f.canInsertTextAfter(),h=o.anchor.offset===0&&o.focus.offset===m.length,p=bf&&d&&!h&&g;if(p&&o.isCollapsed()&&(p=!Me(Rh(o.anchor,!0))),!p){B(r,vi,!0);let _=pe();bf&&X(_)&&_.isCollapsed()&&(Ir=_,setTimeout(()=>Ir=null))}}return!0}}var i;if(!X(o))return!0;let s=n.data;mo!==null&&Wc(!1,r,mo),o.dirty&&mo===null||!o.isCollapsed()||lt(o.anchor.getNode())||e===null||o.applyDOMRange(e),mo=null;let a=o.anchor,l=o.focus,c=a.getNode(),u=l.getNode();if(t==="insertText"||t==="insertTranspose"){if(s===`
`)n.preventDefault(),B(r,xi,!1);else if(s===ir)n.preventDefault(),B(r,Zl,void 0);else if(s==null&&n.dataTransfer){let d=n.dataTransfer.getData("text/plain");n.preventDefault(),o.insertRawText(d)}else s!=null&&Qg(o,e,s,n.timeStamp,!0)?(n.preventDefault(),B(r,yo,s)):mo=s;return qg=n.timeStamp,!0}switch(n.preventDefault(),t){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":B(r,yo,n);break;case"insertFromComposition":it(null),B(r,yo,n);break;case"insertLineBreak":it(null),B(r,xi,!1);break;case"insertParagraph":it(null),Ei&&!Lo?(Ei=!1,B(r,xi,!1)):B(r,Zl,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":B(r,Ac,n);break;case"deleteByComposition":(function(d,f){return d!==f||I(d)||I(f)||!rr(d)||!rr(f)})(c,u)&&B(r,Ql,n);break;case"deleteByDrag":case"deleteByCut":B(r,Ql,n);break;case"deleteContent":B(r,vi,!1);break;case"deleteWordBackward":B(r,Mi,!0);break;case"deleteWordForward":B(r,Mi,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":B(r,wi,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":B(r,wi,!1);break;case"formatStrikeThrough":B(r,tr,"strikethrough");break;case"formatBold":B(r,tr,"bold");break;case"formatItalic":B(r,tr,"italic");break;case"formatUnderline":B(r,tr,"underline");break;case"historyUndo":B(r,Oc,void 0);break;case"historyRedo":B(r,vc,void 0)}return!0}function xE(n){if(bt(n.target)&&bh(n.target))return!0;let t=Ne(),e=pe(),r=n.data,o=th(n);if(r!=null&&X(e)&&Qg(e,o,r,n.timeStamp,!1)){yi&&(Bs(t,r),yi=!1);let i=e.anchor.getNode(),s=Cn(Vt(t));if(s===null)return!0;let a=e.isBackward(),l=a?e.anchor.offset:e.focus.offset,c=a?e.focus.offset:e.anchor.offset;ws&&!e.isCollapsed()&&z(i)&&s.anchorNode!==null&&i.getTextContent().slice(0,l)+r+i.getTextContent().slice(l+c)===Lh(s.anchorNode)||B(t,yo,r);let u=r.length;$r&&u>1&&n.inputType==="insertCompositionText"&&!t.isComposing()&&(e.anchor.offset-=u),Ii||Lo||Fi||!t.isComposing()||(Di=0,it(null))}else Wc(!1,t,r!==null?r:void 0),yi&&(Bs(t,r||void 0),yi=!1);return(function(){ot();let i=Ne();Sg(i)})(),!0}function EE(n){let t=Ne(),e=pe();if(X(e)&&!t.isComposing()){let r=e.anchor,o=e.anchor.getNode();it(r.key),(n.timeStamp<Di+30||r.type==="element"||!e.isCollapsed()||o.getFormat()!==e.format||z(o)&&o.getStyle()!==e.style)&&B(t,yo,Gx)}return!0}function NE(n){return Bs(Ne(),n.data),!0}function Bs(n,t){let e=n._compositionKey;if(it(null),e!==null&&t!=null){if(t===""){let r=qe(e),o=zr(n.getElementByKey(e));return void(o!==null&&o.nodeValue!==null&&z(r)&&Gc(r,o.nodeValue,null,null,!0))}if(t[t.length-1]===`
`){let r=pe();if(X(r)){let o=r.focus;return r.anchor.set(o.key,o.offset,o.type),void B(n,$s,null)}}}Wc(!0,n,t)}function SE(n){let t=Ne();if(n.key==null)return!0;if(ic&&ug(n))return mn(t,()=>{Bs(t,sc)}),ic=!1,sc="",!0;if((function(e){return xe(e,"ArrowRight",{shiftKey:"any"})})(n))B(t,Lg,n);else if((function(e){return xe(e,"ArrowRight",Ln)})(n))B(t,kg,n);else if((function(e){return xe(e,"ArrowLeft",{shiftKey:"any"})})(n))B(t,Rg,n);else if((function(e){return xe(e,"ArrowLeft",Ln)})(n))B(t,Ig,n);else if((function(e){return xe(e,"ArrowUp",{altKey:"any",shiftKey:"any"})})(n))B(t,Fg,n);else if((function(e){return xe(e,"ArrowDown",{altKey:"any",shiftKey:"any"})})(n))B(t,$g,n);else if((function(e){return xe(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})})(n))Ei=!0,B(t,$s,n);else if((function(e){return e.key===" "})(n))B(t,Pg,n);else if((function(e){return en&&xe(e,"o",{ctrlKey:!0})})(n))n.preventDefault(),Ei=!0,B(t,xi,!0);else if((function(e){return xe(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})})(n))Ei=!1,B(t,$s,n);else if((function(e){return xe(e,"Backspace",{shiftKey:"any"})||en&&xe(e,"h",{ctrlKey:!0})})(n))ug(n)?B(t,Bg,n):(n.preventDefault(),B(t,vi,!0));else if((function(e){return e.key==="Escape"})(n))B(t,Kg,n);else if((function(e){return xe(e,"Delete",{})||en&&xe(e,"d",{ctrlKey:!0})})(n))(function(e){return e.key==="Delete"})(n)?B(t,Hg,n):(n.preventDefault(),B(t,vi,!1));else if((function(e){return xe(e,"Backspace",cg)})(n))n.preventDefault(),B(t,Mi,!0);else if((function(e){return xe(e,"Delete",cg)})(n))n.preventDefault(),B(t,Mi,!1);else if((function(e){return en&&xe(e,"Backspace",{metaKey:!0})})(n))n.preventDefault(),B(t,wi,!0);else if((function(e){return en&&(xe(e,"Delete",{metaKey:!0})||xe(e,"k",{ctrlKey:!0}))})(n))n.preventDefault(),B(t,wi,!1);else if((function(e){return xe(e,"b",Ln)})(n))n.preventDefault(),B(t,tr,"bold");else if((function(e){return xe(e,"u",Ln)})(n))n.preventDefault(),B(t,tr,"underline");else if((function(e){return xe(e,"i",Ln)})(n))n.preventDefault(),B(t,tr,"italic");else if((function(e){return xe(e,"Tab",{shiftKey:"any"})})(n))B(t,zg,n);else if((function(e){return xe(e,"z",Ln)})(n))n.preventDefault(),B(t,Oc,void 0);else if((function(e){return en?xe(e,"z",{metaKey:!0,shiftKey:!0}):xe(e,"y",{ctrlKey:!0})||xe(e,"z",{ctrlKey:!0,shiftKey:!0})})(n))n.preventDefault(),B(t,vc,void 0);else{let e=t._editorState._selection;e===null||X(e)?dg(n)&&(n.preventDefault(),B(t,ec,n)):(function(r){return xe(r,"c",Ln)})(n)?(n.preventDefault(),B(t,wc,n)):(function(r){return xe(r,"x",Ln)})(n)?(n.preventDefault(),B(t,Dc,n)):dg(n)&&(n.preventDefault(),B(t,ec,n))}return(function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey})(n)&&t.dispatchCommand(Vg,n),!0}function nh(n){let t=n.__lexicalEventHandles;return t===void 0&&(t=[],n.__lexicalEventHandles=t),t}var xo=new Map;function rh(n){let t=Kh(n.target);if(t===null)return;let e=Hc(t.anchorNode);if(e===null)return;oc&&(oc=!1,mn(e,()=>{let l=Gr(),c=t.anchorNode;(bt(c)||_n(c))&&Rt(Qs(l,t,e,n))}));let r=Uc(e),o=r[r.length-1],i=o._key,s=xo.get(i),a=s||o;a!==e&&Pf(t,a,!1),Pf(t,e,!0),e!==o?xo.set(i,e):s&&xo.delete(i)}function Bf(n){n._lexicalHandled=!0}function Kf(n){return n._lexicalHandled===!0}var Hf=()=>{};function TE(n){let t=nc.get(n);if(t===void 0)return void Hf();let e=Ps.get(t);if(e===void 0)return void Hf();let r=e-1;r>=0||F(164),nc.delete(n),Ps.set(t,r),r===0&&t.removeEventListener("selectionchange",rh);let o=Pi(n);ta(o)?((function(s){if(s._parentEditor!==null){let a=Uc(s),l=a[a.length-1]._key;xo.get(l)===s&&xo.delete(l)}else xo.delete(s._key)})(o),n.__lexicalEditor=null):o&&F(198);let i=nh(n);for(let s=0;s<i.length;s++)i[s]();n.__lexicalEventHandles=[]}function ac(n,t,e){ot();let r=n.__key,o=n.getParent();if(o===null)return;let i=(function(a){let l=pe();if(!X(l)||!I(a))return l;let{anchor:c,focus:u}=l,d=c.getNode(),f=u.getNode();return js(d,a)&&c.set(a.__key,0,"element"),js(f,a)&&u.set(a.__key,0,"element"),l})(n),s=!1;if(X(i)&&t){let a=i.anchor,l=i.focus;a.key===r&&(Us(a,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0),l.key===r&&(Us(l,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0)}else Zs(i)&&t&&n.isSelected()&&n.selectPrevious();if(X(i)&&t&&!s){let a=n.getIndexWithinParent();or(n),zs(i,o,a,-1)}else or(n);e||Jt(o)||o.canBeEmpty()||!o.isEmpty()||ac(o,t),t&&i&&lt(o)&&o.isEmpty()&&o.selectEnd()}function bE(n){return n}var oh=Symbol.for("ephemeral");function Ks(n){return n[oh]||!1}var Bt=class{constructor(t){O(this,"__type");O(this,"__key");O(this,"__parent");O(this,"__prev");O(this,"__next");O(this,"__state");this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),Oh(this,t)}static getType(){let{ownNodeType:t}=Hi(this);return t===void 0&&F(64,this.name),t}static clone(t){F(65,this.name)}$config(){return{}}config(t,e){let r=e.extends||Object.getPrototypeOf(this.constructor);return Object.assign(e,{extends:r,type:t}),{[t]:e}}afterCloneFrom(t){this.__key===t.__key?(this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev,this.__state=t.__state):t.__state&&(this.__state=t.__state.getWritable(this))}getType(){return this.__type}isInline(){F(137,this.constructor.name)}isAttached(){let t=this.__key;for(;t!==null;){if(t==="root")return!0;let e=qe(t);if(e===null)break;t=e.__parent}return!1}isSelected(t){let e=t||pe();if(e==null)return!1;let r=e.getNodes().some(o=>o.__key===this.__key);if(z(this))return r;if(X(e)&&e.anchor.type==="element"&&e.focus.type==="element"){if(e.isCollapsed())return!1;let o=this.getParent();if(Me(this)&&this.isInline()&&o){let i=e.isBackward()?e.focus:e.anchor;if(o.is(i.getNode())&&i.offset===o.getChildrenSize()&&this.is(o.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){let t=this.getParent();if(t===null)return-1;let e=t.getFirstChild(),r=0;for(;e!==null;){if(this.is(e))return r;r++,e=e.getNextSibling()}return-1}getParent(){let t=this.getLatest().__parent;return t===null?null:qe(t)}getParentOrThrow(){let t=this.getParent();return t===null&&F(66,this.__key),t}getTopLevelElement(){let t=this;for(;t!==null;){let e=t.getParent();if(Jt(e))return I(t)||t===this&&Me(t)||F(194),t;t=e}return null}getTopLevelElementOrThrow(){let t=this.getTopLevelElement();return t===null&&F(67,this.__key),t}getParents(){let t=[],e=this.getParent();for(;e!==null;)t.push(e),e=e.getParent();return t}getParentKeys(){let t=[],e=this.getParent();for(;e!==null;)t.push(e.__key),e=e.getParent();return t}getPreviousSibling(){let t=this.getLatest().__prev;return t===null?null:qe(t)}getPreviousSiblings(){let t=[],e=this.getParent();if(e===null)return t;let r=e.getFirstChild();for(;r!==null&&!r.is(this);)t.push(r),r=r.getNextSibling();return t}getNextSibling(){let t=this.getLatest().__next;return t===null?null:qe(t)}getNextSiblings(){let t=[],e=this.getNextSibling();for(;e!==null;)t.push(e),e=e.getNextSibling();return t}getCommonAncestor(t){let e=I(this)?this:this.getParent(),r=I(t)?t:t.getParent(),o=e&&r?Ti(e,r):null;return o?o.commonAncestor:null}is(t){return t!=null&&this.__key===t.__key}isBefore(t){let e=Ti(this,t);return e!==null&&(e.type==="descendant"||(e.type==="branch"?nu(e)===-1:(e.type!=="same"&&e.type!=="ancestor"&&F(279),!1)))}isParentOf(t){let e=Ti(this,t);return e!==null&&e.type==="ancestor"}getNodesBetween(t){let e=this.isBefore(t),r=[],o=new Set,i=this;for(;i!==null;){let s=i.__key;if(o.has(s)||(o.add(s),r.push(i)),i===t)break;let a=I(i)?e?i.getFirstChild():i.getLastChild():null;if(a!==null){i=a;continue}let l=e?i.getNextSibling():i.getPreviousSibling();if(l!==null){i=l;continue}let c=i.getParentOrThrow();if(o.has(c.__key)||r.push(c),c===t)break;let u=null,d=c;do{if(d===null&&F(68),u=e?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),d===null)break;u!==null||o.has(d.__key)||r.push(d)}while(u===null);i=u}return e||r.reverse(),r}isDirty(){let t=Ne()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){if(Ks(this))return this;let t=qe(this.__key);return t===null&&F(113),t}getWritable(){if(Ks(this))return this;ot();let t=Hn(),e=Ne(),r=t._nodeMap,o=this.__key,i=this.getLatest(),s=e._cloneNotNeeded,a=pe();if(a!==null&&a.setCachedNodes(null),s.has(o))return Ys(i),i;let l=qc(i);return s.add(o),Ys(l),r.set(o,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,e){F(70)}updateDOM(t,e,r){F(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){let t=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...t}}static importJSON(t){F(18,this.name)}updateFromJSON(t){return(function(e,r){let o=e.getWritable(),i=r.$,s=i;for(let a of Ag(o).flatKeys)a in r&&(s!==void 0&&s!==i||(s={...i}),s[a]=r[a]);return(o.__state||s)&&xc(e).updateFromJSON(s),o})(this,t)}static transform(){return null}remove(t){ac(this,!0,t)}replace(t,e){ot();let r=pe();r!==null&&(r=r.clone()),Bl(this,t);let o=this.getLatest(),i=this.__key,s=t.__key,a=t.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;or(a);let u=o.getPreviousSibling(),d=o.getNextSibling(),f=o.__prev,m=o.__next,g=o.__parent;if(ac(o,!1,!0),u===null?l.__first=s:u.getWritable().__next=s,a.__prev=f,d===null?l.__last=s:d.getWritable().__prev=s,a.__next=m,a.__parent=g,l.__size=c,e&&(I(this)&&I(a)||F(139),this.getChildren().forEach(h=>{a.append(h)})),X(r)){Rt(r);let h=r.anchor,p=r.focus;h.key===i&&Gf(h,a),p.key===i&&Gf(p,a)}return nr()===i&&it(s),a}insertAfter(t,e=!0){ot(),Bl(this,t);let r=this.getWritable(),o=t.getWritable(),i=o.getParent(),s=pe(),a=!1,l=!1;if(i!==null){let m=t.getIndexWithinParent();if(or(o),X(s)){let g=i.__key,h=s.anchor,p=s.focus;a=h.type==="element"&&h.key===g&&h.offset===m+1,l=p.type==="element"&&p.key===g&&p.offset===m+1}}let c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),d=o.__key,f=r.__next;if(c===null?u.__last=d:c.getWritable().__prev=d,u.__size++,r.__next=d,o.__next=f,o.__prev=r.__key,o.__parent=r.__parent,e&&X(s)){let m=this.getIndexWithinParent();zs(s,u,m+1);let g=u.__key;a&&s.anchor.set(g,m+2,"element"),l&&s.focus.set(g,m+2,"element")}return t}insertBefore(t,e=!0){ot(),Bl(this,t);let r=this.getWritable(),o=t.getWritable(),i=o.__key;or(o);let s=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=r.__prev,c=this.getIndexWithinParent();s===null?a.__first=i:s.getWritable().__next=i,a.__size++,r.__prev=i,o.__prev=l,o.__next=r.__key,o.__parent=r.__parent;let u=pe();return e&&X(u)&&zs(u,this.getParentOrThrow(),c),t}isParentRequired(){return!1}createParentElementNode(){return $n()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,e){ot();let r=this.getPreviousSibling(),o=this.getParentOrThrow();if(r===null)return o.select(0,0);if(I(r))return r.select();if(!z(r)){let i=r.getIndexWithinParent()+1;return o.select(i,i)}return r.select(t,e)}selectNext(t,e){ot();let r=this.getNextSibling(),o=this.getParentOrThrow();if(r===null)return o.select();if(I(r))return r.select(0,0);if(!z(r)){let i=r.getIndexWithinParent();return o.select(i,i)}return r.select(t,e)}markDirty(){this.getWritable()}reconcileObservedMutation(t,e){this.markDirty()}};O(Bt,"importDOM");var AE="historic",OE="history-push",vs="history-merge",vE="paste",ih="collaboration",ME="skip-collab",sh="skip-scroll-into-view",ah="skip-dom-selection",lh="skip-selection-focus",No=class n extends Bt{static getType(){return"linebreak"}static clone(t){return new n(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:t=>(function(e){let r=e.parentElement;if(r!==null&&gc(r)){let o=r.firstChild;if(o===e||o.nextSibling===e&&Ss(o)){let i=r.lastChild;if(i===e||i.previousSibling===e&&Ss(i))return!0}}return!1})(t)||(function(e){let r=e.parentElement;if(r!==null&&gc(r)){let o=r.firstChild;if(o===e||o.nextSibling===e&&Ss(o))return!1;let i=r.lastChild;if(i===e||i.previousSibling===e&&Ss(i))return!0}return!1})(t)?null:{conversion:wE,priority:0}}}static importJSON(t){return So().updateFromJSON(t)}};function wE(n){return{node:So()}}function So(){return Ki(new No)}function Fr(n){return n instanceof No}function Ss(n){return _n(n)&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function Rl(n,t){return 16&t?"code":t&Cc?"mark":32&t?"sub":64&t?"sup":null}function Il(n,t){return 1&t?"strong":2&t?"em":"span"}function ch(n,t,e,r,o){let i=r.classList,s=Eo(o,"base");s!==void 0&&i.add(...s),s=Eo(o,"underlineStrikethrough");let a=!1,l=8&t&&4&t;s!==void 0&&(8&e&&4&e?(a=!0,l||i.add(...s)):l&&i.remove(...s));for(let c in yt){let u=yt[c];if(s=Eo(o,c),s!==void 0)if(e&u){if(a&&(c==="underline"||c==="strikethrough")){t&u&&i.remove(...s);continue}((t&u)===0||l&&c==="underline"||c==="strikethrough")&&i.add(...s)}else t&u&&i.remove(...s)}}function uh(n,t,e){let r=t.firstChild,o=e.isComposing(),i=n+(o?Vs:"");if(r==null)t.textContent=i;else{let s=r.nodeValue;if(s!==i)if(o||$r){let[a,l,c]=(function(u,d){let f=u.length,m=d.length,g=0,h=0;for(;g<f&&g<m&&u[g]===d[g];)g++;for(;h+g<f&&h+g<m&&u[f-h-1]===d[m-h-1];)h++;return[g,f-g-h,d.slice(g,m-h)]})(s,i);l!==0&&r.deleteData(a,l),r.insertData(a,c)}else r.nodeValue=i}}function zf(n,t,e,r,o,i){uh(o,n,t);let s=i.theme.text;s!==void 0&&ch(0,0,r,n,s)}function Ts(n,t){let e=document.createElement(t);return e.appendChild(n),e}var Kr=class n extends Bt{constructor(e="",r){super(r);O(this,"__text");O(this,"__format");O(this,"__style");O(this,"__mode");O(this,"__detail");this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}static getType(){return"text"}static clone(e){return new n(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return qx[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===nr()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){let r=yt[e];return(this.getFormat()&r)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,r){return Gs(this.getLatest().__format,e,r)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,r){let o=this.__format,i=Rl(0,o),s=Il(0,o),a=i===null?s:i,l=document.createElement(a),c=l;this.hasFormat("code")&&l.setAttribute("spellcheck","false"),i!==null&&(c=document.createElement(s),l.appendChild(c)),zf(c,this,0,o,this.__text,e);let u=this.__style;return u!==""&&(l.style.cssText=u),l}updateDOM(e,r,o){let i=this.__text,s=e.__format,a=this.__format,l=Rl(0,s),c=Rl(0,a),u=Il(0,s),d=Il(0,a);if((l===null?u:l)!==(c===null?d:c))return!0;if(l===c&&u!==d){let p=r.firstChild;p==null&&F(48);let _=document.createElement(d);return zf(_,this,0,a,i,o),r.replaceChild(_,p),!1}let f=r;c!==null&&l!==null&&(f=r.firstChild,f==null&&F(49)),uh(i,f,this);let m=o.theme.text;m!==void 0&&s!==a&&ch(0,s,a,f,m);let g=e.__style,h=this.__style;return g!==h&&(r.style.cssText=h),!1}static importDOM(){return{"#text":()=>({conversion:RE,priority:0}),b:()=>({conversion:LE,priority:0}),code:()=>({conversion:Dn,priority:0}),em:()=>({conversion:Dn,priority:0}),i:()=>({conversion:Dn,priority:0}),mark:()=>({conversion:Dn,priority:0}),s:()=>({conversion:Dn,priority:0}),span:()=>({conversion:DE,priority:0}),strong:()=>({conversion:Dn,priority:0}),sub:()=>({conversion:Dn,priority:0}),sup:()=>({conversion:Dn,priority:0}),u:()=>({conversion:Dn,priority:0})}}static importJSON(e){return rt().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:r}=super.exportDOM(e);return bt(r)||F(132),r.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?r.style.textTransform="lowercase":this.hasFormat("uppercase")?r.style.textTransform="uppercase":this.hasFormat("capitalize")&&(r.style.textTransform="capitalize"),this.hasFormat("bold")&&(r=Ts(r,"b")),this.hasFormat("italic")&&(r=Ts(r,"i")),this.hasFormat("strikethrough")&&(r=Ts(r,"s")),this.hasFormat("underline")&&(r=Ts(r,"u")),{element:r}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,r){}setFormat(e){let r=this.getWritable();return r.__format=typeof e=="string"?yt[e]:e,r}setDetail(e){let r=this.getWritable();return r.__detail=typeof e=="string"?Jx[e]:e,r}setStyle(e){let r=this.getWritable();return r.__style=e,r}toggleFormat(e){let r=Gs(this.getFormat(),e,null);return this.setFormat(r)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){let r=Xx[e];if(this.__mode===r)return this;let o=this.getWritable();return o.__mode=r,o}setTextContent(e){if(this.__text===e)return this;let r=this.getWritable();return r.__text=e,r}select(e,r){ot();let o=e,i=r,s=pe(),a=this.getTextContent(),l=this.__key;if(typeof a=="string"){let c=a.length;o===void 0&&(o=c),i===void 0&&(i=c)}else o=0,i=0;if(!X(s))return gh(l,o,l,i,"text","text");{let c=nr();c!==s.anchor.key&&c!==s.focus.key||it(l),s.setTextNodeRange(this,o,this,i)}return s}selectStart(){return this.select(0,0)}selectEnd(){let e=this.getTextContentSize();return this.select(e,e)}spliceText(e,r,o,i){let s=this.getWritable(),a=s.__text,l=o.length,c=e;c<0&&(c=l+c,c<0&&(c=0));let u=pe();if(i&&X(u)){let f=e+l;u.setTextNodeRange(s,f,s,f)}let d=a.slice(0,c)+o+a.slice(c+r);return s.__text=d,s}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){ot();let r=this.getLatest(),o=r.getTextContent();if(o==="")return[];let i=r.__key,s=nr(),a=o.length;e.sort((v,D)=>v-D),e.push(a);let l=[],c=e.length;for(let v=0,D=0;v<a&&D<=c;D++){let R=e[D];R>v&&(l.push(o.slice(v,R)),v=R)}let u=l.length;if(u===1)return[r];let d=l[0],f=r.getParent(),m,g=r.getFormat(),h=r.getStyle(),p=r.__detail,_=!1,C=null,y=null,N=pe();if(X(N)){let[v,D]=N.isBackward()?[N.focus,N.anchor]:[N.anchor,N.focus];v.type==="text"&&v.key===i&&(C=v),D.type==="text"&&D.key===i&&(y=D)}r.isSegmented()?(m=rt(d),m.__format=g,m.__style=h,m.__detail=p,m.__state=Df(r,m),_=!0):m=r.setTextContent(d);let S=[m];for(let v=1;v<u;v++){let D=rt(l[v]);D.__format=g,D.__style=h,D.__detail=p,D.__state=Df(r,D);let R=D.__key;s===i&&it(R),S.push(D)}let E=C?C.offset:null,x=y?y.offset:null,A=0;for(let v of S){if(!C&&!y)break;let D=A+v.getTextContentSize();if(C!==null&&E!==null&&E<=D&&E>=A&&(C.set(v.getKey(),E-A,"text"),E<D&&(C=null)),y!==null&&x!==null&&x<=D&&x>=A){y.set(v.getKey(),x-A,"text");break}A=D}if(f!==null){(function(R){let $=R.getPreviousSibling(),H=R.getNextSibling();$!==null&&Ys($),H!==null&&Ys(H)})(this);let v=f.getWritable(),D=this.getIndexWithinParent();_?(v.splice(D,0,S),this.remove()):v.splice(D,1,S),X(N)&&zs(N,f,D,u-1)}return S}mergeWithSibling(e){let r=e===this.getPreviousSibling();r||e===this.getNextSibling()||F(50);let o=this.__key,i=e.__key,s=this.__text,a=s.length;nr()===i&&it(o);let l=pe();if(X(l)){let f=l.anchor,m=l.focus;f!==null&&f.key===i&&Zf(f,r,o,e,a),m!==null&&m.key===i&&Zf(m,r,o,e,a)}let c=e.__text,u=r?c+s:s+c;this.setTextContent(u);let d=this.getWritable();return e.remove(),d}isTextEntity(){return!1}};function DE(n){return{forChild:Lc(n.style),node:null}}function LE(n){let t=n,e=t.style.fontWeight==="normal";return{forChild:Lc(t.style,e?void 0:"bold"),node:null}}var Uf=new WeakMap;function kE(n){if(!bt(n))return!1;if(n.nodeName==="PRE")return!0;let t=n.style.whiteSpace;return typeof t=="string"&&t.startsWith("pre")}function RE(n){let t=n;n.parentElement===null&&F(129);let e=t.textContent||"";if((function(r){let o,i=r.parentNode,s=[r];for(;i!==null&&(o=Uf.get(i))===void 0&&!kE(i);)s.push(i),i=i.parentNode;let a=o===void 0?i:o;for(let l=0;l<s.length;l++)Uf.set(s[l],a);return a})(t)!==null){let r=e.split(/(\r?\n|\t)/),o=[],i=r.length;for(let s=0;s<i;s++){let a=r[s];a===`
`||a===`\r
`?o.push(So()):a==="	"?o.push(qs()):a!==""&&o.push(rt(a))}return{node:o}}if(e=e.replace(/\r/g,"").replace(/[ \t\n]+/g," "),e==="")return{node:null};if(e[0]===" "){let r=t,o=!0;for(;r!==null&&(r=Wf(r,!1))!==null;){let i=r.textContent||"";if(i.length>0){/[ \t\n]$/.test(i)&&(e=e.slice(1)),o=!1;break}}o&&(e=e.slice(1))}if(e[e.length-1]===" "){let r=t,o=!0;for(;r!==null&&(r=Wf(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){o=!1;break}o&&(e=e.slice(0,e.length-1))}return e===""?{node:null}:{node:rt(e)}}function Wf(n,t){let e=n;for(;;){let r;for(;(r=t?e.nextSibling:e.previousSibling)===null;){let i=e.parentElement;if(i===null)return null;e=i}if(e=r,bt(e)){let i=e.style.display;if(i===""&&!zh(e)||i!==""&&!i.startsWith("inline"))return null}let o=e;for(;(o=t?e.firstChild:e.lastChild)!==null;)e=o;if(_n(e))return e;if(e.nodeName==="BR")return null}}var IE={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Dn(n){let t=IE[n.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:Lc(n.style,t),node:null}}function rt(n=""){return Ki(new Kr(n))}function z(n){return n instanceof Kr}function Lc(n,t){let e=n.fontWeight,r=n.textDecoration.split(" "),o=e==="700"||e==="bold",i=r.includes("line-through"),s=n.fontStyle==="italic",a=r.includes("underline"),l=n.verticalAlign;return c=>(z(c)&&(o&&!c.hasFormat("bold")&&c.toggleFormat("bold"),i&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),s&&!c.hasFormat("italic")&&c.toggleFormat("italic"),a&&!c.hasFormat("underline")&&c.toggleFormat("underline"),l!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),l!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),t&&!c.hasFormat(t)&&c.toggleFormat(t)),c)}var To=class n extends Kr{static getType(){return"tab"}static clone(t){return new n(t.__key)}constructor(t){super("	",t),this.__detail=2}static importDOM(){return null}createDOM(t){let e=super.createDOM(t),r=Eo(t.theme,"tab");return r!==void 0&&e.classList.add(...r),e}static importJSON(t){return qs().updateFromJSON(t)}setTextContent(t){return t!=="	"&&t!==""&&mg(126),super.setTextContent("	")}spliceText(t,e,r,o){return r===""&&e===0||r==="	"&&e===1||F(286),this}setDetail(t){return t!==2&&F(127),this}setMode(t){return t!=="normal"&&F(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}};function qs(){return Ki(new To)}function kc(n){return n instanceof To}var lc=class{constructor(t,e,r){O(this,"key");O(this,"offset");O(this,"type");O(this,"_selection");this._selection=null,this.key=t,this.offset=e,this.type=r}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){return this.key===t.key?this.offset<t.offset:tu(tn(cr(this,"next")),tn(cr(t,"next")))<0}getNode(){let t=qe(this.key);return t===null&&F(20),t}set(t,e,r,o){let i=this._selection,s=this.key;o&&this.key===t&&this.offset===e&&this.type===r||(this.key=t,this.offset=e,this.type=r,ko()||(nr()===s&&it(t),i!==null&&(i.setCachedNodes(null),i.dirty=!0)))}};function sn(n,t,e){return new lc(n,t,e)}function Fl(n,t){let e=t.__key,r=n.offset,o="element";if(z(t)){o="text";let i=t.getTextContentSize();r>i&&(r=i)}else if(!I(t)){let i=t.getNextSibling();if(z(i))e=i.__key,r=0,o="text";else{let s=t.getParent();s&&(e=s.__key,r=t.getIndexWithinParent()+1)}}n.set(e,r,o)}function Gf(n,t){if(I(t)){let e=t.getLastDescendant();I(e)||z(e)?Fl(n,e):Fl(n,t)}else Fl(n,t)}var Hs=class n{constructor(t){O(this,"_nodes");O(this,"_cachedNodes");O(this,"dirty");this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!Zs(t))return!1;let e=this._nodes,r=t._nodes;return e.size===r.size&&Array.from(e).every(o=>r.has(o))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new n(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){let e=this.getNodes(),r=e.length,o=e[r-1],i;if(z(o))i=o.select();else{let s=o.getIndexWithinParent()+1;i=o.getParentOrThrow().select(s,s)}i.insertNodes(t);for(let s=0;s<r;s++)e[s].remove()}getNodes(){let t=this._cachedNodes;if(t!==null)return t;let e=this._nodes,r=[];for(let o of e){let i=qe(o);i!==null&&r.push(i)}return ko()||(this._cachedNodes=r),r}getTextContent(){let t=this.getNodes(),e="";for(let r=0;r<t.length;r++)e+=t[r].getTextContent();return e}deleteNodes(){let t=this.getNodes();if((pe()||Gr())===this&&t[0]){let e=ct(t[0],"next");jh(lr(e,e))}for(let e of t)e.remove()}};function X(n){return n instanceof Hr}var Hr=class n{constructor(t,e,r,o){O(this,"format");O(this,"style");O(this,"anchor");O(this,"focus");O(this,"_cachedNodes");O(this,"dirty");this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=r,this.style=o,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!X(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){let t=this._cachedNodes;if(t!==null)return t;let e=(function(r){let o=[],[i,s]=r.getTextSlices();i&&o.push(i.caret.origin);let a=new Set,l=new Set;for(let c of r)if(rn(c)){let{origin:u}=c;o.length===0?a.add(u):(l.add(u),o.push(u))}else{let{origin:u}=c;I(u)&&l.has(u)||o.push(u)}if(s&&o.push(s.caret.origin),Wr(r.focus)&&I(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let c=Kn(r.focus.origin,"previous");rn(c)&&a.has(c.origin)&&!c.origin.isEmpty()&&c.origin.is(o[o.length-1]);c=wo(c))a.delete(c.origin),o.pop();for(;o.length>1;){let c=o[o.length-1];if(!I(c)||l.has(c)||c.isEmpty()||a.has(c))break;o.pop()}if(o.length===0&&r.isCollapsed()){let c=tn(r.anchor),u=tn(r.anchor.getFlipped()),d=m=>Bn(m)?m.origin:m.getNodeAtCaret(),f=d(c)||d(u)||(r.anchor.getNodeAtCaret()?c.origin:u.origin);o.push(f)}return o})(ru(_c(this),"next"));return ko()||(this._cachedNodes=e),e}setTextNodeRange(t,e,r,o){this.anchor.set(t.__key,e,"text"),this.focus.set(r.__key,o,"text")}getTextContent(){let t=this.getNodes();if(t.length===0)return"";let e=t[0],r=t[t.length-1],o=this.anchor,i=this.focus,s=o.isBefore(i),[a,l]=cc(this),c="",u=!0;for(let d=0;d<t.length;d++){let f=t[d];if(I(f)&&!f.isInline())u||(c+=`
`),u=!f.isEmpty();else if(u=!1,z(f)){let m=f.getTextContent();f===e?f===r?o.type==="element"&&i.type==="element"&&i.offset!==o.offset||(m=a<l?m.slice(a,l):m.slice(l,a)):m=s?m.slice(a):m.slice(l):f===r&&(m=s?m.slice(0,l):m.slice(0,a)),c+=m}else!Me(f)&&!Fr(f)||f===r&&this.isCollapsed()||(c+=f.getTextContent())}return c}applyDOMRange(t){let e=Ne(),r=e.getEditorState()._selection,o=fh(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,r);if(o===null)return;let[i,s]=o;this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(s.key,s.offset,s.type,!0),Ls(this)}clone(){let t=this.anchor,e=this.focus;return new n(sn(t.key,t.offset,t.type),sn(e.key,e.offset,e.type),this.format,this.style)}toggleFormat(t){this.format=Gs(this.format,t,null),this.dirty=!0}setFormat(t){this.format=t,this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){let e=yt[t];return(this.format&e)!==0}insertRawText(t){let e=t.split(/(\r?\n|\t)/),r=[],o=e.length;for(let i=0;i<o;i++){let s=e[i];s===`
`||s===`\r
`?r.push(So()):s==="	"?r.push(qs()):r.push(rt(s))}this.insertNodes(r)}insertText(t){let e=this.anchor,r=this.focus,o=this.format,i=this.style,s=e,a=r;!this.isCollapsed()&&r.isBefore(e)&&(s=r,a=e),s.type==="element"&&(function(p,_,C,y){let N=p.getNode(),S=N.getChildAtIndex(p.offset),E=rt();if(E.setFormat(C),E.setStyle(y),Eh(S))S.splice(0,0,[E]);else{let x=lt(N)?$n().append(E):E;S===null?N.append(x):S.insertBefore(x)}p.is(_)&&_.set(E.__key,0,"text"),p.set(E.__key,0,"text")})(s,a,o,i),a.type==="element"&&Do(a,tn(cr(a,"next")));let l=s.offset,c=a.offset,u=this.getNodes(),d=u.length,f=u[0];z(f)||F(26);let m=f.getTextContent().length,g=f.getParentOrThrow(),h=u[d-1];if(d===1&&a.type==="element"&&(c=m,a.set(s.key,c,"text")),this.isCollapsed()&&l===m&&(kn(f)||!f.canInsertTextAfter()||!g.canInsertTextAfter()&&f.getNextSibling()===null)){let p=f.getNextSibling();if(z(p)&&p.canInsertTextBefore()&&!kn(p)||(p=rt(),p.setFormat(o),p.setStyle(i),g.canInsertTextAfter()?f.insertAfter(p):g.insertAfter(p)),p.select(0,0),f=p,t!=="")return void this.insertText(t)}else if(this.isCollapsed()&&l===0&&(kn(f)||!f.canInsertTextBefore()||!g.canInsertTextBefore()&&f.getPreviousSibling()===null)){let p=f.getPreviousSibling();if(z(p)&&!kn(p)||(p=rt(),p.setFormat(o),g.canInsertTextBefore()?f.insertBefore(p):g.insertBefore(p)),p.select(),f=p,t!=="")return void this.insertText(t)}else if(f.isSegmented()&&l!==m){let p=rt(f.getTextContent());p.setFormat(o),f.replace(p),f=p}else if(!this.isCollapsed()&&t!==""){let p=h.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||I(p)&&(!p.canInsertTextBefore()||!p.canInsertTextAfter()))return this.insertText(""),dh(this.anchor,this.focus,null),void this.insertText(t)}if(d===1){if(rr(f)){let y=rt(t);return y.select(),void f.replace(y)}let p=f.getFormat(),_=f.getStyle();if(l!==c||p===o&&_===i){if(kc(f)){let y=rt(t);return y.setFormat(o),y.setStyle(i),y.select(),void f.replace(y)}}else{if(f.getTextContent()!==""){let y=rt(t);if(y.setFormat(o),y.setStyle(i),y.select(),l===0)f.insertBefore(y,!1);else{let[N]=f.splitText(l);N.insertAfter(y,!1)}return void(y.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length))}f.setFormat(o),f.setStyle(i)}let C=c-l;f=f.spliceText(l,C,t,!0),f.getTextContent()===""?f.remove():this.anchor.type==="text"&&(f.isComposing()?this.anchor.offset-=t.length:(this.format=p,this.style=_))}else{let p=new Set([...f.getParentKeys(),...h.getParentKeys()]),_=I(f)?f:f.getParentOrThrow(),C=I(h)?h:h.getParentOrThrow(),y=h;if(!_.is(C)&&C.isInline())do y=C,C=C.getParentOrThrow();while(C.isInline());if(a.type==="text"&&(c!==0||h.getTextContent()==="")||a.type==="element"&&h.getIndexWithinParent()<c)if(z(h)&&!rr(h)&&c!==h.getTextContentSize()){if(h.isSegmented()){let A=rt(h.getTextContent());h.replace(A),h=A}lt(a.getNode())||a.type!=="text"||(h=h.spliceText(0,c,"")),p.add(h.__key)}else{let A=h.getParentOrThrow();A.canBeEmpty()||A.getChildrenSize()!==1?h.remove():A.remove()}else p.add(h.__key);let N=C.getChildren(),S=new Set(u),E=_.is(C),x=_.isInline()&&f.getNextSibling()===null?_:f;for(let A=N.length-1;A>=0;A--){let v=N[A];if(v.is(f)||I(v)&&v.isParentOf(f))break;v.isAttached()&&(!S.has(v)||v.is(y)?E||x.insertAfter(v,!1):v.remove())}if(!E){let A=C,v=null;for(;A!==null;){let D=A.getChildren(),R=D.length;(R===0||D[R-1].is(v))&&(p.delete(A.__key),v=A),A=A.getParent()}}if(rr(f))if(l===m)f.select();else{let A=rt(t);A.select(),f.replace(A)}else f=f.spliceText(l,m-l,t,!0),f.getTextContent()===""?f.remove():f.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);for(let A=1;A<d;A++){let v=u[A],D=v.__key;p.has(D)||v.remove()}}}removeText(){let t=pe()===this;bi(this,Jh(_c(this))),t&&pe()!==this&&Rt(this)}formatText(t,e=null){if(this.isCollapsed())return this.toggleFormat(t),void it(null);let r=this.getNodes(),o=[];for(let N of r)z(N)&&o.push(N);let i=N=>{r.forEach(S=>{if(I(S)){let E=S.getFormatFlags(t,N);S.setTextFormat(E)}})},s=o.length;if(s===0)return this.toggleFormat(t),it(null),void i(e);let a=this.anchor,l=this.focus,c=this.isBackward(),u=c?l:a,d=c?a:l,f=0,m=o[0],g=u.type==="element"?0:u.offset;if(u.type==="text"&&g===m.getTextContentSize()&&(f=1,m=o[1],g=0),m==null)return;let h=m.getFormatFlags(t,e);i(h);let p=s-1,_=o[p],C=d.type==="text"?d.offset:_.getTextContentSize();if(m.is(_)){if(g===C)return;if(kn(m)||g===0&&C===m.getTextContentSize())m.setFormat(h);else{let N=m.splitText(g,C),S=g===0?N[0]:N[1];S.setFormat(h),u.type==="text"&&u.set(S.__key,0,"text"),d.type==="text"&&d.set(S.__key,C-g,"text")}return void(this.format=h)}g===0||kn(m)||([,m]=m.splitText(g),g=0),m.setFormat(h);let y=_.getFormatFlags(t,h);C>0&&(C===_.getTextContentSize()||kn(_)||([_]=_.splitText(C)),_.setFormat(y));for(let N=f+1;N<p;N++){let S=o[N],E=S.getFormatFlags(t,y);S.setFormat(E)}u.type==="text"&&u.set(m.__key,g,"text"),d.type==="text"&&d.set(_.__key,C,"text"),this.format=h|y}insertNodes(t){if(t.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();let g=pe();return X(g)||F(134),g.insertNodes(t)}let e=(this.isBackward()?this.focus:this.anchor).getNode(),r=Si(e,Fn),o=t[t.length-1];if(I(r)&&"__language"in r){if("__language"in t[0])this.insertText(t[0].getTextContent());else{let g=$l(this);r.splice(g,0,t),o.selectEnd()}return}if(!t.some(g=>(I(g)||Me(g))&&!g.isInline())){I(r)||F(211,e.constructor.name,e.getType());let g=$l(this);return r.splice(g,0,t),void o.selectEnd()}let i=(function(g){let h=$n(),p=null;for(let _=0;_<g.length;_++){let C=g[_],y=Fr(C);if(y||Me(C)&&C.isInline()||I(C)&&C.isInline()||z(C)||C.isParentRequired()){if(p===null&&(p=C.createParentElementNode(),h.append(p),y))continue;p!==null&&p.append(C)}else h.append(C),p=null}return h})(t),s=i.getLastDescendant(),a=i.getChildren(),l=!I(r)||!r.isEmpty()?this.insertParagraph():null,c=a[a.length-1],u=a[0];var d;I(d=u)&&Fn(d)&&!d.isEmpty()&&I(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(I(r)||F(211,e.constructor.name,e.getType()),r.append(...u.getChildren()),u=a[1]),u&&(r===null&&F(212,e.constructor.name,e.getType()),(function(g,h){let p=h.getParentOrThrow().getLastChild(),_=h,C=[h];for(;_!==p;)_.getNextSibling()||F(140),_=_.getNextSibling(),C.push(_);let y=g;for(let N of C)y=y.insertAfter(N)})(r,u));let f=Si(s,Fn);l&&I(f)&&(l.canMergeWhenEmpty()||Fn(c))&&(f.append(...l.getChildren()),l.remove()),I(r)&&r.isEmpty()&&r.remove(),s.selectEnd();let m=I(r)?r.getLastChild():null;Fr(m)&&f!==r&&m.remove()}insertParagraph(){if(this.anchor.key==="root"){let s=$n();return Kt().splice(this.anchor.offset,0,[s]),s.select(),s}let t=$l(this),e=Si(this.anchor.getNode(),Fn);I(e)||F(213);let r=e.getChildAtIndex(t),o=r?[r,...r.getNextSiblings()]:[],i=e.insertNewAfter(this,!1);return i?(i.append(...o),i.selectStart(),i):null}insertLineBreak(t){let e=So();if(this.insertNodes([e]),t){let r=e.getParentOrThrow(),o=e.getIndexWithinParent();r.select(o,o)}}extract(){let t=[...this.getNodes()],e=t.length,r=t[0],o=t[e-1],[i,s]=cc(this),a=this.isBackward(),[l,c]=a?[this.focus,this.anchor]:[this.anchor,this.focus],[u,d]=a?[s,i]:[i,s];if(e===0)return[];if(e===1){if(z(r)&&!this.isCollapsed()){let f=r.splitText(u,d),m=u===0?f[0]:f[1];return m?(l.set(m.getKey(),0,"text"),c.set(m.getKey(),m.getTextContentSize(),"text"),[m]):[]}return[r]}if(z(r)&&(u===r.getTextContentSize()?t.shift():u!==0&&([,r]=r.splitText(u),t[0]=r,l.set(r.getKey(),0,"text"))),z(o)){let f=o.getTextContent().length;d===0?t.pop():d!==f&&([o]=o.splitText(d),t[t.length-1]=o,c.set(o.getKey(),o.getTextContentSize(),"text"))}return t}modify(t,e,r){if(Qf(this,t,e,r))return;let o=t==="move",i=Ne(),s=Cn(Vt(i));if(!s)return;let a=i._blockCursorElement,l=i._rootElement,c=this.focus.getNode();if(l===null||a===null||!I(c)||c.isInline()||c.canBeEmpty()||fc(a,i,l),this.dirty){let u=Ur(i,this.anchor.key),d=Ur(i,this.focus.key);this.anchor.type==="text"&&(u=zr(u)),this.focus.type==="text"&&(d=zr(d)),u&&d&&ph(s,u,this.anchor.offset,d,this.focus.offset)}if((function(u,d,f,m){u.modify(d,f,m)})(s,t,e?"backward":"forward",r),s.rangeCount>0){let u=s.getRangeAt(0),d=this.anchor.getNode(),f=lt(d)?d:Ph(d);if(this.applyDOMRange(u),this.dirty=!0,!o){let m=this.getNodes(),g=[],h=!1;for(let p=0;p<m.length;p++){let _=m[p];js(_,f)?g.push(_):h=!0}if(h&&g.length>0)if(e){let p=g[0];I(p)?p.selectStart():p.getParentOrThrow().selectStart()}else{let p=g[g.length-1];I(p)?p.selectEnd():p.getParentOrThrow().selectEnd()}s.anchorNode===u.startContainer&&s.anchorOffset===u.startOffset||(function(p){let _=p.focus,C=p.anchor,y=C.key,N=C.offset,S=C.type;C.set(_.key,_.offset,_.type,!0),_.set(y,N,S,!0)})(this)}}r==="lineboundary"&&Qf(this,t,e,r,"decorators")}forwardDeletion(t,e,r){if(!r&&(t.type==="element"&&I(e)&&t.offset===e.getChildrenSize()||t.type==="text"&&t.offset===e.getTextContentSize())){let o=e.getParent(),i=e.getNextSibling()||(o===null?null:o.getNextSibling());if(I(i)&&i.isShadowRoot())return!0}return!1}deleteCharacter(t){let e=this.isCollapsed();if(this.isCollapsed()){let r=this.anchor,o=r.getNode();if(this.forwardDeletion(r,o,t))return;let i=Qc(cr(r,t?"previous":"next"));if(i.getTextSlices().every(a=>a===null||a.distance===0)){let a={type:"initial"};for(let l of i.iterNodeCarets("shadowRoot"))if(rn(l)){if(!l.origin.isInline()){if(l.origin.isShadowRoot()){if(a.type==="merge-block")break;if(I(i.anchor.origin)&&i.anchor.origin.isEmpty()){let c=tn(l);bi(this,lr(c,c)),i.anchor.origin.remove()}return}a.type!=="merge-next-block"&&a.type!=="merge-block"||(a={block:a.block,caret:l,type:"merge-block"})}}else{if(a.type==="merge-block")break;if(Wr(l)){if(I(l.origin)){if(l.origin.isInline()){if(!l.origin.isParentOf(i.anchor.origin))break}else a={block:l.origin,type:"merge-next-block"};continue}if(Me(l.origin)){if(!l.origin.isIsolated())if(a.type==="merge-next-block"&&(l.origin.isKeyboardSelectable()||!l.origin.isInline())&&I(i.anchor.origin)&&i.anchor.origin.isEmpty()){i.anchor.origin.remove();let c=Rc();c.add(l.origin.getKey()),Rt(c)}else l.origin.remove();return}break}}if(a.type==="merge-block"){let{caret:l,block:c}=a;return bi(this,lr(!l.origin.isEmpty()&&c.isEmpty()?Io(ct(c,l.direction)):i.anchor,l)),this.removeText()}}let s=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&r.offset===0&&jf(this,r.getNode()))return}else{let a=s.type==="text"?s.getNode():null;if(o=r.type==="text"?r.getNode():null,a!==null&&a.isSegmented()){let l=s.offset,c=a.getTextContentSize();if(a.is(o)||t&&l!==c||!t&&l!==0)return void Jf(a,t,l)}else if(o!==null&&o.isSegmented()){let l=r.offset,c=o.getTextContentSize();if(o.is(a)||t&&l!==0||!t&&l!==c)return void Jf(o,t,l)}(function(l,c){let u=l.anchor,d=l.focus,f=u.getNode(),m=d.getNode();if(f===m&&u.type==="text"&&d.type==="text"){let g=u.offset,h=d.offset,p=g<h,_=p?g:h,C=p?h:g,y=C-1;_!==y&&(function(N){return!(wh(N)||FE(N))})(f.getTextContent().slice(_,C))&&(c?d.set(d.key,y,d.type):u.set(u.key,y,u.type))}})(this,t)}}if(this.removeText(),t&&!e&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){let r=this.anchor.getNode();r.isEmpty()&&lt(r.getParent())&&r.getPreviousSibling()===null&&jf(this,r)}}deleteLine(t){this.isCollapsed()&&this.modify("extend",t,"lineboundary"),this.isCollapsed()?this.deleteCharacter(t):this.removeText()}deleteWord(t){if(this.isCollapsed()){let e=this.anchor,r=e.getNode();if(this.forwardDeletion(e,r,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}};function Zs(n){return n instanceof Hs}function Yf(n){let t=n.offset;if(n.type==="text")return t;let e=n.getNode();return t===e.getChildrenSize()?e.getTextContent().length:0}function cc(n){let t=n.getStartEndPoints();if(t===null)return[0,0];let[e,r]=t;return e.type==="element"&&r.type==="element"&&e.key===r.key&&e.offset===r.offset?[0,0]:[Yf(e),Yf(r)]}function jf(n,t){for(let e=t;e;e=e.getParent()){if(I(e)){if(e.collapseAtStart(n))return!0;if(Jt(e))break}if(e.getPreviousSibling())break}return!1}var FE=(()=>{try{let n=new RegExp("\\p{Emoji}","u"),t=n.test.bind(n);if(t("\u2764\uFE0F")&&t("#\uFE0F\u20E3")&&t("\u{1F44D}"))return t}catch{}return()=>!1})();function Jf(n,t,e){let r=n,o=r.getTextContent().split(/(?=\s)/g),i=o.length,s=0,a=0;for(let c=0;c<i;c++){let u=c===i-1;if(a=s,s+=o[c].length,t&&s===e||s>e||u){o.splice(c,1),u&&(a=void 0);break}}let l=o.join("").trim();l===""?r.remove():(r.setTextContent(l),r.select(a,a))}function Vf(n,t,e,r){let o,i=t;if(bt(n)){let s=!1,a=n.childNodes,l=a.length,c=r._blockCursorElement;i===l&&(s=!0,i=l-1);let u=a[i],d=!1;if(u===c)u=a[i+1],d=!0;else if(c!==null){let f=c.parentNode;n===f&&t>Array.prototype.indexOf.call(f.children,c)&&i--}if(o=Co(u),z(o))i=on(o,s?"next":"previous");else{let f=Co(n);if(f===null)return null;if(I(f)){let m=r.getElementByKey(f.getKey());m===null&&F(214),[f,i]=f.getDOMSlot(m).resolveChildIndex(f,m,n,t),I(f)||F(215),s&&i>=f.getChildrenSize()&&(i=Math.max(0,f.getChildrenSize()-1));let h=f.getChildAtIndex(i);if(I(h)&&(function(p,_,C){let y=p.getParent();return C===null||y===null||!y.canBeEmpty()||y!==C.getNode()})(h,0,e)){let p=s?h.getLastDescendant():h.getFirstDescendant();p===null?f=h:(h=p,f=I(h)?h:h.getParentOrThrow()),i=0}z(h)?(o=h,f=null,i=on(h,s?"next":"previous")):h!==f&&s&&!d&&(I(f)||F(216),i=Math.min(f.getChildrenSize(),i+1))}else{let m=f.getIndexWithinParent();i=t===0&&Me(f)&&Co(n)===f?m:m+1,f=f.getParentOrThrow()}if(I(f))return sn(f.__key,i,"element")}}else o=Co(n);return z(o)?sn(o.__key,on(o,i,"clamp"),"text"):null}function Xf(n,t,e){let r=n.offset,o=n.getNode();if(r===0){let i=o.getPreviousSibling(),s=o.getParent();if(t){if((e||!t)&&i===null&&I(s)&&s.isInline()){let a=s.getPreviousSibling();z(a)&&n.set(a.__key,a.getTextContent().length,"text")}}else I(i)&&!e&&i.isInline()?n.set(i.__key,i.getChildrenSize(),"element"):z(i)&&n.set(i.__key,i.getTextContent().length,"text")}else if(r===o.getTextContent().length){let i=o.getNextSibling(),s=o.getParent();if(t&&I(i)&&i.isInline())n.set(i.__key,0,"element");else if((e||t)&&i===null&&I(s)&&s.isInline()&&!s.canInsertTextAfter()){let a=s.getNextSibling();z(a)&&n.set(a.__key,0,"text")}}}function dh(n,t,e){if(n.type==="text"&&t.type==="text"){let r=n.isBefore(t),o=n.is(t);Xf(n,r,o),Xf(t,!r,o),o&&t.set(n.key,n.offset,n.type);let i=Ne();if(i.isComposing()&&i._compositionKey!==n.key&&X(e)){let s=e.anchor,a=e.focus;n.set(s.key,s.offset,s.type,!0),t.set(a.key,a.offset,a.type,!0)}}}function fh(n,t,e,r,o,i){if(n===null||e===null||!$i(o,n,e))return null;let s=Vf(n,t,X(i)?i.anchor:null,o);if(s===null)return null;let a=Vf(e,r,X(i)?i.focus:null,o);if(a===null)return null;if(s.type==="element"&&a.type==="element"){let l=Co(n),c=Co(e);if(Me(l)&&Me(c))return null}return dh(s,a,i),[s,a]}function $E(n){return I(n)&&!n.isInline()}function gh(n,t,e,r,o,i){let s=Hn(),a=new Hr(sn(n,t,o),sn(e,r,i),0,"");return a.dirty=!0,s._selection=a,a}function hh(){let n=sn("root",0,"element"),t=sn("root",0,"element");return new Hr(n,t,0,"")}function Rc(){return new Hs(new Set)}function PE(n,t){return Qs(null,n,t,null)}function Qs(n,t,e,r){let o=e._window;if(o===null)return null;let i=r||o.event,s=i?i.type:void 0,a=s==="selectionchange",l=!zl&&(a||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&i&&i.detail===3||s==="drop"||s===void 0),c,u,d,f;if(X(n)&&!l)return n.clone();if(t===null)return null;if(c=t.anchorNode,u=t.focusNode,d=t.anchorOffset,f=t.focusOffset,(a||s===void 0)&&X(n)&&!$i(e,c,u))return n.clone();let m=fh(c,d,u,f,e,n);if(m===null)return null;let[g,h]=m;return new Hr(g,h,X(n)?n.format:0,X(n)?n.style:"")}function pe(){return Hn()._selection}function Gr(){return Ne()._editorState._selection}function zs(n,t,e,r=1){let o=n.anchor,i=n.focus,s=o.getNode(),a=i.getNode();if(!t.is(s)&&!t.is(a))return;let l=t.__key;if(n.isCollapsed()){let c=o.offset;if(e<=c&&r>0||e<c&&r<0){let u=Math.max(0,c+r);o.set(l,u,"element"),i.set(l,u,"element"),qf(n)}}else{let c=n.isBackward(),u=c?i:o,d=u.getNode(),f=c?o:i,m=f.getNode();if(t.is(d)){let g=u.offset;(e<=g&&r>0||e<g&&r<0)&&u.set(l,Math.max(0,g+r),"element")}if(t.is(m)){let g=f.offset;(e<=g&&r>0||e<g&&r<0)&&f.set(l,Math.max(0,g+r),"element")}}qf(n)}function qf(n){let t=n.anchor,e=t.offset,r=n.focus,o=r.offset,i=t.getNode(),s=r.getNode();if(n.isCollapsed()){if(!I(i))return;let a=i.getChildrenSize(),l=e>=a,c=l?i.getChildAtIndex(a-1):i.getChildAtIndex(e);if(z(c)){let u=0;l&&(u=c.getTextContentSize()),t.set(c.__key,u,"text"),r.set(c.__key,u,"text")}return}if(I(i)){let a=i.getChildrenSize(),l=e>=a,c=l?i.getChildAtIndex(a-1):i.getChildAtIndex(e);if(z(c)){let u=0;l&&(u=c.getTextContentSize()),t.set(c.__key,u,"text")}}if(I(s)){let a=s.getChildrenSize(),l=o>=a,c=l?s.getChildAtIndex(a-1):s.getChildAtIndex(o);if(z(c)){let u=0;l&&(u=c.getTextContentSize()),r.set(c.__key,u,"text")}}}function Us(n,t,e,r,o){let i=null,s=0,a=null;r!==null?(i=r.__key,z(r)?(s=r.getTextContentSize(),a="text"):I(r)&&(s=r.getChildrenSize(),a="element")):o!==null&&(i=o.__key,z(o)?a="text":I(o)&&(a="element")),i!==null&&a!==null?n.set(i,s,a):(s=t.getIndexWithinParent(),s===-1&&(s=e.getChildrenSize()),n.set(e.__key,s,"element"))}function Zf(n,t,e,r,o){n.type==="text"?n.set(e,n.offset+(t?0:o),"text"):n.offset>r.getIndexWithinParent()&&n.set(n.key,n.offset-1,"element")}function ph(n,t,e,r,o){try{n.setBaseAndExtent(t,e,r,o)}catch{}}function BE(n,t,e,r,o,i,s){let a=r.anchorNode,l=r.focusNode,c=r.anchorOffset,u=r.focusOffset,d=document.activeElement;if(o.has(ih)&&d!==i||d!==null&&Kc(d))return;if(!X(t))return void(n!==null&&$i(e,a,l)&&r.removeAllRanges());let f=t.anchor,m=t.focus,g=f.key,h=m.key,p=Ur(e,g),_=Ur(e,h),C=f.offset,y=m.offset,N=t.format,S=t.style,E=t.isCollapsed(),x=p,A=_,v=!1;if(f.type==="text"){x=zr(p);let q=f.getNode();v=q.getFormat()!==N||q.getStyle()!==S}else X(n)&&n.anchor.type==="text"&&(v=!0);var D,R,$,H,V;if(m.type==="text"&&(A=zr(_)),x!==null&&A!==null&&(E&&(n===null||v||X(n)&&(n.format!==N||n.style!==S))&&(D=N,R=S,$=C,H=g,V=performance.now(),Zg=[D,R,$,H,V]),c!==C||u!==y||a!==x||l!==A||r.type==="Range"&&E||(d!==null&&i.contains(d)||o.has(lh)||i.focus({preventScroll:!0}),f.type==="element"))){if(ph(r,x,C,A,y),!o.has(sh)&&t.isCollapsed()&&i!==null&&i===document.activeElement){let q=X(t)&&t.anchor.type==="element"?x.childNodes[C]||null:r.rangeCount>0?r.getRangeAt(0):null;if(q!==null){let se;if(q instanceof Text){let ue=document.createRange();ue.selectNode(q),se=ue.getBoundingClientRect()}else se=q.getBoundingClientRect();(function(ue,ge,de){let Je=jc(de),Ve=Jc(Je);if(Je===null||Ve===null)return;let{top:wt,bottom:dt}=ge,tt=0,nt=0,Be=de;for(;Be!==null;){let jt=Be===Je.body;if(jt)tt=0,nt=Vt(ue).innerHeight;else{let He=Be.getBoundingClientRect();tt=He.top,nt=He.bottom}let re=0;if(wt<tt?re=-(tt-wt):dt>nt&&(re=dt-nt),re!==0)if(jt)Ve.scrollBy(0,re);else{let He=Be.scrollTop;Be.scrollTop+=re;let Le=Be.scrollTop-He;wt-=Le,dt-=Le}if(jt)break;Be=Bi(Be)}})(e,se,i)}}rc=!0}}function KE(n){let t=pe()||Gr();t===null&&(t=Kt().selectEnd()),t.insertNodes(n)}function HE(){let n=pe();return n===null?"":n.getTextContent()}function $l(n){let t=n;n.isCollapsed()||t.removeText();let e=pe();X(e)&&(t=e),X(t)||F(161);let r=t.anchor,o=r.getNode(),i=r.offset;for(;!Fn(o);){let s=o;if([o,i]=zE(o,i),s.is(o))break}return i}function zE(n,t){let e=n.getParent();if(!e){let o=$n();return Kt().append(o),o.select(),[Kt(),0]}if(z(n)){let o=n.splitText(t);if(o.length===0)return[e,n.getIndexWithinParent()];let i=t===0?0:1;return[e,o[0].getIndexWithinParent()+i]}if(!I(n)||t===0)return[e,n.getIndexWithinParent()];let r=n.getChildAtIndex(t);if(r){let o=new Hr(sn(n.__key,t,"element"),sn(n.__key,t,"element"),0,""),i=n.insertNewAfter(o);i&&i.append(r,...r.getNextSiblings())}return[e,n.getIndexWithinParent()+1]}function Qf(n,t,e,r,o="decorators-and-blocks"){if(t==="move"&&r==="character"&&!n.isCollapsed()){let[u,d]=e===n.isBackward()?[n.focus,n.anchor]:[n.anchor,n.focus];return d.set(u.key,u.offset,u.type),!0}let i=cr(n.focus,e?"previous":"next"),s=r==="lineboundary",a=t==="move",l=i,c=o==="decorators-and-blocks";if(!Vh(l)){for(let u of l){c=!1;let{origin:d}=u;if(!Me(d)||d.isIsolated()||(l=u,!s||!d.isInline()))break}if(c)for(let u of Qc(i).iterNodeCarets(t==="extend"?"shadowRoot":"root")){if(rn(u))u.origin.isInline()||(l=u);else{if(I(u.origin))continue;Me(u.origin)&&!u.origin.isInline()&&(l=u)}break}}if(l===i)return!1;if(a&&!s&&Me(l.origin)&&l.origin.isKeyboardSelectable()){let u=Rc();return u.add(l.origin.getKey()),Rt(u),!0}return l=tn(l),a&&Do(n.anchor,l),Do(n.focus,l),c||!s}var st=null,at=null,kt=!1,Pl=!1,Ms=0,eg={characterData:!0,childList:!0,subtree:!0};function ko(){return kt||st!==null&&st._readOnly}function ot(){kt&&F(13)}function mh(){Ms>99&&F(14)}function Hn(){return st===null&&F(195,_h()),st}function Ne(){return at===null&&F(196,_h()),at}function _h(){let n=0,t=new Set,e=Pn.version;if(typeof window<"u")for(let o of document.querySelectorAll("[contenteditable]")){let i=Pi(o);if(ta(i))n++;else if(i){let s=String(i.constructor.version||"<0.17.1");s===e&&(s+=" (separately built, likely a bundler configuration issue)"),t.add(s)}}let r=` Detected on the page: ${n} compatible editor(s) with version ${e}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function UE(){return at}function tg(n,t,e){let r=t.__type,o=Pc(n,r),i=e.get(r);i===void 0&&(i=Array.from(o.transforms),e.set(r,i));let s=i.length;for(let a=0;a<s&&(i[a](t),t.isAttached());a++);}function ng(n,t){return n!==void 0&&n.__key!==t&&n.isAttached()}function Ch(n,t){if(!t)return;let e=n._updateTags,r=t;Array.isArray(t)||(r=[t]);for(let o of r)e.add(o)}function WE(n){return Ic(n,Ne()._nodes)}function Ic(n,t){let e=n.type,r=t.get(e);r===void 0&&F(17,e);let o=r.klass;n.type!==o.getType()&&F(18,o.name);let i=o.importJSON(n),s=n.children;if(I(i)&&Array.isArray(s))for(let a=0;a<s.length;a++){let l=Ic(s[a],t);i.append(l)}return i}function rg(n,t,e){let r=st,o=kt,i=at;st=t,kt=!0,at=n;try{return e()}finally{st=r,kt=o,at=i}}function In(n,t){let e=n._pendingEditorState,r=n._rootElement,o=n._headless||r===null;if(e===null)return;let i=n._editorState,s=i._selection,a=e._selection,l=n._dirtyType!==0,c=st,u=kt,d=at,f=n._updating,m=n._observer,g=null;if(n._pendingEditorState=null,n._editorState=e,!o&&l&&m!==null){at=n,st=e,kt=!1,n._updating=!0;try{let E=n._dirtyType,x=n._dirtyElements,A=n._dirtyLeaves;m.disconnect(),g=cE(i,e,n,E,x,A)}catch(E){if(E instanceof Error&&n._onError(E),Pl)throw E;return Nh(n,null,r,e),Tg(n),n._dirtyType=2,Pl=!0,In(n,i),void(Pl=!1)}finally{m.observe(r,eg),n._updating=f,st=c,kt=u,at=d}}e._readOnly||(e._readOnly=!0);let h=n._dirtyLeaves,p=n._dirtyElements,_=n._normalizedNodes,C=n._updateTags,y=n._deferred;l&&(n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),(function(E,x){let A=E._decorators,v=E._pendingDecorators||A,D=x._nodeMap,R;for(R in v)D.has(R)||(v===A&&(v=vh(E)),delete v[R])})(n,e);let N=o?null:Cn(Vt(n));if(n._editable&&N!==null&&(l||a===null||a.dirty||!a.is(s))&&r!==null&&!C.has(ah)){at=n,st=e;try{if(m!==null&&m.disconnect(),l||a===null||a.dirty){let E=n._blockCursorElement;E!==null&&fc(E,n,r),BE(s,a,n,N,C,r)}(function(E,x,A){let v=E._blockCursorElement;if(X(A)&&A.isCollapsed()&&A.anchor.type==="element"&&x.contains(document.activeElement)){let D=A.anchor,R=D.getNode(),$=D.offset,H=!1,V=null;if($===R.getChildrenSize())Kl(R.getChildAtIndex($-1))&&(H=!0);else{let q=R.getChildAtIndex($);if(q!==null&&Kl(q)){let se=q.getPreviousSibling();(se===null||Kl(se))&&(H=!0,V=E.getElementByKey(q.__key))}}if(H){let q=E.getElementByKey(R.__key);return v===null&&(E._blockCursorElement=v=(function(se){let ue=se.theme,ge=document.createElement("div");ge.contentEditable="false",ge.setAttribute("data-lexical-cursor","true");let de=ue.blockCursor;if(de!==void 0){if(typeof de=="string"){let Je=Cg(de);de=ue.blockCursor=Je}de!==void 0&&ge.classList.add(...de)}return ge})(E._config)),x.style.caretColor="transparent",void(V===null?q.appendChild(v):q.insertBefore(v,V))}}v!==null&&fc(v,E,x)})(n,r,a)}finally{m!==null&&m.observe(r,eg),at=d,st=c}}g!==null&&(function(E,x,A,v,D){let R=Array.from(E._listeners.mutation),$=R.length;for(let H=0;H<$;H++){let[V,q]=R[H];for(let se of q){let ue=x.get(se);ue!==void 0&&V(ue,{dirtyLeaves:v,prevEditorState:D,updateTags:A})}}})(n,g,C,h,i),X(a)||a===null||s!==null&&s.is(a)||n.dispatchCommand(Ec,void 0);let S=n._pendingDecorators;S!==null&&(n._decorators=S,n._pendingDecorators=null,Ni("decorator",n,!0,S)),(function(E,x,A){let v=ag(x),D=ag(A);v!==D&&Ni("textcontent",E,!0,D)})(n,t||i,e),Ni("update",n,!0,{dirtyElements:p,dirtyLeaves:h,editorState:e,mutatedNodes:g,normalizedNodes:_,prevEditorState:t||i,tags:C}),(function(E,x){if(E._deferred=[],x.length!==0){let A=E._updating;E._updating=!0;try{for(let v=0;v<x.length;v++)x[v]()}finally{E._updating=A}}})(n,y),(function(E){let x=E._updates;if(x.length!==0){let A=x.shift();if(A){let[v,D]=A;ea(E,v,D)}}})(n)}function Ni(n,t,e,...r){let o=t._updating;t._updating=e;try{let i=Array.from(t._listeners[n]);for(let s=0;s<i.length;s++)i[s].apply(null,r)}finally{t._updating=o}}function og(n,t){let e=n._updates,r=t||!1;for(;e.length!==0;){let o=e.shift();if(o){let[i,s]=o,a=n._pendingEditorState,l;s!==void 0&&(l=s.onUpdate,s.skipTransforms&&(r=!0),s.discrete&&(a===null&&F(191),a._flushSync=!0),l&&n._deferred.push(l),Ch(n,s.tag)),a==null?ea(n,i,s):i()}}return r}function ea(n,t,e){let r=n._updateTags,o,i=!1,s=!1;e!==void 0&&(o=e.onUpdate,Ch(n,e.tag),i=e.skipTransforms||!1,s=e.discrete||!1),o&&n._deferred.push(o);let a=n._editorState,l=n._pendingEditorState,c=!1;(l===null||l._readOnly)&&(l=n._pendingEditorState=yh(l||a),c=!0),l._flushSync=s;let u=st,d=kt,f=at,m=n._updating;st=l,kt=!1,n._updating=!0,at=n;let g=n._headless||n.getRootElement()===null;$c(null);try{c&&(g?a._selection!==null&&(l._selection=a._selection.clone()):l._selection=(function(C,y){let N=C.getEditorState()._selection,S=Cn(Vt(C));return X(N)||N==null?Qs(N,S,C,y):N.clone()})(n,e&&e.event||null));let p=n._compositionKey;t(),i=og(n,i),(function(C,y){let N=y.getEditorState()._selection,S=C._selection;if(X(S)){let E=S.anchor,x=S.focus,A;if(E.type==="text"&&(A=E.getNode(),A.selectionTransform(N,S)),x.type==="text"){let v=x.getNode();A!==v&&v.selectionTransform(N,S)}}})(l,n),n._dirtyType!==0&&(i?(function(C,y){let N=y._dirtyLeaves,S=C._nodeMap;for(let E of N){let x=S.get(E);z(x)&&x.isAttached()&&x.isSimpleText()&&!x.isUnmergeable()&&Rf(x)}})(l,n):(function(C,y){let N=y._dirtyLeaves,S=y._dirtyElements,E=C._nodeMap,x=nr(),A=new Map,v=N,D=v.size,R=S,$=R.size;for(;D>0||$>0;){if(D>0){y._dirtyLeaves=new Set;for(let H of v){let V=E.get(H);z(V)&&V.isAttached()&&V.isSimpleText()&&!V.isUnmergeable()&&Rf(V),V!==void 0&&ng(V,x)&&tg(y,V,A),N.add(H)}if(v=y._dirtyLeaves,D=v.size,D>0){Ms++;continue}}y._dirtyLeaves=new Set,y._dirtyElements=new Map,R.delete("root")&&R.set("root",!0);for(let H of R){let V=H[0],q=H[1];if(S.set(V,q),!q)continue;let se=E.get(V);se!==void 0&&ng(se,x)&&tg(y,se,A)}v=y._dirtyLeaves,D=v.size,R=y._dirtyElements,$=R.size,Ms++}y._dirtyLeaves=N,y._dirtyElements=S})(l,n),og(n),(function(C,y,N,S){let E=C._nodeMap,x=y._nodeMap,A=[];for(let[v]of S){let D=x.get(v);D!==void 0&&(D.isAttached()||(I(D)&&Eg(D,v,E,x,A,S),E.has(v)||S.delete(v),A.push(v)))}for(let v of A)x.delete(v);for(let v of N){let D=x.get(v);D===void 0||D.isAttached()||(E.has(v)||N.delete(v),x.delete(v))}})(a,l,n._dirtyLeaves,n._dirtyElements)),p!==n._compositionKey&&(l._flushSync=!0);let _=l._selection;if(X(_)){let C=l._nodeMap,y=_.anchor.key,N=_.focus.key;C.get(y)!==void 0&&C.get(N)!==void 0||F(19)}else Zs(_)&&_._nodes.size===0&&(l._selection=null)}catch(p){return p instanceof Error&&n._onError(p),n._pendingEditorState=a,n._dirtyType=2,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void In(n)}finally{st=u,kt=d,at=f,n._updating=m,Ms=0}n._dirtyType!==0||n._deferred.length>0||(function(p,_){let C=_.getEditorState()._selection,y=p._selection;if(y!==null){if(y.dirty||!y.is(C))return!0}else if(C!==null)return!0;return!1})(l,n)?l._flushSync?(l._flushSync=!1,In(n)):c&&QE(()=>{In(n)}):(l._flushSync=!1,c&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function mn(n,t,e){at===n&&e===void 0?t():ea(n,t,e)}var uc=class n{constructor(t,e,r){O(this,"element");O(this,"before");O(this,"after");this.element=t,this.before=e||null,this.after=r||null}withBefore(t){return new n(this.element,t,this.after)}withAfter(t){return new n(this.element,this.before,t)}withElement(t){return this.element===t?this:new n(t,this.before,this.after)}insertChild(t){let e=this.before||this.getManagedLineBreak();return e!==null&&e.parentElement!==this.element&&F(222),this.element.insertBefore(t,e),this}removeChild(t){return t.parentElement!==this.element&&F(223),this.element.removeChild(t),this}replaceChild(t,e){return e.parentElement!==this.element&&F(224),this.element.replaceChild(t,e),this}getFirstChild(){let t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(t){if(t===null)this.removeManagedLineBreak();else{let e=t==="decorator"&&(Fi||Lo||Ii);this.insertManagedLineBreak(e)}}removeManagedLineBreak(){let t=this.getManagedLineBreak();if(t){let e=this.element,r=t.nodeName==="IMG"?t.nextSibling:null;r&&e.removeChild(r),e.removeChild(t),e.__lexicalLineBreak=void 0}}insertManagedLineBreak(t){let e=this.getManagedLineBreak();if(e){if(t===(e.nodeName==="IMG"))return;this.removeManagedLineBreak()}let r=this.element,o=this.before,i=document.createElement("br");if(r.insertBefore(i,o),t){let s=document.createElement("img");s.setAttribute("data-lexical-linebreak","true"),s.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",s.alt="",r.insertBefore(s,i),r.__lexicalLineBreak=s}else r.__lexicalLineBreak=i}getFirstChildOffset(){let t=0;for(let e=this.after;e!==null;e=e.previousSibling)t++;return t}resolveChildIndex(t,e,r,o){if(r===this.element){let l=this.getFirstChildOffset();return[t,Math.min(l+t.getChildrenSize(),Math.max(l,o))]}let i=ig(e,r);i.push(o);let s=ig(e,this.element),a=t.getIndexWithinParent();for(let l=0;l<s.length;l++){let c=i[l],u=s[l];if(c===void 0||c<u)break;if(c>u){a+=1;break}}return[t.getParentOrThrow(),a]}};function ig(n,t){let e=[],r=t;for(;r!==n&&r!==null;r=r.parentNode){let o=0;for(let i=r.previousSibling;i!==null;i=i.previousSibling)o++;e.push(o)}return r!==n&&F(225),e.reverse()}var sr=class extends Bt{constructor(e){super(e);O(this,"__first");O(this,"__last");O(this,"__size");O(this,"__format");O(this,"__style");O(this,"__indent");O(this,"__dir");O(this,"__textFormat");O(this,"__textStyle");this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return Vx[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],r=this.getFirstChild();for(;r!==null;)e.push(r),r=r.getNextSibling();return e}getChildrenKeys(){let e=[],r=this.getFirstChild();for(;r!==null;)e.push(r.__key),r=r.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let e=Ne()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),r=this.getParentOrThrow().getLastChild();return r!==null&&r.is(e)}getAllTextNodes(){let e=[],r=this.getFirstChild();for(;r!==null;){if(z(r)&&e.push(r),I(r)){let o=r.getAllTextNodes();e.push(...o)}r=r.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;I(e);){let r=e.getFirstChild();if(r===null)break;e=r}return e}getLastDescendant(){let e=this.getLastChild();for(;I(e);){let r=e.getLastChild();if(r===null)break;e=r}return e}getDescendantByIndex(e){let r=this.getChildren(),o=r.length;if(e>=o){let s=r[o-1];return I(s)&&s.getLastDescendant()||s||null}let i=r[e];return I(i)&&i.getFirstDescendant()||i||null}getFirstChild(){let e=this.getLatest().__first;return e===null?null:qe(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return e===null&&F(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return e===null?null:qe(e)}getLastChildOrThrow(){let e=this.getLastChild();return e===null&&F(96,this.__key),e}getChildAtIndex(e){let r=this.getChildrenSize(),o,i;if(e<r/2){for(o=this.getFirstChild(),i=0;o!==null&&i<=e;){if(i===e)return o;o=o.getNextSibling(),i++}return null}for(o=this.getLastChild(),i=r-1;o!==null&&i>=e;){if(i===e)return o;o=o.getPreviousSibling(),i--}return null}getTextContent(){let e="",r=this.getChildren(),o=r.length;for(let i=0;i<o;i++){let s=r[i];e+=s.getTextContent(),I(s)&&i!==o-1&&!s.isInline()&&(e+=ir)}return e}getTextContentSize(){let e=0,r=this.getChildren(),o=r.length;for(let i=0;i<o;i++){let s=r[i];e+=s.getTextContentSize(),I(s)&&i!==o-1&&!s.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){let r=Af[e];return(this.getFormat()&r)!==0}return!1}hasTextFormat(e){let r=yt[e];return(this.getTextFormat()&r)!==0}getFormatFlags(e,r){return Gs(this.getLatest().__textFormat,e,r)}getTextStyle(){return this.getLatest().__textStyle}select(e,r){ot();let o=pe(),i=e,s=r,a=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&r===0){let c=this.getFirstChild();if(z(c)||I(c))return c.select(0,0)}else if(!(e!==void 0&&e!==a||r!==void 0&&r!==a)){let c=this.getLastChild();if(z(c)||I(c))return c.select()}}i===void 0&&(i=a),s===void 0&&(s=a);let l=this.__key;return X(o)?(o.anchor.set(l,i,"element"),o.focus.set(l,s,"element"),o.dirty=!0,o):gh(l,i,l,s,"element","element")}selectStart(){let e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){let e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(r=>r.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let r=this.getWritable();return r.__dir=e,r}setFormat(e){return this.getWritable().__format=e!==""?Af[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){let r=this.getWritable();return r.__textFormat=e,r}setTextStyle(e){let r=this.getWritable();return r.__textStyle=e,r}setIndent(e){return this.getWritable().__indent=e,this}splice(e,r,o){Ks(this)&&F(324,this.__key,this.__type);let i=this.getChildrenSize(),s=this.getWritable();e+r<=i||F(226,String(e),String(r),String(i));let a=s.__key,l=[],c=[],u=this.getChildAtIndex(e+r),d=null,f=i-r+o.length;if(e!==0)if(e===i)d=this.getLastChild();else{let g=this.getChildAtIndex(e);g!==null&&(d=g.getPreviousSibling())}if(r>0){let g=d===null?this.getFirstChild():d.getNextSibling();for(let h=0;h<r;h++){g===null&&F(100);let p=g.getNextSibling(),_=g.__key;or(g.getWritable()),c.push(_),g=p}}let m=d;for(let g of o){m!==null&&g.is(m)&&(d=m=m.getPreviousSibling());let h=g.getWritable();h.__parent===a&&f--,or(h);let p=g.__key;if(m===null)s.__first=p,h.__prev=null;else{let _=m.getWritable();_.__next=p,h.__prev=_.__key}g.__key===a&&F(76),h.__parent=a,l.push(p),m=g}if(e+r===i)m!==null&&(m.getWritable().__next=null,s.__last=m.__key);else if(u!==null){let g=u.getWritable();if(m!==null){let h=m.getWritable();g.__prev=m.__key,h.__next=u.__key}else g.__prev=null}if(s.__size=f,c.length){let g=pe();if(X(g)){let h=new Set(c),p=new Set(l),{anchor:_,focus:C}=g;sg(_,h,p)&&Us(_,_.getNode(),this,d,u),sg(C,h,p)&&Us(C,C.getNode(),this,d,u),f!==0||this.canBeEmpty()||Jt(this)||this.remove()}}return s}getDOMSlot(e){return new uc(e)}exportDOM(e){let{element:r}=super.exportDOM(e);if(bt(r)){let o=this.getIndent();o>0&&(r.style.paddingInlineStart=40*o+"px");let i=this.getDirection();i&&(r.dir=i)}return{element:r}}exportJSON(){let e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},r=this.getTextFormat(),o=this.getTextStyle();return r===0&&o===""||Jt(this)||this.getChildren().some(z)||(r!==0&&(e.textFormat=r),o!==""&&(e.textStyle=o)),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,r){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,r,o){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,r){let o=this.getDOMSlot(e),i=o.getFirstChild();for(let s=this.getFirstChild();s;s=s.getNextSibling()){let a=r.getElementByKey(s.getKey());a!==null&&(i==null?(o.insertChild(a),i=a):i!==a&&o.replaceChild(a,i),i=i.nextSibling)}}};function I(n){return n instanceof sr}function sg(n,t,e){let r=n.getNode();for(;r;){let o=r.__key;if(t.has(o)&&!e.has(o))return!0;r=r.getParent()}return!1}var Li=class extends Bt{decorate(t,e){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}};function Me(n){return n instanceof Li}var bo=class n extends sr{constructor(){super("root");O(this,"__cachedText");this.__cachedText=null}static getType(){return"root"}static clone(){return new n}getTopLevelElementOrThrow(){F(51)}getTextContent(){let e=this.__cachedText;return!ko()&&Ne()._dirtyType!==0||e===null?super.getTextContent():e}remove(){F(52)}replace(e){F(53)}insertBefore(e){F(54)}insertAfter(e){F(55)}updateDOM(e,r){return!1}splice(e,r,o){for(let i of o)I(i)||Me(i)||F(282);return super.splice(e,r,o)}static importJSON(e){return Kt().updateFromJSON(e)}collapseAtStart(){return!0}};function lt(n){return n instanceof bo}function yh(n){return new ki(new Map(n._nodeMap))}function Fc(){return new ki(new Map([["root",new bo]]))}function xh(n){let t=n.exportJSON(),e=n.constructor;if(t.type!==e.getType()&&F(130,e.name),I(n)){let r=t.children;Array.isArray(r)||F(59,e.name);let o=n.getChildren();for(let i=0;i<o.length;i++){let s=xh(o[i]);r.push(s)}}return t}function GE(n){return n instanceof ki}var ki=class n{constructor(t,e){O(this,"_nodeMap");O(this,"_selection");O(this,"_flushSync");O(this,"_readOnly");this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t,e){return rg(e&&e.editor||null,this,t)}clone(t){let e=new n(this._nodeMap,t===void 0?this._selection:t);return e._readOnly=!0,e}toJSON(){return rg(null,this,()=>({root:xh(Kt())}))}},Ws=class extends sr{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}},Ao=class n extends sr{static getType(){return"paragraph"}static clone(t){return new n(t.__key)}createDOM(t){let e=document.createElement("p"),r=Eo(t.theme,"paragraph");return r!==void 0&&e.classList.add(...r),e}updateDOM(t,e,r){return!1}static importDOM(){return{p:t=>({conversion:YE,priority:0})}}exportDOM(t){let{element:e}=super.exportDOM(t);if(bt(e)){this.isEmpty()&&e.append(document.createElement("br"));let r=this.getFormatType();r&&(e.style.textAlign=r)}return{element:e}}static importJSON(t){return $n().updateFromJSON(t)}exportJSON(){let t=super.exportJSON();if(t.textFormat===void 0||t.textStyle===void 0){let e=this.getChildren().find(z);e?(t.textFormat=e.getFormat(),t.textStyle=e.getStyle()):(t.textFormat=this.getTextFormat(),t.textStyle=this.getTextStyle())}return t}insertNewAfter(t,e){let r=$n();r.setTextFormat(t.format),r.setTextStyle(t.style);let o=this.getDirection();return r.setDirection(o),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,e),r}collapseAtStart(){let t=this.getChildren();if(t.length===0||z(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}};function YE(n){let t=$n();return n.style&&(t.setFormat(n.style.textAlign),Uh(n,t)),{node:t}}function $n(){return Ki(new Ao)}function Eh(n){return n instanceof Ao}var _o=0,jE=1,JE=2,VE=3,XE=4;function Nh(n,t,e,r){let o=n._keyToDOMMap;o.clear(),n._editorState=Fc(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;let i=n._observer;i!==null&&(i.disconnect(),n._observer=null),t!==null&&(t.textContent=""),e!==null&&(e.textContent="",o.set("root",e))}function Sh(n){let t=new Set,e=new Set,r=n;for(;r;){let{ownNodeConfig:o}=Hi(r),i=r.transform;if(!e.has(i)){e.add(i);let s=r.transform();s&&t.add(s)}if(o){let s=o.$transform;s&&t.add(s),r=o.extends}else{let s=Object.getPrototypeOf(r);r=s.prototype instanceof Bt&&s!==Bt?s:void 0}}return t}function qE(n){let t=n||{},e=UE(),r=t.theme||{},o=n===void 0?e:t.parentEditor||null,i=t.disableEvents||!1,s=Fc(),a=t.namespace||(o!==null?o._config.namespace:Dh()),l=t.editorState,c=[bo,Kr,No,To,Ao,Ws,...t.nodes||[]],{onError:u,html:d}=t,f=t.editable===void 0||t.editable,m;if(n===void 0&&e!==null)m=e._nodes;else{m=new Map;for(let h=0;h<c.length;h++){let p=c[h],_=null,C=null;if(typeof p!="function"){let S=p;p=S.replace,_=S.with,C=S.withKlass||null}Hi(p);let y=p.getType(),N=Sh(p);m.set(y,{exportDOM:d&&d.export?d.export.get(p):void 0,klass:p,replace:_,replaceWithKlass:C,sharedNodeState:bg(c[h]),transforms:N})}}let g=new Pn(s,o,m,{disableEvents:i,namespace:a,theme:r},u||console.error,(function(h,p){let _=new Map,C=new Set,y=N=>{Object.keys(N).forEach(S=>{let E=_.get(S);E===void 0&&(E=[],_.set(S,E)),E.push(N[S])})};return h.forEach(N=>{let S=N.klass.importDOM;if(S==null||C.has(S))return;C.add(S);let E=S.call(N.klass);E!==null&&y(E)}),p&&y(p),_})(m,d?d.import:void 0),f,n);return l!==void 0&&(g._pendingEditorState=l,g._dirtyType=2),(function(h){h.registerCommand(Nc,yE,_o),h.registerCommand(Sc,xE,_o),h.registerCommand(Tc,EE,_o),h.registerCommand(bc,NE,_o),h.registerCommand(Mc,SE,_o)})(g),g}var Pn=class{constructor(t,e,r,o,i,s,a,l){O(this,"_headless");O(this,"_parentEditor");O(this,"_rootElement");O(this,"_editorState");O(this,"_pendingEditorState");O(this,"_compositionKey");O(this,"_deferred");O(this,"_keyToDOMMap");O(this,"_updates");O(this,"_updating");O(this,"_listeners");O(this,"_commands");O(this,"_nodes");O(this,"_decorators");O(this,"_pendingDecorators");O(this,"_config");O(this,"_dirtyType");O(this,"_cloneNotNeeded");O(this,"_dirtyLeaves");O(this,"_dirtyElements");O(this,"_normalizedNodes");O(this,"_updateTags");O(this,"_observer");O(this,"_key");O(this,"_onError");O(this,"_htmlConversions");O(this,"_window");O(this,"_editable");O(this,"_blockCursorElement");O(this,"_createEditorArgs");this._createEditorArgs=l,this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Dh(),this._onError=i,this._htmlConversions=s,this._editable=a,this._headless=e!==null&&e._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){let e=this._listeners.update;return e.add(t),()=>{e.delete(t)}}registerEditableListener(t){let e=this._listeners.editable;return e.add(t),()=>{e.delete(t)}}registerDecoratorListener(t){let e=this._listeners.decorator;return e.add(t),()=>{e.delete(t)}}registerTextContentListener(t){let e=this._listeners.textcontent;return e.add(t),()=>{e.delete(t)}}registerRootListener(t){let e=this._listeners.root;return t(this._rootElement,null),e.add(t),()=>{t(null,this._rootElement),e.delete(t)}}registerCommand(t,e,r){r===void 0&&F(35);let o=this._commands;o.has(t)||o.set(t,[new Set,new Set,new Set,new Set,new Set]);let i=o.get(t);i===void 0&&F(36,String(t));let s=i[r];return s.add(e),()=>{s.delete(e),i.every(a=>a.size===0)&&o.delete(t)}}registerMutationListener(t,e,r){let o=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,i=this._listeners.mutation,s=i.get(e);s===void 0&&(s=new Set,i.set(e,s)),s.add(o);let a=r&&r.skipInitialization;return a!==void 0&&a||this.initializeMutationListener(e,o),()=>{s.delete(o),s.size===0&&i.delete(e)}}getRegisteredNode(t){let e=this._nodes.get(t.getType());return e===void 0&&F(37,t.name),e}resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;)t=this.getRegisteredNode(t.replaceWithKlass);return t}initializeMutationListener(t,e){let r=this._editorState,o=hc(r).get(e.getType());if(!o)return;let i=new Map;for(let s of o.keys())i.set(s,"created");i.size>0&&t(i,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(t,e){let r=this.getRegisteredNode(t);return r.transforms.add(e),r}registerNodeTransform(t,e){let r=this.registerNodeTransformToKlass(t,e),o=[r],i=r.replaceWithKlass;if(i!=null){let s=this.registerNodeTransformToKlass(i,e);o.push(s)}return(function(s,a){let l=hc(s.getEditorState()),c=[];for(let u of a){let d=l.get(u);d&&c.push(d)}c.length!==0&&s.update(()=>{for(let u of c)for(let d of u.keys()){let f=qe(d);f&&f.markDirty()}},s._pendingEditorState===null?{tag:vs}:void 0)})(this,o.map(s=>s.klass.getType())),()=>{o.forEach(s=>s.transforms.delete(e))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,e){return B(this,t,e)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){let e=this._rootElement;if(t!==e){let r=Eo(this._config.theme,"root"),o=this._pendingEditorState||this._editorState;if(this._rootElement=t,Nh(this,e,t,o),e!==null&&(this._config.disableEvents||TE(e),r!=null&&e.classList.remove(...r)),t!==null){let i=Jc(t),s=t.style;s.userSelect="text",s.whiteSpace="pre-wrap",s.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=i,this._dirtyType=2,Tg(this),this._updateTags.add(vs),In(this),this._config.disableEvents||(function(a,l){let c=a.ownerDocument;nc.set(a,c);let u=Ps.get(c)??0;u<1&&c.addEventListener("selectionchange",rh),Ps.set(c,u+1),a.__lexicalEditor=l;let d=nh(a);for(let f=0;f<tc.length;f++){let[m,g]=tc[f],h=typeof g=="function"?p=>{Kf(p)||(Bf(p),(l.isEditable()||m==="click")&&g(p,l))}:p=>{if(Kf(p))return;Bf(p);let _=l.isEditable();switch(m){case"cut":return _&&B(l,Dc,p);case"copy":return B(l,wc,p);case"paste":return _&&B(l,Ac,p);case"dragstart":return _&&B(l,Wg,p);case"dragover":return _&&B(l,Gg,p);case"dragend":return _&&B(l,Yg,p);case"focus":return _&&B(l,jg,p);case"blur":return _&&B(l,Jg,p);case"drop":return _&&B(l,Ug,p)}};a.addEventListener(m,h),d.push(()=>{a.removeEventListener(m,h)})}})(t,this),r!=null&&t.classList.add(...r)}else this._window=null,this._updateTags.add(vs),In(this);Ni("root",this,!1,t,e)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,e){t.isEmpty()&&F(38);let r=t;r._readOnly&&(r=yh(t),r._selection=t._selection?t._selection.clone():null),Sg(this);let o=this._pendingEditorState,i=this._updateTags,s=e!==void 0?e.tag:null;o===null||o.isEmpty()||(s!=null&&i.add(s),In(this)),this._pendingEditorState=r,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,s!=null&&i.add(s),this._updating||In(this)}parseEditorState(t,e){return(function(r,o,i){let s=Fc(),a=st,l=kt,c=at,u=o._dirtyElements,d=o._dirtyLeaves,f=o._cloneNotNeeded,m=o._dirtyType;o._dirtyElements=new Map,o._dirtyLeaves=new Set,o._cloneNotNeeded=new Set,o._dirtyType=0,st=s,kt=!1,at=o,$c(null);try{let g=o._nodes;Ic(r.root,g),i&&i(),s._readOnly=!0}catch(g){g instanceof Error&&o._onError(g)}finally{o._dirtyElements=u,o._dirtyLeaves=d,o._cloneNotNeeded=f,o._dirtyType=m,st=a,kt=l,at=c}return s})(typeof t=="string"?JSON.parse(t):t,this,e)}read(t){return In(this),this.getEditorState().read(t,{editor:this})}update(t,e){(function(r,o,i){r._updating?r._updates.push([o,i]):ea(r,o,i)})(this,t,e)}focus(t,e={}){let r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),mn(this,()=>{let o=pe(),i=Kt();o!==null?o.dirty||Rt(o.clone()):i.getChildrenSize()!==0&&(e.defaultSelection==="rootStart"?i.selectStart():i.selectEnd()),Fh("focus"),$h(()=>{r.removeAttribute("autocapitalize"),t&&t()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){let t=this._rootElement;t!==null&&t.blur();let e=Cn(this._window);e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,Ni("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}};O(Pn,"version");Pn.version="0.39.0+prod.esm";var dc=null;function $c(n){dc=n}var Th=1;function ZE(){Th=1}function Pc(n,t){let e=Bc(n,t);return e===void 0&&F(30,t),e}function Bc(n,t){return n._nodes.get(t)}var QE=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function bh(n){return Me(ra(n))}function Kc(n){let t=document.activeElement;if(!bt(t))return!1;let e=t.nodeName;return Me(ra(n))&&(e==="INPUT"||e==="TEXTAREA"||t.contentEditable==="true"&&Pi(t)==null)}function $i(n,t,e){let r=n.getRootElement();try{return r!==null&&r.contains(t)&&r.contains(e)&&t!==null&&!Kc(t)&&Hc(t)===n}catch{return!1}}function ta(n){return n instanceof Pn}function Hc(n){let t=n;for(;t!=null;){let e=Pi(t);if(ta(e))return e;t=Bi(t)}return null}function Pi(n){return n?n.__lexicalEditor:null}function eN(n){return Yx.test(n)?"rtl":jx.test(n)?"ltr":null}function rr(n){return kc(n)||n.isToken()}function kn(n){return rr(n)||n.isSegmented()}function _n(n){return Ro(n)&&n.nodeType===3}function Ah(n){return Ro(n)&&n.nodeType===9}function zr(n){let t=n;for(;t!=null;){if(_n(t))return t;t=t.firstChild}return null}function Gs(n,t,e){let r=yt[t];if(e!==null&&(n&r)===(e&r))return n;let o=n^r;return t==="subscript"?o&=~yt.superscript:t==="superscript"?o&=~yt.subscript:t==="lowercase"?(o&=~yt.uppercase,o&=~yt.capitalize):t==="uppercase"?(o&=~yt.lowercase,o&=~yt.capitalize):t==="capitalize"&&(o&=~yt.lowercase,o&=~yt.uppercase),o}function tN(n){return z(n)||Fr(n)||Me(n)}function Oh(n,t){let e=(function(){let s=dc;return dc=null,s})();if((t=t||e&&e.__key)!=null)return void(n.__key=t);ot(),mh();let r=Ne(),o=Hn(),i=""+Th++;o._nodeMap.set(i,n),I(n)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=1,n.__key=i}function or(n){let t=n.getParent();if(t!==null){let e=n.getWritable(),r=t.getWritable(),o=n.getPreviousSibling(),i=n.getNextSibling(),s=i!==null?i.__key:null,a=o!==null?o.__key:null,l=o!==null?o.getWritable():null,c=i!==null?i.getWritable():null;o===null&&(r.__first=s),i===null&&(r.__last=a),l!==null&&(l.__next=s),c!==null&&(c.__prev=a),e.__prev=null,e.__next=null,e.__parent=null,r.__size--}}function Ys(n){mh(),Ks(n)&&F(323,n.__key,n.__type);let t=n.getLatest(),e=t.__parent,r=Hn(),o=Ne(),i=r._nodeMap,s=o._dirtyElements;e!==null&&(function(l,c,u){let d=l;for(;d!==null;){if(u.has(d))return;let f=c.get(d);if(f===void 0)break;u.set(d,!1),d=f.__parent}})(e,i,s);let a=t.__key;o._dirtyType=1,I(n)?s.set(a,!0):o._dirtyLeaves.add(a)}function it(n){ot();let t=Ne(),e=t._compositionKey;if(n!==e){if(t._compositionKey=n,e!==null){let r=qe(e);r!==null&&r.getWritable()}if(n!==null){let r=qe(n);r!==null&&r.getWritable()}}}function nr(){return ko()?null:Ne()._compositionKey}function qe(n,t){let e=(t||Hn())._nodeMap.get(n);return e===void 0?null:e}function zc(n,t){let e=na(n,Ne());return e!==void 0?qe(e,t):null}function na(n,t){return n[`__lexicalKey_${t._key}`]}function ra(n,t){let e=n;for(;e!=null;){let r=zc(e,t);if(r!==null)return r;e=Bi(e)}return null}function vh(n){let t=n._decorators,e=Object.assign({},t);return n._pendingDecorators=e,e}function ag(n){return n.read(()=>Kt().getTextContent())}function Kt(){return Mh(Hn())}function Mh(n){return n._nodeMap.get("root")}function Rt(n){ot();let t=Hn();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),t._selection=n}function Co(n){let t=Ne(),e=(function(r,o){let i=r;for(;i!=null;){let s=na(i,o);if(s!==void 0)return s;i=Bi(i)}return null})(n,t);return e===null?n===t.getRootElement()?qe("root"):null:qe(e)}function wh(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function Uc(n){let t=[],e=n;for(;e!==null;)t.push(e),e=e._parentEditor;return t}function Dh(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function Lh(n){return _n(n)?n.nodeValue:null}function Wc(n,t,e){let r=Cn(Vt(t));if(r===null)return;let o=r.anchorNode,{anchorOffset:i,focusOffset:s}=r;if(o!==null){let a=Lh(o),l=ra(o);if(a!==null&&z(l)){if(a===Vs&&e){let c=e.length;a=e,i=c,s=c}a!==null&&Gc(l,a,i,s,n)}}}function Gc(n,t,e,r,o){let i=n;if(i.isAttached()&&(o||!i.isDirty())){let s=i.isComposing(),a=t;(s||o)&&t[t.length-1]===Vs&&(a=t.slice(0,-1));let l=i.getTextContent();if(o||a!==l){if(a===""){if(it(null),Ii||Lo||Fi)i.remove();else{let h=Ne();setTimeout(()=>{h.update(()=>{i.isAttached()&&i.remove()})},20)}return}let c=i.getParent(),u=Gr(),d=i.getTextContentSize(),f=nr(),m=i.getKey();if(i.isToken()||f!==null&&m===f&&!s||X(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===n.__key&&u.anchor.offset===0&&!i.canInsertTextBefore()&&!s||u.focus.key===n.__key&&u.focus.offset===d&&!i.canInsertTextAfter()&&!s))return void i.markDirty();let g=pe();if(!X(g)||e===null||r===null)return void lg(i,a,g);if(g.setTextNodeRange(i,e,i,r),i.isSegmented()){let h=rt(i.getTextContent());i.replace(h),i=h}lg(i,a,g)}}}function lg(n,t,e){if(n.setTextContent(t),X(e)){let r=n.getKey();for(let o of["anchor","focus"]){let i=e[o];i.type==="text"&&i.key===r&&(i.offset=on(n,i.offset,"clamp"))}}}function bs(n,t,e){let r=t[e]||!1;return r==="any"||r===n[e]}function kh(n,t){return bs(n,t,"altKey")&&bs(n,t,"ctrlKey")&&bs(n,t,"shiftKey")&&bs(n,t,"metaKey")}function xe(n,t,e){return kh(n,e)&&n.key.toLowerCase()===t.toLowerCase()}var Ln={ctrlKey:!en,metaKey:en},cg={altKey:en,ctrlKey:!en};function ug(n){return n.key==="Backspace"}function dg(n){return xe(n,"a",Ln)}function nN(n){let t=Kt();if(X(n)){let e=n.anchor,r=n.focus,o=e.getNode().getTopLevelElementOrThrow().getParentOrThrow();return e.set(o.getKey(),0,"element"),r.set(o.getKey(),o.getChildrenSize(),"element"),Ls(n),n}{let e=t.select(0,t.getChildrenSize());return Rt(Ls(e)),e}}function Eo(n,t){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});let e=n.__lexicalClassNameCache,r=e[t];if(r!==void 0)return r;let o=n[t];if(typeof o=="string"){let i=Cg(o);return e[t]=i,i}return o}function Yc(n,t,e,r,o){if(e.size===0)return;let i=r.__type,s=r.__key,a=t.get(i);a===void 0&&F(33,i);let l=a.klass,c=n.get(l);c===void 0&&(c=new Map,n.set(l,c));let u=c.get(s),d=u==="destroyed"&&o==="created";(u===void 0||d)&&c.set(s,d?"updated":o)}function rN(n){let t=n.getType(),e=Hn();if(e._readOnly){let i=hc(e).get(t);return i?Array.from(i.values()):[]}let r=e._nodeMap,o=[];for(let[,i]of r)i instanceof n&&i.__type===t&&i.isAttached()&&o.push(i);return o}function fg(n,t,e){let r=n.getParent(),o=e,i=n;return r!==null&&(t&&e===0?(o=i.getIndexWithinParent(),i=r):t||e!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(t?o-1:o)}function Rh(n,t){let e=n.offset;if(n.type==="element")return fg(n.getNode(),t,e);{let r=n.getNode();if(t&&e===0||!t&&e===r.getTextContentSize()){let o=t?r.getPreviousSibling():r.getNextSibling();return o===null?fg(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):o}}return null}function Ih(n){let t=Vt(n).event,e=t&&t.inputType;return e==="insertFromPaste"||e==="insertFromPasteAsQuotation"}function B(n,t,e){return(function(r,o,i){let s=Uc(r);for(let a=4;a>=0;a--)for(let l=0;l<s.length;l++){let c=s[l],u=c._commands.get(o);if(u!==void 0){let d=u[a];if(d!==void 0){let f=Array.from(d),m=f.length,g=!1;if(mn(c,()=>{for(let h=0;h<m;h++)if(f[h](i,r))return void(g=!0)}),g)return g}}}return!1})(n,t,e)}function oa(n){return!lt(n)&&!n.isLastChild()&&!n.isInline()}function Ur(n,t){let e=n._keyToDOMMap.get(t);return e===void 0&&F(75,t),e}function Bi(n){let t=n.assignedSlot||n.parentElement;return Hh(t)?t.host:t}function jc(n){return Ah(n)?n:bt(n)?n.ownerDocument:null}function oN(n){return Ne()._updateTags.has(n)}function Fh(n){ot(),Ne()._updateTags.add(n)}function $h(n){ot(),Ne()._deferred.push(n)}function js(n,t){let e=n.getParent();for(;e!==null;){if(e.is(t))return!0;e=e.getParent()}return!1}function Jc(n){let t=jc(n);return t?t.defaultView:null}function Vt(n){let t=n._window;return t===null&&F(78),t}function iN(n){return I(n)&&n.isInline()||Me(n)&&n.isInline()}function Ph(n){let t=n.getParentOrThrow();for(;t!==null;){if(Jt(t))return t;t=t.getParentOrThrow()}return t}function Jt(n){return lt(n)||I(n)&&n.isShadowRoot()}function Vc(n){let t=n.constructor.clone(n);return Oh(t,null),t.afterCloneFrom(n),t}function Ki(n){let t=Ne(),e=n.getType(),r=Bc(t,e);r===void 0&&F(200,n.constructor.name,e);let{replace:o,replaceWithKlass:i}=r;if(o!==null){let s=o(n),a=s.constructor;return i!==null?s instanceof i||F(201,i.name,i.getType(),a.name,a.getType(),n.constructor.name,e):s instanceof n.constructor&&a!==n.constructor||F(202,a.name,a.getType(),n.constructor.name,e),s.__key===n.__key&&F(203,n.constructor.name,e,a.name,a.getType()),s}return n}function Bl(n,t){!lt(n.getParent())||I(t)||Me(t)||F(99)}function Bh(n){let t=qe(n);return t===null&&F(63,n),t}function Kl(n){return(Me(n)||I(n)&&!n.canBeEmpty())&&!n.isInline()}function fc(n,t,e){e.style.removeProperty("caret-color"),t._blockCursorElement=null;let r=n.parentElement;r!==null&&r.removeChild(n)}function Cn(n){return an?(n||window).getSelection():null}function Kh(n){let t=Jc(n);return t?t.getSelection():null}function sN(n,t){let e=n.getChildAtIndex(t);e==null&&(e=n),Jt(n)&&F(102);let r=s=>{let a=s.getParentOrThrow(),l=Jt(a),c=s!==e||l?Vc(s):s;if(l)return I(s)&&I(c)||F(133),s.insertAfter(c),[s,c,c];{let[u,d,f]=r(a),m=s.getNextSiblings();return f.append(c,...m),[u,d,c]}},[o,i]=r(e);return[o,i]}function aN(n){return bt(n)&&n.tagName==="A"}function bt(n){return Ro(n)&&n.nodeType===1}function Ro(n){return typeof n=="object"&&n!==null&&"nodeType"in n&&typeof n.nodeType=="number"}function Hh(n){return Ro(n)&&n.nodeType===11}function zh(n){let t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(t)!==null}function gc(n){let t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(t)!==null}function Fn(n){if(Me(n)&&!n.isInline())return!0;if(!I(n)||Jt(n))return!1;let t=n.getFirstChild(),e=t===null||Fr(t)||z(t)||t.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&e}function Xc(){return Ne()}var gg=new WeakMap,lN=new Map;function hc(n){if(!n._readOnly&&n.isEmpty())return lN;n._readOnly||F(192);let t=gg.get(n);return t||(t=(function(e){let r=new Map;for(let[o,i]of e._nodeMap){let s=i.__type,a=r.get(s);a||(a=new Map,r.set(s,a)),a.set(o,i)}return r})(n),gg.set(n,t)),t}function qc(n){let t=n.constructor.clone(n);return t.afterCloneFrom(n),t}function cN(n){return(t=qc(n))[oh]=!0,t;var t}function Uh(n,t){let e=parseInt(n.style.paddingInlineStart,10)||0,r=Math.round(e/40);t.setIndent(r)}function uN(n){n.__lexicalUnmanaged=!0}function Wh(n){return n.__lexicalUnmanaged===!0}function _i(n,t){return(function(e,r){return Object.prototype.hasOwnProperty.call(e,r)})(n,t)&&n[t]!==Bt[t]}function Hi(n){let t=Of in n.prototype?n.prototype[Of]():void 0,e=(function(s){if(!(s===Bt||s.prototype instanceof Bt)){let a="<unknown>",l="<unknown>";try{a=s.getType()}catch{}try{Pn.version&&(l=JSON.parse(Pn.version))}catch{}F(290,s.name,a,l)}return s===Li||s===sr||s===Bt})(n),r=!e&&_i(n,"getType")?n.getType():void 0,o,i=r;if(t)if(r)o=t[r];else for(let[s,a]of Object.entries(t))i=s,o=a;if(!e&&i&&(_i(n,"getType")||(n.getType=()=>i),_i(n,"clone")||(n.clone=s=>($c(s),new n)),_i(n,"importJSON")||(n.importJSON=o&&o.$importJSON||(s=>new n().updateFromJSON(s))),!_i(n,"importDOM")&&o)){let{importDOM:s}=o;s&&(n.importDOM=()=>s)}return{ownNodeConfig:o,ownNodeType:i}}function dN(n){let t=Xc();return ot(),new(t.resolveRegisteredNodeAfterReplacements(t.getRegisteredNode(n))).klass}var Si=(n,t)=>{let e=n;for(;e!=null&&!lt(e);){if(t(e))return e;e=e.getParent()}return null},fN={next:"previous",previous:"next"},Oo=class{constructor(t){O(this,"origin");this.origin=t}[Symbol.iterator](){return eu({hasNext:Wr,initial:this.getAdjacentCaret(),map:t=>t,step:t=>t.getAdjacentCaret()})}getAdjacentCaret(){return ct(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return ct(this.origin,this.direction)}remove(){let t=this.getNodeAtCaret();return t&&t.remove(),this}replaceOrInsert(t,e){let r=this.getNodeAtCaret();return t.is(this.origin)||t.is(r)||(r===null?this.insert(t):r.replace(t,e)),this}splice(t,e,r="next"){let o=r===this.direction?e:Array.from(e).reverse(),i=this,s=this.getParentAtCaret(),a=new Map;for(let l=i.getAdjacentCaret();l!==null&&a.size<t;l=l.getAdjacentCaret()){let c=l.origin.getWritable();a.set(c.getKey(),c)}for(let l of o){if(a.size>0){let c=i.getNodeAtCaret();if(c){if(a.delete(c.getKey()),a.delete(l.getKey()),!(c.is(l)||i.origin.is(l))){let u=l.getParent();u&&u.is(s)&&l.remove(),c.replace(l)}}else c===null&&F(263,Array.from(a).join(" "))}else i.insert(l);i=ct(l,this.direction)}for(let l of a.values())l.remove();return this}},Ri=class n extends Oo{constructor(){super(...arguments);O(this,"type","child")}getLatest(){let e=this.origin.getLatest();return e===this.origin?this:Kn(e,this.direction)}getParentCaret(e="root"){return ct(Zc(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=dr(this.direction);return ct(this.getNodeAtCaret(),e)||Kn(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof n&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}},gN={root:lt,shadowRoot:Jt};function dr(n){return fN[n]}function Zc(n,t="root"){return gN[t](n)?null:n}var vo=class n extends Oo{constructor(){super(...arguments);O(this,"type","sibling")}getLatest(){let e=this.origin.getLatest();return e===this.origin?this:ct(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return I(this.origin)?Kn(this.origin,this.direction):null}getParentCaret(e="root"){return ct(Zc(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=dr(this.direction);return ct(this.getNodeAtCaret(),e)||Kn(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof n&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof n||e instanceof Mo)&&this.direction===e.direction&&this.origin.is(e.origin)}},Mo=class n extends Oo{constructor(e,r){super(e);O(this,"type","text");O(this,"offset");this.offset=r}getLatest(){let e=this.origin.getLatest();return e===this.origin?this:ar(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return ct(Zc(this.getParentAtCaret(),e),this.direction)}getFlipped(){return ar(this.origin,dr(this.direction),this.offset)}isSamePointCaret(e){return e instanceof n&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof vo||e instanceof n)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return ct(this.origin,this.direction)}};function Bn(n){return n instanceof Mo}function hN(n){return n instanceof Oo}function Wr(n){return n instanceof vo}function rn(n){return n instanceof Ri}var pN={next:class extends Mo{constructor(){super(...arguments);O(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends Mo{constructor(){super(...arguments);O(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},mN={next:class extends vo{constructor(){super(...arguments);O(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends vo{constructor(){super(...arguments);O(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},_N={next:class extends Ri{constructor(){super(...arguments);O(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(t){return this.origin.splice(0,0,[t]),this}},previous:class extends Ri{constructor(){super(...arguments);O(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this}}};function ct(n,t){return n?new mN[t](n):null}function ar(n,t,e){return n?new pN[t](n,on(n,e)):null}function on(n,t,e="error"){let r=n.getTextContentSize(),o=t==="next"?r:t==="previous"?0:t;return(o<0||o>r)&&(e!=="clamp"&&mg(284,String(t),String(r),n.getKey()),o=o<0?0:r),o}function pc(n,t){return new Js(n,t)}function Kn(n,t){return I(n)?new _N[t](n):null}function Gh(n){return n&&n.getChildCaret()||n}function wo(n){return n&&Gh(n.getAdjacentCaret())}var mc=class n{constructor(t,e,r){O(this,"type","node-caret-range");O(this,"direction");O(this,"anchor");O(this,"focus");this.anchor=t,this.focus=e,this.direction=r}getLatest(){let t=this.anchor.getLatest(),e=this.focus.getLatest();return t===this.anchor&&e===this.focus?this:new n(t,e,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){let t=o=>{let i=this[o].getLatest();return Bn(i)?(function(s,a){let{direction:l,origin:c}=s,u=on(c,a==="focus"?dr(l):l);return pc(s,u-s.offset)})(i,o):null},e=t("anchor"),r=t("focus");if(e&&r){let{caret:o}=e,{caret:i}=r;if(o.isSameNodeCaret(i))return[pc(o,i.offset-o.offset),null]}return[e,r]}iterNodeCarets(t="root"){let e=Bn(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),o=Bn(r),i=s=>s.isSameNodeCaret(r)?null:wo(s)||s.getParentCaret(t);return eu({hasNext:s=>s!==null&&!(o&&r.isSameNodeCaret(s)),initial:e.isSameNodeCaret(r)?null:i(e),map:s=>s,step:i})}[Symbol.iterator](){return this.iterNodeCarets("root")}},Js=class{constructor(t,e){O(this,"type","slice");O(this,"caret");O(this,"distance");this.caret=t,this.distance=e}getSliceIndices(){let{distance:t,caret:{offset:e}}=this,r=e+t;return r<e?[r,e]:[e,r]}getTextContent(){let[t,e]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(t,e)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){let{caret:{origin:t,direction:e}}=this,[r,o]=this.getSliceIndices(),i=t.getTextContent();return ar(t.setTextContent(i.slice(0,r)+i.slice(o)),e,r)}};function CN(n){return n instanceof Js}function Qc(n){return lr(n,ct(Kt(),n.direction))}function Yh(n){return lr(n,n)}function lr(n,t){return n.direction!==t.direction&&F(265),new mc(n,t,n.direction)}function eu(n){let{initial:t,hasNext:e,step:r,map:o}=n,i=t;return{[Symbol.iterator](){return this},next(){if(!e(i))return{done:!0,value:void 0};let s={done:!1,value:o(i)};return i=r(i),s}}}function tu(n,t){let e=Ti(n.origin,t.origin);switch(e===null&&F(275,n.origin.getKey(),t.origin.getKey()),e.type){case"same":{let r=n.type==="text",o=t.type==="text";return r&&o?(function(i,s){return Math.sign(i-s)})(n.offset,t.offset):n.type===t.type?0:r?-1:o?1:n.type==="child"?-1:1}case"ancestor":return n.type==="child"?-1:1;case"descendant":return t.type==="child"?1:-1;case"branch":return nu(e)}}function nu(n){let{a:t,b:e}=n,r=t.__key,o=e.__key,i=t,s=e;for(;i&&s;i=i.getNextSibling(),s=s.getNextSibling()){if(i.__key===o)return-1;if(s.__key===r)return 1}return i===null?1:-1}function As(n,t){return t.is(n)}function hg(n){return I(n)?[n.getLatest(),null]:[n.getParent(),n.getLatest()]}function Ti(n,t){if(n.is(t))return{commonAncestor:n,type:"same"};let e=new Map;for(let[r,o]=hg(n);r;o=r,r=r.getParent())e.set(r,o);for(let[r,o]=hg(t);r;o=r,r=r.getParent()){let i=e.get(r);if(i!==void 0)return i===null?(As(n,r)||F(276),{commonAncestor:r,type:"ancestor"}):o===null?(As(t,r)||F(277),{commonAncestor:r,type:"descendant"}):((I(i)||As(n,i))&&(I(o)||As(t,o))&&r.is(i.getParent())&&r.is(o.getParent())||F(278),{a:i,b:o,commonAncestor:r,type:"branch"})}return null}function cr(n,t){let{type:e,key:r,offset:o}=n,i=Bh(n.key);return e==="text"?(z(i)||F(266,i.getType(),r),ar(i,t,o)):(I(i)||F(267,i.getType(),r),Xh(i,n.offset,t))}function Do(n,t){let{origin:e,direction:r}=t,o=r==="next";Bn(t)?n.set(e.getKey(),t.offset,"text"):Wr(t)?z(e)?n.set(e.getKey(),on(e,r),"text"):n.set(e.getParentOrThrow().getKey(),e.getIndexWithinParent()+(o?1:0),"element"):(rn(t)&&I(e)||F(268),n.set(e.getKey(),o?0:e.getChildrenSize(),"element"))}function jh(n){let t=pe(),e=X(t)?t:hh();return bi(e,n),Rt(e),e}function bi(n,t){Do(n.anchor,t.anchor),Do(n.focus,t.focus)}function _c(n){let{anchor:t,focus:e}=n,r=cr(t,"next"),o=cr(e,"next"),i=tu(r,o)<=0?"next":"previous";return lr(ur(r,i),ur(o,i))}function Io(n){let{direction:t,origin:e}=n,r=ct(e,dr(t)).getNodeAtCaret();return r?ct(r,t):Kn(e.getParentOrThrow(),t)}function pg(n,t="root"){let e=[n];for(let r=rn(n)?n.getParentCaret(t):n.getSiblingCaret();r!==null;r=r.getParentCaret(t))e.push(Io(r));return e}function Hl(n){return!!n&&n.origin.isAttached()}function Jh(n,t="removeEmptySlices"){if(n.isCollapsed())return n;let e="root",r="next",o=t,i=ru(n,r),s=pg(i.anchor,e),a=pg(i.focus.getFlipped(),e),l=new Set,c=[];for(let g of i.iterNodeCarets(e))if(rn(g))l.add(g.origin.getKey());else if(Wr(g)){let{origin:h}=g;I(h)&&!l.has(h.getKey())||c.push(h)}for(let g of c)g.remove();for(let g of i.getTextSlices()){if(!g)continue;let{origin:h}=g.caret,p=h.getTextContentSize(),_=Io(ct(h,r)),C=h.getMode();if(Math.abs(g.distance)===p&&o==="removeEmptySlices"||C==="token"&&g.distance!==0)_.remove();else if(g.distance!==0){o="removeEmptySlices";let y=g.removeTextSlice(),N=g.caret.origin;if(C==="segmented"){let S=y.origin,E=rt(S.getTextContent()).setStyle(S.getStyle()).setFormat(S.getFormat());_.replaceOrInsert(E),y=ar(E,r,y.offset)}N.is(s[0].origin)&&(s[0]=y),N.is(a[0].origin)&&(a[0]=y.getFlipped())}}let u,d;for(let g of s)if(Hl(g)){u=tn(g);break}for(let g of a)if(Hl(g)){d=tn(g);break}let f=(function(g,h,p){if(!g||!h)return null;let _=g.getParentAtCaret(),C=h.getParentAtCaret();if(!_||!C)return null;let y=_.getParents().reverse();y.push(_);let N=C.getParents().reverse();N.push(C);let S=Math.min(y.length,N.length),E;for(E=0;E<S&&y[E]===N[E];E++);let x=(D,R)=>{let $;for(let H=E;H<D.length;H++){let V=D[H];if(Jt(V))return;!$&&R(V)&&($=V)}return $},A=x(y,Fn),v=A&&x(N,D=>p.has(D.getKey())&&Fn(D));return A&&v?[A,v]:null})(u,d,l);if(f){let[g,h]=f;Kn(g,"previous").splice(0,h.getChildren()),h.remove()}let m=[u,d,...s,...a].find(Hl);if(m)return Yh(ur(tn(m),n.direction));F(269,JSON.stringify(s.map(g=>g.origin.__key)))}function tn(n){let t=(function(o){let i=o;for(;rn(i);){let s=wo(i);if(!rn(s))break;i=s}return i})(n.getLatest()),{direction:e}=t;if(z(t.origin))return Bn(t)?t:ar(t.origin,e,e);let r=t.getAdjacentCaret();return Wr(r)&&z(r.origin)?ar(r.origin,e,dr(e)):t}function Vh(n){return Bn(n)&&n.offset!==on(n.origin,n.direction)}function ur(n,t){return n.direction===t?n:n.getFlipped()}function ru(n,t){return n.direction===t?n:lr(ur(n.focus,t),ur(n.anchor,t))}function Xh(n,t,e){let r=Kn(n,"next");for(let o=0;o<t;o++){let i=r.getAdjacentCaret();if(i===null)break;r=i}return ur(r,e)}function yN(n,t="root"){let e=0,r=n,o=wo(r);for(;o===null;){if(e--,o=r.getParentCaret(t),!o)return null;r=o,o=wo(r)}return o&&[o,e]}function xN(n){let{origin:t,offset:e,direction:r}=n;if(e===on(t,r))return n.getSiblingCaret();if(e===on(t,dr(r)))return Io(n.getSiblingCaret());let[o]=t.splitText(e);return z(o)||F(281),ur(ct(o,"next"),r)}function EN(n,t){return!0}function NN(n,{$copyElementNode:t=Vc,$splitTextPointCaretNext:e=xN,rootMode:r="shadowRoot",$shouldSplit:o=EN}={}){if(Bn(n))return e(n);let i=n.getParentCaret(r);if(i){let{origin:s}=i;if(rn(n)&&(!s.canBeEmpty()||!o(s,"first")))return Io(i);let a=(function(l){let c=[];for(let u=l.getAdjacentCaret();u;u=u.getAdjacentCaret())c.push(u.origin);return c})(n);(a.length>0||s.canBeEmpty()&&o(s,"last"))&&i.insert(t(s).splice(0,0,a))}return i}function SN(n){return n}function TN(...n){return n}function bN(n,t){return[n,t]}function AN(n){return n}function ON(n,t){if(!t||n===t)return n;for(let e in t)if(n[e]!==t[e])return{...n,...t};return n}var b=ou,Cb=b.$addUpdateTag,ke=b.$applyNodeReplacement,fr=b.$caretFromPoint,qh=b.$caretRangeFromSelection,ia=b.$cloneWithProperties,Zh=b.$cloneWithPropertiesEphemeral,yb=b.$comparePointCaretNext,xb=b.$copyNode,Fo=b.$create,ln=b.$createLineBreakNode,Qh=b.$createNodeSelection,Q=b.$createParagraphNode,cn=b.$createPoint,gr=b.$createRangeSelection,ep=b.$createRangeSelectionFromDom,Ht=b.$createTabNode,Ze=b.$createTextNode,zi=b.$extendCaretToRange,hr=b.$findMatchingParent,Ui=b.$getAdjacentChildCaret,iu=b.$getAdjacentNode,Yr=b.$getAdjacentSiblingOrParentSiblingCaret,su=b.$getCaretInDirection,Wi=b.$getCaretRange,au=b.$getCaretRangeInDirection,tp=b.$getCharacterOffsets,zt=b.$getChildCaret,Eb=b.$getChildCaretAtIndex,lu=b.$getChildCaretOrSelf,np=b.$getCollapsedCaretRange,Nb=b.$getCommonAncestor,Sb=b.$getCommonAncestorResultBranchOrder,zn=b.$getEditor,ze=b.$getNearestNodeFromDOMNode,Tb=b.$getNearestRootOrShadowRoot,$e=b.$getNodeByKey,bb=b.$getNodeByKeyOrThrow,rp=b.$getNodeFromDOMNode,Un=b.$getPreviousSelection,Ue=b.$getRoot,w=b.$getSelection,ft=b.$getSiblingCaret,op=b.$getState,Ab=b.$getStateChange,Ob=b.$getTextContent,vb=b.$getTextNodeOffset,cu=b.$getTextPointCaret,Mb=b.$getTextPointCaretSlice,wb=b.$getWritableNodeState,ip=b.$hasAncestor,Db=b.$hasUpdateTag,Wn=b.$insertNodes,$o=b.$isBlockElementNode,pr=b.$isChildCaret,Gn=b.$isDecoratorNode,sp=b.$isEditorState,P=b.$isElementNode,sa=b.$isExtendableTextPointCaret,ap=b.$isInlineElementOrDecoratorNode,Gi=b.$isLeafNode,Pe=b.$isLineBreakNode,Lb=b.$isNodeCaret,gt=b.$isNodeSelection,mr=b.$isParagraphNode,M=b.$isRangeSelection,Yn=b.$isRootNode,Et=b.$isRootOrShadowRoot,aa=b.$isSiblingCaret,ht=b.$isTabNode,U=b.$isTextNode,la=b.$isTextPointCaret,kb=b.$isTextPointCaretSlice,uu=b.$isTokenOrSegmented,Rb=b.$isTokenOrTab,Ib=b.$nodesOfType,un=b.$normalizeCaret,jn=b.$normalizeSelection__EXPERIMENTAL,Fb=b.$onUpdate,lp=b.$parseSerializedNode,$b=b.$removeTextFromCaretRange,cp=b.$rewindSiblingCaret,ca=b.$selectAll,Pb=b.$setCompositionKey,_r=b.$setPointFromCaret,Ge=b.$setSelection,Yi=b.$setSelectionFromCaretRange,up=b.$setState,dp=b.$splitAtPointCaretNext,fp=b.$splitNode,Bb=b.$updateRangeSelectionFromCaretRange,du=b.ArtificialNode__DO_NOT_USE,Kb=b.BEFORE_INPUT_COMMAND,Hb=b.BLUR_COMMAND,jr=b.CAN_REDO_COMMAND,Jr=b.CAN_UNDO_COMMAND,ua=b.CLEAR_EDITOR_COMMAND,gp=b.CLEAR_HISTORY_COMMAND,Po=b.CLICK_COMMAND,zb=b.COLLABORATION_TAG,da=b.COMMAND_PRIORITY_CRITICAL,ne=b.COMMAND_PRIORITY_EDITOR,It=b.COMMAND_PRIORITY_HIGH,oe=b.COMMAND_PRIORITY_LOW,hp=b.COMMAND_PRIORITY_NORMAL,Ub=b.COMPOSITION_END_COMMAND,Wb=b.COMPOSITION_START_COMMAND,fa=b.CONTROLLED_TEXT_INSERTION_COMMAND,ga=b.COPY_COMMAND,ha=b.CUT_COMMAND,Bo=b.DELETE_CHARACTER_COMMAND,ji=b.DELETE_LINE_COMMAND,pa=b.DELETE_WORD_COMMAND,Gb=b.DRAGEND_COMMAND,pp=b.DRAGOVER_COMMAND,mp=b.DRAGSTART_COMMAND,_p=b.DROP_COMMAND,Ko=b.DecoratorNode,ut=b.ElementNode,Cp=b.FOCUS_COMMAND,Ut=b.FORMAT_ELEMENT_COMMAND,At=b.FORMAT_TEXT_COMMAND,ma=b.HISTORIC_TAG,_a=b.HISTORY_MERGE_TAG,yp=b.HISTORY_PUSH_TAG,pt=b.INDENT_CONTENT_COMMAND,Yb=b.INPUT_COMMAND,fu=b.INSERT_LINE_BREAK_COMMAND,Cr=b.INSERT_PARAGRAPH_COMMAND,yr=b.INSERT_TAB_COMMAND,Ji=b.INTERNAL_$isBlock,jb=b.IS_ALL_FORMATTING,Jb=b.IS_BOLD,Vb=b.IS_CODE,Xb=b.IS_HIGHLIGHT,qb=b.IS_ITALIC,Zb=b.IS_STRIKETHROUGH,Qb=b.IS_SUBSCRIPT,eA=b.IS_SUPERSCRIPT,tA=b.IS_UNDERLINE,yn=b.KEY_ARROW_DOWN_COMMAND,Ho=b.KEY_ARROW_LEFT_COMMAND,Ca=b.KEY_ARROW_RIGHT_COMMAND,Xt=b.KEY_ARROW_UP_COMMAND,ya=b.KEY_BACKSPACE_COMMAND,xa=b.KEY_DELETE_COMMAND,nA=b.KEY_DOWN_COMMAND,xp=b.KEY_ENTER_COMMAND,xr=b.KEY_ESCAPE_COMMAND,Ep=b.KEY_MODIFIER_COMMAND,Ea=b.KEY_SPACE_COMMAND,Jn=b.KEY_TAB_COMMAND,Np=b.LineBreakNode,Na=b.MOVE_TO_END,Vi=b.MOVE_TO_START,rA=b.NODE_STATE_KEY,Ot=b.OUTDENT_CONTENT_COMMAND,Sa=b.PASTE_COMMAND,Sp=b.PASTE_TAG,Tp=b.ParagraphNode,Ta=b.REDO_COMMAND,bp=b.REMOVE_TEXT_COMMAND,Ap=b.RootNode,Vr=b.SELECTION_CHANGE_COMMAND,Xi=b.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,Op=b.SELECT_ALL_COMMAND,oA=b.SKIP_COLLAB_TAG,iA=b.SKIP_DOM_SELECTION_TAG,sA=b.SKIP_SCROLL_INTO_VIEW_TAG,aA=b.SKIP_SELECTION_FOCUS_TAG,vp=b.TEXT_TYPE_TO_FORMAT,Mp=b.TabNode,Ye=b.TextNode,ba=b.UNDO_COMMAND,gu=b.buildImportMap,Aa=b.configExtension,_e=b.createCommand,zo=b.createEditor,lA=b.createSharedNodeState,cA=b.createState,wp=b.declarePeerDependency,me=b.defineExtension,uA=b.flipDirection,dA=b.getDOMOwnerDocument,Er=b.getDOMSelection,fA=b.getDOMSelectionFromTarget,Dp=b.getDOMTextNode,gA=b.getEditorPropertyFromDOMNode,Uo=b.getNearestEditorFromDOMNode,Lp=b.getRegisteredNode,hA=b.getRegisteredNodeOrThrow,pA=b.getStaticNodeConfig,hu=b.getTextDirection,mA=b.getTransformSetFromKlass,kp=b.isBlockDomNode,Rp=b.isCurrentlyReadOnlyMode,Ip=b.isDOMDocumentNode,Ft=b.isDOMNode,_A=b.isDOMTextNode,CA=b.isDOMUnmanaged,pu=b.isDocumentFragment,yA=b.isExactShortcutMatch,Oa=b.isHTMLAnchorElement,Xr=b.isHTMLElement,qi=b.isInlineDomNode,xA=b.isLexicalEditor,EA=b.isModifierMatch,Fp=b.isSelectionCapturedInDecoratorInput,$p=b.isSelectionWithinEditor,mu=b.makeStepwiseIterator,NA=b.removeFromParent,SA=b.resetRandomKey,mt=b.safeCast,Pp=b.setDOMUnmanaged,_u=b.setNodeIndentFromDOM,Nr=b.shallowMergeConfig;var Su={};Tt(Su,{$addNodeStyle:()=>kN,$cloneWithProperties:()=>ia,$copyBlockFormatIndent:()=>jp,$ensureForwardRangeSelection:()=>Yp,$forEachSelectedTextNode:()=>Gp,$getComputedStyleForElement:()=>xu,$getComputedStyleForParent:()=>Eu,$getSelectionStyleValueForProperty:()=>HN,$isAtNodeEnd:()=>LN,$isParentElementRTL:()=>Nu,$isParentRTL:()=>wN,$moveCaretSelection:()=>Xp,$moveCharacter:()=>BN,$patchStyleText:()=>RN,$selectAll:()=>ca,$setBlocksType:()=>IN,$shouldOverrideDefaultCharacterSelection:()=>PN,$sliceSelectedTextNodeContent:()=>DN,$trimTextContentFromAnchor:()=>Wp,$wrapNodes:()=>$N,createDOMRange:()=>vN,createRectsFromDOMRange:()=>MN,getCSSFromStyleObject:()=>Up,getStyleObjectFromCSS:()=>wa,trimTextContentFromAnchor:()=>zN});function yu(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var Ma=new Map;function Bp(n){let t=n;for(;t!=null;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function Kp(n){let t=n.parentNode;if(t==null)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(n)]}function vN(n,t,e,r,o){let i=t.getKey(),s=r.getKey(),a=document.createRange(),l=n.getElementByKey(i),c=n.getElementByKey(s),u=e,d=o;if(U(t)&&(l=Bp(l)),U(r)&&(c=Bp(c)),t===void 0||r===void 0||l===null||c===null)return null;l.nodeName==="BR"&&([l,u]=Kp(l)),c.nodeName==="BR"&&([c,d]=Kp(c));let f=l.firstChild;l===c&&f!=null&&f.nodeName==="BR"&&u===0&&d===0&&(d=1);try{a.setStart(l,u),a.setEnd(c,d)}catch{return null}return!a.collapsed||u===d&&i===s||(a.setStart(c,d),a.setEnd(l,u)),a}function MN(n,t){let e=n.getRootElement();if(e===null)return[];let r=e.getBoundingClientRect(),o=getComputedStyle(e),i=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),s=Array.from(t.getClientRects()),a,l=s.length;s.sort((c,u)=>{let d=c.top-u.top;return Math.abs(d)<=3?c.left-u.left:d});for(let c=0;c<l;c++){let u=s[c],d=a&&a.top<=u.top&&a.top+a.height>u.top&&a.left+a.width>u.left,f=u.width+i===r.width;d||f?(s.splice(c--,1),l--):a=u}return s}function zp(n){let t={};if(!n)return t;let e=n.split(";");for(let r of e)if(r!==""){let[o,i]=r.split(/:([^]+)/);o&&i&&(t[o.trim()]=i.trim())}return t}function wa(n){let t=Ma.get(n);return t===void 0&&(t=zp(n),Ma.set(n,t)),t}function Up(n){let t="";for(let e in n)e&&(t+=`${e}: ${n[e]};`);return t}function xu(n){let t=zn().getElementByKey(n.getKey());if(t===null)return null;let e=t.ownerDocument.defaultView;return e===null?null:e.getComputedStyle(t)}function Eu(n){return xu(Yn(n)?n:n.getParentOrThrow())}function wN(n){let t=Eu(n);return t!==null&&t.direction==="rtl"}function DN(n,t,e="self"){let r=n.getStartEndPoints();if(t.isSelected(n)&&!uu(t)&&r!==null){let[o,i]=r,s=n.isBackward(),a=o.getNode(),l=i.getNode(),c=t.is(a),u=t.is(l);if(c||u){let[d,f]=tp(n),m=a.is(l),g=t.is(s?l:a),h=t.is(s?a:l),p,_=0;m?(_=d>f?f:d,p=d>f?d:f):g?(_=s?f:d,p=void 0):h&&(_=0,p=s?d:f);let C=t.__text.slice(_,p);C!==t.__text&&(e==="clone"&&(t=Zh(t)),t.__text=C)}}return t}function LN(n){if(n.type==="text")return n.offset===n.getNode().getTextContentSize();let t=n.getNode();return P(t)||yu(177),n.offset===t.getChildrenSize()}function Wp(n,t,e){let r=t.getNode(),o=e;if(P(r)){let i=r.getDescendantByIndex(t.offset);i!==null&&(r=i)}for(;o>0&&r!==null;){if(P(r)){let c=r.getLastDescendant();c!==null&&(r=c)}let i=r.getPreviousSibling(),s=0;if(i===null){let c=r.getParentOrThrow(),u=c.getPreviousSibling();for(;u===null;){if(c=c.getParent(),c===null){i=null;break}u=c.getPreviousSibling()}c!==null&&(s=c.isInline()?0:2,i=u)}let a=r.getTextContent();a===""&&P(r)&&!r.isInline()&&(a=`

`);let l=a.length;if(!U(r)||o>=l){let c=r.getParent();r.remove(),c==null||c.getChildrenSize()!==0||Yn(c)||c.remove(),o-=l+s,r=i}else{let c=r.getKey(),u=n.getEditorState().read(()=>{let m=$e(c);return U(m)&&m.isSimpleText()?m.getTextContent():null}),d=l-o,f=a.slice(0,d);if(u!==null&&u!==a){let m=Un(),g=r;if(r.isSimpleText())r.setTextContent(u);else{let h=Ze(u);r.replace(h),g=h}if(M(m)&&m.isCollapsed()){let h=m.anchor.offset;g.select(h,h)}}else if(r.isSimpleText()){let m=t.key===c,g=t.offset;g<o&&(g=l);let h=m?g-o:0,p=m?g:d;if(m&&h===0){let[_]=r.splitText(h,p);_.remove()}else{let[,_]=r.splitText(h,p);_.remove()}}else{let m=Ze(f);r.replace(m)}o=0}}}function kN(n){let t=n.getStyle(),e=zp(t);Ma.set(t,e)}function va(n,t){(M(n)?n.isCollapsed():U(n)||P(n))||yu(280);let e=wa(M(n)?n.style:U(n)?n.getStyle():n.getTextStyle()),r=Object.entries(t).reduce((i,[s,a])=>(typeof a=="function"?i[s]=a(e[s],n):a===null?delete i[s]:i[s]=a,i),{...e}),o=Up(r);M(n)||U(n)?n.setStyle(o):n.setTextStyle(o),Ma.set(o,r)}function RN(n,t){if(M(n)&&n.isCollapsed()){va(n,t);let r=n.anchor.getNode();P(r)&&r.isEmpty()&&va(r,t)}Gp(r=>{va(r,t)});let e=n.getNodes();if(e.length>0){let r=new Set;for(let o of e){if(!P(o)||!o.canBeEmpty()||o.getChildrenSize()!==0)continue;let i=o.getKey();r.has(i)||(r.add(i),va(o,t))}}}function Gp(n){let t=w();if(!t)return;let e=new Map,r=i=>e.get(i.getKey())||[0,i.getTextContentSize()];if(M(t))for(let i of qh(t).getTextSlices())i&&e.set(i.caret.origin.getKey(),i.getSliceIndices());let o=t.getNodes();for(let i of o){if(!U(i)||!i.canHaveFormat())continue;let[s,a]=r(i);a!==s&&(uu(i)||s===0&&a===i.getTextContentSize()?n(i):n(i.splitText(s,a)[s===0?0:1]))}M(t)&&t.anchor.type==="text"&&t.focus.type==="text"&&t.anchor.key===t.focus.key&&Yp(t)}function Yp(n){if(n.isBackward()){let{anchor:t,focus:e}=n,{key:r,offset:o,type:i}=t;t.set(e.key,e.offset,e.type),e.set(r,o,i)}}function jp(n,t){let e=n.getFormatType(),r=n.getIndent();e!==t.getFormatType()&&t.setFormat(e),r!==t.getIndent()&&t.setIndent(r)}function IN(n,t,e=jp){if(n===null)return;let r=n.getStartEndPoints(),o=new Map,i=null;if(r){let[s,a]=r;i=gr(),i.anchor.set(s.key,s.offset,s.type),i.focus.set(a.key,a.offset,a.type);let l=hr(s.getNode(),Ji),c=hr(a.getNode(),Ji);P(l)&&o.set(l.getKey(),l),P(c)&&o.set(c.getKey(),c)}for(let s of n.getNodes())if(P(s)&&Ji(s))o.set(s.getKey(),s);else if(r===null){let a=hr(s,Ji);P(a)&&o.set(a.getKey(),a)}for(let[s,a]of o){let l=t();e(a,l),a.replace(l,!0),i&&(s===i.anchor.key&&i.anchor.set(l.getKey(),i.anchor.offset,i.anchor.type),s===i.focus.key&&i.focus.set(l.getKey(),i.focus.offset,i.focus.type))}i&&n.is(w())&&Ge(i)}function Hp(n){return n.getNode().isAttached()}function FN(n){let t=n;for(;t!==null&&!Et(t);){let e=t.getLatest(),r=t.getParent();e.getChildrenSize()===0&&t.remove(!0),t=r}}function $N(n,t,e=null){let r=n.getStartEndPoints(),o=r?r[0]:null,i=n.getNodes(),s=i.length;if(o!==null&&(s===0||s===1&&o.type==="element"&&o.getNode().getChildrenSize()===0)){let c=o.type==="text"?o.getNode().getParentOrThrow():o.getNode(),u=c.getChildren(),d=t();return d.setFormat(c.getFormatType()),d.setIndent(c.getIndent()),u.forEach(f=>d.append(f)),e&&(d=e.append(d)),void c.replace(d)}let a=null,l=[];for(let c=0;c<s;c++){let u=i[c];Et(u)?(Cu(n,l,l.length,t,e),l=[],a=u):a===null||a!==null&&ip(u,a)?l.push(u):(Cu(n,l,l.length,t,e),l=[u])}Cu(n,l,l.length,t,e)}function Cu(n,t,e,r,o=null){if(t.length===0)return;let i=t[0],s=new Map,a=[],l=P(i)?i:i.getParentOrThrow();l.isInline()&&(l=l.getParentOrThrow());let c=!1;for(;l!==null;){let g=l.getPreviousSibling();if(g!==null){l=g,c=!0;break}if(l=l.getParentOrThrow(),Et(l))break}let u=new Set;for(let g=0;g<e;g++){let h=t[g];P(h)&&h.getChildrenSize()===0&&u.add(h.getKey())}let d=new Set;for(let g=0;g<e;g++){let h=t[g],p=h.getParent();if(p!==null&&p.isInline()&&(p=p.getParent()),p!==null&&Gi(h)&&!d.has(h.getKey())){let _=p.getKey();if(s.get(_)===void 0){let C=r();C.setFormat(p.getFormatType()),C.setIndent(p.getIndent()),a.push(C),s.set(_,C),p.getChildren().forEach(y=>{C.append(y),d.add(y.getKey()),P(y)&&y.getChildrenKeys().forEach(N=>d.add(N))}),FN(p)}}else if(u.has(h.getKey())){P(h)||yu(179);let _=r();_.setFormat(h.getFormatType()),_.setIndent(h.getIndent()),a.push(_),h.remove(!0)}}if(o!==null)for(let g=0;g<a.length;g++){let h=a[g];o.append(h)}let f=null;if(Et(l))if(c)if(o!==null)l.insertAfter(o);else for(let g=a.length-1;g>=0;g--){let h=a[g];l.insertAfter(h)}else{let g=l.getFirstChild();if(P(g)&&(l=g),g===null)if(o)l.append(o);else for(let h=0;h<a.length;h++){let p=a[h];l.append(p),f=p}else if(o!==null)g.insertBefore(o);else for(let h=0;h<a.length;h++){let p=a[h];g.insertBefore(p),f=p}}else if(o)l.insertAfter(o);else for(let g=a.length-1;g>=0;g--){let h=a[g];l.insertAfter(h),f=h}let m=Un();M(m)&&Hp(m.anchor)&&Hp(m.focus)?Ge(m.clone()):f!==null?f.selectEnd():n.dirty=!0}function Jp(n){let t=Vp(n);return t!==null&&t.writingMode==="vertical-rl"}function Vp(n){let t=n.anchor.getNode();return P(t)?xu(t):Eu(t)}function PN(n,t){let e=Jp(n)?!t:t;Nu(n)&&(e=!e);let r=fr(n.focus,e?"previous":"next");if(sa(r))return!1;for(let o of zi(r)){if(pr(o))return!o.origin.isInline();if(!P(o.origin)){if(Gn(o.origin))return!0;break}}return!1}function Xp(n,t,e,r){n.modify(t?"extend":"move",e,r)}function Nu(n){let t=Vp(n);return t!==null&&t.direction==="rtl"}function BN(n,t,e){let r=Nu(n),o;o=Jp(n)||r?!e:e,Xp(n,t,o,"character")}function KN(n,t,e){let r=wa(n.getStyle());return r!==null&&r[t]||e}function HN(n,t,e=""){let r=null,o=n.getNodes(),i=n.anchor,s=n.focus,a=n.isBackward(),l=a?s.offset:i.offset,c=a?s.getNode():i.getNode();if(M(n)&&n.isCollapsed()&&n.style!==""){let u=wa(n.style);if(u!==null&&t in u)return u[t]}for(let u=0;u<o.length;u++){let d=o[u];if((u===0||l!==0||!d.is(c))&&U(d)){let f=KN(d,t,e);if(r===null)r=f;else if(r!==f){r="";break}}}return r===null?e:r}var zN=Wp;var Re=Su,qp=Re.$addNodeStyle,OA=Re.$cloneWithProperties,vA=Re.$copyBlockFormatIndent,MA=Re.$ensureForwardRangeSelection,wA=Re.$forEachSelectedTextNode,DA=Re.$getComputedStyleForElement,LA=Re.$getComputedStyleForParent,Zi=Re.$getSelectionStyleValueForProperty,Tu=Re.$isAtNodeEnd,Zp=Re.$isParentElementRTL,bu=Re.$isParentRTL,kA=Re.$moveCaretSelection,Au=Re.$moveCharacter,Wo=Re.$patchStyleText,RA=Re.$selectAll,Sr=Re.$setBlocksType,Ou=Re.$shouldOverrideDefaultCharacterSelection,Da=Re.$sliceSelectedTextNodeContent,IA=Re.$trimTextContentFromAnchor,FA=Re.$wrapNodes,$A=Re.createDOMRange,Qp=Re.createRectsFromDOMRange,PA=Re.getCSSFromStyleObject,vu=Re.getStyleObjectFromCSS,BA=Re.trimTextContentFromAnchor;var Lu={};Tt(Lu,{$descendantsMatching:()=>AS,$dfs:()=>cS,$dfsIterator:()=>dm,$filter:()=>ES,$findMatchingParent:()=>hr,$firstToLastIterator:()=>OS,$getAdjacentCaret:()=>uS,$getAdjacentSiblingOrParentSiblingCaret:()=>Yr,$getDepth:()=>gm,$getNearestBlockElementAncestorOrThrow:()=>pS,$getNearestNodeOfType:()=>hS,$getNextRightPreorderNode:()=>gS,$getNextSiblingOrParentSibling:()=>fS,$insertFirst:()=>NS,$insertNodeToNearestRoot:()=>CS,$insertNodeToNearestRootAtCaret:()=>pm,$isEditorIsNestedEditor:()=>TS,$lastToFirstIterator:()=>Du,$restoreEditorState:()=>_S,$reverseDfs:()=>dS,$reverseDfsIterator:()=>hm,$splitNode:()=>fp,$unwrapAndFilterDescendants:()=>bS,$unwrapNode:()=>vS,$wrapNodeInElement:()=>yS,CAN_USE_BEFORE_INPUT:()=>ZN,CAN_USE_DOM:()=>lm,IS_ANDROID:()=>QN,IS_ANDROID_CHROME:()=>eS,IS_APPLE:()=>tS,IS_APPLE_WEBKIT:()=>nS,IS_CHROME:()=>rS,IS_FIREFOX:()=>cm,IS_IOS:()=>oS,IS_SAFARI:()=>iS,addClassNamesToElement:()=>sS,calculateZoomLevel:()=>SS,isBlockDomNode:()=>kp,isHTMLAnchorElement:()=>Oa,isHTMLElement:()=>Xr,isInlineDomNode:()=>qi,isMimeType:()=>um,makeStateWrapper:()=>MS,markSelection:()=>am,mediaFileReader:()=>lS,mergeRegister:()=>im,objectKlassEquals:()=>xS,positionNodeOnRange:()=>sm,registerNestedElementResolver:()=>mS,removeClassNamesFromElement:()=>aS,selectionAlwaysOnDisplay:()=>qN});function La(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var dn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,UN=dn&&"documentMode"in document?document.documentMode:null,nm=dn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),WN=dn&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),GN=!(!dn||!("InputEvent"in window)||UN)&&"getTargetRanges"in new window.InputEvent("input"),YN=dn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),jN=dn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,rm=dn&&/Android/.test(navigator.userAgent),wu=dn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),JN=dn&&rm&&wu,VN=dn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&nm&&!wu;function om(...n){let t=[];for(let e of n)if(e&&typeof e=="string")for(let[r]of e.matchAll(/\S+/g))t.push(r);return t}function im(...n){return()=>{for(let t=n.length-1;t>=0;t--)n[t]();n.length=0}}function xn(n){return`${n}px`}var XN={attributes:!0,characterData:!0,childList:!0,subtree:!0};function sm(n,t,e){let r=null,o=null,i=null,s=[],a=document.createElement("div");function l(){r===null&&La(182),o===null&&La(183);let{left:d,top:f}=o.getBoundingClientRect(),m=Qp(n,t);var g,h;a.isConnected||(h=a,(g=o).insertBefore(h,g.firstChild));let p=!1;for(let _=0;_<m.length;_++){let C=m[_],y=s[_]||document.createElement("div"),N=y.style;N.position!=="absolute"&&(N.position="absolute",p=!0);let S=xn(C.left-d);N.left!==S&&(N.left=S,p=!0);let E=xn(C.top-f);N.top!==E&&(y.style.top=E,p=!0);let x=xn(C.width);N.width!==x&&(y.style.width=x,p=!0);let A=xn(C.height);N.height!==A&&(y.style.height=A,p=!0),y.parentNode!==a&&(a.append(y),p=!0),s[_]=y}for(;s.length>m.length;)s.pop();p&&e(s)}function c(){o=null,r=null,i!==null&&i.disconnect(),i=null,a.remove();for(let d of s)d.remove();s=[]}a.style.position="relative";let u=n.registerRootListener(function d(){let f=n.getRootElement();if(f===null)return c();let m=f.parentElement;if(!Xr(m))return c();c(),r=f,o=m,i=new MutationObserver(g=>{let h=n.getRootElement(),p=h&&h.parentElement;if(h!==r||p!==o)return d();for(let _ of g)if(!a.contains(_.target))return l()}),i.observe(m,XN),l()});return()=>{u(),c()}}function em(n,t,e){if(n.type!=="text"&&P(t)){let r=t.getDOMSlot(e);return[r.element,r.getFirstChildOffset()+n.offset]}return[Dp(e)||e,n.offset]}function am(n,t){let e=null,r=null,o=null,i=null,s=null,a=null,l=()=>{};function c(u){u.read(()=>{let d=w();if(!M(d))return e=null,o=null,i=null,a=null,l(),void(l=()=>{});let[f,m]=(function(A){let v=A.getStartEndPoints();return A.isBackward()?[v[1],v[0]]:v})(d),g=f.getNode(),h=g.getKey(),p=f.offset,_=m.getNode(),C=_.getKey(),y=m.offset,N=n.getElementByKey(h),S=n.getElementByKey(C),E=e===null||N!==r||p!==o||h!==e.getKey(),x=i===null||S!==s||y!==a||C!==i.getKey();if((E||x)&&N!==null&&S!==null){let A=(function(v,D,R,$,H,V,q){let se=(v._window?v._window.document:document).createRange();return se.setStart(...em(D,R,$)),se.setEnd(...em(H,V,q)),se})(n,f,g,N,m,_,S);l(),l=sm(n,A,v=>{if(t===void 0)for(let D of v){let R=D.style;R.background!=="Highlight"&&(R.background="Highlight"),R.color!=="HighlightText"&&(R.color="HighlightText"),R.marginTop!==xn(-1.5)&&(R.marginTop=xn(-1.5)),R.paddingTop!==xn(4)&&(R.paddingTop=xn(4)),R.paddingBottom!==xn(0)&&(R.paddingBottom=xn(0))}else t(v)})}e=g,r=N,o=p,i=_,s=S,a=y})}return c(n.getEditorState()),im(n.registerUpdateListener(({editorState:u})=>c(u)),()=>{l()})}function qN(n){let t=null,e=()=>{let r=getSelection(),o=r&&r.anchorNode,i=n.getRootElement();o!==null&&i!==null&&i.contains(o)?t!==null&&(t(),t=null):t===null&&(t=am(n))};return document.addEventListener("selectionchange",e),()=>{t!==null&&t(),document.removeEventListener("selectionchange",e)}}var ZN=GN,lm=dn,QN=rm,eS=JN,tS=nm,nS=VN,rS=wu,cm=WN,oS=jN,iS=YN;function sS(n,...t){let e=om(...t);e.length>0&&n.classList.add(...e)}function aS(n,...t){let e=om(...t);e.length>0&&n.classList.remove(...e)}function um(n,t){for(let e of t)if(n.type.startsWith(e))return!0;return!1}function lS(n,t){let e=n[Symbol.iterator]();return new Promise((r,o)=>{let i=[],s=()=>{let{done:a,value:l}=e.next();if(a)return r(i);let c=new FileReader;c.addEventListener("error",o),c.addEventListener("load",()=>{let u=c.result;typeof u=="string"&&i.push({file:l,result:u}),s()}),um(l,t)?c.readAsDataURL(l):s()};s()})}function cS(n,t){return Array.from(dm(n,t))}function uS(n){return n?n.getAdjacentCaret():null}function dS(n,t){return Array.from(hm(n,t))}function dm(n,t){return fm("next",n,t)}function tm(n,t){let e=Yr(ft(n,t));return e&&e[0]}function fm(n,t,e){let r=Ue(),o=t||r,i=P(o)?zt(o,n):ft(o,n),s=gm(o),a=e?Ui(lu(ft(e,n)))||tm(e,n):tm(o,n),l=s;return mu({hasNext:c=>c!==null,initial:i,map:c=>({depth:l,node:c.origin}),step:c=>{if(c.isSameNodeCaret(a))return null;pr(c)&&l++;let u=Yr(c);return!u||u[0].isSameNodeCaret(a)?null:(l+=u[1],u[0])}})}function fS(n){let t=Yr(ft(n,"next"));return t&&[t[0].origin,t[1]]}function gm(n){let t=-1;for(let e=n;e!==null;e=e.getParent())t++;return t}function gS(n){let t=lu(ft(n,"previous")),e=Yr(t,"root");return e&&e[0].origin}function hm(n,t){return fm("previous",n,t)}function hS(n,t){let e=n;for(;e!=null;){if(e instanceof t)return e;e=e.getParent()}return null}function pS(n){let t=hr(n,e=>P(e)&&!e.isInline());return P(t)||La(4,n.__key),t}function mS(n,t,e,r){let o=i=>i instanceof t;return n.registerNodeTransform(t,i=>{let s=(a=>{let l=a.getChildren();for(let d=0;d<l.length;d++){let f=l[d];if(o(f))return null}let c=a,u=a;for(;c!==null;)if(u=c,c=c.getParent(),o(c))return{child:u,parent:c};return null})(i);if(s!==null){let{child:a,parent:l}=s;if(a.is(i)){r(l,i);let c=a.getNextSiblings(),u=c.length;if(l.insertAfter(a),u!==0){let d=e(l);a.insertAfter(d);for(let f=0;f<u;f++)d.append(c[f])}l.canBeEmpty()||l.getChildrenSize()!==0||l.remove()}}})}function _S(n,t){let e=new Map,r=n._pendingEditorState;for(let[i,s]of t._nodeMap)e.set(i,ia(s));r&&(r._nodeMap=e),n._dirtyType=2;let o=t._selection;Ge(o===null?null:o.clone())}function CS(n){let t=w()||Un(),e;if(M(t))e=fr(t.focus,"next");else{if(t!=null){let s=t.getNodes(),a=s[s.length-1];a&&(e=ft(a,"next"))}e=e||zt(Ue(),"previous").getFlipped().insert(Q())}let r=pm(n,e),o=Ui(r),i=pr(o)?un(o):r;return Yi(np(i)),n.getLatest()}function pm(n,t,e){let r=su(t,"next");for(let o=r;o;o=dp(o,e))r=o;return la(r)&&La(283),r.insert(n.isInline()?Q().append(n):n),su(ft(n.getLatest(),"next"),t.direction)}function yS(n,t){let e=t();return n.replace(e),e.append(n),e}function xS(n,t){return n!==null&&Object.getPrototypeOf(n).constructor.name===t.name}function ES(n,t){let e=[];for(let r=0;r<n.length;r++){let o=t(n[r]);o!==null&&e.push(o)}return e}function NS(n,t){zt(n,"next").insert(t)}var Mu=!(cm||!lm)&&void 0;function SS(n){let t=1;if((function(){if(Mu===void 0){let e=document.createElement("div");e.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(e);let r=e.getBoundingClientRect();e.style.setProperty("zoom","2"),Mu=e.getBoundingClientRect().width===r.width,document.body.removeChild(e)}return Mu})())for(;n;)t*=Number(window.getComputedStyle(n).getPropertyValue("zoom")),n=n.parentElement;return t}function TS(n){return n._parentEditor!==null}function bS(n,t){return mm(n,t,null)}function mm(n,t,e){let r=!1;for(let o of Du(n))t(o)?e!==null&&e(o):(r=!0,P(o)&&mm(o,t,e||(i=>o.insertAfter(i))),o.remove());return r}function AS(n,t){let e=[],r=Array.from(n).reverse();for(let o=r.pop();o!==void 0;o=r.pop())if(t(o))e.push(o);else if(P(o))for(let i of Du(o))r.push(i);return e}function OS(n){return _m(zt(n,"next"))}function Du(n){return _m(zt(n,"previous"))}function _m(n){return mu({hasNext:aa,initial:n.getAdjacentCaret(),map:t=>t.origin.getLatest(),step:t=>t.getAdjacentCaret()})}function vS(n){cp(ft(n,"next")).splice(1,n.getChildren())}function MS(n){let t=r=>op(r,n),e=(r,o)=>up(r,n,o);return{$get:t,$set:e,accessors:[t,e],makeGetterMethod:()=>function(){return t(this)},makeSetterMethod:()=>function(r){return e(this,r)},stateConfig:n}}var ee=Lu,ku=ee.$descendantsMatching,WA=ee.$dfs,GA=ee.$dfsIterator,Cm=ee.$filter,Y=ee.$findMatchingParent,YA=ee.$firstToLastIterator,ka=ee.$getAdjacentCaret,jA=ee.$getAdjacentSiblingOrParentSiblingCaret,JA=ee.$getDepth,qr=ee.$getNearestBlockElementAncestorOrThrow,Ra=ee.$getNearestNodeOfType,VA=ee.$getNextRightPreorderNode,XA=ee.$getNextSiblingOrParentSibling,ym=ee.$insertFirst,Ia=ee.$insertNodeToNearestRoot,qA=ee.$insertNodeToNearestRootAtCaret,ZA=ee.$isEditorIsNestedEditor,QA=ee.$lastToFirstIterator,eO=ee.$restoreEditorState,tO=ee.$reverseDfs,nO=ee.$reverseDfsIterator,rO=ee.$splitNode,Ru=ee.$unwrapAndFilterDescendants,oO=ee.$unwrapNode,iO=ee.$wrapNodeInElement,sO=ee.CAN_USE_BEFORE_INPUT,aO=ee.CAN_USE_DOM,lO=ee.IS_ANDROID,cO=ee.IS_ANDROID_CHROME,uO=ee.IS_APPLE,dO=ee.IS_APPLE_WEBKIT,fO=ee.IS_CHROME,gO=ee.IS_FIREFOX,hO=ee.IS_IOS,pO=ee.IS_SAFARI,ce=ee.addClassNamesToElement,xm=ee.calculateZoomLevel,Iu=ee.isBlockDomNode,Fa=ee.isHTMLAnchorElement,je=ee.isHTMLElement,mO=ee.isInlineDomNode,_O=ee.isMimeType,CO=ee.makeStateWrapper,yO=ee.markSelection,xO=ee.mediaFileReader,Se=ee.mergeRegister,Wt=ee.objectKlassEquals,EO=ee.positionNodeOnRange,NO=ee.registerNestedElementResolver,Nt=ee.removeClassNamesFromElement,SO=ee.selectionAlwaysOnDisplay;var Fu={};Tt(Fu,{$generateHtmlFromNodes:()=>DS,$generateNodesFromDOM:()=>wS});function wS(n,t){let e=Ip(t)?t.body.childNodes:t.childNodes,r=[],o=[];for(let i of e)if(!Nm.has(i.nodeName)){let s=Sm(i,n,o,!1);s!==null&&(r=r.concat(s))}return(function(i){for(let s of i)s.getNextSibling()instanceof du&&s.insertAfter(ln());for(let s of i){let a=s.getChildren();for(let l of a)s.insertBefore(l);s.remove()}})(o),r}function DS(n,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let e=document.createElement("div"),r=Ue().getChildren();for(let o=0;o<r.length;o++)Em(n,r[o],e,t);return e.innerHTML}function Em(n,t,e,r=null){let o=r===null||t.isSelected(r),i=P(t)&&t.excludeFromCopy("html"),s=t;r!==null&&U(t)&&(s=Da(r,t,"clone"));let a=P(s)?s.getChildren():[],l=Lp(n,s.getType()),c;c=l&&l.exportDOM!==void 0?l.exportDOM(n,s):s.exportDOM(n);let{element:u,after:d}=c;if(!u)return!1;let f=document.createDocumentFragment();for(let m=0;m<a.length;m++){let g=a[m],h=Em(n,g,f,r);!o&&P(t)&&h&&t.extractWithChild(g,r,"html")&&(o=!0)}if(o&&!i){if((je(u)||pu(u))&&u.append(f),e.append(u),d){let m=d.call(s,u);m&&(pu(u)?u.replaceChildren(m):u.replaceWith(m))}}else e.append(f);return o}var Nm=new Set(["STYLE","SCRIPT"]);function Sm(n,t,e,r,o=new Map,i){let s=[];if(Nm.has(n.nodeName))return s;let a=null,l=(function(g,h){let{nodeName:p}=g,_=h._htmlConversions.get(p.toLowerCase()),C=null;if(_!==void 0)for(let y of _){let N=y(g);N!==null&&(C===null||(C.priority||0)<=(N.priority||0))&&(C=N)}return C!==null?C.conversion:null})(n,t),c=l?l(n):null,u=null;if(c!==null){u=c.after;let g=c.node;if(a=Array.isArray(g)?g[g.length-1]:g,a!==null){for(let[,h]of o)if(a=h(a,i),!a)break;a&&s.push(...Array.isArray(g)?g:[a])}c.forChild!=null&&o.set(n.nodeName,c.forChild)}let d=n.childNodes,f=[],m=(a==null||!Et(a))&&(a!=null&&$o(a)||r);for(let g=0;g<d.length;g++)f.push(...Sm(d[g],t,e,m,new Map(o),a));return u!=null&&(f=u(f)),Iu(n)&&(f=LS(n,f,m?()=>{let g=new du;return e.push(g),g}:Q)),a==null?f.length>0?s=s.concat(f):Iu(n)&&(function(g){return g.nextSibling==null||g.previousSibling==null?!1:qi(g.nextSibling)&&qi(g.previousSibling)})(n)&&(s=s.concat(ln())):P(a)&&a.append(...f),s}function LS(n,t,e){let r=n.style.textAlign,o=[],i=[];for(let s=0;s<t.length;s++){let a=t[s];if($o(a))r&&!a.getFormat()&&a.setFormat(r),o.push(a);else if(i.push(a),s===t.length-1||s<t.length-1&&$o(t[s+1])){let l=e();l.setFormat(r),l.append(...i),o.push(l),i=[]}}return o}var Tm=Fu,$a=Tm.$generateHtmlFromNodes,Pa=Tm.$generateNodesFromDOM;var Pu={};Tt(Pu,{$generateJSONFromSelectedNodes:()=>Mm,$generateNodesFromSerializedNodes:()=>wm,$getClipboardDataFromSelection:()=>Lm,$getHtmlContent:()=>Am,$getLexicalContent:()=>Om,$insertDataTransferForPlainText:()=>kS,$insertDataTransferForRichText:()=>RS,$insertGeneratedNodes:()=>$u,copyToClipboard:()=>IS,setLexicalClipboardDataTransfer:()=>km});function Ba(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Am(n,t=w()){return t==null&&Ba(166),M(t)&&t.isCollapsed()||t.getNodes().length===0?"":$a(n,t)}function Om(n,t=w()){return t==null&&Ba(166),M(t)&&t.isCollapsed()||t.getNodes().length===0?null:JSON.stringify(Mm(n,t))}function kS(n,t){let e=n.getData("text/plain")||n.getData("text/uri-list");e!=null&&t.insertRawText(e)}function RS(n,t,e){let r=n.getData("application/x-lexical-editor");if(r)try{let a=JSON.parse(r);if(a.namespace===e._config.namespace&&Array.isArray(a.nodes))return $u(e,wm(a.nodes),t)}catch(a){console.error(a)}let o=n.getData("text/html"),i=n.getData("text/plain");if(o&&i!==o)try{let a=new DOMParser().parseFromString((function(l){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:c=>c}).createHTML(l):l})(o),"text/html");return $u(e,Pa(e,a),t)}catch(a){console.error(a)}let s=i||n.getData("text/uri-list");if(s!=null)if(M(t)){let a=s.split(/(\r?\n|\t)/);a[a.length-1]===""&&a.pop();for(let l=0;l<a.length;l++){let c=w();if(M(c)){let u=a[l];u===`
`||u===`\r
`?c.insertParagraph():u==="	"?c.insertNodes([Ht()]):c.insertText(u)}}}else t.insertRawText(s)}function $u(n,t,e){n.dispatchCommand(Xi,{nodes:t,selection:e})||(e.insertNodes(t),(function(r){if(M(r)&&r.isCollapsed()){let o=r.anchor,i=null,s=fr(o,"previous");if(s)if(la(s))i=s.origin;else{let a=Wi(s,zt(Ue(),"next").getFlipped());for(let l of a){if(U(l.origin)){i=l.origin;break}if(P(l.origin)&&!l.origin.isInline())break}}if(i&&U(i)){let a=i.getFormat(),l=i.getStyle();r.format===a&&r.style===l||(r.format=a,r.style=l,r.dirty=!0)}}})(e))}function vm(n,t,e,r=[]){let o=t===null||e.isSelected(t),i=P(e)&&e.excludeFromCopy("html"),s=e;t!==null&&U(s)&&(s=Da(t,s,"clone"));let a=P(s)?s.getChildren():[],l=(function(c){let u=c.exportJSON(),d=c.constructor;if(u.type!==d.getType()&&Ba(58,d.name),P(c)){let f=u.children;Array.isArray(f)||Ba(59,d.name)}return u})(s);U(s)&&s.getTextContentSize()===0&&(o=!1);for(let c=0;c<a.length;c++){let u=a[c],d=vm(n,t,u,l.children);!o&&P(e)&&d&&e.extractWithChild(u,t,"clone")&&(o=!0)}if(o&&!i)r.push(l);else if(Array.isArray(l.children))for(let c=0;c<l.children.length;c++){let u=l.children[c];r.push(u)}return o}function Mm(n,t){let e=[],r=Ue().getChildren();for(let o=0;o<r.length;o++)vm(n,t,r[o],e);return{namespace:n._config.namespace,nodes:e}}function wm(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e],o=lp(r);U(o)&&qp(o),t.push(o)}return t}var Go=null;async function IS(n,t,e){if(Go!==null)return!1;if(t!==null)return new Promise((c,u)=>{n.update(()=>{c(bm(n,t,e))})});let r=n.getRootElement(),o=n._window||window,i=o.document,s=Er(o);if(r===null||s===null)return!1;let a=i.createElement("span");a.style.cssText="position: fixed; top: -1000px;",a.append(i.createTextNode("#")),r.append(a);let l=new Range;return l.setStart(a,0),l.setEnd(a,1),s.removeAllRanges(),s.addRange(l),new Promise((c,u)=>{let d=n.registerCommand(ga,f=>(Wt(f,ClipboardEvent)&&(d(),Go!==null&&(o.clearTimeout(Go),Go=null),c(bm(n,f,e))),!0),da);Go=o.setTimeout(()=>{d(),Go=null,c(!1)},50),i.execCommand("copy"),a.remove()})}function bm(n,t,e){if(e===void 0){let o=Er(n._window),i=w();if(!i||i.isCollapsed()||!o)return!1;let s=o.anchorNode,a=o.focusNode;if(s!==null&&a!==null&&!$p(n,s,a))return!1;e=Lm(i)}t.preventDefault();let r=t.clipboardData;return r!==null&&(km(r,e),!0)}var Dm=[["text/html",Am],["application/x-lexical-editor",Om]];function Lm(n=w()){let t={"text/plain":n?n.getTextContent():""};if(n){let e=zn();for(let[r,o]of Dm){let i=o(e,n);i!==null&&(t[r]=i)}}return t}function km(n,t){for(let[e]of Dm)t[e]===void 0&&n.setData(e,"");for(let e in t){let r=t[e];r!==void 0&&n.setData(e,r)}}var En=Pu,kO=En.$generateJSONFromSelectedNodes,RO=En.$generateNodesFromSerializedNodes,Rm=En.$getClipboardDataFromSelection,IO=En.$getHtmlContent,FO=En.$getLexicalContent,$O=En.$insertDataTransferForPlainText,Bu=En.$insertDataTransferForRichText,PO=En.$insertGeneratedNodes,Qi=En.copyToClipboard,BO=En.setLexicalClipboardDataTransfer;var Qu={};Tt(Qu,{$createHorizontalRuleNode:()=>Zu,$isHorizontalRuleNode:()=>Qm,AutoFocusExtension:()=>PS,ClearEditorExtension:()=>BS,EditorStateExtension:()=>Ua,HorizontalRuleExtension:()=>qS,HorizontalRuleNode:()=>Qr,INSERT_HORIZONTAL_RULE_COMMAND:()=>VS,InitialStateExtension:()=>qm,LexicalBuilder:()=>Vo,NodeSelectionExtension:()=>Ju,TabIndentationExtension:()=>ZS,batch:()=>Km,buildEditorFromExtensions:()=>WS,computed:()=>Um,configExtension:()=>Aa,declarePeerDependency:()=>wp,defineExtension:()=>me,effect:()=>br,getExtensionDependencyFromEditor:()=>YS,getKnownTypesAndNodes:()=>KS,getPeerDependencyFromEditor:()=>Zm,getPeerDependencyFromEditorOrThrow:()=>jS,namedSignals:()=>Ga,registerClearEditor:()=>Ym,registerTabIndentation:()=>e_,safeCast:()=>mt,shallowMergeConfig:()=>Nr,signal:()=>Jo,untracked:()=>Wu,watchedSignal:()=>Xu});var FS=Symbol.for("preact-signals");function Wa(){if(Tr>1)return void Tr--;let n,t=!1;for(;ts!==void 0;){let e=ts;for(ts=void 0,Gu++;e!==void 0;){let r=e.o;if(e.o=void 0,e.f&=-3,!(8&e.f)&&Hm(e))try{e.c()}catch(o){t||(n=o,t=!0)}e=r}}if(Gu=0,Tr--,t)throw n}function Km(n){if(Tr>0)return n();Tr++;try{return n()}finally{Wa()}}var Ee,ts;function Wu(n){let t=Ee;Ee=void 0;try{return n()}finally{Ee=t}}var Tr=0,Gu=0,za=0;function Im(n){if(Ee===void 0)return;let t=n.n;return t===void 0||t.t!==Ee?(t={i:0,S:n,p:Ee.s,n:void 0,t:Ee,e:void 0,x:void 0,r:t},Ee.s!==void 0&&(Ee.s.n=t),Ee.s=t,n.n=t,32&Ee.f&&n.S(t),t):t.i===-1?(t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=Ee.s,t.n=void 0,Ee.s.n=t,Ee.s=t),t):void 0}function vt(n,t){this.v=n,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}function Jo(n,t){return new vt(n,t)}function Hm(n){for(let t=n.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function Fm(n){for(let t=n.s;t!==void 0;t=t.n){let e=t.S.n;if(e!==void 0&&(t.r=e),t.S.n=t,t.i=-1,t.n===void 0){n.s=t;break}}}function zm(n){let t,e=n.s;for(;e!==void 0;){let r=e.p;e.i===-1?(e.S.U(e),r!==void 0&&(r.n=e.n),e.n!==void 0&&(e.n.p=r)):t=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=r}n.s=t}function Zr(n,t){vt.call(this,void 0),this.x=n,this.s=void 0,this.g=za-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}function Um(n,t){return new Zr(n,t)}function Wm(n){let t=n.u;if(n.u=void 0,typeof t=="function"){Tr++;let e=Ee;Ee=void 0;try{t()}catch(r){throw n.f&=-2,n.f|=8,Vu(n),r}finally{Ee=e,Wa()}}}function Vu(n){for(let t=n.s;t!==void 0;t=t.n)t.S.U(t);n.x=void 0,n.s=void 0,Wm(n)}function $S(n){if(Ee!==this)throw new Error("Out-of-order effect");zm(this),Ee=n,this.f&=-2,8&this.f&&Vu(this),Wa()}function jo(n,t){this.x=n,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}function br(n,t){let e=new jo(n,t);try{e.c()}catch(o){throw e.d(),o}let r=e.d.bind(e);return r[Symbol.dispose]=r,r}function Ga(n,t={}){let e={};for(let r in n){let o=t[r],i=Jo(o===void 0?n[r]:o);e[r]=i}return e}vt.prototype.brand=FS,vt.prototype.h=function(){return!0},vt.prototype.S=function(n){let t=this.t;t!==n&&n.e===void 0&&(n.x=t,this.t=n,t!==void 0?t.e=n:Wu(()=>{var e;(e=this.W)==null||e.call(this)}))},vt.prototype.U=function(n){if(this.t!==void 0){let t=n.e,e=n.x;t!==void 0&&(t.x=e,n.e=void 0),e!==void 0&&(e.e=t,n.x=void 0),n===this.t&&(this.t=e,e===void 0&&Wu(()=>{var r;(r=this.Z)==null||r.call(this)}))}},vt.prototype.subscribe=function(n){return br(()=>{let t=this.value,e=Ee;Ee=void 0;try{n(t)}finally{Ee=e}},{name:"sub"})},vt.prototype.valueOf=function(){return this.value},vt.prototype.toString=function(){return this.value+""},vt.prototype.toJSON=function(){return this.value},vt.prototype.peek=function(){let n=Ee;Ee=void 0;try{return this.value}finally{Ee=n}},Object.defineProperty(vt.prototype,"value",{get(){let n=Im(this);return n!==void 0&&(n.i=this.i),this.v},set(n){if(n!==this.v){if(Gu>100)throw new Error("Cycle detected");this.v=n,this.i++,za++,Tr++;try{for(let t=this.t;t!==void 0;t=t.x)t.t.N()}finally{Wa()}}}}),Zr.prototype=new vt,Zr.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===za))return!0;if(this.g=za,this.f|=1,this.i>0&&!Hm(this))return this.f&=-2,!0;let n=Ee;try{Fm(this),Ee=this;let t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return Ee=n,zm(this),this.f&=-2,!0},Zr.prototype.S=function(n){if(this.t===void 0){this.f|=36;for(let t=this.s;t!==void 0;t=t.n)t.S.S(t)}vt.prototype.S.call(this,n)},Zr.prototype.U=function(n){if(this.t!==void 0&&(vt.prototype.U.call(this,n),this.t===void 0)){this.f&=-33;for(let t=this.s;t!==void 0;t=t.n)t.S.U(t)}},Zr.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let n=this.t;n!==void 0;n=n.x)n.t.N()}},Object.defineProperty(Zr.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");let n=Im(this);if(this.h(),n!==void 0&&(n.i=this.i),16&this.f)throw this.v;return this.v}}),jo.prototype.c=function(){let n=this.S();try{if(8&this.f||this.x===void 0)return;let t=this.x();typeof t=="function"&&(this.u=t)}finally{n()}},jo.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Wm(this),Fm(this),Tr++;let n=Ee;return Ee=this,$S.bind(this,n)},jo.prototype.N=function(){2&this.f||(this.f|=2,this.o=ts,ts=this)},jo.prototype.d=function(){this.f|=8,1&this.f||Vu(this)},jo.prototype.dispose=function(){this.d()};var PS=me({build:(n,t,e)=>Ga(t),config:mt({defaultSelection:"rootEnd",disabled:!1}),name:"@lexical/extension/AutoFocus",register(n,t,e){let r=e.getOutput();return br(()=>r.disabled.value?void 0:n.registerRootListener(o=>{n.focus(()=>{let i=document.activeElement;o===null||i!==null&&o.contains(i)||o.focus({preventScroll:!0})},{defaultSelection:r.defaultSelection.peek()})}))}});function Gm(){let n=Ue(),t=w(),e=Q();n.clear(),n.append(e),t!==null&&e.select(),M(t)&&(t.format=0)}function Ym(n,t=Gm){return n.registerCommand(ua,e=>(n.update(t),!0),ne)}var BS=me({build:(n,t,e)=>Ga(t),config:mt({$onClear:Gm}),name:"@lexical/extension/ClearEditor",register(n,t,e){let{$onClear:r}=e.getOutput();return br(()=>Ym(n,r.value))}});function KS(n){let t=new Set,e=new Set;for(let r of jm(n)){let o=typeof r=="function"?r:r.replace;t.add(o.getType()),e.add(o)}return{nodes:e,types:t}}function jm(n){return(typeof n.nodes=="function"?n.nodes():n.nodes)||[]}function Xu(n,t){let e;return Jo(n(),{unwatched(){e&&(e(),e=void 0)},watched(){this.value=n(),e=t(this)}})}var Ua=me({build:n=>Xu(()=>n.getEditorState(),t=>n.registerUpdateListener(e=>{t.value=e.editorState})),name:"@lexical/extension/EditorState"});function Te(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Jm(n,t){if(n&&t&&!Array.isArray(t)&&typeof n=="object"&&typeof t=="object"){let e=n,r=t;for(let o in r)e[o]=Jm(e[o],r[o]);return n}return t}var qu=0,Yu=1,Vm=2,Ku=3,Ka=4,Yo=5,Hu=6,es=7;function zu(n){return n.id===qu}function Xm(n){return n.id===Vm}function HS(n){return(function(t){return t.id===Yu})(n)||Te(305,String(n.id),String(Yu)),Object.assign(n,{id:Vm})}var zS=new Set,ju=class{constructor(t,e){O(this,"builder");O(this,"configs");O(this,"_dependency");O(this,"_peerNameSet");O(this,"extension");O(this,"state");O(this,"_signal");this.builder=t,this.extension=e,this.configs=new Set,this.state={id:qu}}mergeConfigs(){let t=this.extension.config||{},e=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):Nr;for(let r of this.configs)t=e(t,r);return t}init(t){let e=this.state;Xm(e)||Te(306,String(e.id));let r={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},o={...r,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},i=(function(a,l,c){return Object.assign(a,{config:l,id:Ku,registerState:c})})(e,this.mergeConfigs(),r),s;this.state=i,this.extension.init&&(s=this.extension.init(t,i.config,r)),this.state=(function(a,l,c){return Object.assign(a,{id:Ka,initResult:l,registerState:c})})(i,s,o)}build(t){let e=this.state,r;e.id!==Ka&&Te(307,String(e.id),String(Yo)),this.extension.build&&(r=this.extension.build(t,e.config,e.registerState));let o={...e.registerState,getOutput:()=>r,getSignal:this.getSignal.bind(this)};this.state=(function(i,s,a){return Object.assign(i,{id:Yo,output:s,registerState:a})})(e,r,o)}register(t,e){this._signal=e;let r=this.state;r.id!==Yo&&Te(308,String(r.id),String(Yo));let o=this.extension.register&&this.extension.register(t,r.config,r.registerState);return this.state=(function(i){return Object.assign(i,{id:Hu})})(r),()=>{let i=this.state;i.id!==es&&Te(309,String(r.id),String(es)),this.state=(function(s){return Object.assign(s,{id:Yo})})(i),o&&o()}}afterRegistration(t){let e=this.state,r;return e.id!==Hu&&Te(310,String(e.id),String(Hu)),this.extension.afterRegistration&&(r=this.extension.afterRegistration(t,e.config,e.registerState)),this.state=(function(o){return Object.assign(o,{id:es})})(e),r}getSignal(){return this._signal===void 0&&Te(311),this._signal}getInitResult(){this.extension.init===void 0&&Te(312,this.extension.name);let t=this.state;return(function(e){return e.id>=Ka})(t)||Te(313,String(t.id),String(Ka)),t.initResult}getInitPeer(t){let e=this.builder.extensionNameMap.get(t);return e?e.getExtensionInitDependency():void 0}getExtensionInitDependency(){let t=this.state;return(function(e){return e.id>=Ku})(t)||Te(314,String(t.id),String(Ku)),{config:t.config}}getPeer(t){let e=this.builder.extensionNameMap.get(t);return e?e.getExtensionDependency():void 0}getInitDependency(t){let e=this.builder.getExtensionRep(t);return e===void 0&&Te(315,this.extension.name,t.name),e.getExtensionInitDependency()}getDependency(t){let e=this.builder.getExtensionRep(t);return e===void 0&&Te(315,this.extension.name,t.name),e.getExtensionDependency()}getState(){let t=this.state;return(function(e){return e.id>=es})(t)||Te(316,String(t.id),String(es)),t}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||zS}getPeerNameSet(){let t=this._peerNameSet;return t||(t=new Set((this.extension.peerDependencies||[]).map(([e])=>e)),this._peerNameSet=t),t}getExtensionDependency(){if(!this._dependency){let t=this.state;(function(e){return e.id>=Yo})(t)||Te(317,this.extension.name),this._dependency={config:t.config,init:t.initResult,output:t.output}}return this._dependency}},$m={tag:_a};function US(){let n=Ue();n.isEmpty()&&n.append(Q())}var qm=me({config:mt({setOptions:$m,updateOptions:$m}),init:({$initialEditorState:n=US})=>({$initialEditorState:n,initialized:!1}),afterRegistration(n,{updateOptions:t,setOptions:e},r){let o=r.getInitResult();if(!o.initialized){o.initialized=!0;let{$initialEditorState:i}=o;if(sp(i))n.setEditorState(i,e);else if(typeof i=="function")n.update(()=>{i(n)},t);else if(i&&(typeof i=="string"||typeof i=="object")){let s=n.parseEditorState(i);n.setEditorState(s,e)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[Ap,Ye,Np,Mp,Tp]}),Pm=Symbol.for("@lexical/extension/LexicalBuilder");function WS(...n){return Vo.fromExtensions(n).buildEditor()}function Bm(){}function GS(n){throw n}function Ha(n){return Array.isArray(n)?n:[n]}var Uu="0.39.0+prod.esm",Vo=class n{constructor(t){O(this,"roots");O(this,"extensionNameMap");O(this,"outgoingConfigEdges");O(this,"incomingEdges");O(this,"conflicts");O(this,"_sortedExtensionReps");O(this,"PACKAGE_VERSION");this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=Uu,this.roots=t;for(let e of t)this.addExtension(e)}static fromExtensions(t){let e=[Ha(qm)];for(let r of t)e.push(Ha(r));return new n(e)}static maybeFromEditor(t){let e=t[Pm];return e&&(e.PACKAGE_VERSION!==Uu&&Te(292,e.PACKAGE_VERSION,Uu),e instanceof n||Te(293)),e}static fromEditor(t){let e=n.maybeFromEditor(t);return e===void 0&&Te(294),e}constructEditor(){let{$initialEditorState:t,onError:e,...r}=this.buildCreateEditorArgs(),o=Object.assign(zo({...r,...e?{onError:i=>{e(i,o)}}:{}}),{[Pm]:this});for(let i of this.sortedExtensionReps())i.build(o);return o}buildEditor(){let t=Bm;function e(){try{t()}finally{t=Bm}}let r=Object.assign(this.constructEditor(),{dispose:e,[Symbol.dispose]:e});return t=Se(this.registerEditor(r),()=>r.setRootElement(null)),r}hasExtensionByName(t){return this.extensionNameMap.has(t)}getExtensionRep(t){let e=this.extensionNameMap.get(t.name);if(e)return e.extension!==t&&Te(295,t.name),e}addEdge(t,e,r){let o=this.outgoingConfigEdges.get(t);o?o.set(e,r):this.outgoingConfigEdges.set(t,new Map([[e,r]]));let i=this.incomingEdges.get(e);i?i.add(t):this.incomingEdges.set(e,new Set([t]))}addExtension(t){this._sortedExtensionReps!==void 0&&Te(296);let e=Ha(t),[r]=e;typeof r.name!="string"&&Te(297,typeof r.name);let o=this.extensionNameMap.get(r.name);if(o!==void 0&&o.extension!==r&&Te(298,r.name),!o){o=new ju(this,r),this.extensionNameMap.set(r.name,o);let i=this.conflicts.get(r.name);typeof i=="string"&&Te(299,r.name,i);for(let s of r.conflictsWith||[])this.extensionNameMap.has(s)&&Te(299,r.name,s),this.conflicts.set(s,r.name);for(let s of r.dependencies||[]){let a=Ha(s);this.addEdge(r.name,a[0].name,a.slice(1)),this.addExtension(a)}for(let[s,a]of r.peerDependencies||[])this.addEdge(r.name,s,a?[a]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;let t=[],e=(r,o)=>{let i=r.state;if(Xm(i))return;let s=r.extension.name;var a;zu(i)||Te(300,s,o||"[unknown]"),zu(a=i)||Te(304,String(a.id),String(qu)),i=Object.assign(a,{id:Yu}),r.state=i;let l=this.outgoingConfigEdges.get(s);if(l)for(let c of l.keys()){let u=this.extensionNameMap.get(c);u&&e(u,s)}i=HS(i),r.state=i,t.push(r)};for(let r of this.extensionNameMap.values())zu(r.state)&&e(r);for(let r of t)for(let[o,i]of this.outgoingConfigEdges.get(r.extension.name)||[])if(i.length>0){let s=this.extensionNameMap.get(o);if(s)for(let a of i)s.configs.add(a)}for(let[r,...o]of this.roots)if(o.length>0){let i=this.extensionNameMap.get(r.name);i===void 0&&Te(301,r.name);for(let s of o)i.configs.add(s)}return this._sortedExtensionReps=t,this._sortedExtensionReps}registerEditor(t){let e=this.sortedExtensionReps(),r=new AbortController,o=[()=>r.abort()],i=r.signal;for(let s of e){let a=s.register(t,i);a&&o.push(a)}for(let s of e){let a=s.afterRegistration(t);a&&o.push(a)}return Se(...o)}buildCreateEditorArgs(){let t={},e=new Set,r=new Map,o=new Map,i={},s={},a=this.sortedExtensionReps();for(let u of a){let{extension:d}=u;if(d.onError!==void 0&&(t.onError=d.onError),d.disableEvents!==void 0&&(t.disableEvents=d.disableEvents),d.parentEditor!==void 0&&(t.parentEditor=d.parentEditor),d.editable!==void 0&&(t.editable=d.editable),d.namespace!==void 0&&(t.namespace=d.namespace),d.$initialEditorState!==void 0&&(t.$initialEditorState=d.$initialEditorState),d.nodes)for(let f of jm(d)){if(typeof f!="function"){let m=r.get(f.replace);m&&Te(302,d.name,f.replace.name,m.extension.name),r.set(f.replace,u)}e.add(f)}if(d.html){if(d.html.export)for(let[f,m]of d.html.export.entries())o.set(f,m);d.html.import&&Object.assign(i,d.html.import)}d.theme&&Jm(s,d.theme)}Object.keys(s).length>0&&(t.theme=s),e.size&&(t.nodes=[...e]);let l=Object.keys(i).length>0,c=o.size>0;(l||c)&&(t.html={},l&&(t.html.import=i),c&&(t.html.export=o));for(let u of a)u.init(t);return t.onError||(t.onError=GS),t}};function YS(n,t){let e=Vo.fromEditor(n).getExtensionRep(t);return e===void 0&&Te(303,t.name),e.getExtensionDependency()}function Zm(n,t){let e=Vo.fromEditor(n).extensionNameMap.get(t);return e?e.getExtensionDependency():void 0}function jS(n,t){let e=Zm(n,t);return e===void 0&&Te(291,t),e}var JS=new Set,Ju=me({build(n,t,e){let r=e.getDependency(Ua).output,o=Jo({watchedNodeKeys:new Map}),i=Xu(()=>{},()=>br(()=>{let s=i.peek(),{watchedNodeKeys:a}=o.value,l,c=!1;r.value.read(()=>{if(w())for(let[u,d]of a.entries()){if(d.size===0){a.delete(u);continue}let f=$e(u),m=f&&f.isSelected()||!1;c=c||m!==(!!s&&s.has(u)),m&&(l=l||new Set,l.add(u))}}),!c&&l&&s&&l.size===s.size||(i.value=l)}));return{watchNodeKey:function(s){let a=Um(()=>(i.value||JS).has(s)),{watchedNodeKeys:l}=o.peek(),c=l.get(s),u=c!==void 0;return c=c||new Set,c.add(a),u||(l.set(s,c),o.value={watchedNodeKeys:l}),a}}},dependencies:[Ua],name:"@lexical/extension/NodeSelection"}),VS=_e("INSERT_HORIZONTAL_RULE_COMMAND"),Qr=class n extends Ko{static getType(){return"horizontalrule"}static clone(t){return new n(t.__key)}static importJSON(t){return Zu().updateFromJSON(t)}static importDOM(){return{hr:()=>({conversion:XS,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(t){let e=document.createElement("hr");return ce(e,t.theme.hr),e}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}};function XS(){return{node:Zu()}}function Zu(){return Fo(Qr)}function Qm(n){return n instanceof Qr}var qS=me({dependencies:[Ua,Ju],name:"@lexical/extension/HorizontalRule",nodes:()=>[Qr],register(n,t,e){let{watchNodeKey:r}=e.getDependency(Ju).output,o=Jo({nodeSelections:new Map}),i=n._config.theme.hrSelected??"selected";return Se(n.registerCommand(Po,s=>{if(Ft(s.target)){let a=rp(s.target);if(Qm(a))return(function(l,c=!1){let u=w(),d=l.isSelected(),f=l.getKey(),m;c&&gt(u)?m=u:(m=Qh(),Ge(m)),d?m.delete(f):m.add(f)})(a,s.shiftKey),!0}return!1},oe),n.registerMutationListener(Qr,(s,a)=>{Km(()=>{let l=!1,{nodeSelections:c}=o.peek();for(let[u,d]of s.entries())if(d==="destroyed")c.delete(u),l=!0;else{let f=c.get(u),m=n.getElementByKey(u);f?f.domNode.value=m:(l=!0,c.set(u,{domNode:Jo(m),selectedSignal:r(u)}))}l&&(o.value={nodeSelections:c})})}),br(()=>{let s=[];for(let{domNode:a,selectedSignal:l}of o.value.nodeSelections.values())s.push(br(()=>{let c=a.value;c&&(l.value?ce(c,i):Nt(c,i))}));return Se(...s)}))}});function e_(n,t){return Se(n.registerCommand(Jn,e=>{let r=w();if(!M(r))return!1;e.preventDefault();let o=(function(i){let s=i.getNodes();if(Cm(s,f=>$o(f)&&f.canIndent()?f:null).length>0)return!0;let a=i.anchor,l=i.focus,c=l.isBefore(a)?l:a,u=c.getNode(),d=qr(u);if(d.canIndent()){let f=d.getKey(),m=gr();if(m.anchor.set(f,0,"element"),m.focus.set(f,0,"element"),m=jn(m),m.anchor.is(c))return!0}return!1})(r)?e.shiftKey?Ot:pt:yr;return n.dispatchCommand(o,void 0)},ne),n.registerCommand(pt,()=>{let e=typeof t=="number"?t:t?t.peek():null;if(e==null)return!1;let r=w();if(!M(r))return!1;let o=r.getNodes().map(i=>qr(i).getIndent());return Math.max(...o)+1>=e},da))}var ZS=me({build:(n,t,e)=>Ga(t),config:mt({disabled:!1,maxIndent:null}),name:"@lexical/extension/TabIndentation",register(n,t,e){let{disabled:r,maxIndent:o}=e.getOutput();return br(()=>{if(!r.value)return e_(n,o)})}});var Ce=Qu,GO=Ce.$createHorizontalRuleNode,YO=Ce.$isHorizontalRuleNode,jO=Ce.AutoFocusExtension,JO=Ce.ClearEditorExtension,VO=Ce.EditorStateExtension,XO=Ce.HorizontalRuleExtension,qO=Ce.HorizontalRuleNode,ZO=Ce.INSERT_HORIZONTAL_RULE_COMMAND,QO=Ce.InitialStateExtension,ev=Ce.LexicalBuilder,tv=Ce.NodeSelectionExtension,nv=Ce.TabIndentationExtension,t_=Ce.batch,rv=Ce.buildEditorFromExtensions,ov=Ce.computed,iv=Ce.configExtension,sv=Ce.declarePeerDependency,av=Ce.defineExtension,Mt=Ce.effect,lv=Ce.getExtensionDependencyFromEditor,cv=Ce.getKnownTypesAndNodes,n_=Ce.getPeerDependencyFromEditor,uv=Ce.getPeerDependencyFromEditorOrThrow,fn=Ce.namedSignals,dv=Ce.registerClearEditor,fv=Ce.registerTabIndentation,gv=Ce.safeCast,hv=Ce.shallowMergeConfig,r_=Ce.signal,pv=Ce.untracked,mv=Ce.watchedSignal;var ed={};Tt(ed,{DragonExtension:()=>QS,registerDragonSupport:()=>o_});function o_(n){let t=window.location.origin,e=r=>{if(r.origin!==t)return;let o=n.getRootElement();if(document.activeElement!==o)return;let i=r.data;if(typeof i=="string"){let s;try{s=JSON.parse(i)}catch{return}if(s&&s.protocol==="nuanria_messaging"&&s.type==="request"){let a=s.payload;if(a&&a.functionId==="makeChanges"){let l=a.args;if(l){let[c,u,d,f,m]=l;n.update(()=>{let g=w();if(M(g)){let h=g.anchor,p=h.getNode(),_=0,C=0;if(U(p)&&c>=0&&u>=0&&(_=c,C=c+u,g.setTextNodeRange(p,_,p,C)),_===C&&d===""||(g.insertRawText(d),p=h.getNode()),U(p)){_=f,C=f+m;let y=p.getTextContentSize();_=_>y?y:_,C=C>y?y:C,g.setTextNodeRange(p,_,p,C)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",e,!0),()=>{window.removeEventListener("message",e,!0)}}var QS=me({build:(n,t,e)=>fn(t),config:mt({disabled:typeof window>"u"}),name:"@lexical/dragon",register:(n,t,e)=>Mt(()=>e.getOutput().disabled.value?void 0:o_(n))});var i_=ed,s_=i_.DragonExtension,xv=i_.registerDragonSupport;var od={};Tt(od,{$createHeadingNode:()=>qo,$createQuoteNode:()=>rd,$isHeadingNode:()=>l0,$isQuoteNode:()=>s0,DRAG_DROP_PASTE:()=>nd,HeadingNode:()=>Qo,QuoteNode:()=>Zo,RichTextExtension:()=>c0,eventFiles:()=>ns,registerRichText:()=>f_});function a_(n,t){if(document.caretRangeFromPoint!==void 0){let e=document.caretRangeFromPoint(n,t);return e===null?null:{node:e.startContainer,offset:e.startOffset}}if(document.caretPositionFromPoint!=="undefined"){let e=document.caretPositionFromPoint(n,t);return e===null?null:{node:e.offsetNode,offset:e.offset}}return null}var eo=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,e0=eo&&"documentMode"in document?document.documentMode:null,t0=eo&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),n0=!(!eo||!("InputEvent"in window)||e0)&&"getTargetRanges"in new window.InputEvent("input"),r0=eo&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),l_=eo&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,o0=eo&&/^(?=.*Chrome).*/i.test(navigator.userAgent),i0=eo&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&t0&&!o0,nd=_e("DRAG_DROP_PASTE_FILE"),Zo=class n extends ut{static getType(){return"quote"}static clone(t){return new n(t.__key)}createDOM(t){let e=document.createElement("blockquote");return ce(e,t.theme.quote),e}updateDOM(t,e){return!1}static importDOM(){return{blockquote:t=>({conversion:a0,priority:0})}}exportDOM(t){let{element:e}=super.exportDOM(t);if(je(e)){this.isEmpty()&&e.append(document.createElement("br"));let r=this.getFormatType();r&&(e.style.textAlign=r);let o=this.getDirection();o&&(e.dir=o)}return{element:e}}static importJSON(t){return rd().updateFromJSON(t)}insertNewAfter(t,e){let r=Q(),o=this.getDirection();return r.setDirection(o),this.insertAfter(r,e),r}collapseAtStart(){let t=Q();return this.getChildren().forEach(e=>t.append(e)),this.replace(t),!0}canMergeWhenEmpty(){return!0}};function rd(){return ke(new Zo)}function s0(n){return n instanceof Zo}var Qo=class n extends ut{constructor(e,r){super(r);O(this,"__tag");this.__tag=e}static getType(){return"heading"}static clone(e){return new n(e.__tag,e.__key)}getTag(){return this.__tag}setTag(e){let r=this.getWritable();return this.__tag=e,r}createDOM(e){let r=this.__tag,o=document.createElement(r),i=e.theme.heading;if(i!==void 0){let s=i[r];ce(o,s)}return o}updateDOM(e,r,o){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:Xo,priority:0}),h2:e=>({conversion:Xo,priority:0}),h3:e=>({conversion:Xo,priority:0}),h4:e=>({conversion:Xo,priority:0}),h5:e=>({conversion:Xo,priority:0}),h6:e=>({conversion:Xo,priority:0}),p:e=>{let r=e.firstChild;return r!==null&&c_(r)?{conversion:()=>({node:null}),priority:3}:null},span:e=>c_(e)?{conversion:r=>({node:qo("h1")}),priority:3}:null}}exportDOM(e){let{element:r}=super.exportDOM(e);if(je(r)){this.isEmpty()&&r.append(document.createElement("br"));let o=this.getFormatType();o&&(r.style.textAlign=o);let i=this.getDirection();i&&(r.dir=i)}return{element:r}}static importJSON(e){return qo(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,r=!0){let o=e?e.anchor.offset:0,i=this.getLastDescendant(),s=!i||e&&e.anchor.key===i.getKey()&&o===i.getTextContentSize()||!e?Q():qo(this.getTag()),a=this.getDirection();if(s.setDirection(a),this.insertAfter(s,r),o===0&&!this.isEmpty()&&e){let l=Q();l.select(),this.replace(l,!0)}return s}collapseAtStart(){let e=this.isEmpty()?Q():qo(this.getTag());return this.getChildren().forEach(r=>e.append(r)),this.replace(e),!0}extractWithChild(){return!0}};function c_(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function Xo(n){let t=n.nodeName.toLowerCase(),e=null;return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6"||(e=qo(t),n.style!==null&&(_u(n,e),e.setFormat(n.style.textAlign))),{node:e}}function a0(n){let t=rd();return n.style!==null&&(t.setFormat(n.style.textAlign),_u(n,t)),{node:t}}function qo(n="h1"){return ke(new Qo(n))}function l0(n){return n instanceof Qo}function ns(n){let t=null;if(Wt(n,DragEvent)?t=n.dataTransfer:Wt(n,ClipboardEvent)&&(t=n.clipboardData),t===null)return[!1,[],!1];let e=t.types,r=e.includes("Files"),o=e.includes("text/html")||e.includes("text/plain");return[r,Array.from(t.files),o]}function u_(n){let t=w();if(!M(t))return!1;let e=new Set,r=t.getNodes();for(let o=0;o<r.length;o++){let i=r[o],s=i.getKey();if(e.has(s))continue;let a=Y(i,c=>P(c)&&!c.isInline());if(a===null)continue;let l=a.getKey();a.canIndent()&&!e.has(l)&&(e.add(l),n(a))}return e.size>0}function d_(n){let t=ze(n);return Gn(t)}function td(n){for(let t of["lowercase","uppercase","capitalize"])n.hasFormat(t)&&n.toggleFormat(t)}function f_(n){return Se(n.registerCommand(Po,t=>{let e=w();return!!gt(e)&&(e.clear(),!0)},ne),n.registerCommand(Bo,t=>{let e=w();return M(e)?(e.deleteCharacter(t),!0):!!gt(e)&&(e.deleteNodes(),!0)},ne),n.registerCommand(pa,t=>{let e=w();return!!M(e)&&(e.deleteWord(t),!0)},ne),n.registerCommand(ji,t=>{let e=w();return!!M(e)&&(e.deleteLine(t),!0)},ne),n.registerCommand(fa,t=>{let e=w();if(typeof t=="string")e!==null&&e.insertText(t);else{if(e===null)return!1;let r=t.dataTransfer;if(r!=null)Bu(r,e,n);else if(M(e)){let o=t.data;return o&&e.insertText(o),!0}}return!0},ne),n.registerCommand(bp,()=>{let t=w();return!!M(t)&&(t.removeText(),!0)},ne),n.registerCommand(At,t=>{let e=w();return!!M(e)&&(e.formatText(t),!0)},ne),n.registerCommand(Ut,t=>{let e=w();if(!M(e)&&!gt(e))return!1;let r=e.getNodes();for(let o of r){let i=Y(o,s=>P(s)&&!s.isInline());i!==null&&i.setFormat(t)}return!0},ne),n.registerCommand(fu,t=>{let e=w();return!!M(e)&&(e.insertLineBreak(t),!0)},ne),n.registerCommand(Cr,()=>{let t=w();return!!M(t)&&(t.insertParagraph(),!0)},ne),n.registerCommand(yr,()=>(Wn([Ht()]),!0),ne),n.registerCommand(pt,()=>u_(t=>{let e=t.getIndent();t.setIndent(e+1)}),ne),n.registerCommand(Ot,()=>u_(t=>{let e=t.getIndent();e>0&&t.setIndent(Math.max(0,e-1))}),ne),n.registerCommand(Xt,t=>{let e=w();if(gt(e)){let r=e.getNodes();if(r.length>0)return t.preventDefault(),r[0].selectPrevious(),!0}else if(M(e)){let r=iu(e.focus,!0);if(!t.shiftKey&&Gn(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),t.preventDefault(),!0}return!1},ne),n.registerCommand(yn,t=>{let e=w();if(gt(e)){let r=e.getNodes();if(r.length>0)return t.preventDefault(),r[0].selectNext(0,0),!0}else if(M(e)){if((function(o){let i=o.focus;return i.key==="root"&&i.offset===Ue().getChildrenSize()})(e))return t.preventDefault(),!0;let r=iu(e.focus,!1);if(!t.shiftKey&&Gn(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),t.preventDefault(),!0}return!1},ne),n.registerCommand(Ho,t=>{let e=w();if(gt(e)){let r=e.getNodes();if(r.length>0)return t.preventDefault(),bu(r[0])?r[0].selectNext(0,0):r[0].selectPrevious(),!0}if(!M(e))return!1;if(Ou(e,!0)){let r=t.shiftKey;return t.preventDefault(),Au(e,r,!0),!0}return!1},ne),n.registerCommand(Ca,t=>{let e=w();if(gt(e)){let o=e.getNodes();if(o.length>0)return t.preventDefault(),bu(o[0])?o[0].selectPrevious():o[0].selectNext(0,0),!0}if(!M(e))return!1;let r=t.shiftKey;return!!Ou(e,!1)&&(t.preventDefault(),Au(e,r,!1),!0)},ne),n.registerCommand(ya,t=>{if(d_(t.target))return!1;let e=w();if(M(e)){if((function(r){if(!r.isCollapsed())return!1;let{anchor:o}=r;if(o.offset!==0)return!1;let i=o.getNode();if(Yn(i))return!1;let s=qr(i);return s.getIndent()>0&&(s.is(i)||i.is(s.getFirstDescendant()))})(e))return t.preventDefault(),n.dispatchCommand(Ot,void 0);if(l_&&navigator.language==="ko-KR")return!1}else if(!gt(e))return!1;return t.preventDefault(),n.dispatchCommand(Bo,!0)},ne),n.registerCommand(xa,t=>{if(d_(t.target))return!1;let e=w();return!(!M(e)&&!gt(e))&&(t.preventDefault(),n.dispatchCommand(Bo,!1))},ne),n.registerCommand(xp,t=>{let e=w();if(!M(e))return!1;if(td(e),t!==null){if((l_||r0||i0)&&n0)return!1;if(t.preventDefault(),t.shiftKey)return n.dispatchCommand(fu,!1)}return n.dispatchCommand(Cr,void 0)},ne),n.registerCommand(xr,()=>{let t=w();return!!M(t)&&(n.blur(),!0)},ne),n.registerCommand(_p,t=>{let[,e]=ns(t);if(e.length>0){let o=a_(t.clientX,t.clientY);if(o!==null){let{offset:i,node:s}=o,a=ze(s);if(a!==null){let l=gr();if(U(a))l.anchor.set(a.getKey(),i,"text"),l.focus.set(a.getKey(),i,"text");else{let u=a.getParentOrThrow().getKey(),d=a.getIndexWithinParent()+1;l.anchor.set(u,d,"element"),l.focus.set(u,d,"element")}let c=jn(l);Ge(c)}n.dispatchCommand(nd,e)}return t.preventDefault(),!0}let r=w();return!!M(r)},ne),n.registerCommand(mp,t=>{let[e]=ns(t),r=w();return!(e&&!M(r))},ne),n.registerCommand(pp,t=>{let[e]=ns(t),r=w();if(e&&!M(r))return!1;let o=a_(t.clientX,t.clientY);if(o!==null){let i=ze(o.node);Gn(i)&&t.preventDefault()}return!0},ne),n.registerCommand(Op,()=>(ca(),!0),ne),n.registerCommand(ga,t=>(Qi(n,Wt(t,ClipboardEvent)?t:null),!0),ne),n.registerCommand(ha,t=>((async function(e,r){await Qi(r,Wt(e,ClipboardEvent)?e:null),r.update(()=>{let o=w();M(o)?o.removeText():gt(o)&&o.getNodes().forEach(i=>i.remove())})})(t,n),!0),ne),n.registerCommand(Sa,t=>{let[,e,r]=ns(t);return e.length>0&&!r?(n.dispatchCommand(nd,e),!0):Ft(t.target)&&Fp(t.target)?!1:w()!==null&&((function(o,i){o.preventDefault(),i.update(()=>{let s=w(),a=Wt(o,InputEvent)||Wt(o,KeyboardEvent)?null:o.clipboardData;a!=null&&s!==null&&Bu(a,s,i)},{tag:Sp})})(t,n),!0)},ne),n.registerCommand(Ea,t=>{let e=w();return M(e)&&td(e),!1},ne),n.registerCommand(Jn,t=>{let e=w();return M(e)&&td(e),!1},ne))}var c0=me({conflictsWith:["@lexical/plain-text"],dependencies:[s_],name:"@lexical/rich-text",nodes:()=>[Qo,Zo],register:f_});var Nn=od,Ya=Nn.$createHeadingNode,g_=Nn.$createQuoteNode,ja=Nn.$isHeadingNode,h_=Nn.$isQuoteNode,vv=Nn.DRAG_DROP_PASTE,p_=Nn.HeadingNode,m_=Nn.QuoteNode,Mv=Nn.RichTextExtension,wv=Nn.eventFiles,__=Nn.registerRichText;var sd={};Tt(sd,{$canShowPlaceholder:()=>y_,$canShowPlaceholderCurry:()=>d0,$findTextIntersectionFromCharacters:()=>f0,$isRootTextContentEmpty:()=>id,$isRootTextContentEmptyCurry:()=>u0,$rootTextContent:()=>C_,registerLexicalTextEntity:()=>h0});function C_(){return Ue().getTextContent()}function id(n,t=!0){if(n)return!1;let e=C_();return t&&(e=e.trim()),e===""}function u0(n,t){return()=>id(n,t)}function y_(n){if(!id(n,!1))return!1;let t=Ue().getChildren(),e=t.length;if(e>1)return!1;for(let r=0;r<e;r++){let o=t[r];if(Gn(o))return!1;if(P(o)){if(!mr(o)||o.__indent!==0)return!1;let i=o.getChildren(),s=i.length;for(let a=0;a<s;a++){let l=i[r];if(!U(l))return!1}}}return!0}function d0(n){return()=>y_(n)}function f0(n,t){let e=n.getFirstChild(),r=0;e:for(;e!==null;){if(P(e)){let s=e.getFirstChild();if(s!==null){e=s;continue}}else if(U(e)){let s=e.getTextContentSize();if(r+s>t)return{node:e,offset:t-r};r+=s}let o=e.getNextSibling();if(o!==null){e=o;continue}let i=e.getParent();for(;i!==null;){let s=i.getNextSibling();if(s!==null){e=s;continue e}i=i.getParent()}break}return null}function g0(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function h0(n,t,e,r){let o=s=>s instanceof e,i=s=>{let a=Ze(s.getTextContent());a.setFormat(s.getFormat()),s.replace(a)};return[n.registerNodeTransform(Ye,s=>{if(!s.isSimpleText())return;let a,l=s.getPreviousSibling(),c=s.getTextContent(),u=s;if(U(l)){let f=l.getTextContent(),m=t(f+c);if(o(l)){if(m===null||(g=>g.getLatest().__mode)(l)!==0)return void i(l);{let g=m.end-f.length;if(g>0){let h=f+c.slice(0,g);if(l.select(),l.setTextContent(h),g===c.length)s.remove();else{let p=c.slice(g);s.setTextContent(p)}return}}}else if(m===null||m.start<f.length)return}let d=0;for(;;){a=t(c);let f,m=a===null?"":c.slice(a.end);if(c=m,m===""){let h=u.getNextSibling();if(U(h)){m=u.getTextContent()+h.getTextContent();let p=t(m);if(p===null)return void(o(h)?i(h):h.markDirty());if(p.start!==0)return}}if(a===null)return;if(a.start===0&&U(l)&&l.isTextEntity()){d+=a.end;continue}a.start===0?[f,u]=u.splitText(a.end):[,f,u]=u.splitText(a.start+d,a.end+d),f===void 0&&g0(165,"nodeToReplace");let g=r(f);if(g.setFormat(f.getFormat()),f.replace(g),u==null)return;d=0,l=g}}),n.registerNodeTransform(e,s=>{let a=s.getTextContent(),l=t(a);if(l===null||l.start!==0)return void i(s);if(a.length>l.end)return void s.splitText(l.end);let c=s.getPreviousSibling();U(c)&&c.isTextEntity()&&(i(c),i(s));let u=s.getNextSibling();U(u)&&u.isTextEntity()&&(i(u),o(s)&&i(s))})]}var to=sd,kv=to.$canShowPlaceholder,Rv=to.$canShowPlaceholderCurry,Iv=to.$findTextIntersectionFromCharacters,Fv=to.$isRootTextContentEmpty,$v=to.$isRootTextContentEmptyCurry,Pv=to.$rootTextContent,Ja=to.registerLexicalTextEntity;var ld={};Tt(ld,{$createHashtagNode:()=>ad,$isHashtagNode:()=>p0,HashtagExtension:()=>_0,HashtagNode:()=>no,registerLexicalHashtag:()=>E_});var no=class n extends Ye{static getType(){return"hashtag"}static clone(t){return new n(t.__text,t.__key)}createDOM(t){let e=super.createDOM(t);return ce(e,t.theme.hashtag),e}static importJSON(t){return ad().updateFromJSON(t)}canInsertTextBefore(){return!1}isTextEntity(){return!0}};function ad(n=""){return ke(new no(n))}function p0(n){return n instanceof no}var m0=new RegExp((function(){let{alpha:n,alphanumeric:t,hashChars:e}=(function(){let o=String.fromCharCode,i="A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u076D\u0780-\u07A5\u07B1\u0904-\u0939\u093D\u0950\u0958-\u0961\u097D\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6A\u0F88-\u0F8B\u1000-\u1021\u1023-\u1027\u1029-\u102A\u1050-\u1055\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1D00-\u1DBF\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3006\u3031-\u3035\u303B-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253-\u0254\u0256-\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF\u0400-\u04FF\u0500-\u0527\u2DE0-\u2DFF\uA640-\uA69F\u0591-\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F4\uFB12-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFB4F\u0610-\u061A\u0620-\u065F\u066E-\u06D3\u06D5-\u06DC\u06DE-\u06E8\u06EA-\u06EF\u06FA-\u06FC\u06FF\u0750-\u077F\u08A0\u08A2-\u08AC\u08E4-\u08FE\uFB50-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\u200C-\u200C\u0E01-\u0E3A\u0E40-\u0E4E\u1100-\u11FF\u3130-\u3185\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\uFFA1-\uFFDC\u30A1-\u30FA\u30FC-\u30FE\uFF66-\uFF9F\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\u3041-\u3096\u3099-\u309E\u3400-\u4DBF\u4E00-\u9FFF"+o(173824)+"-"+o(177983)+o(177984)+"-"+o(178207)+o(194560)+"-"+o(195103)+"\u3003\u3005\u303B";return{alpha:i,alphanumeric:i+"\u0300-\u036F\u0483-\u0486\u0591-\u05B9\u05BB-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u0615\u064B-\u065E\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u0901-\u0903\u093C\u093E-\u094D\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7-\u09C8\u09CB-\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A70-\u0A71\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B43\u0B47-\u0B48\u0B4B-\u0B4D\u0B56-\u0B57\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C82-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D82-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2-\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F3E-\u0F3F\u0F71-\u0F84\u0F86-\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102C-\u1032\u1036-\u1039\u1056-\u1059\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8-\u19C9\u1A17-\u1A1B\u1DC0-\u1DC3\u20D0-\u20DC\u20E1\u20E5-\u20EB\u302A-\u302F\u3099-\u309A\uA802\uA806\uA80B\uA823-\uA827\uFB1E\uFE00-\uFE0F\uFE20-\uFE230-9\u0660-\u0669\u06F0-\u06F9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\uFF10-\uFF19_",hashChars:"#\\uFF03"}})(),r="["+t+"]";return"("+("^|$|[^&/"+t+"]")+")("+("["+e+"]")+")("+r+"*"+("["+n+"]")+r+"*)"})(),"i"),x_={getHashtagMatch:function(n){let t=m0.exec(n);if(t===null)return null;let e=t[3].length+1,r=t.index+t[1].length;return{end:r+e,start:r}}};function E_(n,t=x_){return Se(...Ja(n,t.getHashtagMatch,no,e=>ad(e.getTextContent())))}var _0=me({config:x_,name:"@lexical/hashtag/Hashtag",nodes:()=>[no],register:E_});var rs=ld,N_=rs.$createHashtagNode,Uv=rs.$isHashtagNode,Wv=rs.HashtagExtension,cd=rs.HashtagNode,Gv=rs.registerLexicalHashtag;var Xv=Tf(ud(),1);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(t,e){var r={};r["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[e]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+e]={pattern:/[\s\S]+/,inside:Prism.languages[e]};var i={};i[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:o},Prism.languages.insertBefore("markup","cdata",i)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(n,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(n){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function e(u){return u=u.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+u+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+i+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+i+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:e(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:e(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:e(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:e(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(u){["url","bold","italic","strike","code-snippet"].forEach(function(d){u!==d&&(n.languages.markdown[u].inside.content.inside[d]=n.languages.markdown[d])})}),n.hooks.add("after-tokenize",function(u){if(u.language!=="markdown"&&u.language!=="md")return;function d(f){if(!(!f||typeof f=="string"))for(var m=0,g=f.length;m<g;m++){var h=f[m];if(h.type!=="code"){d(h.content);continue}var p=h.content[1],_=h.content[3];if(p&&_&&p.type==="code-language"&&_.type==="code-block"&&typeof p.content=="string"){var C=p.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");C=(/[a-z][\w-]*/i.exec(C)||[""])[0].toLowerCase();var y="language-"+C;_.alias?typeof _.alias=="string"?_.alias=[_.alias,y]:_.alias.push(y):_.alias=[y]}}}d(u.tokens)}),n.hooks.add("wrap",function(u){if(u.type==="code-block"){for(var d="",f=0,m=u.classes.length;f<m;f++){var g=u.classes[f],h=/language-(.+)/.exec(g);if(h){d=h[1];break}}var p=n.languages[d];if(p)u.content=n.highlight(c(u.content),p,d);else if(d&&d!=="none"&&n.plugins.autoloader){var _="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);u.attributes.id=_,n.plugins.autoloader.loadLanguages(d,function(){var C=document.getElementById(_);C&&(C.innerHTML=n.highlight(C.textContent,n.languages[d],d))})}}});var s=RegExp(n.languages.markup.tag.pattern.source,"gi"),a={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;function c(u){var d=u.replace(s,"");return d=d.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(f,m){if(m=m.toLowerCase(),m[0]==="#"){var g;return m[1]==="x"?g=parseInt(m.slice(2),16):g=Number(m.slice(1)),l(g)}else{var h=a[m];return h||f}}),d}n.languages.md=n.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(n){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var e=n.languages.markup;e&&(e.tag.addInlined("style","css"),e.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(n){var t=n.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};t.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:t},boolean:t.boolean,variable:t.variable}})(Prism);Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(n){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,e=0;e<2;e++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=Prism.languages.swift});(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var t=n.languages.extend("typescript",{});delete t["class-name"],n.languages.typescript["class-name"].inside=t,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),n.languages.ts=n.languages.typescript})(Prism);(function(n){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,e=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+e+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+e+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+e+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+e+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+e+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(n){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,e=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});n.languages.cpp=n.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),n.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return e})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),n.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n.languages.cpp}}}}),n.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),n.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:n.languages.extend("cpp",{})}}),n.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},n.languages.cpp["base-clause"])})(Prism);function b_(n,t){for(let e of n.childNodes){if(je(e)&&e.tagName===t)return!0;b_(e,t)}return!1}var is="data-language",os="data-highlight-language",Xa="data-theme",ss=class n extends ut{constructor(e,r){super(r);O(this,"__language");O(this,"__theme");O(this,"__isSyntaxHighlightSupported");this.__language=e||void 0,this.__isSyntaxHighlightSupported=!1,this.__theme=void 0}static getType(){return"code"}static clone(e){return new n(e.__language,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__language=e.__language,this.__theme=e.__theme,this.__isSyntaxHighlightSupported=e.__isSyntaxHighlightSupported}createDOM(e){let r=document.createElement("code");ce(r,e.theme.code),r.setAttribute("spellcheck","false");let o=this.getLanguage();o&&(r.setAttribute(is,o),this.getIsSyntaxHighlightSupported()&&r.setAttribute(os,o));let i=this.getTheme();i&&r.setAttribute(Xa,i);let s=this.getStyle();return s&&r.setAttribute("style",s),r}updateDOM(e,r,o){let i=this.__language,s=e.__language;i?i!==s&&r.setAttribute(is,i):s&&r.removeAttribute(is);let a=this.__isSyntaxHighlightSupported;e.__isSyntaxHighlightSupported&&s?a&&i?i!==s&&r.setAttribute(os,i):r.removeAttribute(os):a&&i&&r.setAttribute(os,i);let c=this.__theme,u=e.__theme;c?c!==u&&r.setAttribute(Xa,c):u&&r.removeAttribute(Xa);let d=this.__style,f=e.__style;return d?d!==f&&r.setAttribute("style",d):f&&r.removeAttribute("style"),!1}exportDOM(e){let r=document.createElement("pre");ce(r,e._config.theme.code),r.setAttribute("spellcheck","false");let o=this.getLanguage();o&&(r.setAttribute(is,o),this.getIsSyntaxHighlightSupported()&&r.setAttribute(os,o));let i=this.getTheme();i&&r.setAttribute(Xa,i);let s=this.getStyle();return s&&r.setAttribute("style",s),{element:r}}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||b_(e,"BR"))?{conversion:S_,priority:1}:null,div:()=>({conversion:x0,priority:1}),pre:()=>({conversion:S_,priority:0}),table:e=>dd(e)?{conversion:E0,priority:3}:null,td:e=>{let r=e,o=r.closest("table");return S0(r)||o&&dd(o)?{conversion:T_,priority:3}:null},tr:e=>{let o=e.closest("table");return o&&dd(o)?{conversion:T_,priority:3}:null}}}static importJSON(e){return ls().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language).setTheme(e.theme)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),theme:this.getTheme()}}insertNewAfter(e,r=!0){let o=this.getChildren(),i=o.length;if(i>=2&&o[i-1].getTextContent()===`
`&&o[i-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i){o[i-1].remove(),o[i-2].remove();let u=Q();return this.insertAfter(u,r),u}let{anchor:s,focus:a}=e,c=(s.isBefore(a)?s:a).getNode();if(U(c)){let u=b0(c),d=[];for(;;)if(ht(u))d.push(Ht()),u=u.getNextSibling();else if(v_(u)){let C=0,y=u.getTextContent(),N=u.getTextContentSize();for(;C<N&&y[C]===" ";)C++;if(C!==0&&d.push(O_(" ".repeat(C))),C!==N)break;u=u.getNextSibling()}else break;let f=c.splitText(s.offset)[0],m=s.offset===0?0:1,g=f.getIndexWithinParent()+m,h=c.getParentOrThrow(),p=[ln(),...d];h.splice(g,0,p);let _=d[d.length-1];_?_.select():s.offset===0?f.selectPrevious():f.getNextSibling().selectNext(0,0)}if(y0(c)){let{offset:u}=e.anchor;c.splice(u,0,[ln()]),c.select(u+1,u+1)}return null}canIndent(){return!1}collapseAtStart(){let e=Q();return this.getChildren().forEach(o=>e.append(o)),this.replace(e),!0}setLanguage(e){let r=this.getWritable();return r.__language=e||void 0,r}getLanguage(){return this.getLatest().__language}setIsSyntaxHighlightSupported(e){let r=this.getWritable();return r.__isSyntaxHighlightSupported=e,r}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}setTheme(e){let r=this.getWritable();return r.__theme=e||void 0,r}getTheme(){return this.getLatest().__theme}};function ls(n,t){return Fo(ss).setLanguage(n).setTheme(t)}function y0(n){return n instanceof ss}function S_(n){let t=n.getAttribute(is);return{node:ls(t)}}function x0(n){let t=n,e=A_(t);return!e&&!N0(t)?{node:null}:{node:e?ls():null}}function E0(){return{node:ls()}}function T_(){return{node:null}}function A_(n){return n.style.fontFamily.match("monospace")!==null}function N0(n){let t=n.parentElement;for(;t!==null;){if(A_(t))return!0;t=t.parentElement}return!1}function S0(n){return n.classList.contains("js-file-line")}function dd(n){return n.classList.contains("js-file-line-container")}var as=class n extends Ye{constructor(e="",r,o){super(e,o);O(this,"__highlightType");this.__highlightType=r}static getType(){return"code-highlight"}static clone(e){return new n(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){let r=this.getWritable();return r.__highlightType=e||void 0,r}canHaveFormat(){return!1}createDOM(e){let r=super.createDOM(e),o=fd(e.theme,this.__highlightType);return ce(r,o),r}updateDOM(e,r,o){let i=super.updateDOM(e,r,o),s=fd(o.theme,e.__highlightType),a=fd(o.theme,this.__highlightType);return s!==a&&(s&&Nt(r,s),a&&ce(r,a)),i}static importJSON(e){return O_().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return ls()}};function fd(n,t){return t&&n&&n.codeHighlight&&n.codeHighlight[t]}function O_(n="",t){return ke(new as(n,t))}function v_(n){return n instanceof as}function T0(n,t){let e=n;for(let r=ft(n,t);r&&(v_(r.origin)||ht(r.origin));r=ka(r))e=r.origin;return e}function b0(n){return T0(n,"previous")}var fM=me({name:"@lexical/code",nodes:()=>[ss,as]});(function(n){n.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach(function(e){var r=t[e],o=[];/^\w+$/.test(e)||o.push(/\w+/.exec(e)[0]),e==="diff"&&o.push("bold"),n.languages.diff[e]={pattern:RegExp("^(?:["+r+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:o,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(e)[0]}}}}),Object.defineProperty(n.languages.diff,"PREFIXES",{value:t})})(Prism);var gM=globalThis.Prism||window.Prism;var Nd={};Tt(Nd,{$createCodeHighlightNode:()=>Qa,$createCodeNode:()=>ei,$getCodeLineDirection:()=>B_,$getEndOfCodeInLine:()=>xd,$getFirstCodeNodeOfLine:()=>Xn,$getLastCodeNodeOfLine:()=>Ar,$getStartOfCodeInLine:()=>yd,$isCodeHighlightNode:()=>We,$isCodeNode:()=>gn,CODE_LANGUAGE_FRIENDLY_NAME_MAP:()=>Ed,CODE_LANGUAGE_MAP:()=>K_,CodeExtension:()=>M0,CodeHighlightNode:()=>Or,CodeNode:()=>Vn,DEFAULT_CODE_LANGUAGE:()=>Cd,PrismTokenizer:()=>z_,getCodeLanguageOptions:()=>L0,getCodeLanguages:()=>D0,getCodeThemeOptions:()=>k0,getDefaultCodeLanguage:()=>A0,getEndOfCodeInLine:()=>B0,getFirstCodeNodeOfLine:()=>$0,getLanguageFriendlyName:()=>w0,getLastCodeNodeOfLine:()=>P0,getStartOfCodeInLine:()=>K0,normalizeCodeLang:()=>H_,normalizeCodeLanguage:()=>H_,registerCodeHighlighting:()=>F0});var CM=Tf(ud(),1);function Za(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var Cd="javascript",A0=()=>Cd;function $_(n,t){for(let e of n.childNodes){if(je(e)&&e.tagName===t)return!0;$_(e,t)}return!1}var us="data-language",cs="data-highlight-language",qa="data-theme",Vn=class n extends ut{constructor(e,r){super(r);O(this,"__language");O(this,"__theme");O(this,"__isSyntaxHighlightSupported");this.__language=e||void 0,this.__isSyntaxHighlightSupported=!1,this.__theme=void 0}static getType(){return"code"}static clone(e){return new n(e.__language,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__language=e.__language,this.__theme=e.__theme,this.__isSyntaxHighlightSupported=e.__isSyntaxHighlightSupported}createDOM(e){let r=document.createElement("code");ce(r,e.theme.code),r.setAttribute("spellcheck","false");let o=this.getLanguage();o&&(r.setAttribute(us,o),this.getIsSyntaxHighlightSupported()&&r.setAttribute(cs,o));let i=this.getTheme();i&&r.setAttribute(qa,i);let s=this.getStyle();return s&&r.setAttribute("style",s),r}updateDOM(e,r,o){let i=this.__language,s=e.__language;i?i!==s&&r.setAttribute(us,i):s&&r.removeAttribute(us);let a=this.__isSyntaxHighlightSupported;e.__isSyntaxHighlightSupported&&s?a&&i?i!==s&&r.setAttribute(cs,i):r.removeAttribute(cs):a&&i&&r.setAttribute(cs,i);let l=this.__theme,c=e.__theme;l?l!==c&&r.setAttribute(qa,l):c&&r.removeAttribute(qa);let u=this.__style,d=e.__style;return u?u!==d&&r.setAttribute("style",u):d&&r.removeAttribute("style"),!1}exportDOM(e){let r=document.createElement("pre");ce(r,e._config.theme.code),r.setAttribute("spellcheck","false");let o=this.getLanguage();o&&(r.setAttribute(us,o),this.getIsSyntaxHighlightSupported()&&r.setAttribute(cs,o));let i=this.getTheme();i&&r.setAttribute(qa,i);let s=this.getStyle();return s&&r.setAttribute("style",s),{element:r}}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||$_(e,"BR"))?{conversion:M_,priority:1}:null,div:()=>({conversion:O0,priority:1}),pre:()=>({conversion:M_,priority:0}),table:e=>gd(e)?{conversion:v0,priority:3}:null,td:e=>{let r=e,o=r.closest("table");return r.classList.contains("js-file-line")||o&&gd(o)?{conversion:w_,priority:3}:null},tr:e=>{let r=e.closest("table");return r&&gd(r)?{conversion:w_,priority:3}:null}}}static importJSON(e){return ei().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language).setTheme(e.theme)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),theme:this.getTheme()}}insertNewAfter(e,r=!0){let o=this.getChildren(),i=o.length;if(i>=2&&o[i-1].getTextContent()===`
`&&o[i-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i){o[i-1].remove(),o[i-2].remove();let c=Q();return this.insertAfter(c,r),c}let{anchor:s,focus:a}=e,l=(s.isBefore(a)?s:a).getNode();if(U(l)){let c=Xn(l),u=[];for(;;)if(ht(c))u.push(Ht()),c=c.getNextSibling();else{if(!We(c))break;{let _=0,C=c.getTextContent(),y=c.getTextContentSize();for(;_<y&&C[_]===" ";)_++;if(_!==0&&u.push(Qa(" ".repeat(_))),_!==y)break;c=c.getNextSibling()}}let d=l.splitText(s.offset)[0],f=s.offset===0?0:1,m=d.getIndexWithinParent()+f,g=l.getParentOrThrow(),h=[ln(),...u];g.splice(m,0,h);let p=u[u.length-1];p?p.select():s.offset===0?d.selectPrevious():d.getNextSibling().selectNext(0,0)}if(gn(l)){let{offset:c}=e.anchor;l.splice(c,0,[ln()]),l.select(c+1,c+1)}return null}canIndent(){return!1}collapseAtStart(){let e=Q();return this.getChildren().forEach(r=>e.append(r)),this.replace(e),!0}setLanguage(e){let r=this.getWritable();return r.__language=e||void 0,r}getLanguage(){return this.getLatest().__language}setIsSyntaxHighlightSupported(e){let r=this.getWritable();return r.__isSyntaxHighlightSupported=e,r}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}setTheme(e){let r=this.getWritable();return r.__theme=e||void 0,r}getTheme(){return this.getLatest().__theme}};function ei(n,t){return Fo(Vn).setLanguage(n).setTheme(t)}function gn(n){return n instanceof Vn}function M_(n){return{node:ei(n.getAttribute(us))}}function O0(n){let t=n,e=D_(t);return e||(function(r){let o=r.parentElement;for(;o!==null;){if(D_(o))return!0;o=o.parentElement}return!1})(t)?{node:e?ei():null}:{node:null}}function v0(){return{node:ei()}}function w_(){return{node:null}}function D_(n){return n.style.fontFamily.match("monospace")!==null}function gd(n){return n.classList.contains("js-file-line-container")}var Or=class n extends Ye{constructor(e="",r,o){super(e,o);O(this,"__highlightType");this.__highlightType=r}static getType(){return"code-highlight"}static clone(e){return new n(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){let r=this.getWritable();return r.__highlightType=e||void 0,r}canHaveFormat(){return!1}createDOM(e){let r=super.createDOM(e),o=hd(e.theme,this.__highlightType);return ce(r,o),r}updateDOM(e,r,o){let i=super.updateDOM(e,r,o),s=hd(o.theme,e.__highlightType),a=hd(o.theme,this.__highlightType);return s!==a&&(s&&Nt(r,s),a&&ce(r,a)),i}static importJSON(e){return Qa().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return ei()}};function hd(n,t){return t&&n&&n.codeHighlight&&n.codeHighlight[t]}function Qa(n="",t){return ke(new Or(n,t))}function We(n){return n instanceof Or}function P_(n,t){let e=n;for(let r=ft(n,t);r&&(We(r.origin)||ht(r.origin));r=ka(r))e=r.origin;return e}function Xn(n){return P_(n,"previous")}function Ar(n){return P_(n,"next")}function B_(n){let t=Xn(n),e=Ar(n),r=t;for(;r!==null;){if(We(r)){let i=hu(r.getTextContent());if(i!==null)return i}if(r===e)break;r=r.getNextSibling()}let o=t.getParent();if(P(o)){let i=o.getDirection();if(i==="ltr"||i==="rtl")return i}return null}function yd(n,t){let e=null,r=null,o=n,i=t,s=n.getTextContent();for(;;){if(i===0){if(o=o.getPreviousSibling(),o===null)break;if(We(o)||ht(o)||Pe(o)||Za(167),Pe(o)){e={node:o,offset:1};break}i=Math.max(0,o.getTextContentSize()-1),s=o.getTextContent()}else i--;let l=s[i];We(o)&&l!==" "&&(r={node:o,offset:i})}if(r!==null)return r;let a=null;if(t<n.getTextContentSize())We(n)&&(a=n.getTextContent()[t]);else{let l=n.getNextSibling();We(l)&&(a=l.getTextContent()[0])}if(a!==null&&a!==" ")return e;{let l=(function(c,u){let d=c,f=u,m=c.getTextContent(),g=c.getTextContentSize();for(;;){if(!We(d)||f===g){if(d=d.getNextSibling(),d===null||Pe(d))return null;We(d)&&(f=0,m=d.getTextContent(),g=d.getTextContentSize())}if(We(d)){if(m[f]!==" ")return{node:d,offset:f};f++}}})(n,t);return l!==null?l:e}}function xd(n){let t=Ar(n);return Pe(t)&&Za(168),t}var M0=me({name:"@lexical/code",nodes:()=>[Vn,Or]});(function(n){n.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach(function(e){var r=t[e],o=[];/^\w+$/.test(e)||o.push(/\w+/.exec(e)[0]),e==="diff"&&o.push("bold"),n.languages.diff[e]={pattern:RegExp("^(?:["+r+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:o,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(e)[0]}}}}),Object.defineProperty(n.languages.diff,"PREFIXES",{value:t})})(Prism);var qt=globalThis.Prism||window.Prism,Ed={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",powershell:"PowerShell",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},K_={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function H_(n){return K_[n]||n}function w0(n){let t=H_(n);return Ed[t]||t}var D0=()=>Object.keys(qt.languages).filter(n=>typeof qt.languages[n]!="function").sort();function L0(){let n=[];for(let[t,e]of Object.entries(Ed))n.push([t,e]);return n}function k0(){return[]}function md(n){return typeof n=="string"?n:Array.isArray(n)?n.map(md).join(""):md(n.content)}function R0(n,t){let e=/^diff-([\w-]+)/i.exec(t),r=n.getTextContent(),o=qt.tokenize(r,qt.languages[e?"diff":t]);return e&&(o=(function(i,s){let a=s,l=qt.languages[a],c={tokens:i},u=qt.languages.diff.PREFIXES;for(let d of c.tokens){if(typeof d=="string"||!(d.type in u)||!Array.isArray(d.content))continue;let f=d.type,m=0,g=()=>(m++,new qt.Token("prefix",u[f],f.replace(/^(\w+).*/,"$1"))),h=d.content.filter(S=>typeof S=="string"||S.type!=="prefix"),p=d.content.length-h.length,_=qt.tokenize(md(h),l);_.unshift(g());let C=/\r\n|\n/g,y=S=>{let E=[];C.lastIndex=0;let x,A=0;for(;m<p&&(x=C.exec(S));){let v=x.index+x[0].length;E.push(S.slice(A,v)),A=v,E.push(g())}if(E.length!==0)return A<S.length&&E.push(S.slice(A)),E},N=S=>{for(let E=0;E<S.length&&m<p;E++){let x=S[E];if(typeof x=="string"){let A=y(x);A&&(S.splice(E,1,...A),E+=A.length-1)}else if(typeof x.content=="string"){let A=y(x.content);A&&(x.content=A)}else Array.isArray(x.content)?N(x.content):N([x.content])}};N(_),m<p&&_.push(g()),d.content=_}return c.tokens})(o,e[1])),_d(o)}function _d(n,t){let e=[];for(let r of n)if(typeof r=="string"){let o=r.split(/(\n|\t)/),i=o.length;for(let s=0;s<i;s++){let a=o[s];a===`
`||a===`\r
`?e.push(ln()):a==="	"?e.push(Ht()):a.length>0&&e.push(Qa(a,t))}}else{let{content:o,alias:i}=r;typeof o=="string"?e.push(..._d([o],r.type==="prefix"&&typeof i=="string"?i:r.type)):Array.isArray(o)&&e.push(..._d(o,r.type==="unchanged"?void 0:r.type))}return e}var z_={$tokenize(n,t){return R0(n,t||this.defaultLanguage)},defaultLanguage:Cd,tokenize(n,t){return qt.tokenize(n,qt.languages[t||""]||qt.languages[this.defaultLanguage])}};function L_(n,t,e){let r=n.getParent();gn(r)?U_(r,t,e):We(n)&&n.replace(Ze(n.__text))}function I0(n,t){let e=t.getElementByKey(n.getKey());if(e===null)return;let r=n.getChildren(),o=r.length;if(o===e.__cachedChildrenLength)return;e.__cachedChildrenLength=o;let i="1",s=1;for(let a=0;a<o;a++)Pe(r[a])&&(i+=`
`+ ++s);e.setAttribute("data-gutter",i)}var pd=new Set;function U_(n,t,e){let r=n.getKey(),o=t.getKey()+"/"+r;n.getLanguage()===void 0&&n.setLanguage(e.defaultLanguage);let i=n.getLanguage()||e.defaultLanguage;if(!(function(s){let a=(function(c){let u=/^diff-([\w-]+)/i.exec(c);return u?u[1]:null})(s),l=a||s;try{return!!l&&qt.languages.hasOwnProperty(l)}catch{return!1}})(i))return n.getIsSyntaxHighlightSupported()&&n.setIsSyntaxHighlightSupported(!1),void(async function(){})();n.getIsSyntaxHighlightSupported()||n.setIsSyntaxHighlightSupported(!0),pd.has(o)||(pd.add(o),t.update(()=>{(function(s,a){let l=$e(s);if(!gn(l)||!l.isAttached())return;let c=w();if(!M(c))return void a();let u=c.anchor,d=u.offset,f=u.type==="element"&&Pe(l.getChildAtIndex(u.offset-1)),m=0;if(!f){let g=u.getNode();m=d+g.getPreviousSiblings().reduce((h,p)=>h+p.getTextContentSize(),0)}if(a()){if(f)return void u.getNode().select(d,d);l.getChildren().some(g=>{let h=U(g);if(h||Pe(g)){let p=g.getTextContentSize();if(h&&p>=m)return g.select(m,m),!0;m-=p}return!1})}})(r,()=>{let s=$e(r);if(!gn(s)||!s.isAttached())return!1;let a=s.getLanguage()||e.defaultLanguage,l=e.$tokenize(s,a),c=(function(m,g){let h=0;for(;h<m.length&&k_(m[h],g[h]);)h++;let p=m.length,_=g.length,C=Math.min(p,_)-h,y=0;for(;y<C;)if(y++,!k_(m[p-y],g[_-y])){y--;break}let N=h,S=p-y,E=g.slice(h,_-y);return{from:N,nodesForReplacement:E,to:S}})(s.getChildren(),l),{from:u,to:d,nodesForReplacement:f}=c;return!(u===d&&!f.length)&&(n.splice(u,d-u,f),!0)})},{onUpdate:()=>{pd.delete(o)},skipTransforms:!0}))}function k_(n,t){return We(n)&&We(t)&&n.__text===t.__text&&n.__highlightType===t.__highlightType||ht(n)&&ht(t)||Pe(n)&&Pe(t)}function ro(n){if(!M(n))return!1;let t=n.anchor.getNode(),e=gn(t)?t:t.getParent(),r=n.focus.getNode(),o=gn(r)?r:r.getParent();return gn(e)&&e.is(o)}function W_(n){let t=n.getNodes(),e=[];if(t.length===1&&gn(t[0]))return e;let r=[];for(let o=0;o<t.length;o++){let i=t[o];We(i)||ht(i)||Pe(i)||Za(169),Pe(i)?r.length>0&&(e.push(r),r=[]):r.push(i)}if(r.length>0){let o=n.isBackward()?n.anchor:n.focus,i=cn(r[0].getKey(),0,"text");o.is(i)||e.push(r)}return e}function R_(n){let t=w();if(!M(t)||!ro(t))return!1;let e=W_(t),r=e.length;if(r===0&&t.isCollapsed())return n===pt&&t.insertNodes([Ht()]),!0;if(r===0&&n===pt&&t.getTextContent()===`
`){let o=Ht(),i=ln(),s=t.isBackward()?"previous":"next";return t.insertNodes([o,i]),Yi(au(Wi(cu(o,"next",0),un(ft(i,"next"))),s)),!0}for(let o=0;o<r;o++){let i=e[o];if(i.length>0){let s=i[0];if(o===0&&(s=Xn(s)),n===pt){let a=Ht();if(s.insertBefore(a),o===0){let l=t.isBackward()?"focus":"anchor",c=cn(s.getKey(),0,"text");t[l].is(c)&&t[l].set(a.getKey(),0,"text")}}else ht(s)&&s.remove()}}return!0}function I_(n,t){let e=w();if(!M(e))return!1;let{anchor:r,focus:o}=e,i=r.offset,s=o.offset,a=r.getNode(),l=o.getNode(),c=n===Xt;if(!ro(e)||!We(a)&&!ht(a)||!We(l)&&!ht(l))return!1;if(!t.altKey){if(e.isCollapsed()){let _=a.getParentOrThrow();if(c&&i===0&&a.getPreviousSibling()===null){if(_.getPreviousSibling()===null)return _.selectPrevious(),t.preventDefault(),!0}else if(!c&&i===a.getTextContentSize()&&a.getNextSibling()===null&&_.getNextSibling()===null)return _.selectNext(),t.preventDefault(),!0}return!1}let u,d;if(a.isBefore(l)?(u=Xn(a),d=Ar(l)):(u=Xn(l),d=Ar(a)),u==null||d==null)return!1;let f=u.getNodesBetween(d);for(let _=0;_<f.length;_++){let C=f[_];if(!We(C)&&!ht(C)&&!Pe(C))return!1}t.preventDefault(),t.stopPropagation();let m=c?u.getPreviousSibling():d.getNextSibling();if(!Pe(m))return!0;let g=c?m.getPreviousSibling():m.getNextSibling();if(g==null)return!0;let h=We(g)||ht(g)||Pe(g)?c?Xn(g):Ar(g):null,p=h??g;return m.remove(),f.forEach(_=>_.remove()),n===Xt?(f.forEach(_=>p.insertBefore(_)),p.insertBefore(m)):(p.insertAfter(m),p=m,f.forEach(_=>{p.insertAfter(_),p=_})),e.setTextNodeRange(a,i,l,s),!0}function F_(n,t){let e=w();if(!M(e))return!1;let{anchor:r,focus:o}=e,i=r.getNode(),s=o.getNode(),a=n===Vi;if(!ro(e)||!We(i)&&!ht(i)||!We(s)&&!ht(s))return!1;let l=s;if(B_(l)==="rtl"?!a:a){let c=yd(l,o.offset);if(c!==null){let{node:u,offset:d}=c;Pe(u)?u.selectNext(0,0):e.setTextNodeRange(u,d,u,d)}else l.getParentOrThrow().selectStart()}else xd(l).select();return t.preventDefault(),t.stopPropagation(),!0}function F0(n,t){if(!n.hasNodes([Vn,Or]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");t==null&&(t=z_);let e=[];return n._headless!==!0&&e.push(n.registerMutationListener(Vn,r=>{n.getEditorState().read(()=>{for(let[o,i]of r)if(i!=="destroyed"){let s=$e(o);s!==null&&I0(s,n)}})},{skipInitialization:!1})),e.push(n.registerNodeTransform(Vn,r=>U_(r,n,t)),n.registerNodeTransform(Ye,r=>L_(r,n,t)),n.registerNodeTransform(Or,r=>L_(r,n,t)),n.registerCommand(Jn,r=>{let o=(function(i){let s=w();if(!M(s)||!ro(s))return null;let a=i?Ot:pt,l=i?Ot:yr,c=s.anchor,u=s.focus;if(c.is(u))return l;let d=W_(s);if(d.length!==1)return a;let f=d[0],m,g;f.length===0&&Za(285),s.isBackward()?(m=u,g=c):(m=c,g=u);let h=Xn(f[0]),p=Ar(f[0]),_=cn(h.getKey(),0,"text"),C=cn(p.getKey(),p.getTextContentSize(),"text");return m.isBefore(_)||C.isBefore(g)?a:_.isBefore(m)||g.isBefore(C)?l:a})(r.shiftKey);return o!==null&&(r.preventDefault(),n.dispatchCommand(o,void 0),!0)},oe),n.registerCommand(yr,()=>!!ro(w())&&(Wn([Ht()]),!0),oe),n.registerCommand(pt,r=>R_(pt),oe),n.registerCommand(Ot,r=>R_(Ot),oe),n.registerCommand(Xt,r=>{let o=w();if(!M(o))return!1;let{anchor:i}=o,s=i.getNode();return!!ro(o)&&(o.isCollapsed()&&i.offset===0&&s.getPreviousSibling()===null&&gn(s.getParentOrThrow())?(r.preventDefault(),!0):I_(Xt,r))},oe),n.registerCommand(yn,r=>{let o=w();if(!M(o))return!1;let{anchor:i}=o,s=i.getNode();return!!ro(o)&&(o.isCollapsed()&&i.offset===s.getTextContentSize()&&s.getNextSibling()===null&&gn(s.getParentOrThrow())?(r.preventDefault(),!0):I_(yn,r))},oe),n.registerCommand(Vi,r=>F_(Vi,r),oe),n.registerCommand(Na,r=>F_(Na,r),oe)),Se(...e)}var $0=Xn,P0=Ar,B0=xd,K0=yd;var Ae=Nd,FM=Ae.$createCodeHighlightNode,Sd=Ae.$createCodeNode,$M=Ae.$getCodeLineDirection,PM=Ae.$getEndOfCodeInLine,BM=Ae.$getFirstCodeNodeOfLine,KM=Ae.$getLastCodeNodeOfLine,HM=Ae.$getStartOfCodeInLine,zM=Ae.$isCodeHighlightNode,G_=Ae.$isCodeNode,UM=Ae.CODE_LANGUAGE_FRIENDLY_NAME_MAP,Y_=Ae.CODE_LANGUAGE_MAP,WM=Ae.CodeExtension,GM=Ae.CodeHighlightNode,j_=Ae.CodeNode,YM=Ae.DEFAULT_CODE_LANGUAGE,jM=Ae.PrismTokenizer,JM=Ae.getCodeLanguageOptions,VM=Ae.getCodeLanguages,XM=Ae.getCodeThemeOptions,qM=Ae.getDefaultCodeLanguage,ZM=Ae.getEndOfCodeInLine,QM=Ae.getFirstCodeNodeOfLine,ew=Ae.getLanguageFriendlyName,tw=Ae.getLastCodeNodeOfLine,nw=Ae.getStartOfCodeInLine,rw=Ae.normalizeCodeLang,ow=Ae.normalizeCodeLanguage,iw=Ae.registerCodeHighlighting;var vd={};Tt(vd,{$createAutoLinkNode:()=>tl,$createLinkNode:()=>oo,$isAutoLinkNode:()=>Tn,$isLinkNode:()=>Sn,$toggleLink:()=>ds,AutoLinkExtension:()=>X0,AutoLinkNode:()=>fs,ClickableLinkExtension:()=>W0,LinkExtension:()=>Od,LinkNode:()=>io,TOGGLE_LINK_COMMAND:()=>nl,createLinkMatcherWithRegExp:()=>G0,formatUrl:()=>bd,registerAutoLink:()=>nC,registerClickableLink:()=>X_,registerLink:()=>V_,toggleLink:()=>q0});var H0=new Set(["http:","https:","mailto:","sms:","tel:"]),io=class n extends ut{constructor(e="",r={},o){super(o);O(this,"__url");O(this,"__target");O(this,"__rel");O(this,"__title");let{target:i=null,rel:s=null,title:a=null}=r;this.__url=e,this.__target=i,this.__rel=s,this.__title=a}static getType(){return"link"}static clone(e){return new n(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}createDOM(e){let r=document.createElement("a");return this.updateLinkDOM(null,r,e),ce(r,e.theme.link),r}updateLinkDOM(e,r,o){if(Fa(r)){e&&e.__url===this.__url||(r.href=this.sanitizeUrl(this.__url));for(let i of["target","rel","title"]){let s=`__${i}`,a=this[s];e&&e[s]===a||(a?r[i]=a:r.removeAttribute(i))}}}updateDOM(e,r,o){return this.updateLinkDOM(e,r,o),!1}static importDOM(){return{a:e=>({conversion:z0,priority:1})}}static importJSON(e){return oo().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){e=bd(e);try{let r=new URL(bd(e));if(!H0.has(r.protocol))return"about:blank"}catch{return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){let r=this.getWritable();return r.__url=e,r}getTarget(){return this.getLatest().__target}setTarget(e){let r=this.getWritable();return r.__target=e,r}getRel(){return this.getLatest().__rel}setRel(e){let r=this.getWritable();return r.__rel=e,r}getTitle(){return this.getLatest().__title}setTitle(e){let r=this.getWritable();return r.__title=e,r}insertNewAfter(e,r=!0){let o=oo(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(o,r),o}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,r,o){if(!M(r))return!1;let i=r.anchor.getNode(),s=r.focus.getNode();return this.isParentOf(i)&&this.isParentOf(s)&&r.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function z0(n){let t=null;if(Fa(n)){let e=n.textContent;(e!==null&&e!==""||n.children.length>0)&&(t=oo(n.getAttribute("href")||"",{rel:n.getAttribute("rel"),target:n.getAttribute("target"),title:n.getAttribute("title")}))}return{node:t}}function oo(n="",t){return ke(new io(n,t))}function Sn(n){return n instanceof io}var fs=class n extends io{constructor(e="",r={},o){super(e,r,o);O(this,"__isUnlinked");this.__isUnlinked=r.isUnlinked!==void 0&&r.isUnlinked!==null&&r.isUnlinked}static getType(){return"autolink"}static clone(e){return new n(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){let r=this.getWritable();return r.__isUnlinked=e,r}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,r,o){return super.updateDOM(e,r,o)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return tl().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e,r=!0){let o=this.getParentOrThrow().insertNewAfter(e,r);if(P(o)){let i=tl(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return o.append(i),i}return null}};function tl(n="",t){return ke(new fs(n,t))}function Tn(n){return n instanceof fs}var nl=_e("TOGGLE_LINK_COMMAND");function J_(n,t){if(n.type==="element"){let e=n.getNode();return P(e)||(function(r,...o){let i=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",r);for(let a of o)s.append("v",a);throw i.search=s.toString(),Error(`Minified Lexical error #${r}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(252),e.getChildren()[n.offset+t]||null}return null}function ds(n,t={}){let e;if(n&&typeof n=="object"){let{url:u,...d}=n;e=u,t={...d,...t}}else e=n;let{target:r,title:o}=t,i=t.rel===void 0?"noreferrer":t.rel,s=w();if(s===null||!M(s)&&!gt(s))return;if(gt(s)){let u=s.getNodes();return u.length===0?void 0:void u.forEach(d=>{if(e===null){let f=Y(d,m=>!Tn(m)&&Sn(m));f&&(f.insertBefore(d),f.getChildren().length===0&&f.remove())}else{let f=Y(d,m=>!Tn(m)&&Sn(m));if(f)f.setURL(e),r!==void 0&&f.setTarget(r),i!==void 0&&f.setRel(i);else{let m=oo(e,{rel:i,target:r});d.insertBefore(m),m.append(d)}}})}let a=s.extract();if(e===null){let u=new Set;return void a.forEach(d=>{let f=d.getParent();if(Sn(f)&&!Tn(f)){let m=f.getKey();if(u.has(m))return;(function(g,h){let p=new Set(h.filter(x=>g.isParentOf(x)).map(x=>x.getKey())),_=g.getChildren(),C=_.filter(x=>p.has(x.getKey()));if(C.length===_.length)return _.forEach(x=>g.insertBefore(x)),void g.remove();let y=_.findIndex(x=>p.has(x.getKey())),N=_.findLastIndex(x=>p.has(x.getKey())),S=y===0,E=N===_.length-1;if(S)C.forEach(x=>g.insertBefore(x));else if(E)for(let x=C.length-1;x>=0;x--)g.insertAfter(C[x]);else{for(let A=C.length-1;A>=0;A--)g.insertAfter(C[A]);let x=_.slice(N+1);if(x.length>0){let A=oo(g.getURL(),{rel:g.getRel(),target:g.getTarget(),title:g.getTitle()});C[C.length-1].insertAfter(A),x.forEach(v=>A.append(v))}}})(f,a),u.add(m)}})}let l=new Set,c=u=>{l.has(u.getKey())||(l.add(u.getKey()),u.setURL(e),r!==void 0&&u.setTarget(r),i!==void 0&&u.setRel(i),o!==void 0&&u.setTitle(o))};if(a.length===1){let u=a[0],d=Y(u,Sn);if(d!==null)return c(d)}(function(u){let d=w();if(!M(d))return u();let f=jn(d),m=f.isBackward(),g=J_(f.anchor,m?-1:0),h=J_(f.focus,m?0:-1),p=u();if(g||h){let _=w();if(M(_)){let C=_.clone();if(g){let y=g.getParent();y&&C.anchor.set(y.getKey(),g.getIndexWithinParent()+(m?1:0),"element")}if(h){let y=h.getParent();y&&C.focus.set(y.getKey(),h.getIndexWithinParent()+(m?0:1),"element")}Ge(jn(C))}}})(()=>{let u=null;for(let d of a){if(!d.isAttached())continue;let f=Y(d,Sn);if(f){c(f);continue}if(P(d)){if(!d.isInline())continue;if(Sn(d)){if(!(Tn(d)||u!==null&&u.getParentOrThrow().isParentOf(d))){c(d),u=d;continue}for(let g of d.getChildren())d.insertBefore(g);d.remove();continue}}let m=d.getPreviousSibling();Sn(m)&&m.is(u)?m.append(d):(u=oo(e,{rel:i,target:r,title:o}),d.insertAfter(u),u.append(d))}})}var U0=/^\+?[0-9\s()-]{5,}$/;function bd(n){return n.match(/^[a-z][a-z0-9+.-]*:/i)||n.match(/^[/#.]/)?n:n.includes("@")?`mailto:${n}`:U0.test(n)?`tel:${n}`:`https://${n}`}function V_(n,t){return Se(Mt(()=>n.registerCommand(nl,e=>{let r=t.validateUrl.peek(),o=t.attributes.peek();if(e===null)return ds(null),!0;if(typeof e=="string")return!(r!==void 0&&!r(e))&&(ds(e,o),!0);{let{url:i,target:s,rel:a,title:l}=e;return ds(i,{...o,rel:a,target:s,title:l}),!0}},oe)),Mt(()=>{let e=t.validateUrl.value;if(!e)return;let r=t.attributes.value;return n.registerCommand(Sa,o=>{let i=w();if(!M(i)||i.isCollapsed()||!Wt(o,ClipboardEvent)||o.clipboardData===null)return!1;let s=o.clipboardData.getData("text");return!!e(s)&&!i.getNodes().some(a=>P(a))&&(n.dispatchCommand(nl,{...r,url:s}),o.preventDefault(),!0)},oe)}))}var Od=me({build:(n,t,e)=>fn(t),config:{attributes:void 0,validateUrl:void 0},mergeConfig(n,t){let e=Nr(n,t);return n.attributes&&(e.attributes=Nr(n.attributes,e.attributes)),e},name:"@lexical/link/Link",nodes:()=>[io],register:(n,t,e)=>V_(n,e.getOutput())});function X_(n,t,e={}){let r=i=>{let s=i.target;if(!Ft(s))return;let a=Uo(s);if(a===null)return;let l=null,c=null;if(a.update(()=>{let f=ze(s);if(f!==null){let m=Y(f,P);if(!t.disabled.peek())if(Sn(m))l=m.sanitizeUrl(m.getURL()),c=m.getTarget();else{let g=(function(h,p){let _=h;for(;_!=null;){if(p(_))return _;_=_.parentNode}return null})(s,Fa);g!==null&&(l=g.href,c=g.target)}}}),l===null||l==="")return;let u=n.getEditorState().read(w);if(M(u)&&!u.isCollapsed())return void i.preventDefault();let d=i.type==="auxclick"&&i.button===1;window.open(l,t.newTab.peek()||d||i.metaKey||i.ctrlKey||c==="_blank"?"_blank":"_self"),i.preventDefault()},o=i=>{i.button===1&&r(i)};return n.registerRootListener((i,s)=>{s!==null&&(s.removeEventListener("click",r),s.removeEventListener("mouseup",o)),i!==null&&(i.addEventListener("click",r,e),i.addEventListener("mouseup",o,e))})}var W0=me({build:(n,t,e)=>fn(t),config:mt({disabled:!1,newTab:!1}),dependencies:[Od],name:"@lexical/link/ClickableLink",register:(n,t,e)=>X_(n,e.getOutput())});function G0(n,t=e=>e){return e=>{let r=n.exec(e);return r===null?null:{index:r.index,length:r[0].length,text:r[0],url:t(r[0])}}}function q_(n,t){for(let e=0;e<t.length;e++){let r=t[e](n);if(r)return r}return null}var Y0=/[.,;\s]/;function rl(n){return Y0.test(n)}function Z_(n){return rl(n[n.length-1])}function Ad(n){return rl(n[0])}function Q_(n){let t=n.getPreviousSibling();return P(t)&&(t=t.getLastDescendant()),t===null||Pe(t)||U(t)&&Z_(t.getTextContent())}function eC(n){let t=n.getNextSibling();return P(t)&&(t=t.getFirstDescendant()),t===null||Pe(t)||U(t)&&Ad(t.getTextContent())}function j0(n,t,e,r){return(n>0?rl(e[n-1]):Q_(r[0]))?t<e.length?rl(e[t]):eC(r[r.length-1]):!1}function J0(n,t,e){let r=[],o=[],i=[],s=0,a=0,l=[...n];for(;l.length>0;){let c=l[0],u=c.getTextContent().length,d=a;a+u<=t?(r.push(c),s+=u):d>=e?i.push(c):o.push(c),a+=u,l.shift()}return[s,r,o,i]}function V0(n,t,e,r){let o=tl(r.url,r.attributes);if(n.length===1){let i,s=n[0];t===0?[i,s]=s.splitText(e):[,i,s]=s.splitText(t,e);let a=Ze(r.text);return a.setFormat(i.getFormat()),a.setDetail(i.getDetail()),a.setStyle(i.getStyle()),o.append(a),i.replace(o),s}if(n.length>1){let i=n[0],s,a=i.getTextContent().length;t===0?s=i:[,s]=i.splitText(t);let l=[],c;for(let m=1;m<n.length;m++){let g=n[m],h=g.getTextContent().length,p=a;if(p<e)if(a+h<=e)l.push(g);else{let[_,C]=g.splitText(e-p);l.push(_),c=C}a+=h}let u=w(),d=u?u.getNodes().find(U):void 0,f=Ze(s.getTextContent());return f.setFormat(s.getFormat()),f.setDetail(s.getDetail()),f.setStyle(s.getStyle()),o.append(f,...l),d&&d===s&&(M(u)?f.select(u.anchor.offset,u.focus.offset):gt(u)&&f.select(0,f.getTextContent().length)),s.replace(o),c}}function Td(n,t,e){let r=n.getChildren(),o=r.length;for(let l=0;l<o;l++){let c=r[l];if(!U(c)||!c.isSimpleText())return el(n),void e(null,n.getURL())}let i=n.getTextContent(),s=q_(i,t);if(s===null||s.text!==i||!Q_(n)||!eC(n))return el(n),void e(null,n.getURL());let a=n.getURL();if(a!==s.url&&(n.setURL(s.url),e(s.url,a)),s.attributes){let l=n.getRel();l!==s.attributes.rel&&(n.setRel(s.attributes.rel||null),e(s.attributes.rel||null,l));let c=n.getTarget();c!==s.attributes.target&&(n.setTarget(s.attributes.target||null),e(s.attributes.target||null,c))}}function el(n){let t=n.getChildren();for(let e=t.length-1;e>=0;e--)n.insertAfter(t[e]);return n.remove(),t.map(e=>e.getLatest())}var tC={changeHandlers:[],matchers:[]};function nC(n,t=tC){let{matchers:e,changeHandlers:r}=t,o=(i,s)=>{for(let a of r)a(i,s)};return Se(n.registerNodeTransform(Ye,i=>{let s=i.getParentOrThrow(),a=i.getPreviousSibling();if(Tn(s)&&!s.getIsUnlinked())Td(s,e,o);else if(!Sn(s)){if(i.isSimpleText()&&(Ad(i.getTextContent())||!Tn(a))){let l=(function(c){let u=[c],d=c.getNextSibling();for(;d!==null&&U(d)&&d.isSimpleText()&&(u.push(d),!/[\s]/.test(d.getTextContent()));)d=d.getNextSibling();return u})(i);(function(c,u,d){let f=[...c],m=f.map(_=>_.getTextContent()).join(""),g,h=m,p=0;for(;(g=q_(h,u))&&g!==null;){let _=g.index,C=_+g.length;if(j0(p+_,p+C,m,f)){let[y,,N,S]=J0(f,p+_,p+C),E=V0(N,p+_-y,p+C-y,g);f=E?[E,...S]:S,d(g.url,null),p=0}else p+=C;h=h.substring(C)}})(l,e,o)}(function(l,c,u){let d=l.getPreviousSibling(),f=l.getNextSibling(),m=l.getTextContent();var g;!Tn(d)||d.getIsUnlinked()||Ad(m)&&(g=m,!(d.isEmailURI()?/^\.[a-zA-Z]{2,}/.test(g):/^\.[a-zA-Z0-9]{1,}/.test(g)))||(d.append(l),Td(d,c,u),u(null,d.getURL())),!Tn(f)||f.getIsUnlinked()||Z_(m)||(el(f),Td(f,c,u),u(null,f.getURL()))})(i,e,o)}}),n.registerCommand(nl,i=>{let s=w();return i!==null||!M(s)||s.extract().forEach(a=>{let l=a.getParent();Tn(l)&&(l.setIsUnlinked(!l.getIsUnlinked()),l.markDirty())}),!1},oe))}var X0=me({config:tC,dependencies:[Od],mergeConfig(n,t){let e=Nr(n,t);for(let r of["matchers","changeHandlers"]){let o=t[r];Array.isArray(o)&&(e[r]=[...n[r],...o])}return e},name:"@lexical/link/AutoLink",register:nC}),q0=ds;var _t=vd,dw=_t.$createAutoLinkNode,fw=_t.$createLinkNode,gw=_t.$isAutoLinkNode,Zt=_t.$isLinkNode,Md=_t.$toggleLink,hw=_t.AutoLinkExtension,rC=_t.AutoLinkNode,pw=_t.ClickableLinkExtension,mw=_t.LinkExtension,oC=_t.LinkNode,vr=_t.TOGGLE_LINK_COMMAND,_w=_t.createLinkMatcherWithRegExp,Cw=_t.formatUrl,yw=_t.registerAutoLink,xw=_t.registerClickableLink,Ew=_t.registerLink,Nw=_t.toggleLink;var Rd={};Tt(Rd,{$createListItemNode:()=>Gt,$createListNode:()=>$t,$getListDepth:()=>ol,$handleListInsertParagraph:()=>mC,$insertList:()=>gs,$isListItemNode:()=>le,$isListNode:()=>ie,$removeList:()=>kd,CheckListExtension:()=>iT,INSERT_CHECK_LIST_COMMAND:()=>_C,INSERT_ORDERED_LIST_COMMAND:()=>NC,INSERT_UNORDERED_LIST_COMMAND:()=>EC,ListExtension:()=>AC,ListItemNode:()=>wr,ListNode:()=>ao,REMOVE_LIST_COMMAND:()=>SC,UPDATE_LIST_START_COMMAND:()=>xC,insertList:()=>rT,registerCheckList:()=>CC,registerList:()=>TC,registerListStrictIndentTransform:()=>bC,removeList:()=>oT});function Mr(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function ol(n){let t=1,e=n.getParent();for(;e!=null;){if(le(e)){let r=e.getParent();if(ie(r)){t++,e=r.getParent();continue}Mr(40)}return t}return t}function wd(n){let t=n.getParent();ie(t)||Mr(40);let e=t;for(;e!==null;)e=e.getParent(),ie(e)&&(t=e);return t}function gC(n){let t=[],e=n.getChildren().filter(le);for(let r=0;r<e.length;r++){let o=e[r],i=o.getFirstChild();ie(i)?t=t.concat(gC(i)):t.push(o)}return t}function bn(n){return le(n)&&ie(n.getFirstChild())}function iC(n){return Gt().append(n)}function hC(n,t){return le(n)&&(t.length===0||t.length===1&&n.is(t[0])&&n.getChildrenSize()===0)}function gs(n){let t=w();if(t!==null){let e=t.getNodes();if(M(t)){let o=t.getStartEndPoints();o===null&&Mr(143);let[i]=o,s=i.getNode(),a=s.getParent();if(Et(s)){let l=s.getFirstChild();if(l)e=l.selectStart().getNodes();else{let c=Q();s.append(c),e=c.select().getNodes()}}else if(hC(s,e)){let l=$t(n);if(Et(a)){s.replace(l);let c=Gt();P(s)&&(c.setFormat(s.getFormatType()),c.setIndent(s.getIndent())),l.append(c)}else if(le(s)){let c=s.getParentOrThrow();so(l,c.getChildren()),c.replace(l)}return}}let r=new Set;for(let o=0;o<e.length;o++){let i=e[o];if(P(i)&&i.isEmpty()&&!le(i)&&!r.has(i.getKey())){sC(i,n);continue}let s=Gi(i)?i.getParent():le(i)&&i.isEmpty()?i:null;for(;s!=null;){let a=s.getKey();if(ie(s)){if(!r.has(a)){let l=$t(n);so(l,s.getChildren()),s.replace(l),r.add(a)}break}{let l=s.getParent();if(Et(l)&&!r.has(a)){r.add(a),sC(s,n);break}s=l}}}}}function so(n,t){n.splice(n.getChildrenSize(),0,t)}function sC(n,t){if(ie(n))return n;let e=n.getPreviousSibling(),r=n.getNextSibling(),o=Gt(),i;if(so(o,n.getChildren()),ie(e)&&t===e.getListType())e.append(o),ie(r)&&t===r.getListType()&&(so(e,r.getChildren()),r.remove()),i=e;else if(ie(r)&&t===r.getListType())r.getFirstChildOrThrow().insertBefore(o),i=r;else{let s=$t(t);s.append(o),n.replace(s),i=s}return o.setFormat(n.getFormatType()),o.setIndent(n.getIndent()),n.remove(),i}function Ld(n,t){let e=n.getLastChild(),r=t.getFirstChild();e&&r&&bn(e)&&bn(r)&&(Ld(e.getFirstChild(),r.getFirstChild()),r.remove());let o=t.getChildren();o.length>0&&n.append(...o),t.remove()}function kd(){let n=w();if(M(n)){let t=new Set,e=n.getNodes(),r=n.anchor.getNode();if(hC(r,e))t.add(wd(r));else for(let o=0;o<e.length;o++){let i=e[o];if(Gi(i)){let s=Ra(i,wr);s!=null&&t.add(wd(s))}}for(let o of t){let i=o,s=gC(o);for(let a of s){let l=Q().setTextStyle(n.style).setTextFormat(n.format);so(l,a.getChildren()),i.insertAfter(l),i=l,a.__key===n.anchor.key&&_r(n.anchor,un(zt(l,"next"))),a.__key===n.focus.key&&_r(n.focus,un(zt(l,"next"))),a.remove()}o.remove()}}}function pC(n){let t=n.getListType()!=="check",e=n.getStart();for(let r of n.getChildren())le(r)&&(r.getValue()!==e&&r.setValue(e),t&&r.getLatest().__checked!=null&&r.setChecked(void 0),ie(r.getFirstChild())||e++)}function Z0(n){let t=new Set;if(bn(n)||t.has(n.getKey()))return;let e=n.getParent(),r=n.getNextSibling(),o=n.getPreviousSibling();if(bn(r)&&bn(o)){let i=o.getFirstChild();if(ie(i)){i.append(n);let s=r.getFirstChild();ie(s)&&(so(i,s.getChildren()),r.remove(),t.add(r.getKey()))}}else if(bn(r)){let i=r.getFirstChild();if(ie(i)){let s=i.getFirstChild();s!==null&&s.insertBefore(n)}}else if(bn(o)){let i=o.getFirstChild();ie(i)&&i.append(n)}else if(ie(e)){let i=Gt().setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle()),s=$t(e.getListType()).setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle());i.append(s),s.append(n),o?o.insertAfter(i):r?r.insertBefore(i):e.append(i)}}function Q0(n){if(bn(n))return;let t=n.getParent(),e=t?t.getParent():void 0;if(ie(e?e.getParent():void 0)&&le(e)&&ie(t)){let r=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(n.is(r))e.insertBefore(n),t.isEmpty()&&e.remove();else if(n.is(o))e.insertAfter(n),t.isEmpty()&&e.remove();else{let i=t.getListType(),s=Gt(),a=$t(i);s.append(a),n.getPreviousSiblings().forEach(u=>a.append(u));let l=Gt(),c=$t(i);l.append(c),so(c,n.getNextSiblings()),e.insertBefore(s),e.insertAfter(l),e.replace(n)}}}function mC(){let n=w();if(!M(n)||!n.isCollapsed())return!1;let t=n.anchor.getNode();if(!le(t)||t.getChildrenSize()!==0)return!1;let e=wd(t),r=t.getParent();ie(r)||Mr(40);let o=r.getParent(),i;if(Et(o))i=Q(),e.insertAfter(i);else{if(!le(o))return!1;i=Gt(),o.insertAfter(i)}i.setTextStyle(n.style).setTextFormat(n.format).select();let s=t.getNextSiblings();if(s.length>0){let a=$t(r.getListType());if(le(i)){let l=Gt();l.append(a),i.insertAfter(l)}else i.insertAfter(a);a.append(...s)}return(function(a){let l=a;for(;l.getNextSibling()==null&&l.getPreviousSibling()==null;){let c=l.getParent();if(c==null||!le(c)&&!ie(c))break;l=c}l.remove()})(t),!0}function il(...n){let t=[];for(let e of n)if(e&&typeof e=="string")for(let[r]of e.matchAll(/\S+/g))t.push(r);return t}var wr=class extends ut{constructor(e=1,r=void 0,o){super(o);O(this,"__value");O(this,"__checked");this.__value=e===void 0?1:e,this.__checked=r}$config(){return this.config("listitem",{$transform:e=>{if(e.__checked==null)return;let r=e.getParent();ie(r)&&r.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)},extends:ut,importDOM:gu({li:()=>({conversion:eT,priority:0})})})}afterCloneFrom(e){super.afterCloneFrom(e),this.__value=e.__value,this.__checked=e.__checked}createDOM(e){let r=document.createElement("li");return this.updateListItemDOM(null,r,e),r}updateListItemDOM(e,r,o){(function(a,l,c){let u=l.getParent();!ie(u)||u.getListType()!=="check"||ie(l.getFirstChild())?(a.removeAttribute("role"),a.removeAttribute("tabIndex"),a.removeAttribute("aria-checked")):(a.setAttribute("role","checkbox"),a.setAttribute("tabIndex","-1"),c&&l.__checked===c.__checked||a.setAttribute("aria-checked",l.getChecked()?"true":"false"))})(r,this,e),r.value=this.__value,(function(a,l,c){let u=[],d=[],f=l.list,m=f?f.listitem:void 0,g;if(f&&f.nested&&(g=f.nested.listitem),m!==void 0&&u.push(...il(m)),f){let h=c.getParent(),p=ie(h)&&h.getListType()==="check",_=c.getChecked();p&&!_||d.push(f.listitemUnchecked),p&&_||d.push(f.listitemChecked),p&&u.push(_?f.listitemChecked:f.listitemUnchecked)}if(g!==void 0){let h=il(g);c.getChildren().some(p=>ie(p))?u.push(...h):d.push(...h)}d.length>0&&Nt(a,...d),u.length>0&&ce(a,...u)})(r,o.theme,this);let i=e?e.__style:"",s=this.__style;i!==s&&(s===""?r.removeAttribute("style"):r.style.cssText=s),(function(a,l,c){let u=vu(l.__textStyle);for(let d in u)a.style.setProperty(`--listitem-marker-${d}`,u[d]);if(c)for(let d in vu(c.__textStyle))d in u||a.style.removeProperty(`--listitem-marker-${d}`)})(r,this,e)}updateDOM(e,r,o){let i=r;return this.updateListItemDOM(e,i,o),!1}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){let r=this.createDOM(e._config),o=this.getFormatType();o&&(r.style.textAlign=o);let i=this.getDirection();return i&&(r.dir=i),{element:r}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let r=0;r<e.length;r++){let o=e[r];if(P(o)&&this.canMergeWith(o)){let i=o.getChildren();this.append(...i),o.remove()}else super.append(o)}return this}replace(e,r){if(le(e))return super.replace(e);this.setIndent(0);let o=this.getParentOrThrow();if(!ie(o))return e;if(o.__first===this.getKey())o.insertBefore(e);else if(o.__last===this.getKey())o.insertAfter(e);else{let i=$t(o.getListType()),s=this.getNextSibling();for(;s;){let a=s;s=s.getNextSibling(),i.append(a)}o.insertAfter(e),e.insertAfter(i)}return r&&(P(e)||Mr(139),this.getChildren().forEach(i=>{e.append(i)})),this.remove(),o.getChildrenSize()===0&&o.remove(),e}insertAfter(e,r=!0){let o=this.getParentOrThrow();if(ie(o)||Mr(39),le(e))return super.insertAfter(e,r);let i=this.getNextSiblings();if(o.insertAfter(e,r),i.length!==0){let s=$t(o.getListType());i.forEach(a=>s.append(a)),e.insertAfter(s,r)}return e}remove(e){let r=this.getPreviousSibling(),o=this.getNextSibling();super.remove(e),r&&o&&bn(r)&&bn(o)&&(Ld(r.getFirstChild(),o.getFirstChild()),o.remove())}insertNewAfter(e,r=!0){let o=Gt().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(o,r),o}collapseAtStart(e){let r=Q();this.getChildren().forEach(a=>r.append(a));let o=this.getParentOrThrow(),i=o.getParentOrThrow(),s=le(i);if(o.getChildrenSize()===1)if(s)o.remove(),i.select();else{o.insertBefore(r),o.remove();let a=e.anchor,l=e.focus,c=r.getKey();a.type==="element"&&a.getNode().is(this)&&a.set(c,a.offset,"element"),l.type==="element"&&l.getNode().is(this)&&l.set(c,l.offset,"element")}else o.insertBefore(r),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){let r=this.getWritable();return r.__value=e,r}getChecked(){let e=this.getLatest(),r,o=this.getParent();return ie(o)&&(r=o.getListType()),r==="check"?!!e.__checked:void 0}setChecked(e){let r=this.getWritable();return r.__checked=e,r}toggleChecked(){let e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){let e=this.getParent();if(e===null||!this.isAttached())return this.getLatest().__indent;let r=e.getParentOrThrow(),o=0;for(;le(r);)r=r.getParentOrThrow().getParentOrThrow(),o++;return o}setIndent(e){typeof e!="number"&&Mr(117),(e=Math.floor(e))>=0||Mr(199);let r=this.getIndent();for(;r!==e;)r<e?(Z0(this),r++):(Q0(this),r--);return this}canInsertAfter(e){return le(e)}canReplaceWith(e){return le(e)}canMergeWith(e){return le(e)||mr(e)}extractWithChild(e,r){if(!M(r))return!1;let o=r.anchor.getNode(),i=r.focus.getNode();return this.isParentOf(o)&&this.isParentOf(i)&&this.getTextContent().length===r.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return $t("bullet")}canMergeWhenEmpty(){return!0}};function eT(n){if(n.classList.contains("task-list-item")){for(let e of n.children)if(e.tagName==="INPUT")return aC(e)}if(n.classList.contains("joplin-checkbox")){for(let e of n.children)if(e.classList.contains("checkbox-wrapper")&&e.children.length>0&&e.children[0].tagName==="INPUT")return aC(e.children[0])}let t=n.getAttribute("aria-checked");return{node:Gt(t==="true"||t!=="false"&&void 0)}}function aC(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:Gt(n.hasAttribute("checked"))}}function Gt(n){return ke(new wr(void 0,n))}function le(n){return n instanceof wr}var ao=class extends ut{constructor(e="number",r=1,o){super(o);O(this,"__tag");O(this,"__start");O(this,"__listType");let i=nT[e]||e;this.__listType=i,this.__tag=i==="number"?"ol":"ul",this.__start=r}$config(){return this.config("list",{$transform:e=>{(function(r){let o=r.getNextSibling();ie(o)&&r.getListType()===o.getListType()&&Ld(r,o)})(e),pC(e)},extends:ut,importDOM:gu({ol:()=>({conversion:cC,priority:0}),ul:()=>({conversion:cC,priority:0})})})}afterCloneFrom(e){super.afterCloneFrom(e),this.__listType=e.__listType,this.__tag=e.__tag,this.__start=e.__start}getTag(){return this.getLatest().__tag}setListType(e){let r=this.getWritable();return r.__listType=e,r.__tag=e==="number"?"ol":"ul",r}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(e){let r=this.getWritable();return r.__start=e,r}createDOM(e,r){let o=this.__tag,i=document.createElement(o);return this.__start!==1&&i.setAttribute("start",String(this.__start)),i.__lexicalListType=this.__listType,lC(i,e.theme,this),i}updateDOM(e,r,o){return e.__tag!==this.__tag||e.__listType!==this.__listType||(lC(r,o.theme,this),!1)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){let r=this.createDOM(e._config,e);return je(r)&&(this.__start!==1&&r.setAttribute("start",String(this.__start)),this.__listType==="check"&&r.setAttribute("__lexicalListType","check")),{element:r}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,r,o){let i=o;for(let s=0;s<o.length;s++){let a=o[s];le(a)||(i===o&&(i=[...o]),i[s]=Gt().append(!P(a)||ie(a)||a.isInline()?a:Ze(a.getTextContent())))}return super.splice(e,r,i)}extractWithChild(e){return le(e)}};function lC(n,t,e){let r=[],o=[],i=t.list;if(i!==void 0){let s=i[`${e.__tag}Depth`]||[],a=ol(e)-1,l=a%s.length,c=s[l],u=i[e.__tag],d,f=i.nested,m=i.checklist;if(f!==void 0&&f.list&&(d=f.list),u!==void 0&&r.push(u),m!==void 0&&e.__listType==="check"&&r.push(m),c!==void 0){r.push(...il(c));for(let g=0;g<s.length;g++)g!==l&&o.push(e.__tag+g)}if(d!==void 0){let g=il(d);a>1?r.push(...g):o.push(...g)}}o.length>0&&Nt(n,...o),r.length>0&&ce(n,...r)}function tT(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e];if(le(r)){t.push(r);let o=r.getChildren();o.length>1&&o.forEach(i=>{ie(i)&&t.push(iC(i))})}else t.push(iC(r))}return t}function cC(n){let t=n.nodeName.toLowerCase(),e=null;return t==="ol"?e=$t("number",n.start):t==="ul"&&(e=(function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list")||r.getAttribute("data-is-checklist")==="1")return!0;for(let o of r.childNodes)if(je(o)&&o.hasAttribute("aria-checked"))return!0;return!1})(n)?$t("check"):$t("bullet")),{after:tT,node:e}}var nT={ol:"number",ul:"bullet"};function $t(n="number",t=1){return ke(new ao(n,t))}function ie(n){return n instanceof ao}var _C=_e("INSERT_CHECK_LIST_COMMAND");function CC(n){return Se(n.registerCommand(_C,()=>(gs("check"),!0),oe),n.registerCommand(yn,t=>fC(t,n,!1),oe),n.registerCommand(Xt,t=>fC(t,n,!0),oe),n.registerCommand(xr,()=>{if(Dd()!=null){let t=n.getRootElement();return t?.focus(),!0}return!1},oe),n.registerCommand(Ea,t=>{let e=Dd();return!(e==null||!n.isEditable())&&(n.update(()=>{let r=ze(e);le(r)&&(t.preventDefault(),r.toggleChecked())}),!0)},oe),n.registerCommand(Ho,t=>n.getEditorState().read(()=>{let e=w();if(M(e)&&e.isCollapsed()){let{anchor:r}=e,o=r.type==="element";if(o||r.offset===0){let i=r.getNode(),s=Y(i,a=>P(a)&&!a.isInline());if(le(s)){let a=s.getParent();if(ie(a)&&a.getListType()==="check"&&(o||s.getFirstDescendant()===i)){let l=n.getElementByKey(s.__key);if(l!=null&&document.activeElement!==l)return l.focus(),t.preventDefault(),!0}}}}return!1}),oe),n.registerRootListener((t,e)=>{t!==null&&(t.addEventListener("click",uC),t.addEventListener("pointerdown",dC)),e!==null&&(e.removeEventListener("click",uC),e.removeEventListener("pointerdown",dC))}))}function yC(n,t){let e=n.target;if(!je(e))return;let r=e.firstChild;if(je(r)&&(r.tagName==="UL"||r.tagName==="OL"))return;let o=e.parentNode;if(!o||o.__lexicalListType!=="check")return;let i=e.getBoundingClientRect(),s=xm(e),a=n.clientX/s,l=window.getComputedStyle?window.getComputedStyle(e,"::before"):{width:"0px"},c=parseFloat(l.width),u=n.pointerType==="touch"?32:0;(e.dir==="rtl"?a<i.right+u&&a>i.right-c-u:a>i.left-u&&a<i.left+c+u)&&t()}function uC(n){yC(n,()=>{if(je(n.target)){let t=n.target,e=Uo(t);e!=null&&e.isEditable()&&e.update(()=>{let r=ze(t);le(r)&&(t.focus(),r.toggleChecked())})}})}function dC(n){yC(n,()=>{n.preventDefault()})}function Dd(){let n=document.activeElement;return je(n)&&n.tagName==="LI"&&n.parentNode!=null&&n.parentNode.__lexicalListType==="check"?n:null}function fC(n,t,e){let r=Dd();return r!=null&&t.update(()=>{let o=ze(r);if(!le(o))return;let i=(function(s,a){let l=a?s.getPreviousSibling():s.getNextSibling(),c=s;for(;l==null&&le(c);)c=c.getParentOrThrow().getParent(),c!=null&&(l=a?c.getPreviousSibling():c.getNextSibling());for(;le(l);){let u=a?l.getLastChild():l.getFirstChild();if(!ie(u))return l;l=a?u.getLastChild():u.getFirstChild()}return null})(o,e);if(i!=null){i.selectStart();let s=t.getElementByKey(i.__key);s!=null&&(n.preventDefault(),setTimeout(()=>{s.focus()},0))}}),!1}var xC=_e("UPDATE_LIST_START_COMMAND"),EC=_e("INSERT_UNORDERED_LIST_COMMAND"),NC=_e("INSERT_ORDERED_LIST_COMMAND"),SC=_e("REMOVE_LIST_COMMAND");function TC(n){return Se(n.registerCommand(NC,()=>(gs("number"),!0),oe),n.registerCommand(xC,t=>{let{listNodeKey:e,newStart:r}=t,o=$e(e);return!!ie(o)&&(o.getListType()==="number"&&(o.setStart(r),pC(o)),!0)},oe),n.registerCommand(EC,()=>(gs("bullet"),!0),oe),n.registerCommand(SC,()=>(kd(),!0),oe),n.registerCommand(Cr,()=>mC(),oe),n.registerNodeTransform(wr,t=>{let e=t.getFirstChild();if(e){if(U(e)){let r=e.getStyle(),o=e.getFormat();t.getTextStyle()!==r&&t.setTextStyle(r),t.getTextFormat()!==o&&t.setTextFormat(o)}}else{let r=w();M(r)&&(r.style!==t.getTextStyle()||r.format!==t.getTextFormat())&&r.isCollapsed()&&t.is(r.anchor.getNode())&&t.setTextStyle(r.style).setTextFormat(r.format)}}),n.registerNodeTransform(Ye,t=>{let e=t.getParent();if(le(e)&&t.is(e.getFirstChild())){let r=t.getStyle(),o=t.getFormat();r===e.getTextStyle()&&o===e.getTextFormat()||e.setTextStyle(r).setTextFormat(o)}}))}function bC(n){let t=e=>{let r=e.getParent();if(ie(e.getFirstChild())||!ie(r))return;let o=Y(e,i=>le(i)&&ie(i.getParent())&&le(i.getPreviousSibling()));if(o===null&&e.getIndent()>0)e.setIndent(0);else if(le(o)){let i=o.getPreviousSibling();if(le(i)){let s=(function(l){let c=l,u=c.getFirstChild();for(;ie(u);){let d=u.getLastChild();if(!le(d))break;c=d,u=c.getFirstChild()}return c})(i),a=s.getParent();if(ie(a)){let l=ol(a);l+1<ol(r)&&e.setIndent(l)}}}};return n.registerNodeTransform(ao,e=>{let r=[e];for(;r.length>0;){let o=r.shift();if(ie(o)){for(let i of o.getChildren())if(le(i)){t(i);let s=i.getFirstChild();ie(s)&&r.push(s)}}}})}function rT(n,t){n.update(()=>gs(t))}function oT(n){n.update(()=>kd())}var AC=me({build:(n,t,e)=>fn(t),config:mt({hasStrictIndent:!1}),name:"@lexical/list/List",nodes:()=>[ao,wr],register(n,t,e){let r=e.getOutput();return Se(TC(n),Mt(()=>r.hasStrictIndent.value?bC(n):void 0))}}),iT=me({dependencies:[AC],name:"@lexical/list/CheckList",register:CC});var Ke=Rd,Mw=Ke.$createListItemNode,ww=Ke.$createListNode,Dw=Ke.$getListDepth,Lw=Ke.$handleListInsertParagraph,kw=Ke.$insertList,Rw=Ke.$isListItemNode,OC=Ke.$isListNode,Iw=Ke.$removeList,Fw=Ke.CheckListExtension,vC=Ke.INSERT_CHECK_LIST_COMMAND,sl=Ke.INSERT_ORDERED_LIST_COMMAND,al=Ke.INSERT_UNORDERED_LIST_COMMAND,$w=Ke.ListExtension,MC=Ke.ListItemNode,Id=Ke.ListNode,Pw=Ke.REMOVE_LIST_COMMAND,Bw=Ke.UPDATE_LIST_START_COMMAND,Kw=Ke.insertList,Hw=Ke.registerCheckList,wC=Ke.registerList,zw=Ke.registerListStrictIndentTransform,Uw=Ke.removeList;var Fd={};Tt(Fd,{HistoryExtension:()=>ll,SharedHistoryExtension:()=>lT,createEmptyHistoryState:()=>kC,registerHistory:()=>LC});function sT(n,t,e,r,o){if(n===null||e.size===0&&r.size===0&&!o)return 0;let i=t._selection,s=n._selection;if(o)return 1;if(!(M(i)&&M(s)&&s.isCollapsed()&&i.isCollapsed()))return 0;let a=(function(_,C,y){let N=_._nodeMap,S=[];for(let E of C){let x=N.get(E);x!==void 0&&S.push(x)}for(let[E,x]of y){if(!x)continue;let A=N.get(E);A===void 0||Yn(A)||S.push(A)}return S})(t,e,r);if(a.length===0)return 0;if(a.length>1){let _=t._nodeMap,C=_.get(i.anchor.key),y=_.get(s.anchor.key);return C&&y&&!n._nodeMap.has(C.__key)&&U(C)&&C.__text.length===1&&i.anchor.offset===1?2:0}let l=a[0],c=n._nodeMap.get(l.__key);if(!U(c)||!U(l)||c.__mode!==l.__mode)return 0;let u=c.__text,d=l.__text;if(u===d)return 0;let f=i.anchor,m=s.anchor;if(f.key!==m.key||f.type!=="text")return 0;let g=f.offset,h=m.offset,p=d.length-u.length;return p===1&&h===g-1?2:p===-1&&h===g+1?3:p===-1&&h===g?4:0}function aT(n,t){let e=Date.now(),r=0;return(o,i,s,a,l,c)=>{let u=Date.now();if(c.has(ma))return r=0,e=u,2;let d=sT(o,i,a,l,n.isComposing()),f=(()=>{let m=s===null||s.editor===n,g=c.has(yp);if(!g&&m&&c.has(_a))return 0;if(o===null)return 1;let h=i._selection;if(!(a.size>0||l.size>0))return h!==null?0:2;let p=typeof t=="number"?t:t.peek();return g===!1&&d!==0&&d===r&&u<e+p&&m||a.size===1&&(function(_,C,y){let N=C._nodeMap.get(_),S=y._nodeMap.get(_),E=C._selection,x=y._selection;return!(M(E)&&M(x)&&E.anchor.type==="element"&&E.focus.type==="element"&&x.anchor.type==="text"&&x.focus.type==="text"||!U(N)||!U(S)||N.__parent!==S.__parent)&&JSON.stringify(C.read(()=>N.exportJSON()))===JSON.stringify(y.read(()=>S.exportJSON()))})(Array.from(a)[0],o,i)?0:1})();return e=u,r=d,f}}function DC(n){n.undoStack=[],n.redoStack=[],n.current=null}function LC(n,t,e){let r=aT(n,e);return Se(n.registerCommand(ba,()=>((function(i,s){let a=s.redoStack,l=s.undoStack;if(l.length!==0){let c=s.current,u=l.pop();c!==null&&(a.push(c),i.dispatchCommand(jr,!0)),l.length===0&&i.dispatchCommand(Jr,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:ma})}})(n,t),!0),ne),n.registerCommand(Ta,()=>((function(i,s){let a=s.redoStack,l=s.undoStack;if(a.length!==0){let c=s.current;c!==null&&(l.push(c),i.dispatchCommand(Jr,!0));let u=a.pop();a.length===0&&i.dispatchCommand(jr,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:ma})}})(n,t),!0),ne),n.registerCommand(ua,()=>(DC(t),!1),ne),n.registerCommand(gp,()=>(DC(t),n.dispatchCommand(jr,!1),n.dispatchCommand(Jr,!1),!0),ne),n.registerUpdateListener(({editorState:i,prevEditorState:s,dirtyLeaves:a,dirtyElements:l,tags:c})=>{let u=t.current,d=t.redoStack,f=t.undoStack,m=u===null?null:u.editorState;if(u!==null&&i===m)return;let g=r(s,i,u,a,l,c);if(g===1)d.length!==0&&(t.redoStack=[],n.dispatchCommand(jr,!1)),u!==null&&(f.push({...u}),n.dispatchCommand(Jr,!0));else if(g===2)return;t.current={editor:n,editorState:i}}))}function kC(){return{current:null,redoStack:[],undoStack:[]}}var ll=me({build:(n,{delay:t,createInitialHistoryState:e,disabled:r})=>fn({delay:t,disabled:r,historyState:e(n)}),config:mt({createInitialHistoryState:kC,delay:300,disabled:typeof window>"u"}),name:"@lexical/history/History",register:(n,t,e)=>{let r=e.getOutput();return Mt(()=>r.disabled.value?void 0:LC(n,r.historyState.value,r.delay))}}),lT=me({dependencies:[Aa(ll,{createInitialHistoryState:()=>{throw new Error("SharedHistory did not inherit parent history")},disabled:!0})],name:"@lexical/history/SharedHistory",register(n,t,e){let{output:r}=e.getDependency(ll),o=(function(s){return s?n_(s,ll.name):null})(n._parentEditor);if(!o)return()=>{};let i=o.output;return Mt(()=>t_(()=>{r.delay.value=i.delay.value,r.historyState.value=i.historyState.value,r.disabled.value=i.disabled.value}))}});var cl=Fd,Jw=cl.HistoryExtension,Vw=cl.SharedHistoryExtension,RC=cl.createEmptyHistoryState,IC=cl.registerHistory;var qn=(()=>{return((n,t,e,r)=>{let o=t.createElement("canvas").getContext("2d"),i={r:0,g:0,b:0,h:0,s:0,v:0,a:1},s,a,l,c,u,d,f,m,g,h,p,_,C,y,N,S,E={},x={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:[],swatchesOnly:!1,alpha:!0,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Clear",closeButton:!1,closeLabel:"Close",onChange:()=>r,a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},A={},v="",D={},R=!1;function $(T){if(typeof T=="object")for(let L in T)switch(L){case"el":ue(T.el),T.wrap!==!1&&Je(T.el);break;case"parent":s=T.parent instanceof HTMLElement?T.parent:t.querySelector(T.parent),s&&(s.appendChild(a),x.parent=T.parent,s===t.body&&(s=r));break;case"themeMode":x.themeMode=T.themeMode,T.themeMode==="auto"&&n.matchMedia&&n.matchMedia("(prefers-color-scheme: dark)").matches&&(x.themeMode="dark");case"theme":T.theme&&(x.theme=T.theme),a.className=`clr-picker clr-${x.theme} clr-${x.themeMode}`,x.inline&&de();break;case"rtl":x.rtl=!!T.rtl,Array.from(t.getElementsByClassName("clr-field")).forEach(j=>j.classList.toggle("clr-rtl",x.rtl));break;case"margin":T.margin*=1,x.margin=isNaN(T.margin)?x.margin:T.margin;break;case"wrap":T.el&&T.wrap&&Je(T.el);break;case"formatToggle":x.formatToggle=!!T.formatToggle,St("clr-format").style.display=x.formatToggle?"block":"none",x.formatToggle&&(x.format="auto");break;case"swatches":if(Array.isArray(T.swatches)){let j=St("clr-swatches"),ae=t.createElement("div");j.textContent="",T.swatches.forEach((Fe,Dt)=>{let ve=t.createElement("button");ve.setAttribute("type","button"),ve.setAttribute("id",`clr-swatch-${Dt}`),ve.setAttribute("aria-labelledby",`clr-swatch-label clr-swatch-${Dt}`),ve.style.color=Fe,ve.textContent=Fe,ae.appendChild(ve)}),T.swatches.length&&j.appendChild(ae),x.swatches=T.swatches.slice()}break;case"swatchesOnly":x.swatchesOnly=!!T.swatchesOnly,a.setAttribute("data-minimal",x.swatchesOnly);break;case"alpha":x.alpha=!!T.alpha,a.setAttribute("data-alpha",x.alpha);break;case"inline":if(x.inline=!!T.inline,a.setAttribute("data-inline",x.inline),x.inline){let j=T.defaultColor||x.defaultColor;y=nt(j),de(),tt(j)}break;case"clearButton":typeof T.clearButton=="object"&&(T.clearButton.label&&(x.clearLabel=T.clearButton.label,f.innerHTML=x.clearLabel),T.clearButton=T.clearButton.show),x.clearButton=!!T.clearButton,f.style.display=x.clearButton?"block":"none";break;case"clearLabel":x.clearLabel=T.clearLabel,f.innerHTML=x.clearLabel;break;case"closeButton":x.closeButton=!!T.closeButton,x.closeButton?a.insertBefore(m,u):u.appendChild(m);break;case"closeLabel":x.closeLabel=T.closeLabel,m.innerHTML=x.closeLabel;break;case"a11y":let k=T.a11y,K=!1;if(typeof k=="object")for(let j in k)k[j]&&x.a11y[j]&&(x.a11y[j]=k[j],K=!0);if(K){let j=St("clr-open-label"),ae=St("clr-swatch-label");j.innerHTML=x.a11y.open,ae.innerHTML=x.a11y.swatch,m.setAttribute("aria-label",x.a11y.close),f.setAttribute("aria-label",x.a11y.clear),g.setAttribute("aria-label",x.a11y.hueSlider),p.setAttribute("aria-label",x.a11y.alphaSlider),d.setAttribute("aria-label",x.a11y.input),l.setAttribute("aria-label",x.a11y.instruction)}break;default:x[L]=T[L]}}function H(T,L){typeof T=="string"&&typeof L=="object"&&(A[T]=L,R=!0)}function V(T){delete A[T],Object.keys(A).length===0&&(R=!1,T===v&&se())}function q(T){if(R){let L=["el","wrap","rtl","inline","defaultColor","a11y"];for(let k in A){let K=A[k];if(T.matches(k)){v=k,D={},L.forEach(j=>delete K[j]);for(let j in K)D[j]=Array.isArray(x[j])?x[j].slice():x[j];$(K);break}}}}function se(){Object.keys(D).length>0&&($(D),v="",D={})}function ue(T){T instanceof HTMLElement&&(T=[T]),Array.isArray(T)?T.forEach(L=>{we(L,"click",ge),we(L,"input",wt)}):(we(t,"click",T,ge),we(t,"input",T,wt))}function ge(T){x.inline||(q(T.target),C=T.target,N=C.value,y=nt(N),a.classList.add("clr-open"),de(),tt(N),(x.focusInput||x.selectInput)&&(d.focus({preventScroll:!0}),d.setSelectionRange(C.selectionStart,C.selectionEnd)),x.selectInput&&d.select(),(S||x.swatchesOnly)&&Sf().shift().focus(),C.dispatchEvent(new Event("open",{bubbles:!0})))}function de(){if(!a||!C&&!x.inline)return;let T=s,L=n.scrollY,k=a.offsetWidth,K=a.offsetHeight,j={left:!1,top:!1},ae,Fe,Dt,ve={x:0,y:0};if(T&&(ae=n.getComputedStyle(T),Fe=parseFloat(ae.marginTop),Dt=parseFloat(ae.borderTopWidth),ve=T.getBoundingClientRect(),ve.y+=Dt+L),!x.inline){let Lt=C.getBoundingClientRect(),er=Lt.x,Lr=L+Lt.y+Lt.height+x.margin;T?(er-=ve.x,Lr-=ve.y,er+k>T.clientWidth&&(er+=Lt.width-k,j.left=!0),Lr+K>T.clientHeight-Fe&&K+x.margin<=Lt.top-(ve.y-L)&&(Lr-=Lt.height+K+x.margin*2,j.top=!0),Lr+=T.scrollTop):(er+k>t.documentElement.clientWidth&&(er+=Lt.width-k,j.left=!0),Lr+K-L>t.documentElement.clientHeight&&K+x.margin<=Lt.top&&(Lr=L+Lt.y-K-x.margin,j.top=!0)),a.classList.toggle("clr-left",j.left),a.classList.toggle("clr-top",j.top),a.style.left=`${er}px`,a.style.top=`${Lr}px`,ve.x+=a.offsetLeft,ve.y+=a.offsetTop}E={width:l.offsetWidth,height:l.offsetHeight,x:l.offsetLeft+ve.x,y:l.offsetTop+ve.y}}function Je(T){T instanceof HTMLElement?Ve(T):Array.isArray(T)?T.forEach(Ve):t.querySelectorAll(T).forEach(Ve)}function Ve(T){let L=T.parentNode;if(!L.classList.contains("clr-field")){let k=t.createElement("div"),K="clr-field";(x.rtl||T.classList.contains("clr-rtl"))&&(K+=" clr-rtl"),k.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',L.insertBefore(k,T),k.className=K,k.style.color=T.value,k.appendChild(T)}}function wt(T){let L=T.target.parentNode;L.classList.contains("clr-field")&&(L.style.color=T.target.value)}function dt(T){if(C&&!x.inline){let L=C;T&&(C=r,N!==L.value&&(L.value=N,L.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout(()=>{N!==L.value&&L.dispatchEvent(new Event("change",{bubbles:!0}))}),a.classList.remove("clr-open"),R&&se(),L.dispatchEvent(new Event("close",{bubbles:!0})),x.focusInput&&L.focus({preventScroll:!0}),C=r}}function tt(T){let L=pi(T),k=Ml(L);re(k.s,k.v),hn(L,k),g.value=k.h,a.style.color=`hsl(${k.h}, 100%, 50%)`,h.style.left=`${k.h/360*100}%`,c.style.left=`${E.width*k.s/100}px`,c.style.top=`${E.height-E.height*k.v/100}px`,p.value=k.a*100,_.style.left=`${k.a*100}%`}function nt(T){let L=T.substring(0,3).toLowerCase();return L==="rgb"||L==="hsl"?L:"hex"}function Be(T){T=T!==r?T:d.value,C&&(C.value=T,C.dispatchEvent(new Event("input",{bubbles:!0}))),x.onChange&&x.onChange.call(n,T,C),t.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:T,currentEl:C}}))}function jt(T,L){let k={h:g.value*1,s:T/E.width*100,v:100-L/E.height*100,a:p.value/100},K=Qt(k);re(k.s,k.v),hn(K,k),Be()}function re(T,L){let k=x.a11y.marker;T=T.toFixed(1)*1,L=L.toFixed(1)*1,k=k.replace("{s}",T),k=k.replace("{v}",L),c.setAttribute("aria-label",k)}function He(T){return{pageX:T.changedTouches?T.changedTouches[0].pageX:T.pageX,pageY:T.changedTouches?T.changedTouches[0].pageY:T.pageY}}function Le(T){let L=He(T),k=L.pageX-E.x,K=L.pageY-E.y;s&&(K+=s.scrollTop),ho(k,K),T.preventDefault(),T.stopPropagation()}function xs(T,L){let k=c.style.left.replace("px","")*1+T,K=c.style.top.replace("px","")*1+L;ho(k,K)}function ho(T,L){T=T<0?0:T>E.width?E.width:T,L=L<0?0:L>E.height?E.height:L,c.style.left=`${T}px`,c.style.top=`${L}px`,jt(T,L),c.focus()}function hn(T,L){T===void 0&&(T={}),L===void 0&&(L={});let k=x.format;for(let ae in T)i[ae]=T[ae];for(let ae in L)i[ae]=L[ae];let K=mi(i),j=K.substring(0,7);switch(c.style.color=j,_.parentNode.style.color=j,_.style.color=K,u.style.color=K,l.style.display="none",l.offsetHeight,l.style.display="",_.nextElementSibling.style.display="none",_.nextElementSibling.offsetHeight,_.nextElementSibling.style.display="",k==="mixed"?k=i.a===1?"hex":"rgb":k==="auto"&&(k=y),k){case"hex":d.value=K;break;case"rgb":d.value=wl(i);break;case"hsl":d.value=px(vl(i));break}t.querySelector(`.clr-format [value="${k}"]`).checked=!0}function hi(){let T=g.value*1,L=c.style.left.replace("px","")*1,k=c.style.top.replace("px","")*1;a.style.color=`hsl(${T}, 100%, 50%)`,h.style.left=`${T/360*100}%`,jt(L,k)}function Ol(){let T=p.value/100;_.style.left=`${T*100}%`,hn({a:T}),Be()}function Qt(T){let L=T.s/100,k=T.v/100,K=L*k,j=T.h/60,ae=K*(1-e.abs(j%2-1)),Fe=k-K;K=K+Fe,ae=ae+Fe;let Dt=e.floor(j)%6,ve=[K,ae,Fe,Fe,ae,K][Dt],Lt=[ae,K,K,ae,Fe,Fe][Dt],er=[Fe,Fe,ae,K,K,ae][Dt];return{r:e.round(ve*255),g:e.round(Lt*255),b:e.round(er*255),a:T.a}}function vl(T){let L=T.v/100,k=L*(1-T.s/100/2),K;return k>0&&k<1&&(K=e.round((L-k)/e.min(k,1-k)*100)),{h:T.h,s:K||0,l:e.round(k*100),a:T.a}}function Ml(T){let L=T.r/255,k=T.g/255,K=T.b/255,j=e.max(L,k,K),ae=e.min(L,k,K),Fe=j-ae,Dt=j,ve=0,Lt=0;return Fe&&(j===L&&(ve=(k-K)/Fe),j===k&&(ve=2+(K-L)/Fe),j===K&&(ve=4+(L-k)/Fe),j&&(Lt=Fe/j)),ve=e.floor(ve*60),{h:ve<0?ve+360:ve,s:e.round(Lt*100),v:e.round(Dt*100),a:T.a}}function pi(T){let L=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,k,K;return o.fillStyle="#000",o.fillStyle=T,k=L.exec(o.fillStyle),k?K={r:k[3]*1,g:k[4]*1,b:k[5]*1,a:k[6]*1}:(k=o.fillStyle.replace("#","").match(/.{2}/g).map(j=>parseInt(j,16)),K={r:k[0],g:k[1],b:k[2],a:1}),K}function mi(T){let L=T.r.toString(16),k=T.g.toString(16),K=T.b.toString(16),j="";if(T.r<16&&(L="0"+L),T.g<16&&(k="0"+k),T.b<16&&(K="0"+K),x.alpha&&(T.a<1||x.forceAlpha)){let ae=T.a*255|0;j=ae.toString(16),ae<16&&(j="0"+j)}return"#"+L+k+K+j}function wl(T){return!x.alpha||T.a===1&&!x.forceAlpha?`rgb(${T.r}, ${T.g}, ${T.b})`:`rgba(${T.r}, ${T.g}, ${T.b}, ${T.a})`}function px(T){return!x.alpha||T.a===1&&!x.forceAlpha?`hsl(${T.h}, ${T.s}%, ${T.l}%)`:`hsla(${T.h}, ${T.s}%, ${T.l}%, ${T.a})`}function mx(){t.getElementById("clr-picker")||(s=r,a=t.createElement("div"),a.setAttribute("id","clr-picker"),a.className="clr-picker",a.innerHTML=`<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="${x.a11y.input}"><div id="clr-color-area" class="clr-gradient" role="application" aria-label="${x.a11y.instruction}"><div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue"><input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="${x.a11y.hueSlider}"><div id="clr-hue-marker"></div></div><div class="clr-alpha"><input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="${x.a11y.alphaSlider}"><div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented"><legend>${x.a11y.format}</legend><input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div><button type="button" id="clr-clear" class="clr-clear" aria-label="${x.a11y.clear}">${x.clearLabel}</button><div id="clr-color-preview" class="clr-preview"><button type="button" id="clr-close" class="clr-close" aria-label="${x.a11y.close}">${x.closeLabel}</button></div><span id="clr-open-label" hidden>${x.a11y.open}</span><span id="clr-swatch-label" hidden>${x.a11y.swatch}</span>`,t.body.appendChild(a),l=St("clr-color-area"),c=St("clr-color-marker"),f=St("clr-clear"),m=St("clr-close"),u=St("clr-color-preview"),d=St("clr-color-value"),g=St("clr-hue-slider"),h=St("clr-hue-marker"),p=St("clr-alpha-slider"),_=St("clr-alpha-marker"),ue(x.el),Je(x.el),we(a,"mousedown",T=>{a.classList.remove("clr-keyboard-nav"),T.stopPropagation()}),we(l,"mousedown",T=>{we(t,"mousemove",Le)}),we(l,"contextmenu",T=>{T.preventDefault()}),we(l,"touchstart",T=>{t.addEventListener("touchmove",Le,{passive:!1})}),we(c,"mousedown",T=>{we(t,"mousemove",Le)}),we(c,"touchstart",T=>{t.addEventListener("touchmove",Le,{passive:!1})}),we(d,"change",T=>{let L=d.value;if(C||x.inline){let k=L===""?L:tt(L);Be(k)}}),we(f,"click",T=>{Be(""),dt()}),we(m,"click",T=>{Be(),dt()}),we(St("clr-format"),"click",".clr-format input",T=>{y=T.target.value,hn(),Be()}),we(a,"click",".clr-swatches button",T=>{tt(T.target.textContent),Be(),x.swatchesOnly&&dt()}),we(t,"mouseup",T=>{t.removeEventListener("mousemove",Le)}),we(t,"touchend",T=>{t.removeEventListener("touchmove",Le)}),we(t,"mousedown",T=>{S=!1,a.classList.remove("clr-keyboard-nav"),dt()}),we(t,"keydown",T=>{let L=T.key,k=T.target,K=T.shiftKey;if(L==="Escape"?dt(!0):["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(L)&&(S=!0,a.classList.add("clr-keyboard-nav")),L==="Tab"&&k.matches(".clr-picker *")){let ae=Sf(),Fe=ae.shift(),Dt=ae.pop();K&&k===Fe?(Dt.focus(),T.preventDefault()):!K&&k===Dt&&(Fe.focus(),T.preventDefault())}}),we(t,"click",".clr-field button",T=>{R&&se(),T.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))}),we(c,"keydown",T=>{let L={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(L).includes(T.key)&&(xs(...L[T.key]),T.preventDefault())}),we(l,"click",Le),we(g,"input",hi),we(p,"input",Ol))}function Sf(){return Array.from(a.querySelectorAll("input, button")).filter(k=>!!k.offsetWidth)}function St(T){return t.getElementById(T)}function we(T,L,k,K){let j=Element.prototype.matches||Element.prototype.msMatchesSelector;typeof k=="string"?T.addEventListener(L,ae=>{j.call(ae.target,k)&&K.call(ae.target,ae)}):(K=k,T.addEventListener(L,K))}function Es(T,L){L=L!==r?L:[],t.readyState!=="loading"?T(...L):t.addEventListener("DOMContentLoaded",()=>{T(...L)})}NodeList!==r&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function _x(T,L){C=L,N=C.value,q(L),y=nt(T),de(),tt(T),Be(),N!==T&&C.dispatchEvent(new Event("change",{bubbles:!0}))}let Dl=(()=>{let T={init:mx,set:$,wrap:Je,close:dt,setInstance:H,setColor:_x,removeInstance:V,updatePosition:de,ready:Es};function L(k){Es(()=>{k&&(typeof k=="string"?ue(k):$(k))})}for(let k in T)L[k]=function(){for(var K=arguments.length,j=new Array(K),ae=0;ae<K;ae++)j[ae]=arguments[ae];Es(T[k],j)};return Es(()=>{n.addEventListener("resize",k=>{L.updatePosition()}),n.addEventListener("scroll",k=>{L.updatePosition()})}),L})();return Dl.coloris=Dl,Dl})(window,document,Math)})(),qw=qn.coloris,Zw=qn.init,Qw=qn.set,eD=qn.wrap,tD=qn.close,nD=qn.setInstance,rD=qn.removeInstance,oD=qn.updatePosition,FC=qn;function cT(){let n="\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253-\u0254\u0256-\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF",t="\u0400-\u04FF\u0500-\u0527\u2DE0-\u2DFF\uA640-\uA69F\u0591-\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F4\uFB12-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFB4F\u0610-\u061A\u0620-\u065F\u066E-\u06D3\u06D5-\u06DC\u06DE-\u06E8\u06EA-\u06EF\u06FA-\u06FC\u06FF\u0750-\u077F\u08A0\u08A2-\u08AC\u08E4-\u08FE\uFB50-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\u200C-\u200C\u0E01-\u0E3A\u0E40-\u0E4E\u1100-\u11FF\u3130-\u3185\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\uFFA1-\uFFDC",e=String.fromCharCode,r="\u30A1-\u30FA\u30FC-\u30FE\uFF66-\uFF9F\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\u3041-\u3096\u3099-\u309E\u3400-\u4DBF\u4E00-\u9FFF"+e(173824)+"-"+e(177983)+e(177984)+"-"+e(178207)+e(194560)+"-"+e(195103)+"\u3003\u3005\u303B",o=n+t+r,i="A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u076D\u0780-\u07A5\u07B1\u0904-\u0939\u093D\u0950\u0958-\u0961\u097D\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6A\u0F88-\u0F8B\u1000-\u1021\u1023-\u1027\u1029-\u102A\u1050-\u1055\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1D00-\u1DBF\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3006\u3031-\u3035\u303B-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",s="\u0300-\u036F\u0483-\u0486\u0591-\u05B9\u05BB-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u0615\u064B-\u065E\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u0901-\u0903\u093C\u093E-\u094D\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7-\u09C8\u09CB-\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A70-\u0A71\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B43\u0B47-\u0B48\u0B4B-\u0B4D\u0B56-\u0B57\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C82-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D82-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2-\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F3E-\u0F3F\u0F71-\u0F84\u0F86-\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102C-\u1032\u1036-\u1039\u1056-\u1059\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8-\u19C9\u1A17-\u1A1B\u1DC0-\u1DC3\u20D0-\u20DC\u20E1\u20E5-\u20EB\u302A-\u302F\u3099-\u309A\uA802\uA806\uA80B\uA823-\uA827\uFB1E\uFE00-\uFE0F\uFE20-\uFE23",a="0-9\u0660-\u0669\u06F0-\u06F9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\uFF10-\uFF19",l=i+s+o,c=a+"_",u=l+c;return{alpha:l,alphanumeric:u,hashChars:"#\\uFF03"}}function uT(){let{alpha:n,alphanumeric:t,hashChars:e}=cT(),r="["+n+"]",o="["+t+"]",i="^|$|[^&/"+t+"]",s="["+e+"]";return"("+i+")("+s+")("+o+"*"+r+o+"*)"}var dT=new RegExp(uT(),"i"),$C=function(n){return N_(n.getTextContent())},PC=function(n){let t=dT.exec(n);if(t===null)return null;let e=t[3].length+1,r=t.index+t[1].length;return{end:r+e,start:r}};var $d=_e("INSERT_HORIZONTAL_RULE_COMMAND"),hs=class n extends Ko{static getType(){return"horizontalrule"}static clone(t){return new n(t.__key)}static importJSON(t){return Pd()}static importDOM(){return{hr:()=>({conversion:gT,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(t){let e=document.createElement("hr");ce(e,t.theme.hr);let r="selected";return e?.addEventListener("click",()=>{e.classList.toggle(r)}),e?.setAttribute("x-on:click.outside",'$el.classList.remove("'+r+'")'),e}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return zn().getElementByKey(this.__key)}};function gT(){return{node:Pd()}}function Pd(){return ke(new hs)}function BC(n){return n.registerCommand($d,t=>{let e=w();if(!M(e))return!1;if(e.focus.getNode()!==null){let o=Pd();Ia(o)}return!0},ne)}var rf={};Tt(rf,{$computeTableMap:()=>Ct,$computeTableMapSkipCellCheck:()=>Qn,$createTableCellNode:()=>Pt,$createTableNode:()=>_l,$createTableNodeWithDimensions:()=>VC,$createTableRowNode:()=>fo,$createTableSelection:()=>Qd,$createTableSelectionFrom:()=>ry,$deleteTableColumn:()=>TT,$deleteTableColumnAtSelection:()=>ey,$deleteTableColumn__EXPERIMENTAL:()=>AT,$deleteTableRowAtSelection:()=>QC,$deleteTableRow__EXPERIMENTAL:()=>bT,$findCellNode:()=>ri,$findTableNode:()=>co,$getElementForTableNode:()=>cy,$getNodeTriplet:()=>Qe,$getTableAndElementByKey:()=>ef,$getTableCellNodeFromLexicalNode:()=>mT,$getTableCellNodeRect:()=>Wd,$getTableColumnIndexFromTableCellNode:()=>CT,$getTableNodeFromLexicalNodeOrThrow:()=>ml,$getTableRowIndexFromTableCellNode:()=>_T,$getTableRowNodeFromTableCellNodeOrThrow:()=>qd,$insertTableColumn:()=>NT,$insertTableColumnAtSelection:()=>ZC,$insertTableColumn__EXPERIMENTAL:()=>ST,$insertTableRow:()=>xT,$insertTableRowAtSelection:()=>qC,$insertTableRow__EXPERIMENTAL:()=>ET,$isScrollableTablesActive:()=>Cs,$isTableCellNode:()=>J,$isTableNode:()=>Ie,$isTableRowNode:()=>be,$isTableSelection:()=>ye,$mergeCells:()=>ty,$removeTableRowAtIndex:()=>yT,$unmergeCell:()=>vT,INSERT_TABLE_COMMAND:()=>JC,TableCellHeaderStates:()=>Oe,TableCellNode:()=>On,TableExtension:()=>HT,TableNode:()=>vn,TableObserver:()=>pl,TableRowNode:()=>uo,applyTableHandlers:()=>oy,getDOMCellFromTarget:()=>_s,getTableElement:()=>Dr,getTableObserverFromTableElement:()=>Yd,registerTableCellUnmergeTransform:()=>uy,registerTablePlugin:()=>fy,registerTableSelectionObserver:()=>dy,setScrollableTablesActive:()=>ly});var Vd=/^(\d+(?:\.\d+)?)px$/,Oe={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1},On=class n extends ut{constructor(e=Oe.NO_STATUS,r=1,o,i){super(i);O(this,"__colSpan");O(this,"__rowSpan");O(this,"__headerState");O(this,"__width");O(this,"__backgroundColor");O(this,"__verticalAlign");this.__colSpan=r,this.__rowSpan=1,this.__headerState=e,this.__width=o,this.__backgroundColor=null,this.__verticalAlign=void 0}static getType(){return"tablecell"}static clone(e){return new n(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:KC,priority:0}),th:e=>({conversion:KC,priority:0})}}static importJSON(e){return Pt().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}createDOM(e){let r=document.createElement(this.getTag());return this.__width&&(r.style.width=`${this.__width}px`),this.__colSpan>1&&(r.colSpan=this.__colSpan),this.__rowSpan>1&&(r.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(r.style.backgroundColor=this.__backgroundColor),Kd(this.__verticalAlign)&&(r.style.verticalAlign=this.__verticalAlign),ce(r,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),r}exportDOM(e){let r=super.exportDOM(e);if(Xr(r.element)){let o=r.element;o.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),o.style.border="1px solid black",this.__colSpan>1&&(o.colSpan=this.__colSpan),this.__rowSpan>1&&(o.rowSpan=this.__rowSpan),o.style.width=`${this.getWidth()||75}px`,o.style.verticalAlign=this.getVerticalAlign()||"top",o.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(o.style.backgroundColor="#f2f3f5")}return r}exportJSON(){return{...super.exportJSON(),...Kd(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){let r=this.getWritable();return r.__colSpan=e,r}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){let r=this.getWritable();return r.__rowSpan=e,r}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e,r=Oe.BOTH){let o=this.getWritable();return o.__headerState=e&r|o.__headerState&~r,o}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){let r=this.getWritable();return r.__width=e,r}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){let r=this.getWritable();return r.__backgroundColor=e,r}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){let r=this.getWritable();return r.__verticalAlign=e||void 0,r}toggleHeaderStyle(e){let r=this.getWritable();return(r.__headerState&e)===e?r.__headerState-=e:r.__headerState+=e,r}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==Oe.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};function Kd(n){return n==="middle"||n==="bottom"}function KC(n){let t=n,e=n.nodeName.toLowerCase(),r;Vd.test(t.style.width)&&(r=parseFloat(t.style.width));let o=Pt(e==="th"?Oe.ROW:Oe.NO_STATUS,t.colSpan,r);o.__rowSpan=t.rowSpan;let i=t.style.backgroundColor;i!==""&&(o.__backgroundColor=i);let s=t.style.verticalAlign;Kd(s)&&(o.__verticalAlign=s);let a=t.style,l=(a&&a.textDecoration||"").split(" "),c=a.fontWeight==="700"||a.fontWeight==="bold",u=l.includes("line-through"),d=a.fontStyle==="italic",f=l.includes("underline");return{after:m=>{let g=[],h=null,p=()=>{if(h){let _=h.getFirstChild();Pe(_)&&h.getChildrenSize()===1&&_.remove()}};for(let _ of m)ap(_)||U(_)||Pe(_)?(U(_)&&(c&&_.toggleFormat("bold"),u&&_.toggleFormat("strikethrough"),d&&_.toggleFormat("italic"),f&&_.toggleFormat("underline")),h?h.append(_):(h=Q().append(_),g.push(h))):(g.push(_),p(),h=null);return p(),g.length===0&&g.push(Q()),g},node:o}}function Pt(n=Oe.NO_STATUS,t=1,e){return ke(new On(n,t,e))}function J(n){return n instanceof On}var JC=_e("INSERT_TABLE_COMMAND");function G(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var uo=class n extends ut{constructor(e,r){super(r);O(this,"__height");this.__height=e}static getType(){return"tablerow"}static clone(e){return new n(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:hT,priority:0})}}static importJSON(e){return fo().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}exportJSON(){let e=this.getHeight();return{...super.exportJSON(),...e===void 0?void 0:{height:e}}}createDOM(e){let r=document.createElement("tr");return this.__height&&(r.style.height=`${this.__height}px`),ce(r,e.theme.tableRow),r}extractWithChild(e,r,o){return o==="html"}isShadowRoot(){return!0}setHeight(e){let r=this.getWritable();return r.__height=e,r}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}};function hT(n){let t=n,e;return Vd.test(t.style.height)&&(e=parseFloat(t.style.height)),{after:r=>ku(r,J),node:fo(e)}}function fo(n){return ke(new uo(n))}function be(n){return n instanceof uo}var Xd=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,pT=Xd&&"documentMode"in document?document.documentMode:null,HC=Xd&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);function VC(n,t,e=!0){let r=_l();for(let o=0;o<n;o++){let i=fo();for(let s=0;s<t;s++){let a=Oe.NO_STATUS;typeof e=="object"?(o===0&&e.rows&&(a|=Oe.ROW),s===0&&e.columns&&(a|=Oe.COLUMN)):e&&(o===0&&(a|=Oe.ROW),s===0&&(a|=Oe.COLUMN));let l=Pt(a),c=Q();c.append(Ze()),l.append(c),i.append(l)}r.append(i)}return r}function mT(n){let t=Y(n,e=>J(e));return J(t)?t:null}function qd(n){let t=Y(n,e=>be(e));if(be(t))return t;throw new Error("Expected table cell to be inside of table row.")}function ml(n){let t=Y(n,e=>Ie(e));if(Ie(t))return t;throw new Error("Expected table cell to be inside of table.")}function _T(n){let t=qd(n);return ml(t).getChildren().findIndex(e=>e.is(t))}function CT(n){return qd(n).getChildren().findIndex(t=>t.is(n))}function XC(n,t){let e=ml(n),{x:r,y:o}=e.getCordsFromCellNode(n,t);return{above:e.getCellNodeFromCords(r,o-1,t),below:e.getCellNodeFromCords(r,o+1,t),left:e.getCellNodeFromCords(r-1,o,t),right:e.getCellNodeFromCords(r+1,o,t)}}function yT(n,t){let e=n.getChildren();if(t>=e.length||t<0)throw new Error("Expected table cell to be inside of table row.");return e[t].remove(),n}function xT(n,t,e=!0,r,o){let i=n.getChildren();if(t>=i.length||t<0)throw new Error("Table row target index out of range");let s=i[t];if(!be(s))throw new Error("Row before insertion index does not exist.");for(let a=0;a<r;a++){let l=s.getChildren(),c=l.length,u=fo();for(let d=0;d<c;d++){let f=l[d];J(f)||G(12);let{above:m,below:g}=XC(f,o),h=Oe.NO_STATUS,p=m&&m.getWidth()||g&&g.getWidth()||void 0;(m&&m.hasHeaderState(Oe.COLUMN)||g&&g.hasHeaderState(Oe.COLUMN))&&(h|=Oe.COLUMN);let _=Pt(h,1,p);_.append(Q()),u.append(_)}e?s.insertAfter(u):s.insertBefore(u)}return n}Xd&&"InputEvent"in window&&!pT&&new window.InputEvent("input");var Hd=(n,t)=>n===Oe.BOTH||n===t?t:Oe.NO_STATUS;function qC(n=!0){let t=w();M(t)||ye(t)||G(188);let e=t.anchor.getNode(),r=t.focus.getNode(),[o]=Qe(e),[i,,s]=Qe(r),[,a,l]=Ct(s,i,o),{startRow:c}=l,{startRow:u}=a;return n?zd(c+o.__rowSpan>u+i.__rowSpan?o:i,!0):zd(u<c?i:o,!1)}var ET=qC;function zd(n,t=!0){let[,,e]=Qe(n),[r,o]=Ct(e,n,n),i=r[0].length,{startRow:s}=o,a=null;if(t){let l=s+n.__rowSpan-1,c=r[l],u=fo();for(let f=0;f<i;f++){let{cell:m,startRow:g}=c[f];if(g+m.__rowSpan-1<=l){let h=c[f].cell.__headerState,p=Hd(h,Oe.COLUMN);u.append(Pt(p).append(Q()))}else m.setRowSpan(m.__rowSpan+1)}let d=e.getChildAtIndex(l);be(d)||G(256),d.insertAfter(u),a=u}else{let l=s,c=r[l],u=fo();for(let f=0;f<i;f++){let{cell:m,startRow:g}=c[f];if(g===l){let h=c[f].cell.__headerState,p=Hd(h,Oe.COLUMN);u.append(Pt(p).append(Q()))}else m.setRowSpan(m.__rowSpan+1)}let d=e.getChildAtIndex(l);be(d)||G(257),d.insertBefore(u),a=u}return a}function NT(n,t,e=!0,r,o){let i=n.getChildren(),s=[];for(let a=0;a<i.length;a++){let l=i[a];if(be(l))for(let c=0;c<r;c++){let u=l.getChildren();if(t>=u.length||t<0)throw new Error("Table column target index out of range");let d=u[t];J(d)||G(12);let{left:f,right:m}=XC(d,o),g=Oe.NO_STATUS;(f&&f.hasHeaderState(Oe.ROW)||m&&m.hasHeaderState(Oe.ROW))&&(g|=Oe.ROW);let h=Pt(g);h.append(Q()),s.push({newTableCell:h,targetCell:d})}}return s.forEach(({newTableCell:a,targetCell:l})=>{e?l.insertAfter(a):l.insertBefore(a)}),n}function ZC(n=!0){let t=w();M(t)||ye(t)||G(188);let e=t.anchor.getNode(),r=t.focus.getNode(),[o]=Qe(e),[i,,s]=Qe(r),[,a,l]=Ct(s,i,o),{startColumn:c}=l,{startColumn:u}=a;return n?Ud(c+o.__colSpan>u+i.__colSpan?o:i,!0):Ud(u<c?i:o,!1)}var ST=ZC;function Ud(n,t=!0,e=!0){let[,,r]=Qe(n),[o,i]=Ct(r,n,n),s=o.length,{startColumn:a}=i,l=t?a+n.__colSpan-1:a-1,c=r.getFirstChild();be(c)||G(120);let u=null;function d(g=Oe.NO_STATUS){let h=Pt(g).append(Q());return u===null&&(u=h),h}let f=c;e:for(let g=0;g<s;g++){if(g!==0){let S=f.getNextSibling();be(S)||G(121),f=S}let h=o[g],p=h[l<0?0:l].cell.__headerState,_=Hd(p,Oe.ROW);if(l<0){Zd(f,d(_));continue}let{cell:C,startColumn:y,startRow:N}=h[l];if(y+C.__colSpan-1<=l){let S=C,E=N,x=l;for(;E!==g&&S.__rowSpan>1;){if(x-=C.__colSpan,!(x>=0)){f.append(d(_));continue e}{let{cell:A,startRow:v}=h[x];S=A,E=v}}S.insertAfter(d(_))}else C.setColSpan(C.__colSpan+1)}u!==null&&e&&ms(u);let m=r.getColWidths();if(m){let g=[...m],h=l<0?0:l,p=g[h];g.splice(h,0,p),r.setColWidths(g)}return u}function TT(n,t){let e=n.getChildren();for(let r=0;r<e.length;r++){let o=e[r];if(be(o)){let i=o.getChildren();if(t>=i.length||t<0)throw new Error("Table column target index out of range");i[t].remove()}}return n}function QC(){let n=w();M(n)||ye(n)||G(188);let[t,e]=n.isBackward()?[n.focus.getNode(),n.anchor.getNode()]:[n.anchor.getNode(),n.focus.getNode()],[r,,o]=Qe(t),[i]=Qe(e),[s,a,l]=Ct(o,r,i),{startRow:c}=a,{startRow:u}=l,d=u+i.__rowSpan-1;if(s.length===d-c+1)return void o.remove();let f=s[0].length,m=s[d+1],g=o.getChildAtIndex(d+1);for(let h=d;h>=c;h--){for(let _=f-1;_>=0;_--){let{cell:C,startRow:y,startColumn:N}=s[h][_];if(N===_){if(y<c||y+C.__rowSpan-1>d){let S=Math.max(y,c),E=Math.min(C.__rowSpan+y-1,d),x=S<=E?E-S+1:0;C.setRowSpan(C.__rowSpan-x)}if(y>=c&&y+C.__rowSpan-1>d&&h===d){g===null&&G(122);let S=null;for(let E=0;E<_;E++){let x=m[E],A=x.cell;x.startRow===h+1&&(S=A),A.__colSpan>1&&(E+=A.__colSpan-1)}S===null?Zd(g,C):S.insertAfter(C)}}}let p=o.getChildAtIndex(h);be(p)||G(206,String(h)),p.remove()}if(m!==void 0){let{cell:h}=m[0];ms(h)}else{let h=s[c-1],{cell:p}=h[0];ms(p)}}var bT=QC;function ey(){let n=w();M(n)||ye(n)||G(188);let t=n.anchor.getNode(),e=n.focus.getNode(),[r,,o]=Qe(t),[i]=Qe(e),[s,a,l]=Ct(o,r,i),{startColumn:c}=a,{startRow:u,startColumn:d}=l,f=Math.min(c,d),m=Math.max(c+r.__colSpan-1,d+i.__colSpan-1),g=m-f+1;if(s[0].length===m-f+1)return o.selectPrevious(),void o.remove();let h=s.length;for(let y=0;y<h;y++)for(let N=f;N<=m;N++){let{cell:S,startColumn:E}=s[y][N];if(E<f){if(N===f){let x=f-E;S.setColSpan(S.__colSpan-Math.min(g,S.__colSpan-x))}}else if(E+S.__colSpan-1>m){if(N===m){let x=m-E+1;S.setColSpan(S.__colSpan-x)}}else S.remove()}let p=s[u],_=c>d?p[c+r.__colSpan]:p[d+i.__colSpan];if(_!==void 0){let{cell:y}=_;ms(y)}else{let y=d<c?p[d-1]:p[c-1],{cell:N}=y;ms(N)}let C=o.getColWidths();if(C){let y=[...C];y.splice(f,g),o.setColWidths(y)}}var AT=ey;function ms(n){let t=n.getFirstDescendant();t==null?n.selectStart():t.getParentOrThrow().selectStart()}function Zd(n,t){let e=n.getFirstChild();e!==null?e.insertBefore(t):n.append(t)}function ty(n){if(n.length===0)return null;let t=ml(n[0]),[e]=Qn(t,null,null),r=1/0,o=-1/0,i=1/0,s=-1/0,a=new Set;for(let m of e)for(let g of m){if(!g||!g.cell)continue;let h=g.cell.getKey();if(!a.has(h)&&n.some(p=>p.is(g.cell))){a.add(h);let p=g.startRow,_=g.startColumn,C=g.cell.__rowSpan||1,y=g.cell.__colSpan||1;r=Math.min(r,p),o=Math.max(o,p+C-1),i=Math.min(i,_),s=Math.max(s,_+y-1)}}if(r===1/0||i===1/0)return null;let l=o-r+1,c=s-i+1,u=e[r][i];if(!u.cell)return null;let d=u.cell;d.setColSpan(c),d.setRowSpan(l);let f=new Set([d.getKey()]);for(let m=r;m<=o;m++)for(let g=i;g<=s;g++){let h=e[m][g];if(!h.cell)continue;let p=h.cell,_=p.getKey();f.has(_)||(f.add(_),OT(p)||d.append(...p.getChildren()),p.remove())}return d.getChildrenSize()===0&&d.append(Q()),d}function OT(n){if(n.getChildrenSize()!==1)return!1;let t=n.getFirstChildOrThrow();return!(!mr(t)||!t.isEmpty())}function vT(){let n=w();M(n)||ye(n)||G(188);let t=n.anchor.getNode(),e=Y(t,J);return J(e)||G(148),ny(e)}function ny(n){let[t,e,r]=Qe(n),o=t.__colSpan,i=t.__rowSpan;if(o===1&&i===1)return;let[s,a]=Ct(r,t,t),{startColumn:l,startRow:c}=a,u=t.__headerState&Oe.COLUMN,d=Array.from({length:o},(g,h)=>{let p=u;for(let _=0;p!==0&&_<s.length;_++)p&=s[_][h+l].cell.__headerState;return p}),f=t.__headerState&Oe.ROW,m=Array.from({length:i},(g,h)=>{let p=f;for(let _=0;p!==0&&_<s[0].length;_++)p&=s[h+c][_].cell.__headerState;return p});if(o>1){for(let g=1;g<o;g++)t.insertAfter(Pt(d[g]|m[0]).append(Q()));t.setColSpan(1)}if(i>1){let g;for(let h=1;h<i;h++){let p=c+h,_=s[p];g=(g||e).getNextSibling(),be(g)||G(125);let C=null;for(let y=0;y<l;y++){let N=_[y],S=N.cell;N.startRow===p&&(C=S),S.__colSpan>1&&(y+=S.__colSpan-1)}if(C===null)for(let y=o-1;y>=0;y--)Zd(g,Pt(d[y]|m[h]).append(Q()));else for(let y=o-1;y>=0;y--)C.insertAfter(Pt(d[y]|m[h]).append(Q()))}t.setRowSpan(1)}}function Ct(n,t,e){let[r,o,i]=Qn(n,t,e);return o===null&&G(207),i===null&&G(208),[r,o,i]}function Qn(n,t,e){let r=[],o=null,i=null;function s(l){let c=r[l];return c===void 0&&(r[l]=c=[]),c}let a=n.getChildren();for(let l=0;l<a.length;l++){let c=a[l];be(c)||G(209);let u=s(l);for(let d=c.getFirstChild(),f=0;d!=null;d=d.getNextSibling()){for(J(d)||G(147);u[f]!==void 0;)f++;let m={cell:d,startColumn:f,startRow:l},{__rowSpan:g,__colSpan:h}=d;for(let p=0;p<g&&!(l+p>=a.length);p++){let _=s(l+p);for(let C=0;C<h;C++)_[f+C]=m}t!==null&&o===null&&t.is(d)&&(o=m),e!==null&&i===null&&e.is(d)&&(i=m)}}return[r,o,i]}function Qe(n){let t;if(n instanceof On)t=n;else if("__type"in n){let o=Y(n,J);J(o)||G(148),t=o}else{let o=Y(n.getNode(),J);J(o)||G(148),t=o}let e=t.getParent();be(e)||G(149);let r=e.getParent();return Ie(r)||G(210),[t,e,r]}function gl(n,t,e){let r,o=Math.min(t.startColumn,e.startColumn),i=Math.min(t.startRow,e.startRow),s=Math.max(t.startColumn+t.cell.__colSpan-1,e.startColumn+e.cell.__colSpan-1),a=Math.max(t.startRow+t.cell.__rowSpan-1,e.startRow+e.cell.__rowSpan-1);do{r=!1;for(let l=0;l<n.length;l++)for(let c=0;c<n[0].length;c++){let u=n[l][c];if(!u)continue;let d=u.startColumn+u.cell.__colSpan-1,f=u.startRow+u.cell.__rowSpan-1,m=u.startColumn<=s&&d>=o,g=u.startRow<=a&&f>=i;if(m&&g){let h=Math.min(o,u.startColumn),p=Math.max(s,d),_=Math.min(i,u.startRow),C=Math.max(a,f);h===o&&p===s&&_===i&&C===a||(o=h,s=p,i=_,a=C,r=!0)}}}while(r);return{maxColumn:s,maxRow:a,minColumn:o,minRow:i}}function Wd(n){let[t,,e]=Qe(n),r=e.getChildren(),o=r.length,i=r[0].getChildren().length,s=new Array(o);for(let a=0;a<o;a++)s[a]=new Array(i);for(let a=0;a<o;a++){let l=r[a].getChildren(),c=0;for(let u=0;u<l.length;u++){for(;s[a][c];)c++;let d=l[u],f=d.__rowSpan||1,m=d.__colSpan||1;for(let g=0;g<f;g++)for(let h=0;h<m;h++)s[a+g][c+h]=d;if(t===d)return{colSpan:m,columnIndex:c,rowIndex:a,rowSpan:f};c+=m}}return null}function zC(n){let[[t,e,r,o],[i,s,a,l]]=["anchor","focus"].map(c=>{let u=n[c].getNode(),d=Y(u,J);J(d)||G(238,c,u.getKey(),u.getType());let f=d.getParent();be(f)||G(239,c);let m=f.getParent();return Ie(m)||G(240,c),[u,d,f,m]});return o.is(l)||G(241),{anchorCell:e,anchorNode:t,anchorRow:r,anchorTable:o,focusCell:s,focusNode:i,focusRow:a,focusTable:l}}var hl=class n{constructor(t,e,r){O(this,"tableKey");O(this,"anchor");O(this,"focus");O(this,"_cachedNodes");O(this,"dirty");this.anchor=e,this.focus=r,e._selection=this,r._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=t}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){if(this.tableKey==="root"||this.anchor.key==="root"||this.anchor.type!=="element"||this.focus.key==="root"||this.focus.type!=="element")return!1;let t=$e(this.tableKey),e=$e(this.anchor.key),r=$e(this.focus.key);return t!==null&&e!==null&&r!==null}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return ye(t)&&this.tableKey===t.tableKey&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)}set(t,e,r){this.dirty=this.dirty||t!==this.tableKey||e!==this.anchor.key||r!==this.focus.key,this.tableKey=t,this.anchor.key=e,this.focus.key=r,this._cachedNodes=null}clone(){return new n(this.tableKey,cn(this.anchor.key,this.anchor.offset,this.anchor.type),cn(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(t){}insertText(){}hasFormat(t){let e=0;this.getNodes().filter(J).forEach(o=>{let i=o.getFirstChild();mr(i)&&(e|=i.getTextFormat())});let r=vp[t];return(e&r)!==0}insertNodes(t){let e=this.focus.getNode();P(e)||G(151),jn(e.select(0,e.getChildrenSize())).insertNodes(t)}getShape(){let{anchorCell:t,focusCell:e}=zC(this),r=Wd(t);r===null&&G(153);let o=Wd(e);o===null&&G(155);let i=Math.min(r.columnIndex,o.columnIndex),s=Math.max(r.columnIndex+r.colSpan-1,o.columnIndex+o.colSpan-1),a=Math.min(r.rowIndex,o.rowIndex),l=Math.max(r.rowIndex+r.rowSpan-1,o.rowIndex+o.rowSpan-1);return{fromX:Math.min(i,s),fromY:Math.min(a,l),toX:Math.max(i,s),toY:Math.max(a,l)}}getNodes(){if(!this.isValid())return[];let t=this._cachedNodes;if(t!==null)return t;let{anchorTable:e,anchorCell:r,focusCell:o}=zC(this),i=o.getParents()[1];if(i!==e){if(e.isParentOf(o)){let p=i.getParent();p==null&&G(159),this.set(this.tableKey,o.getKey(),p.getKey())}else{let p=e.getParent();p==null&&G(158),this.set(this.tableKey,p.getKey(),o.getKey())}return this.getNodes()}let[s,a,l]=Ct(e,r,o),{minColumn:c,maxColumn:u,minRow:d,maxRow:f}=gl(s,a,l),m=new Map([[e.getKey(),e]]),g=null;for(let p=d;p<=f;p++)for(let _=c;_<=u;_++){let{cell:C}=s[p][_],y=C.getParent();be(y)||G(160),y!==g&&(m.set(y.getKey(),y),g=y),m.has(C.getKey())||MT(C,N=>{m.set(N.getKey(),N)})}let h=Array.from(m.values());return Rp()||(this._cachedNodes=h),h}getTextContent(){let t=this.getNodes().filter(r=>J(r)),e="";for(let r=0;r<t.length;r++){let o=t[r],i=o.__parent,s=(t[r+1]||{}).__parent;e+=o.getTextContent()+(s!==i?`
`:"	")}return e}};function ye(n){return n instanceof hl}function Qd(){let n=cn("root",0,"element"),t=cn("root",0,"element");return new hl("root",n,t)}function ry(n,t,e){n.getKey(),t.getKey(),e.getKey();let r=w(),o=ye(r)?r.clone():Qd();return o.set(n.getKey(),t.getKey(),e.getKey()),o}function MT(n,t){let e=[[n]];for(let r=e.at(-1);r!==void 0&&e.length>0;r=e.at(-1)){let o=r.pop();o===void 0?e.pop():t(o)!==!1&&P(o)&&e.push(o.getChildren())}}function ef(n,t=zn()){let e=$e(n);Ie(e)||G(231,n);let r=Dr(e,t.getElementByKey(n));return r===null&&G(232,n),{tableElement:r,tableNode:e}}var pl=class{constructor(t,e){O(this,"focusX");O(this,"focusY");O(this,"listenersToRemove");O(this,"table");O(this,"isHighlightingCells");O(this,"anchorX");O(this,"anchorY");O(this,"tableNodeKey");O(this,"anchorCell");O(this,"focusCell");O(this,"anchorCellNodeKey");O(this,"focusCellNodeKey");O(this,"editor");O(this,"tableSelection");O(this,"hasHijackedSelectionStyles");O(this,"isSelecting");O(this,"pointerType");O(this,"shouldCheckSelection");O(this,"abortController");O(this,"listenerOptions");O(this,"nextFocus");this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=e,this.editor=t,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach(t=>t()),this.listenersToRemove.clear()}$lookup(){return ef(this.tableNodeKey,this.editor)}trackTable(){let t=new MutationObserver(e=>{this.editor.getEditorState().read(()=>{let r=!1;for(let s=0;s<e.length;s++){let a=e[s].target.nodeName;if(a==="TABLE"||a==="TBODY"||a==="THEAD"||a==="TR"){r=!0;break}}if(!r)return;let{tableNode:o,tableElement:i}=this.$lookup();this.table=oi(o,i)},{editor:this.editor})});this.editor.getEditorState().read(()=>{let{tableNode:e,tableElement:r}=this.$lookup();this.table=oi(e,r),t.observe(r,{attributes:!0,childList:!0,subtree:!0})},{editor:this.editor})}$clearHighlight(){let t=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();let{tableNode:e,tableElement:r}=this.$lookup();ul(t,oi(e,r),null),w()!==null&&(Ge(null),t.dispatchCommand(Vr,void 0))}$enableHighlightStyle(){let t=this.editor,{tableElement:e}=this.$lookup();Nt(e,t._config.theme.tableSelection),e.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){let{tableElement:t}=this.$lookup();ce(t,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(t){if(t!==null){t.tableKey!==this.tableNodeKey&&G(233,t.tableKey,this.tableNodeKey);let e=this.editor;this.tableSelection=t,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),ul(e,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(t){this.nextFocus=t}getAndClearNextFocus(){let{nextFocus:t}=this;return t!==null&&(this.nextFocus=null),t}updateDOMSelection(){if(this.anchorCell!==null&&this.focusCell!==null){let t=Er(this.editor._window);t&&t.rangeCount>0&&t.removeAllRanges()}}$setFocusCellForSelection(t,e=!1){let r=this.editor,{tableNode:o}=this.$lookup(),i=t.x,s=t.y;if(this.focusCell=t,this.isHighlightingCells||this.anchorX===i&&this.anchorY===s&&!e){if(i===this.focusX&&s===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=i,this.focusY=s,this.isHighlightingCells){let a=jd(o,t.elem);if(this.tableSelection!=null&&this.anchorCellNodeKey!=null&&a!==null)return this.focusCellNodeKey=a.getKey(),this.tableSelection=ry(o,this.$getAnchorTableCellOrThrow(),a),Ge(this.tableSelection),r.dispatchCommand(Vr,void 0),ul(r,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?$e(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){let t=this.$getAnchorTableCell();return t===null&&G(234),t}$getFocusTableCell(){return this.focusCellNodeKey?$e(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){let t=this.$getFocusTableCell();return t===null&&G(235),t}$setAnchorCellForSelection(t){this.isHighlightingCells=!1,this.anchorCell=t,this.anchorX=t.x,this.anchorY=t.y;let{tableNode:e}=this.$lookup(),r=jd(e,t.elem);if(r!==null){let o=r.getKey();this.tableSelection=this.tableSelection!=null?this.tableSelection.clone():Qd(),this.anchorCellNodeKey=o}}$formatCells(t){let e=w();ye(e)||G(236);let r=gr(),o=r.anchor,i=r.focus,s=e.getNodes().filter(J);s.length>0||G(237);let a=s[0].getFirstChild(),l=mr(a)?a.getFormatFlags(t,null):null;s.forEach(c=>{o.set(c.getKey(),0,"element"),i.set(c.getKey(),c.getChildrenSize(),"element"),r.formatText(t,l)}),Ge(e),this.editor.dispatchCommand(Vr,void 0)}$clearText(){let{editor:t}=this,e=$e(this.tableNodeKey);if(!Ie(e))throw new Error("Expected TableNode.");let r=w();ye(r)||G(253);let o=r.getNodes().filter(J),i=e.getFirstChild(),s=e.getLastChild();if(o.length>0&&i!==null&&s!==null&&be(i)&&be(s)&&o[0]===i.getFirstChild()&&o[o.length-1]===s.getLastChild()){e.selectPrevious();let a=e.getParent();return e.remove(),void(Yn(a)&&a.isEmpty()&&t.dispatchCommand(Cr,void 0))}o.forEach(a=>{if(P(a)){let l=Q(),c=Ze();l.append(c),a.append(l),a.getChildren().forEach(u=>{u!==l&&u.remove()})}}),ul(t,this.table,null),Ge(null),t.dispatchCommand(Vr,void 0)}},Gd="__lexicalTableSelection";function ni(n){return Xr(n)&&n.nodeName==="TABLE"}function Dr(n,t){if(!t)return t;let e=ni(t)?t:n.getDOMSlot(t).element;return e.nodeName!=="TABLE"&&G(245,t.nodeName),e}function tf(n){return n._window}function ps(n,t){for(let e=t,r=null;e!==null;e=e.getParent()){if(n.is(e))return r;J(e)&&(r=e)}return null}var wT=[[yn,"down"],[Xt,"up"],[Ho,"backward"],[Ca,"forward"]],DT=[pa,ji,Bo],LT=[ya,xa];function oy(n,t,e,r){let o=e.getRootElement(),i=tf(e);o!==null&&i!==null||G(246);let s=new pl(e,n.getKey()),a=Dr(n,t);(function(m,g){Yd(m)!==null&&G(205),m[Gd]=g})(a,s),s.listenersToRemove.add(()=>(function(m,g){Yd(m)===g&&delete m[Gd]})(a,s));let l=m=>{if(s.pointerType=m.pointerType,m.button!==0||!Ft(m.target)||!i)return;let g=_s(m.target);g!==null&&e.update(()=>{let h=Un();if(HC&&m.shiftKey&&An(h,n)&&(M(h)||ye(h))){let p=h.anchor.getNode(),_=ps(n,h.anchor.getNode());_?(s.$setAnchorCellForSelection(lo(s,_)),s.$setFocusCellForSelection(g),Zn(m)):(n.isBefore(p)?n.selectStart():n.selectEnd()).anchor.set(h.anchor.key,h.anchor.offset,h.anchor.type)}else m.pointerType!=="touch"&&s.$setAnchorCellForSelection(g)}),(()=>{if(s.isSelecting)return;let h=()=>{s.isSelecting=!1,i.removeEventListener("pointerup",h),i.removeEventListener("pointermove",p)},p=_=>{if(1&~_.buttons&&s.isSelecting)return s.isSelecting=!1,i.removeEventListener("pointerup",h),void i.removeEventListener("pointermove",p);if(!Ft(_.target))return;let C=null,y=!(HC||a.contains(_.target));if(y)C=UC(a,_.target);else for(let N of document.elementsFromPoint(_.clientX,_.clientY))if(C=UC(a,N),C)break;!C||s.focusCell!==null&&C.elem===s.focusCell.elem||(s.setNextFocus({focusCell:C,override:y}),e.dispatchCommand(Vr,void 0))};s.isSelecting=!0,i.addEventListener("pointerup",h,s.listenerOptions),i.addEventListener("pointermove",p,s.listenerOptions)})()};a.addEventListener("pointerdown",l,s.listenerOptions),s.listenersToRemove.add(()=>{a.removeEventListener("pointerdown",l)});let c=m=>{m.detail>=3&&Ft(m.target)&&_s(m.target)!==null&&m.preventDefault()};a.addEventListener("mousedown",c,s.listenerOptions),s.listenersToRemove.add(()=>{a.removeEventListener("mousedown",c)});let u=m=>{let g=m.target;m.button===0&&Ft(g)&&e.update(()=>{let h=w();ye(h)&&h.tableKey===s.tableNodeKey&&o.contains(g)&&s.$clearHighlight()})};i.addEventListener("pointerdown",u,s.listenerOptions),s.listenersToRemove.add(()=>{i.removeEventListener("pointerdown",u)});for(let[m,g]of wT)s.listenersToRemove.add(e.registerCommand(m,h=>ay(e,h,g,n,s),It));s.listenersToRemove.add(e.registerCommand(xr,m=>{let g=w();if(ye(g)){let h=ps(n,g.focus.getNode());if(h!==null)return Zn(m),h.selectEnd(),!0}return!1},It));let d=m=>()=>{let g=w();if(!An(g,n))return!1;if(ye(g))return s.$clearText(),!0;if(M(g)){if(!J(ps(n,g.anchor.getNode())))return!1;let h=g.anchor.getNode(),p=g.focus.getNode(),_=n.isParentOf(h),C=n.isParentOf(p);if(_&&!C||C&&!_)return s.$clearText(),!0;let y=Y(g.anchor.getNode(),S=>P(S)),N=y&&Y(y,S=>P(S)&&J(S.getParent()));if(!P(N)||!P(y))return!1;if(m===ji&&N.getPreviousSibling()===null)return!0}return!1};for(let m of DT)s.listenersToRemove.add(e.registerCommand(m,d(m),It));let f=m=>{let g=w();if(!ye(g)&&!M(g))return!1;let h=n.isParentOf(g.anchor.getNode());if(h!==n.isParentOf(g.focus.getNode())){let p=h?"anchor":"focus",_=h?"focus":"anchor",{key:C,offset:y,type:N}=g[_];return n[g[p].isBefore(g[_])?"selectPrevious":"selectNext"]()[_].set(C,y,N),!1}return!!An(g,n)&&!!ye(g)&&(m&&(m.preventDefault(),m.stopPropagation()),s.$clearText(),!0)};for(let m of LT)s.listenersToRemove.add(e.registerCommand(m,f,It));return s.listenersToRemove.add(e.registerCommand(ha,m=>{let g=w();if(g){if(!ye(g)&&!M(g))return!1;Qi(e,Wt(m,ClipboardEvent)?m:null,Rm(g));let h=f(m);return M(g)?(g.removeText(),!0):h}return!1},It)),s.listenersToRemove.add(e.registerCommand(At,m=>{let g=w();if(!An(g,n))return!1;if(ye(g))return s.$formatCells(m),!0;if(M(g)){let h=Y(g.anchor.getNode(),p=>J(p));if(!J(h))return!1}return!1},It)),s.listenersToRemove.add(e.registerCommand(Ut,m=>{let g=w();if(!ye(g)||!An(g,n))return!1;let h=g.anchor.getNode(),p=g.focus.getNode();if(!J(h)||!J(p))return!1;if((function(v,D){if(ye(v)){let R=v.anchor.getNode(),$=v.focus.getNode();if(D&&R&&$){let[H]=Ct(D,R,$);return R.getKey()===H[0][0].cell.getKey()&&$.getKey()===H[H.length-1].at(-1).cell.getKey()}}return!1})(g,n))return n.setFormat(m),!0;let[_,C,y]=Ct(n,h,p),N=Math.max(C.startRow+C.cell.__rowSpan-1,y.startRow+y.cell.__rowSpan-1),S=Math.max(C.startColumn+C.cell.__colSpan-1,y.startColumn+y.cell.__colSpan-1),E=Math.min(C.startRow,y.startRow),x=Math.min(C.startColumn,y.startColumn),A=new Set;for(let v=E;v<=N;v++)for(let D=x;D<=S;D++){let R=_[v][D].cell;if(A.has(R))continue;A.add(R),R.setFormat(m);let $=R.getChildren();for(let H=0;H<$.length;H++){let V=$[H];P(V)&&!V.isInline()&&V.setFormat(m)}}return!0},It)),s.listenersToRemove.add(e.registerCommand(fa,m=>{let g=w();if(!An(g,n))return!1;if(ye(g))return s.$clearHighlight(),!1;if(M(g)){let h=Y(g.anchor.getNode(),p=>J(p));if(!J(h))return!1;if(typeof m=="string"){let p=YC(e,g,n);if(p)return GC(p,n,[Ze(m)]),!0}}return!1},It)),r&&s.listenersToRemove.add(e.registerCommand(Jn,m=>{let g=w();if(!M(g)||!g.isCollapsed()||!An(g,n))return!1;let h=ri(g.anchor.getNode());return!(h===null||!n.is(co(h)))&&(Zn(m),(function(p,_){let C=_==="next"?"getNextSibling":"getPreviousSibling",y=_==="next"?"getFirstChild":"getLastChild",N=p[C]();if(P(N))return N.selectEnd();let S=Y(p,be);S===null&&G(247);for(let x=S[C]();be(x);x=x[C]()){let A=x[y]();if(P(A))return A.selectEnd()}let E=Y(S,Ie);E===null&&G(248),_==="next"?E.selectNext():E.selectPrevious()})(h,m.shiftKey?"previous":"next"),!0)},It)),s.listenersToRemove.add(e.registerCommand(Cp,m=>n.isSelected(),It)),s.listenersToRemove.add(e.registerCommand(Xi,(m,g)=>{if(e!==g)return!1;let{nodes:h,selection:p}=m,_=p.getStartEndPoints(),C=ye(p),y=M(p)&&Y(p.anchor.getNode(),re=>J(re))!==null&&Y(p.focus.getNode(),re=>J(re))!==null||C;if(h.length!==1||!Ie(h[0])||!y||_===null)return!1;let[N,S]=_,[E,x,A]=Qe(N),v=Y(S.getNode(),re=>J(re));if(!(J(E)&&J(v)&&be(x)&&Ie(A)))return!1;let D=h[0],[R,$,H]=Ct(A,E,v),[V]=Qn(D,null,null),q=R.length,se=q>0?R[0].length:0,ue=$.startRow,ge=$.startColumn,de=V.length,Je=de>0?V[0].length:0;if(C){let re=gl(R,$,H),He=re.maxRow-re.minRow+1,Le=re.maxColumn-re.minColumn+1;ue=re.minRow,ge=re.minColumn,de=Math.min(de,He),Je=Math.min(Je,Le)}let Ve=!1,wt=Math.min(q,ue+de)-1,dt=Math.min(se,ge+Je)-1,tt=new Set;for(let re=ue;re<=wt;re++)for(let He=ge;He<=dt;He++){let Le=R[re][He];tt.has(Le.cell.getKey())||Le.cell.__rowSpan===1&&Le.cell.__colSpan===1||(ny(Le.cell),tt.add(Le.cell.getKey()),Ve=!0)}let[nt]=Qn(A.getWritable(),null,null),Be=de-q+ue;for(let re=0;re<Be;re++)zd(nt[q-1][0].cell);let jt=Je-se+ge;for(let re=0;re<jt;re++)Ud(nt[0][se-1].cell,!0,!1);[nt]=Qn(A.getWritable(),null,null);for(let re=ue;re<ue+de;re++)for(let He=ge;He<ge+Je;He++){let Le=re-ue,xs=He-ge,ho=V[Le][xs];if(ho.startRow!==Le||ho.startColumn!==xs)continue;let hn=ho.cell;if(hn.__rowSpan!==1||hn.__colSpan!==1){let Qt=[],vl=Math.min(re+hn.__rowSpan,ue+de)-1,Ml=Math.min(He+hn.__colSpan,ge+Je)-1;for(let pi=re;pi<=vl;pi++)for(let mi=He;mi<=Ml;mi++){let wl=nt[pi][mi];Qt.push(wl.cell)}ty(Qt),Ve=!0}let{cell:hi}=nt[re][He],Ol=hi.getChildren();hn.getChildren().forEach(Qt=>{U(Qt)&&Q().append(Qt),hi.append(Qt)}),Ol.forEach(Qt=>Qt.remove())}if(C&&Ve){let[re]=Qn(A.getWritable(),null,null);re[$.startRow][$.startColumn].cell.selectEnd()}return!0},It)),s.listenersToRemove.add(e.registerCommand(Vr,()=>{let m=w(),g=Un(),h=s.getAndClearNextFocus();if(h!==null){let{focusCell:p}=h;if(ye(m)&&m.tableKey===s.tableNodeKey)return(p.x!==s.focusX||p.y!==s.focusY)&&(s.$setFocusCellForSelection(p),!0);if(p!==s.anchorCell&&An(m,n))return s.$setFocusCellForSelection(p),!0}if(s.getAndClearShouldCheckSelection()&&M(g)&&M(m)&&m.isCollapsed()){let p=m.anchor.getNode(),_=n.getFirstChild(),C=ri(p);if(C!==null&&be(_)){let y=_.getFirstChild();if(J(y)&&n.is(Y(C,N=>N.is(n)||N.is(y))))return y.selectStart(),!0}}if(M(m)){let{anchor:p,focus:_}=m,C=p.getNode(),y=_.getNode(),N=ri(C),S=ri(y),E=!(!N||!n.is(co(N))),x=!(!S||!n.is(co(S))),A=E!==x,v=E&&x,D=m.isBackward();if(A){let R=m.clone();if(x){let[$]=Ct(n,S,S),H=$[0][0].cell,V=$[$.length-1].at(-1).cell;R.focus.set(D?H.getKey():V.getKey(),D?0:V.getChildrenSize(),"element")}else if(E){let[$]=Ct(n,N,N),H=$[0][0].cell,V=$[$.length-1].at(-1).cell;R.anchor.set(D?V.getKey():H.getKey(),D?V.getChildrenSize():0,"element")}Ge(R),WC(e,s)}else if(v&&(N.is(S)||(s.$setAnchorCellForSelection(lo(s,N)),s.$setFocusCellForSelection(lo(s,S),!0)),s.pointerType==="touch"&&s.isSelecting&&m.isCollapsed()&&M(g)&&g.isCollapsed())){let R=ri(g.anchor.getNode());R&&!R.is(S)&&(s.$setAnchorCellForSelection(lo(s,R)),s.$setFocusCellForSelection(lo(s,S),!0),s.pointerType=null)}}else if(m&&ye(m)&&m.is(g)&&m.tableKey===n.getKey()){let p=Er(i);if(p&&p.anchorNode&&p.focusNode){let _=ze(p.focusNode),C=_&&!n.isParentOf(_),y=ze(p.anchorNode),N=y&&n.isParentOf(y);if(C&&N&&p.rangeCount>0){let S=ep(p,e);S&&(S.anchor.set(n.getKey(),m.isBackward()?n.getChildrenSize():0,"element"),p.removeAllRanges(),Ge(S))}}}return m&&!m.is(g)&&(ye(m)||ye(g))&&s.tableSelection&&!s.tableSelection.is(g)?(ye(m)&&m.tableKey===s.tableNodeKey?s.$updateTableTableSelection(m):!ye(m)&&ye(g)&&g.tableKey===s.tableNodeKey&&s.$updateTableTableSelection(null),!1):(s.hasHijackedSelectionStyles&&!n.isSelected()?(function(p,_){_.$enableHighlightStyle(),nf(_.table,C=>{let y=C.elem;C.highlighted=!1,sy(p,C),y.getAttribute("style")||y.removeAttribute("style")})})(e,s):!s.hasHijackedSelectionStyles&&n.isSelected()&&WC(e,s),!1)},It)),s.listenersToRemove.add(e.registerCommand(Cr,()=>{let m=w();if(!M(m)||!m.isCollapsed()||!An(m,n))return!1;let g=YC(e,m,n);return!!g&&(GC(g,n),!0)},It)),s}function Yd(n){return n[Gd]||null}function _s(n){let t=n;for(;t!=null;){let e=t.nodeName;if(e==="TD"||e==="TH"){let r=t._cell;return r===void 0?null:r}t=t.parentNode}return null}function UC(n,t){if(!n.contains(t))return null;let e=null;for(let r=t;r!=null;r=r.parentNode){if(r===n)return e;let o=r.nodeName;o!=="TD"&&o!=="TH"||(e=r._cell||null)}return null}function oi(n,t){let e=[],r={columns:0,domRows:e,rows:0},o=Dr(n,t).querySelector("tr"),i=0,s=0;for(e.length=0;o!=null;){let a=o.nodeName;if(a==="TD"||a==="TH"){let u={elem:o,hasBackgroundColor:o.style.backgroundColor!=="",highlighted:!1,x:i,y:s};o._cell=u;let d=e[s];d===void 0&&(d=e[s]=[]),d[i]=u}else{let u=o.firstChild;if(u!=null){o=u;continue}}let l=o.nextSibling;if(l!=null){i++,o=l;continue}let c=o.parentNode;if(c!=null){let u=c.nextSibling;if(u==null)break;s++,i=0,o=u}}return r.columns=i+1,r.rows=s+1,r}function ul(n,t,e){let r=new Set(e?e.getNodes():[]);nf(t,(o,i)=>{let s=o.elem;r.has(i)?(o.highlighted=!0,iy(n,o)):(o.highlighted=!1,sy(n,o),s.getAttribute("style")||s.removeAttribute("style"))})}function nf(n,t){let{domRows:e}=n;for(let r=0;r<e.length;r++){let o=e[r];if(o)for(let i=0;i<o.length;i++){let s=o[i];if(!s)continue;let a=ze(s.elem);a!==null&&t(s,a,{x:i,y:r})}}}function WC(n,t){t.$disableHighlightStyle(),nf(t.table,e=>{e.highlighted=!0,iy(n,e)})}var kT=(n,t,e,r,o)=>{let i=o==="forward";switch(o){case"backward":case"forward":return e!==(i?n.table.columns-1:0)?fl(t.getCellNodeFromCordsOrThrow(e+(i?1:-1),r,n.table),i):r!==(i?n.table.rows-1:0)?fl(t.getCellNodeFromCordsOrThrow(i?0:n.table.columns-1,r+(i?1:-1),n.table),i):i?t.selectNext():t.selectPrevious(),!0;case"up":return r!==0?fl(t.getCellNodeFromCordsOrThrow(e,r-1,n.table),!1):t.selectPrevious(),!0;case"down":return r!==n.table.rows-1?fl(t.getCellNodeFromCordsOrThrow(e,r+1,n.table),!0):t.selectNext(),!0;default:return!1}};function Bd(n,t){let e,r;if(t.startColumn===n.minColumn)e="minColumn";else{if(t.startColumn+t.cell.__colSpan-1!==n.maxColumn)return null;e="maxColumn"}if(t.startRow===n.minRow)r="minRow";else{if(t.startRow+t.cell.__rowSpan-1!==n.maxRow)return null;r="maxRow"}return[e,r]}function dl([n,t]){return[n==="minColumn"?"maxColumn":"minColumn",t==="minRow"?"maxRow":"minRow"]}function ti(n,t,[e,r]){let o=t[r],i=n[o];i===void 0&&G(250,r,String(o));let s=t[e],a=i[s];return a===void 0&&G(250,e,String(s)),a}function RT(n,t,e,r,o){let i=gl(t,e,r),s=(function(E,x){let{minColumn:A,maxColumn:v,minRow:D,maxRow:R}=x,$=1,H=1,V=1,q=1,se=E[D],ue=E[R];for(let ge=A;ge<=v;ge++)$=Math.max($,se[ge].cell.__rowSpan),q=Math.max(q,ue[ge].cell.__rowSpan);for(let ge=D;ge<=R;ge++)H=Math.max(H,E[ge][A].cell.__colSpan),V=Math.max(V,E[ge][v].cell.__colSpan);return{bottomSpan:q,leftSpan:H,rightSpan:V,topSpan:$}})(t,i),{topSpan:a,leftSpan:l,bottomSpan:c,rightSpan:u}=s,d=(function(E,x){let A=Bd(E,x);return A===null&&G(249,x.cell.getKey()),A})(i,e),[f,m]=dl(d),g=i[f],h=i[m];o==="forward"?g+=f==="maxColumn"?1:l:o==="backward"?g-=f==="minColumn"?1:u:o==="down"?h+=m==="maxRow"?1:a:o==="up"&&(h-=m==="minRow"?1:c);let p=t[h];if(p===void 0)return!1;let _=p[g];if(_===void 0)return!1;let[C,y]=(function(E,x,A){let v=gl(E,x,A),D=Bd(v,x);if(D)return[ti(E,v,D),ti(E,v,dl(D))];let R=Bd(v,A);if(R)return[ti(E,v,dl(R)),ti(E,v,R)];let $=["minColumn","minRow"];return[ti(E,v,$),ti(E,v,dl($))]})(t,e,_),N=lo(n,C.cell),S=lo(n,y.cell);return n.$setAnchorCellForSelection(N),n.$setFocusCellForSelection(S,!0),!0}function An(n,t){if(M(n)||ye(n)){let e=t.isParentOf(n.anchor.getNode()),r=t.isParentOf(n.focus.getNode());return e&&r}return!1}function fl(n,t){t?n.selectStart():n.selectEnd()}function iy(n,t){let e=t.elem,r=n._config.theme;J(ze(e))||G(131),ce(e,r.tableCellSelected)}function sy(n,t){let e=t.elem;J(ze(e))||G(131);let r=n._config.theme;Nt(e,r.tableCellSelected)}function ri(n){let t=Y(n,J);return J(t)?t:null}function co(n){let t=Y(n,Ie);return Ie(t)?t:null}function IT(n,t,e,r,o,i,s){let a=fr(e.focus,o?"previous":"next");if(sa(a))return!1;let l=a;for(let p of zi(a).iterNodeCarets("shadowRoot")){if(!aa(p)||!P(p.origin))return!1;l=p}let c=l.getParentAtCaret();if(!J(c))return!1;let u=c,d=(function(p){for(let _ of zi(p).iterNodeCarets("root")){let{origin:C}=_;if(J(C)){if(pr(_))return zt(C,p.direction)}else if(!be(C))break}return null})(ft(u,l.direction)),f=Y(u,Ie);if(!f||!f.is(i))return!1;let m=n.getElementByKey(u.getKey()),g=_s(m);if(!m||!g)return!1;let h=cy(n,f);if(s.table=h,d)if(r==="extend"){let p=_s(n.getElementByKey(d.origin.getKey()));if(!p)return!1;s.$setAnchorCellForSelection(g),s.$setFocusCellForSelection(p,!0)}else{let p=un(d);_r(e.anchor,p),_r(e.focus,p)}else if(r==="extend")s.$setAnchorCellForSelection(g),s.$setFocusCellForSelection(g,!0);else{let p=(function(_){let C=Ui(_);return pr(C)?un(C):_})(ft(f,a.direction));_r(e.anchor,p),_r(e.focus,p)}return Zn(t),!0}function ay(n,t,e,r,o){if((e==="up"||e==="down")&&(function(s){let a=s.getRootElement();return a?a.hasAttribute("aria-controls")&&a.getAttribute("aria-controls")==="typeahead-menu":!1})(n))return!1;let i=w();if(!An(i,r)){if(M(i)){if(e==="backward"){if(i.focus.offset>0)return!1;let s=(function(l){for(let c=l,u=l;u!==null;c=u,u=u.getParent())if(P(u)){if(u!==c&&u.getFirstChild()!==c)return null;if(!u.isInline())return u}return null})(i.focus.getNode());if(!s)return!1;let a=s.getPreviousSibling();return!!Ie(a)&&(Zn(t),t.shiftKey?i.focus.set(a.getParentOrThrow().getKey(),a.getIndexWithinParent(),"element"):a.selectEnd(),!0)}if(t.shiftKey&&(e==="up"||e==="down")){let s=i.focus.getNode();if(!i.isCollapsed()&&(e==="up"&&!i.isBackward()||e==="down"&&i.isBackward())){let a=Y(s,f=>Ie(f));if(J(a)&&(a=Y(a,Ie)),a!==r||!a)return!1;let l=e==="down"?a.getNextSibling():a.getPreviousSibling();if(!l)return!1;let c=0;e==="up"&&P(l)&&(c=l.getChildrenSize());let u=l;e==="up"&&P(l)&&(u=l.getLastChild()||l,c=U(u)?u.getTextContentSize():0);let d=i.clone();return d.focus.set(u.getKey(),c,U(u)?"text":"element"),Ge(d),Zn(t),!0}if(Et(s)){let a=e==="up"?i.getNodes()[i.getNodes().length-1]:i.getNodes()[0];if(a&&ps(r,a)!==null){let l=r.getFirstDescendant(),c=r.getLastDescendant();if(!l||!c)return!1;let[u]=Qe(l),[d]=Qe(c),f=r.getCordsFromCellNode(u,o.table),m=r.getCordsFromCellNode(d,o.table),g=r.getDOMCellFromCordsOrThrow(f.x,f.y,o.table),h=r.getDOMCellFromCordsOrThrow(m.x,m.y,o.table);return o.$setAnchorCellForSelection(g),o.$setFocusCellForSelection(h,!0),!0}return!1}{let a=Y(s,c=>P(c)&&!c.isInline());if(J(a)&&(a=Y(a,Ie)),!a)return!1;let l=e==="down"?a.getNextSibling():a.getPreviousSibling();if(Ie(l)&&o.tableNodeKey===l.getKey()){let c=l.getFirstDescendant(),u=l.getLastDescendant();if(!c||!u)return!1;let[d]=Qe(c),[f]=Qe(u),m=i.clone();return m.focus.set((e==="up"?d:f).getKey(),e==="up"?0:f.getChildrenSize(),"element"),Zn(t),Ge(m),!0}}}}return e==="down"&&Cs(n)&&o.setShouldCheckSelection(),!1}if(M(i)){if(e==="backward"||e==="forward")return IT(n,t,i,t.shiftKey?"extend":"move",e==="backward",r,o);if(i.isCollapsed()){let{anchor:s,focus:a}=i,l=Y(s.getNode(),J),c=Y(a.getNode(),J);if(!J(l)||!l.is(c))return!1;let u=co(l);if(u!==r&&u!=null){let _=Dr(u,n.getElementByKey(u.getKey()));if(_!=null)return o.table=oi(u,_),ay(n,t,e,u,o)}let d=n.getElementByKey(l.__key),f=n.getElementByKey(s.key);if(f==null||d==null)return!1;let m;if(s.type==="element")m=f.getBoundingClientRect();else{let _=Er(tf(n));if(_===null||_.rangeCount===0)return!1;m=_.getRangeAt(0).getBoundingClientRect()}let g=e==="up"?l.getFirstChild():l.getLastChild();if(g==null)return!1;let h=n.getElementByKey(g.__key);if(h==null)return!1;let p=h.getBoundingClientRect();if(e==="up"?p.top>m.top-m.height:m.bottom+m.height>p.bottom){Zn(t);let _=r.getCordsFromCellNode(l,o.table);if(!t.shiftKey)return kT(o,r,_.x,_.y,e);{let C=r.getDOMCellFromCordsOrThrow(_.x,_.y,o.table);o.$setAnchorCellForSelection(C),o.$setFocusCellForSelection(C,!0)}return!0}}}else if(ye(i)){let{anchor:s,focus:a}=i,l=Y(s.getNode(),J),c=Y(a.getNode(),J),[u]=i.getNodes();Ie(u)||G(251);let d=Dr(u,n.getElementByKey(u.getKey()));if(!J(l)||!J(c)||!Ie(u)||d==null)return!1;o.$updateTableTableSelection(i);let f=oi(u,d),m=r.getCordsFromCellNode(l,f),g=r.getDOMCellFromCordsOrThrow(m.x,m.y,f);if(o.$setAnchorCellForSelection(g),Zn(t),t.shiftKey){let[h,p,_]=Ct(r,l,c);return RT(o,h,p,_,e)}return c.selectEnd(),!0}return!1}function Zn(n){n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation()}function GC(n,t,e){let r=Q();n==="first"?t.insertBefore(r):t.insertAfter(r),r.append(...e||[]),r.selectEnd()}function YC(n,t,e){let r=e.getParent();if(!r)return;let o=Er(tf(n));if(!o)return;let i=o.anchorNode,s=n.getElementByKey(r.getKey()),a=Dr(e,n.getElementByKey(e.getKey()));if(!i||!s||!a||!s.contains(i)||a.contains(i))return;let l=Y(t.anchor.getNode(),C=>J(C));if(!l)return;let c=Y(l,C=>Ie(C));if(!Ie(c)||!c.is(e))return;let[u,d]=Ct(e,l,l),f=u[0][0],m=u[u.length-1][u[0].length-1],{startRow:g,startColumn:h}=d,p=g===f.startRow&&h===f.startColumn,_=g===m.startRow&&h===m.startColumn;return p?"first":_?"last":void 0}function lo(n,t){let{tableNode:e}=n.$lookup(),r=e.getCordsFromCellNode(t,n.table);return e.getDOMCellFromCordsOrThrow(r.x,r.y,n.table)}function jd(n,t,e){return ps(n,ze(t,e))}function jC(n,t,e){if(!t.theme.tableAlignment)return;let r=[],o=[];for(let i of["center","right"]){let s=t.theme.tableAlignment[i];s&&(i===e?o:r).push(s)}Nt(n,...r),ce(n,...o)}var Jd=new WeakSet;function Cs(n=zn()){return Jd.has(n)}function ly(n,t){t?Jd.add(n):Jd.delete(n)}var vn=class n extends ut{constructor(e){super(e);O(this,"__rowStriping");O(this,"__frozenColumnCount");O(this,"__frozenRowCount");O(this,"__colWidths");this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0,this.__colWidths=void 0}static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){let r=this.getWritable();return r.__colWidths=e,r}static clone(e){return new n(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:FT,priority:1})}}static importJSON(e){return _l().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,r,o){return o==="html"}getDOMSlot(e){let r=ni(e)?e:e.querySelector("table");return ni(r)||G(229),super.getDOMSlot(e).withElement(r).withAfter(r.querySelector("colgroup"))}createDOM(e,r){let o=document.createElement("table");this.__style&&(o.style.cssText=this.__style);let i=document.createElement("colgroup");if(o.appendChild(i),Pp(i),ce(o,e.theme.table),this.updateTableElement(null,o,e),Cs(r)){let s=document.createElement("div"),a=e.theme.tableScrollableWrapper;return a?ce(s,a):s.style.cssText="overflow-x: auto;",s.appendChild(o),this.updateTableWrapper(null,s,o,e),s}return o}updateTableWrapper(e,r,o,i){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&(function(s,a,l,c){c>0?(ce(s,l.theme.tableFrozenColumn),a.setAttribute("data-lexical-frozen-column","true")):(Nt(s,l.theme.tableFrozenColumn),a.removeAttribute("data-lexical-frozen-column"))})(r,o,i,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&(function(s,a,l,c){c>0?(ce(s,l.theme.tableFrozenRow),a.setAttribute("data-lexical-frozen-row","true")):(Nt(s,l.theme.tableFrozenRow),a.removeAttribute("data-lexical-frozen-row"))})(r,o,i,this.__frozenRowCount)}updateTableElement(e,r,o){this.__style!==(e?e.__style:"")&&(r.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&(function(i,s,a){a?(ce(i,s.theme.tableRowStriping),i.setAttribute("data-lexical-row-striping","true")):(Nt(i,s.theme.tableRowStriping),i.removeAttribute("data-lexical-row-striping"))})(r,o,this.__rowStriping),(function(i,s,a,l){let c=i.querySelector("colgroup");if(!c)return;let u=[];for(let d=0;d<a;d++){let f=document.createElement("col"),m=l&&l[d];m&&(f.style.width=`${m}px`),u.push(f)}c.replaceChildren(...u)})(r,0,this.getColumnCount(),this.getColWidths()),jC(r,o,this.getFormatType())}updateDOM(e,r,o){let i=this.getDOMSlot(r).element;return r===i===Cs()||(je(s=r)&&s.nodeName==="DIV"&&this.updateTableWrapper(e,r,i,o),this.updateTableElement(e,i,o),!1);var s}exportDOM(e){let r=super.exportDOM(e),{element:o}=r;return{after:i=>{if(r.after&&(i=r.after(i)),!ni(i)&&je(i)&&(i=i.querySelector("table")),!ni(i))return null;jC(i,e._config,this.getFormatType());let[s]=Qn(this,null,null),a=new Map;for(let d of s)for(let f of d){let m=f.cell.getKey();a.has(m)||a.set(m,{colSpan:f.cell.getColSpan(),startColumn:f.startColumn})}let l=new Set;for(let d of i.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){let f=d.getAttribute("data-temporary-table-cell-lexical-key");if(f){let m=a.get(f);if(d.removeAttribute("data-temporary-table-cell-lexical-key"),m){a.delete(f);for(let g=0;g<m.colSpan;g++)l.add(g+m.startColumn)}}}let c=i.querySelector(":scope > colgroup");if(c){let d=Array.from(i.querySelectorAll(":scope > colgroup > col")).filter((f,m)=>l.has(m));c.replaceChildren(...d)}let u=i.querySelectorAll(":scope > tr");if(u.length>0){let d=document.createElement("tbody");for(let f of u)d.appendChild(f);i.append(d)}return i},element:!ni(o)&&je(o)?o.querySelector("table"):o}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,r){let{rows:o,domRows:i}=r;for(let s=0;s<o;s++){let a=i[s];if(a!=null)for(let l=0;l<a.length;l++){let c=a[l];if(c==null)continue;let{elem:u}=c,d=jd(this,u);if(d!==null&&e.is(d))return{x:l,y:s}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,r,o){let{domRows:i}=o,s=i[r];if(s==null)return null;let a=s[e<s.length?e:s.length-1];return a??null}getDOMCellFromCordsOrThrow(e,r,o){let i=this.getDOMCellFromCords(e,r,o);if(!i)throw new Error("Cell not found at cords.");return i}getCellNodeFromCords(e,r,o){let i=this.getDOMCellFromCords(e,r,o);if(i==null)return null;let s=ze(i.elem);return J(s)?s:null}getCellNodeFromCordsOrThrow(e,r,o){let i=this.getCellNodeFromCords(e,r,o);if(!i)throw new Error("Node at cords not TableCellNode.");return i}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(e){let r=this.getWritable();return r.__rowStriping=e,r}setFrozenColumns(e){let r=this.getWritable();return r.__frozenColumnCount=e,r}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){let r=this.getWritable();return r.__frozenRowCount=e,r}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){let e=this.getFirstChild();if(!e)return 0;let r=0;return e.getChildren().forEach(o=>{J(o)&&(r+=o.getColSpan())}),r}};function cy(n,t){let e=n.getElementByKey(t.getKey());return e===null&&G(230),oi(t,e)}function FT(n){let t=_l();n.hasAttribute("data-lexical-row-striping")&&t.setRowStriping(!0),n.hasAttribute("data-lexical-frozen-column")&&t.setFrozenColumns(1),n.hasAttribute("data-lexical-frozen-row")&&t.setFrozenRows(1);let e=n.querySelector(":scope > colgroup");if(e){let r=[];for(let o of e.querySelectorAll(":scope > col")){let i=o.style.width||"";if(!Vd.test(i)&&(i=o.getAttribute("width")||"",!/^\d+$/.test(i))){r=void 0;break}r.push(parseFloat(i))}r&&t.setColWidths(r)}return{after:r=>ku(r,be),node:t}}function _l(){return ke(new vn)}function Ie(n){return n instanceof vn}function $T(n){be(n.getParent())?n.isEmpty()&&n.append(Q()):n.remove()}function PT(n){Ie(n.getParent())?Ru(n,J):n.remove()}function BT(n){Ru(n,be);let[t]=Qn(n,null,null),e=t.reduce((s,a)=>Math.max(s,a.length),0),r=n.getChildren();for(let s=0;s<t.length;++s){let a=r[s];if(!a)continue;be(a)||G(254,a.constructor.name,a.getType());let l=t[s].reduce((c,u)=>u?1+c:c,0);if(l!==e)for(let c=l;c<e;++c){let u=Pt();u.append(Q()),a.append(u)}}let o=n.getColWidths(),i=n.getColumnCount();if(o&&o.length!==i){let s;if(i<o.length)s=o.slice(0,i);else if(o.length>0){let a=o[o.length-1];s=[...o,...Array(i-o.length).fill(a)]}n.setColWidths(s)}}function KT(n){if(n.detail<3||!Ft(n.target))return!1;let t=ze(n.target);if(t===null)return!1;let e=Y(t,r=>P(r)&&!r.isInline());return e===null?!1:!!J(e.getParent())&&(e.select(0),!0)}function uy(n){return n.registerNodeTransform(On,t=>{if(t.getColSpan()>1||t.getRowSpan()>1){let[,,e]=Qe(t),[r]=Ct(e,t,t),o=r.length,i=r[0].length,s=e.getFirstChild();be(s)||G(175);let a=[];for(let l=0;l<o;l++){l!==0&&(s=s.getNextSibling(),be(s)||G(175));let c=null;for(let u=0;u<i;u++){let d=r[l][u],f=d.cell;if(d.startRow===l&&d.startColumn===u)c=f,a.push(f);else if(f.getColSpan()>1||f.getRowSpan()>1){J(f)||G(176);let m=Pt(f.__headerState);c!==null?c.insertAfter(m):ym(s,m)}}}for(let l of a)l.setColSpan(1),l.setRowSpan(1)}})}function dy(n,t=!0){let e=new Map,r=(i,s,a)=>{let l=Dr(i,a),c=oy(i,l,n,t);e.set(s,[c,l])},o=n.registerMutationListener(vn,i=>{n.getEditorState().read(()=>{for(let[s,a]of i){let l=e.get(s);if(a==="created"||a==="updated"){let{tableNode:c,tableElement:u}=ef(s);l===void 0?r(c,s,u):u!==l[1]&&(l[0].removeListeners(),e.delete(s),r(c,s,u))}else a==="destroyed"&&l!==void 0&&(l[0].removeListeners(),e.delete(s))}},{editor:n})},{skipInitialization:!1});return()=>{o();for(let[,[i]]of e)i.removeListeners()}}function fy(n,t){n.hasNodes([vn])||G(255);let{hasNestedTables:e=r_(!1)}=t??{};return Se(n.registerCommand(JC,r=>(function({rows:o,columns:i,includeHeaders:s},a){let l=w()||Un();if(!l||!M(l)||!a&&co(l.anchor.getNode()))return!1;let c=VC(Number(o),Number(i),s);Ia(c);let u=c.getFirstDescendant();return U(u)&&u.select(),!0})(r,e.peek()),ne),n.registerCommand(Xi,({nodes:r,selection:o},i)=>e.peek()||n!==i||!M(o)?!1:co(o.anchor.getNode())!==null&&r.some(Ie),ne),n.registerCommand(Po,KT,ne),n.registerNodeTransform(vn,BT),n.registerNodeTransform(uo,PT),n.registerNodeTransform(On,$T))}var HT=me({build:(n,t,e)=>fn(t),config:mt({hasCellBackgroundColor:!0,hasCellMerge:!0,hasHorizontalScroll:!0,hasNestedTables:!1,hasTabHandler:!0}),name:"@lexical/table/Table",nodes:()=>[vn,uo,On],register(n,t,e){let r=e.getOutput(),{hasNestedTables:o}=r;return Se(Mt(()=>{let i=r.hasHorizontalScroll.value;Cs(n)!==i&&(ly(n,i),n.registerNodeTransform(vn,()=>{})())}),fy(n,{hasNestedTables:o}),Mt(()=>dy(n,r.hasTabHandler.value)),Mt(()=>r.hasCellMerge.value?void 0:uy(n)),Mt(()=>r.hasCellBackgroundColor.value?void 0:n.registerNodeTransform(On,i=>{i.getBackgroundColor()!==null&&i.setBackgroundColor(null)})))}});var Z=rf,ID=Z.$computeTableMap,FD=Z.$computeTableMapSkipCellCheck,gy=Z.$createTableCellNode,hy=Z.$createTableNode,$D=Z.$createTableNodeWithDimensions,py=Z.$createTableRowNode,PD=Z.$createTableSelection,BD=Z.$createTableSelectionFrom,KD=Z.$deleteTableColumn,HD=Z.$deleteTableColumnAtSelection,my=Z.$deleteTableColumn__EXPERIMENTAL,zD=Z.$deleteTableRowAtSelection,_y=Z.$deleteTableRow__EXPERIMENTAL,UD=Z.$findCellNode,WD=Z.$findTableNode,GD=Z.$getElementForTableNode,YD=Z.$getNodeTriplet,jD=Z.$getTableAndElementByKey,Cl=Z.$getTableCellNodeFromLexicalNode,JD=Z.$getTableCellNodeRect,Cy=Z.$getTableColumnIndexFromTableCellNode,VD=Z.$getTableNodeFromLexicalNodeOrThrow,yy=Z.$getTableRowIndexFromTableCellNode,XD=Z.$getTableRowNodeFromTableCellNodeOrThrow,qD=Z.$insertTableColumn,ZD=Z.$insertTableColumnAtSelection,xy=Z.$insertTableColumn__EXPERIMENTAL,QD=Z.$insertTableRow,eL=Z.$insertTableRowAtSelection,Ey=Z.$insertTableRow__EXPERIMENTAL,tL=Z.$isScrollableTablesActive,ii=Z.$isTableCellNode,Yt=Z.$isTableNode,zT=Z.$isTableRowNode,et=Z.$isTableSelection,nL=Z.$mergeCells,rL=Z.$removeTableRowAtIndex,Ny=Z.$unmergeCell,oL=Z.INSERT_TABLE_COMMAND,of=Z.TableCellHeaderStates,sf=Z.TableCellNode,iL=Z.TableExtension,af=Z.TableNode,sL=Z.TableObserver,lf=Z.TableRowNode,aL=Z.applyTableHandlers,lL=Z.getDOMCellFromTarget,cL=Z.getTableElement,uL=Z.getTableObserverFromTableElement,dL=Z.registerTableCellUnmergeTransform,Sy=Z.registerTablePlugin,fL=Z.registerTableSelectionObserver,gL=Z.setScrollableTablesActive;var ai=8,li=72,si=15;var Ty={bullet:"Bulleted List",check:"Check List",code:"Code Block",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",number:"Numbered List",paragraph:"Normal",quote:"Quote"},by={none:!1,bgColor:"#fff",blockType:"paragraph",canRedo:!1,canUndo:!1,cannotRedo:!0,cannotUndo:!0,codeLanguage:"",elementFormat:"left",fontColor:"#000",fontFamily:"Arial",fontSize:`${si}px`,fontSizeInputValue:`${si}`,isBold:!1,isCode:!1,isImageCaption:!1,isItalic:!1,isLink:!1,isRTL:!1,isStrikethrough:!1,isSubscript:!1,isSuperscript:!1,isUnderline:!1,isLowercase:!1,isUppercase:!1,isCapitalize:!1,rootType:"root"};var Ay={autocomplete:"lexical__autocomplete",blockCursor:"lexical__blockCursor",characterLimit:"lexical__characterLimit",code:"lexical__code",codeHighlight:{atrule:"lexical__tokenAttr",attr:"lexical__tokenAttr",boolean:"lexical__tokenProperty",builtin:"lexical__tokenSelector",cdata:"lexical__tokenComment",char:"lexical__tokenSelector",class:"lexical__tokenFunction","class-name":"lexical__tokenFunction",comment:"lexical__tokenComment",constant:"lexical__tokenProperty",deleted:"lexical__tokenProperty",doctype:"lexical__tokenComment",entity:"lexical__tokenOperator",function:"lexical__tokenFunction",important:"lexical__tokenVariable",inserted:"lexical__tokenSelector",keyword:"lexical__tokenAttr",namespace:"lexical__tokenVariable",number:"lexical__tokenProperty",operator:"lexical__tokenOperator",prolog:"lexical__tokenComment",property:"lexical__tokenProperty",punctuation:"lexical__tokenPunctuation",regex:"lexical__tokenVariable",selector:"lexical__tokenSelector",string:"lexical__tokenSelector",symbol:"lexical__tokenProperty",tag:"lexical__tokenProperty",url:"lexical__tokenOperator",variable:"lexical__tokenVariable"},embedBlock:{base:"lexical__embedBlock",focus:"lexical__embedBlockFocus"},hashtag:"lexical__hashtag",heading:{h1:"lexical__h1",h2:"lexical__h2",h3:"lexical__h3",h4:"lexical__h4",h5:"lexical__h5",h6:"lexical__h6"},hr:"lexical__hr",image:"lexical__editor-image",indent:"lexical__indent",inlineImage:"lexical__inline-editor-image",layoutContainer:"lexical__layoutContainer",layoutItem:"lexical__layoutItem",link:"lexical__link",list:{checklist:"lexical__checklist",listitem:"lexical__listItem",listitemChecked:"lexical__listItemChecked",listitemUnchecked:"lexical__listItemUnchecked",nested:{listitem:"lexical__nestedListItem"},olDepth:["lexical__ol1","lexical__ol2","lexical__ol3","lexical__ol4","lexical__ol5"],ul:"lexical__ul"},ltr:"lexical__ltr",mark:"lexical__mark",markOverlap:"lexical__markOverlap",paragraph:"lexical__paragraph",quote:"lexical__quote",rtl:"lexical__rtl",table:"lexical__table",tableAddColumns:"lexical__tableAddColumns",tableAddRows:"lexical__tableAddRows",tableCell:"lexical__tableCell",tableCellActionButton:"lexical__tableCellActionButton",tableCellActionButtonContainer:"lexical__tableCellActionButtonContainer",tableCellEditing:"lexical__tableCellEditing",tableCellHeader:"lexical__tableCellHeader",tableCellPrimarySelected:"lexical__tableCellPrimarySelected",tableCellResizer:"lexical__tableCellResizer",tableCellSelected:"lexical__tableCellSelected",tableCellSortedIndicator:"lexical__tableCellSortedIndicator",tableResizeRuler:"lexical__tableCellResizeRuler",tableSelected:"lexical__tableSelected",tableSelection:"lexical__tableSelection",text:{bold:"lexical__textBold",code:"lexical__textCode",italic:"lexical__textItalic",strikethrough:"lexical__textStrikethrough",subscript:"lexical__textSubscript",superscript:"lexical__textSuperscript",underline:"lexical__textUnderline",underlineStrikethrough:"lexical__textUnderlineStrikethrough",lowercase:"lexical__textLowercase",uppercase:"lexical__textUppercase",capitalize:"lexical__textCapitalize"}},Oy=(n,t)=>{if(!t)return n;let e=n;switch(t){case 2:switch(!0){case n>li:e=li;break;case n>=48:e-=12;break;case n>=24:e-=4;break;case n>=14:e-=2;break;case n>=9:e-=1;break;default:e=ai;break}break;case 1:switch(!0){case n<ai:e=ai;break;case n<12:e+=1;break;case n<20:e+=2;break;case n<36:e+=4;break;case n<=60:e+=12;break;default:e=li;break}break;default:break}return e},cf=(n,t,e)=>{let r=o=>(o||(o=`${si}px`),o=o.slice(0,-2),`${Oy(Number(o),e)}px`);n.update(()=>{if(!n.isEditable())return;let o=w();o!==null&&Wo(o,{"font-size":t||r})})},ci=(n,t,e)=>{let r=e.value;if(r!==""){let o=Oy(Number(r),t);cf(n,String(o)+"px",null),e.value=o.toString();return}cf(n,null,t)},uf=function(n,t,e){if(t==null)return;let r=t;t>li?(r=li,e.value=r.toString()):t<ai&&(r=ai,e.value=r.toString()),cf(n,String(r)+"px",null)},ui=n=>{n.update(()=>{let t=w();M(t)&&Sr(t,()=>Q())})},vy=(n,t,e)=>{t!==e&&n.update(()=>{let r=w();Sr(r,()=>Ya(e))})},My=(n,t)=>{if(t!=="bullet"){n.dispatchCommand(al,void 0);return}ui(n)},wy=(n,t)=>{if(t!=="check"){n.dispatchCommand(vC,void 0);return}ui(n)},Dy=(n,t)=>{if(t!=="number"){n.dispatchCommand(sl,void 0);return}ui(n)},yl=(n,t)=>{t!=="quote"&&n.update(()=>{let e=w();Sr(e,()=>g_())})},xl=(n,t)=>{t!=="code"&&n.update(()=>{let e=w();if(e!==null)if(e.isCollapsed())Sr(e,()=>Sd());else{let r=e.getTextContent(),o=Sd();e.insertNodes([o]),e=w(),M(e)&&e.insertRawText(r)}})},ys=function(n){let t=n.anchor,e=n.focus,r=n.anchor.getNode(),o=n.focus.getNode();return r===o?r:n.isBackward()?Tu(e)?r:o:Tu(t)?o:r},El=n=>{ui(n),n.update(()=>{let t=w();if(!(M(t)||et(t)))return;let e=t.anchor,r=t.focus,o=t.getNodes(),i=t.extract();e.key===r.key&&e.offset===r.offset||o.forEach((s,a)=>{if(U(s)){let l=s;a===0&&e.offset!==0&&(l=l.splitText(e.offset)[1]||l),a===o.length-1&&(l=l.splitText(r.offset)[0]||l);let c=i[0];o.length===1&&U(c)&&(l=c),l.__style!==""&&l.setStyle(""),l.__format!==0&&(l.setFormat(0),qr(l).setFormat("")),s=l}else ja(s)||h_(s)?s.replace(Q(),!0):Zt(s)&&s.replace(Ze(s.getTextContent()),!1)})})};var UT=new Set(["http:","https:","mailto:","sms:","tel:"]),LL=new RegExp(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/),WT=/^\/[a-zA-Z0-9\-_\/\.]*$/;function di(n){return WT.test(n)}function Ly(n,t=!0){if(t&&di(n))return n;try{let e=new URL(n);return UT.has(e.protocol)?n:"about:blank"}catch{return"about:blank"}}function Ry(n){return n.registerCommand(vr,t=>{let e=w();if(!M(e))return!1;let r=n.getElementByKey(Ue().getKey());if(!r)return!1;let o=ys(e),i=o.getParent(),s=null,a="_blank",l="noopener noreferrer";if(t===null?s=null:typeof t=="string"?(s=Ly(t),di(t)&&(a="_self",l="")):typeof t=="object"&&(s=Ly(t.url),a=t.target??(di(t.url)?"_self":"_blank"),l=t.rel??(a==="_blank"?"noopener noreferrer":"")),Zt(i)||Zt(o))return Md(s,{rel:l||void 0,target:a}),s===null&&r.dispatchEvent(new CustomEvent("close-link-editor-dialog")),!0;let c="https://";return Md(c,{rel:"noopener noreferrer",target:"_blank"}),n.read(()=>{let u=w();if(!M(u))return;let d=ys(u),m=(Y(d,Zt)??d).getKey(),g=n.getElementByKey(m);g&&r.dispatchEvent(new CustomEvent("link-created",{detail:{url:c,target:g}}))}),!0},oe),n.registerRootListener((t,e)=>{e&&(e.removeEventListener("click",df),e.removeEventListener("mouseup",ky)),t&&(t.addEventListener("click",df),t.addEventListener("mouseup",ky))})}var df=n=>{let t=n.target;if(!Ft(t))return;let e=Uo(t);if(e===null)return;let r=null,o=null;if(e.update(()=>{let s=ze(t);if(s===null)return;let a=Y(s,Zt);if(Zt(a)){r=a.getURL(),o=a.getTarget();return}let l=GT(t,Oa);l&&(r=l.href,o=l.target)}),!r)return;let i=e.getEditorState().read(w);if(M(i)&&!i.isCollapsed()){n.preventDefault();return}e.read(()=>{let s=e.getElementByKey(Ue().getKey());s&&s.dispatchEvent(new CustomEvent("link-clicked",{detail:{url:r,target:t,urlTarget:o,isInternal:di(r||"")}}))})},ky=n=>{n.button===1&&df(n)};function GT(n,t){let e=n;for(;e;){if(t(e))return e;e=e.parentNode}return null}var Mn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";var YT=Mn&&"documentMode"in document?document.documentMode:null,he=Mn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),FL=Mn&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),$L=Mn&&"InputEvent"in window&&!YT?"getTargetRanges"in new window.InputEvent("input"):!1,PL=Mn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),BL=Mn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,KL=Mn&&/Android/.test(navigator.userAgent),jT=Mn&&/^(?=.*Chrome).*/i.test(navigator.userAgent);var HL=Mn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!jT;var WL=Object.freeze({NORMAL:he?"\u2318+Opt+0":"Ctrl+Alt+0",HEADING1:he?"\u2318+Opt+1":"Ctrl+Alt+1",HEADING2:he?"\u2318+Opt+2":"Ctrl+Alt+2",HEADING3:he?"\u2318+Opt+3":"Ctrl+Alt+3",BULLET_LIST:he?"\u2318+Opt+4":"Ctrl+Alt+4",NUMBERED_LIST:he?"\u2318+Opt+5":"Ctrl+Alt+5",CHECK_LIST:he?"\u2318+Opt+6":"Ctrl+Alt+6",CODE_BLOCK:he?"\u2318+Opt+C":"Ctrl+Alt+C",QUOTE:he?"\u2318+Opt+Q":"Ctrl+Alt+Q",INCREASE_FONT_SIZE:he?"\u2318+Shift+.":"Ctrl+Shift+.",DECREASE_FONT_SIZE:he?"\u2318+Shift+,":"Ctrl+Shift+,",INSERT_CODE_BLOCK:he?"\u2318+Shift+C":"Ctrl+Shift+C",STRIKETHROUGH:he?"\u2318+Shift+S":"Ctrl+Shift+S",LOWERCASE:he?"\u2318+Shift+1":"Ctrl+Shift+1",UPPERCASE:he?"\u2318+Shift+2":"Ctrl+Shift+2",CAPITALIZE:he?"\u2318+Shift+3":"Ctrl+Shift+3",CENTER_ALIGN:he?"\u2318+Shift+E":"Ctrl+Shift+E",JUSTIFY_ALIGN:he?"\u2318+Shift+J":"Ctrl+Shift+J",LEFT_ALIGN:he?"\u2318+Shift+L":"Ctrl+Shift+L",RIGHT_ALIGN:he?"\u2318+Shift+R":"Ctrl+Shift+R",SUBSCRIPT:he?"\u2318+,":"Ctrl+,",SUPERSCRIPT:he?"\u2318+.":"Ctrl+.",INDENT:he?"\u2318+]":"Ctrl+]",OUTDENT:he?"\u2318+[":"Ctrl+[",CLEAR_FORMATTING:he?"\u2318+\\":"Ctrl+\\",REDO:he?"\u2318+Shift+Z":"Ctrl+Y",UNDO:he?"\u2318+Z":"Ctrl+Z",BOLD:he?"\u2318+B":"Ctrl+B",ITALIC:he?"\u2318+I":"Ctrl+I",UNDERLINE:he?"\u2318+U":"Ctrl+U",INSERT_LINK:he?"\u2318+K":"Ctrl+K"});function De(n,t){return he?n:t}function Iy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad0"||t==="Digit0")&&!e&&r&&De(o,i)}function Fy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n,s=t[t.length-1];return["1","2","3","4","5","6"].includes(s)&&!e&&r&&De(o,i)}function $y(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad7"||t==="Digit7")&&!e&&r&&De(o,i)}function Py(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad8"||t==="Digit8")&&!e&&r&&De(o,i)}function By(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad6"||t==="Digit6")&&!e&&r&&De(o,i)}function Ky(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyC"&&!e&&r&&De(o,i)}function Hy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyQ"&&!e&&r&&De(o,i)}function zy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad1"||t==="Digit1")&&e&&!r&&De(o,i)}function Uy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad2"||t==="Digit2")&&e&&!r&&De(o,i)}function Wy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad3"||t==="Digit3")&&e&&!r&&De(o,i)}function Gy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyS"&&e&&!r&&De(o,i)}function Yy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="BracketRight"&&!e&&!r&&De(o,i)}function jy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="BracketLeft"&&!e&&!r&&De(o,i)}function Jy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyE"&&e&&!r&&De(o,i)}function Vy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyL"&&e&&!r&&De(o,i)}function Xy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyR"&&e&&!r&&De(o,i)}function qy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyJ"&&e&&!r&&De(o,i)}function Zy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="BracketLeft"&&e&&!r&&De(o,i)}function Qy(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="BracketRight"&&e&&!r&&De(o,i)}function ex(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="Comma"&&!e&&!r&&De(o,i)}function tx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="Period"&&!e&&!r&&De(o,i)}function nx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyC"&&e&&!r&&De(o,i)}function rx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="Period"&&e&&!r&&De(o,i)}function ox(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="Comma"&&e&&!r&&De(o,i)}function ix(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="Slash"&&!e&&!r&&De(o,i)}function sx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyK"&&!e&&!r&&De(o,i)}function ax(n){let t=e=>{if(Iy(e))return e.preventDefault(),ui(n),!0;if(Fy(e)){e.preventDefault();let{code:r}=e,o=`h${r[r.length-1]}`;return vy(n,"",o),!0}if($y(e))return e.preventDefault(),My(n,""),!0;if(Py(e))return e.preventDefault(),Dy(n,""),!0;if(By(e))return e.preventDefault(),wy(n,""),!0;if(Ky(e))return e.preventDefault(),xl(n,""),!0;if(Hy(e))return e.preventDefault(),yl(n,""),!0;if(Gy(e))return e.preventDefault(),n.dispatchCommand(At,"strikethrough"),!0;if(zy(e))return e.preventDefault(),n.dispatchCommand(At,"lowercase"),!0;if(Uy(e))return e.preventDefault(),n.dispatchCommand(At,"uppercase"),!0;if(Wy(e))return e.preventDefault(),n.dispatchCommand(At,"capitalize"),!0;if(Yy(e))return e.preventDefault(),n.dispatchCommand(pt,void 0),!0;if(jy(e))return e.preventDefault(),n.dispatchCommand(Ot,void 0),!0;if(Jy(e))return e.preventDefault(),n.dispatchCommand(Ut,"center"),!0;if(Vy(e))return e.preventDefault(),n.dispatchCommand(Ut,"left"),!0;if(Xy(e))return e.preventDefault(),n.dispatchCommand(Ut,"right"),!0;if(qy(e))return e.preventDefault(),n.dispatchCommand(Ut,"justify"),!0;if(Zy(e))return e.preventDefault(),n.dispatchCommand(Ut,"start"),!0;if(Qy(e))return e.preventDefault(),n.dispatchCommand(Ut,"end"),!0;if(ex(e))return e.preventDefault(),n.dispatchCommand(At,"subscript"),!0;if(tx(e))return e.preventDefault(),n.dispatchCommand(At,"superscript"),!0;if(nx(e))return e.preventDefault(),n.dispatchCommand(At,"code"),!0;if(rx(e)){e.preventDefault();let o=e.target?.closest(".editor-shell")?.querySelector('[x-ref="fontSize"]');return o&&ci(n,1,o),!0}if(ox(e)){e.preventDefault();let o=e.target?.closest(".editor-shell")?.querySelector('[x-ref="fontSize"]');return o&&ci(n,2,o),!0}return ix(e)?(e.preventDefault(),El(n),!0):sx(e)?(e.preventDefault(),n.dispatchCommand(vr,null),!0):!1};return n.registerCommand(Ep,t,hp)}function Nl(n){if(!n)return"";if(n.startsWith("/"))return n;try{let t=new URL(n);return t.protocol==="http:"||t.protocol==="https:"?t.toString():""}catch{return""}}var fi=class n extends Ko{static getType(){return"image"}static clone(t){return new n(t.__src,t.__altText,t.__maxWidth,t.__width,t.__height,t.__showCaption,t.__caption,t.__captionsEnabled,t.__key)}static importJSON(t){let{altText:e,height:r,width:o,maxWidth:i,caption:s,src:a,showCaption:l}=t,c=ff({altText:e,height:r,maxWidth:i,showCaption:l,src:a,width:o}),u=c.__caption,d=u.parseEditorState(s.editorState);return d.isEmpty()||u.setEditorState(d),c}exportDOM(){let t=document.createElement("img");return t.setAttribute("src",this.__src),t.setAttribute("alt",this.__altText),typeof this.__width=="number"&&this.__width>0&&t.setAttribute("width",String(this.__width)),typeof this.__height=="number"&&this.__height>0&&t.setAttribute("height",String(this.__height)),{element:t}}static importDOM(){return{img:()=>({conversion:VT,priority:0})}}constructor(t,e,r,o,i,s,a,l,c){super(c),this.__src=Nl(t),this.__altText=e,this.__maxWidth=r,this.__width=o||"inherit",this.__height=i||"inherit",this.__showCaption=s||!1,this.__caption=a||zo(),this.__captionsEnabled=l||l===void 0}exportJSON(){return{altText:this.getAltText(),caption:this.__caption.toJSON(),height:this.__height==="inherit"?0:this.__height,maxWidth:this.__maxWidth,showCaption:this.__showCaption,src:this.getSrc(),type:"image",version:1,width:this.__width==="inherit"?0:this.__width}}setWidthAndHeight(t,e){let r=this.getWritable();r.__width=t,r.__height=e}setAltText(t){let e=this.getWritable();e.__altText=t}createDOM(t){let e=document.createElement("span"),o=t.theme.image;o&&(e.className=o),e.classList.add("relative","image-span");let i=document.createElement("img"),s=Nl(this.__src);s&&i.setAttribute("src",s),i.setAttribute("alt",this.__altText),i.style.width=this.__width==="inherit"||this.__width===0?"":`${this.__width}px`,i.style.height="auto";let a="focused";i.onclick=()=>{i.classList.toggle(a)},i.setAttribute("x-on:click.outside",`$el.classList.remove("${a}")`),e.appendChild(i);let l=document.createElement("button");l.type="button",l.style.width="2rem",l.style.height="2rem",l.className="image-editor-button bg-gray-200 rounded-full",l.style.top="0",l.style.right="0",l.style.position="absolute";let c=document.createElement("i");return c.className="edit",c.style.width="1.5rem",c.style.height="1.5rem",c.style.display="block",c.style.margin="auto",l.appendChild(c),l.setAttribute("x-on:click",`openImageEditor('${this.getKey()}')`),e.appendChild(l),e}updateDOM(t,e,r){let o=e.querySelector("img");if(!o)return!0;o.style.width=this.__width==="inherit"||this.__width===0?"":`${this.__width}px`,o.style.height="auto",o.setAttribute("alt",this.__altText);let i=Nl(this.__src);return i?o.setAttribute("src",i):o.removeAttribute("src"),!0}getSrc(){return this.__src}getAltText(){return this.__altText}getWidth(){return this.__width==="inherit"?0:this.__width}getHeight(){return this.__height==="inherit"?0:this.__height}decorate(){return null}};function VT(n){let t=n,e=t.getAttribute("src")??"";if(!(e.startsWith("/")||/^https?:\/\//i.test(e)))return null;let r=t.getAttribute("alt")??"",o=t.width||0,i=t.height||0;return{node:ff({altText:r,height:i,src:e,width:o})}}function ff({altText:n,height:t,maxWidth:e=500,captionsEnabled:r,src:o,width:i,showCaption:s,caption:a,key:l}){return ke(new fi(o,n,e,i,t,s,a,r,l))}function Sl(n){return n instanceof fi}var gf=_e("INSERT_IMAGE_COMMAND"),lx=n=>n.registerCommand(gf,t=>{let e=ff({...t,src:Nl(t.src)});return e.getSrc()&&Wn([e]),!0},ne);var hf=_e("INSERT_TABLE_COMMAND"),Tl=_e("INSERT_TABLE_ROW_COMMAND"),bl=_e("INSERT_TABLE_COLUMN_COMMAND"),pf=_e("DELETE_TABLE_ROW_COMMAND"),mf=_e("DELETE_TABLE_COLUMN_COMMAND"),_f=_e("DELETE_TABLE_COMMAND"),Cf=_e("MERGE_TABLE_CELLS_COMMAND"),yf=_e("UNMERGE_TABLE_CELL_COMMAND"),Al=_e("SET_TABLE_CELL_BACKGROUND_COMMAND"),xf=_e("SET_TABLE_BORDER_STYLE_COMMAND"),Ef=_e("SET_TABLE_LAYOUT_COMMAND"),Nf=_e("SET_TABLE_WIDTH_COMMAND");function XT(n,t,e=!0){let r=hy();for(let o=0;o<n;o++){let i=py();for(let s=0;s<t;s++){let a=e&&o===0?of.ROW:of.NO_STATUS,l=gy(a),c=Q();l.append(c),i.append(l)}r.append(i)}return r}function cx(n){let t=Sy(n),e=n.registerCommand(hf,h=>{let{rows:p,columns:_,includeHeaders:C=!0,borderStyle:y,cellPadding:N}=h;return n.update(()=>{let S=w();if(!M(S))return;let E=XT(Number(p),Number(_),C);y&&E.setStyle(`--table-border-style: ${y}`),N&&E.setStyle((E.getStyle()||"")+`; --table-cell-padding: ${N}`),S.insertNodes([E]);let x=E.getFirstDescendant();x&&x.selectEnd()}),!0},ne),r=n.registerCommand(Tl,h=>{let p=w();return!M(p)&&!et(p)?!1:(Ey(h.insertAfter),!0)},oe),o=n.registerCommand(bl,h=>{let p=w();return!M(p)&&!et(p)?!1:(xy(h.insertAfter),!0)},oe),i=n.registerCommand(pf,()=>{let h=w();return!M(h)&&!et(h)?!1:(_y(),!0)},oe),s=n.registerCommand(mf,()=>{let h=w();return!M(h)&&!et(h)?!1:(my(),!0)},oe),a=n.registerCommand(_f,()=>{let h=w();if(!M(h)&&!et(h))return!1;let p=Y(h.anchor.getNode(),_=>Yt(_));return Yt(p)?(p.remove(),!0):!1},oe),l=n.registerCommand(Cf,()=>{let h=w();if(!et(h))return!1;let _=h.getNodes().filter(R=>ii(R));if(_.length<2)return!1;let C=Y(_[0],R=>Yt(R));if(!Yt(C))return!1;let y=1/0,N=-1,S=1/0,E=-1;for(let R of _){let $=yy(R),H=Cy(R);y=Math.min(y,$),N=Math.max(N,$+(R.getRowSpan()||1)-1),S=Math.min(S,H),E=Math.max(E,H+(R.getColSpan()||1)-1)}let x=N-y+1,A=E-S+1,D=C.getChildren()[y]?.getChildren()?.[S];if(!D)return!1;for(let R of _)if(R!==D){let $=R.getChildren();for(let H of $)D.append(H);R.remove()}return D.setRowSpan(x),D.setColSpan(A),!0},oe),c=n.registerCommand(yf,()=>{let h=w();return!M(h)||!Cl(h.anchor.getNode())?!1:(Ny(),!0)},oe),u=n.registerCommand(Al,h=>{let p=w();if(et(p)){let C=p.getNodes().filter(y=>ii(y));for(let y of C)y.setBackgroundColor(h);return!0}if(M(p)){let _=Cl(p.anchor.getNode());if(_)return _.setBackgroundColor(h),!0}return!1},oe),d=n.registerCommand(xr,()=>{let h=w();if(!M(h))return!1;let p=Cl(h.anchor.getNode());if(!p)return!1;let _=Y(p,y=>Yt(y));if(!Yt(_))return!1;let C=Q();return _.insertAfter(C),C.select(),!0},oe),f=n.registerCommand(xf,h=>{let p=w();if(!M(p)&&!et(p))return!1;let _=(et(p),p.anchor.getNode()),C=Y(_,S=>Yt(S));if(!Yt(C))return!1;let N=(C.getStyle()||"").replace(/--table-border-style:\s*[^;]+;?/g,"").trim();return C.setStyle(`${N}; --table-border-style: ${h}`.replace(/^;\s*/,"")),!0},oe),m=n.registerCommand(Ef,h=>{let p=w();if(!M(p)&&!et(p))return!1;let _=(et(p),p.anchor.getNode()),C=Y(_,S=>Yt(S));if(!Yt(C))return!1;let N=(C.getStyle()||"").replace(/--table-layout:\s*[^;]+;?/g,"").replace(/table-layout:\s*[^;]+;?/g,"").trim();return C.setStyle(`${N}; table-layout: ${h}; --table-layout: ${h}`.replace(/^;\s*/,"")),!0},oe),g=n.registerCommand(Nf,h=>{let p=w();if(!M(p)&&!et(p))return!1;let _=(et(p),p.anchor.getNode()),C=Y(_,S=>Yt(S));if(!Yt(C))return!1;let N=(C.getStyle()||"").replace(/width:\s*[^;]+;?/g,"").replace(/max-width:\s*[^;]+;?/g,"").trim();return h==="auto"||h==="100%"?C.setStyle(`${N}; width: 100%; max-width: 100%`.replace(/^;\s*/,"")):C.setStyle(`${N}; width: ${h}; max-width: ${h}`.replace(/^;\s*/,"")),!0},oe);return Se(t,e,r,o,i,s,a,l,c,u,d,f,m,g)}var qT={insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",insertColumnLeft:"Insert column left",insertColumnRight:"Insert column right",deleteRow:"Delete row",deleteColumn:"Delete column",mergeCells:"Merge cells",unmergeCells:"Unmerge cell",cellBackground:"Cell background color",deleteTable:"Delete table",borderStyle:"Border style",tableLayout:"Table layout",tableWidth:"Table width"};function ux(n,t={}){let e={...qT,...t},r=null,o=null;function i(){let y=document.createElement("div");return y.className="lexical-table-context-menu",y.style.cssText=`
            position: fixed;
            z-index: 10000;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            padding: 4px 0;
            min-width: 180px;
            display: none;
        `,document.documentElement.classList.contains("dark")&&(y.style.background="#1f2937",y.style.borderColor="#374151",y.style.color="#f3f4f6"),document.body.appendChild(y),y}function s(y,N,S=!1){let E=document.createElement("button");return E.type="button",E.className="lexical-table-context-menu-item",E.textContent=y,E.disabled=S,E.style.cssText=`
            display: block;
            width: 100%;
            padding: 8px 12px;
            text-align: left;
            background: none;
            border: none;
            cursor: ${S?"not-allowed":"pointer"};
            font-size: 14px;
            color: ${S?"#9ca3af":"inherit"};
            opacity: ${S?"0.5":"1"};
        `,S||(E.addEventListener("mouseenter",()=>{E.style.background=document.documentElement.classList.contains("dark")?"#374151":"#f3f4f6"}),E.addEventListener("mouseleave",()=>{E.style.background="none"}),E.addEventListener("click",()=>{N(),p()})),E}function a(){let y=document.createElement("div");return y.style.cssText=`
            height: 1px;
            background: ${document.documentElement.classList.contains("dark")?"#374151":"#e5e7eb"};
            margin: 4px 0;
        `,y}function l(){let y=document.createElement("div");y.className="lexical-table-color-picker",y.style.cssText=`
            position: fixed;
            z-index: 10001;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 8px;
            display: none;
        `,document.documentElement.classList.contains("dark")&&(y.style.background="#1f2937",y.style.borderColor="#374151");let N=["#ffffff","#f3f4f6","#e5e7eb","#d1d5db","#fef2f2","#fef3c7","#d1fae5","#dbeafe","#ede9fe","#fce7f3","#fee2e2","#fde68a","#6ee7b7","#93c5fd","#c4b5fd","#f9a8d4"],S=document.createElement("div");S.style.cssText=`
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
        `,N.forEach(x=>{let A=document.createElement("button");A.type="button",A.style.cssText=`
                width: 24px;
                height: 24px;
                border: 1px solid #d1d5db;
                border-radius: 4px;
                background: ${x};
                cursor: pointer;
            `,A.addEventListener("click",()=>{n.dispatchCommand(Al,x),u(),p()}),S.appendChild(A)});let E=document.createElement("button");return E.type="button",E.textContent="Clear",E.style.cssText=`
            width: 100%;
            margin-top: 8px;
            padding: 4px 8px;
            font-size: 12px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            background: none;
            cursor: pointer;
        `,E.addEventListener("click",()=>{n.dispatchCommand(Al,""),u(),p()}),y.appendChild(S),y.appendChild(E),document.body.appendChild(y),y}function c(y,N){o||(o=l()),o.style.left=`${y}px`,o.style.top=`${N}px`,o.style.display="block"}function u(){o&&(o.style.display="none")}let d=null;function f(y,N){let S=document.createElement("div");return S.className="lexical-table-submenu",S.style.cssText=`
            position: fixed;
            z-index: 10001;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 4px 0;
            min-width: 140px;
            display: none;
        `,document.documentElement.classList.contains("dark")&&(S.style.background="#1f2937",S.style.borderColor="#374151",S.style.color="#f3f4f6"),y.forEach(({label:E,value:x})=>{let A=document.createElement("button");A.type="button",A.textContent=E,A.style.cssText=`
                display: block;
                width: 100%;
                padding: 8px 12px;
                text-align: left;
                background: none;
                border: none;
                cursor: pointer;
                font-size: 14px;
                color: inherit;
            `,A.addEventListener("mouseenter",()=>{A.style.background=document.documentElement.classList.contains("dark")?"#374151":"#f3f4f6"}),A.addEventListener("mouseleave",()=>{A.style.background="none"}),A.addEventListener("click",()=>{N(x),g(),p()}),S.appendChild(A)}),document.body.appendChild(S),S}function m(y,N,S){g(),d=f(N,S);let E=y.getBoundingClientRect();d.style.left=`${E.right+4}px`,d.style.top=`${E.top}px`,d.style.display="block",requestAnimationFrame(()=>{if(!d)return;let x=d.getBoundingClientRect();x.right>window.innerWidth&&(d.style.left=`${E.left-x.width-4}px`),x.bottom>window.innerHeight&&(d.style.top=`${window.innerHeight-x.height-10}px`)})}function g(){d&&(d.remove(),d=null)}function h(y,N,S,E){r||(r=i()),r.innerHTML="",r.appendChild(s(e.insertRowAbove,()=>{n.dispatchCommand(Tl,{insertAfter:!1})})),r.appendChild(s(e.insertRowBelow,()=>{n.dispatchCommand(Tl,{insertAfter:!0})})),r.appendChild(a()),r.appendChild(s(e.insertColumnLeft,()=>{n.dispatchCommand(bl,{insertAfter:!1})})),r.appendChild(s(e.insertColumnRight,()=>{n.dispatchCommand(bl,{insertAfter:!0})})),r.appendChild(a()),r.appendChild(s(e.deleteRow,()=>{n.dispatchCommand(pf,void 0)})),r.appendChild(s(e.deleteColumn,()=>{n.dispatchCommand(mf,void 0)})),r.appendChild(a()),r.appendChild(s(e.mergeCells,()=>{n.dispatchCommand(Cf,void 0)},!S)),r.appendChild(s(e.unmergeCells,()=>{n.dispatchCommand(yf,void 0)},!E)),r.appendChild(a());let x=s(e.cellBackground,()=>{let $=x.getBoundingClientRect();c($.right+4,$.top)});r.appendChild(x),r.appendChild(a());let A=s(`${e.borderStyle} \u2192`,()=>{});A.addEventListener("mouseenter",()=>{m(A,[{label:"None",value:"none"},{label:"Light",value:"light"},{label:"Medium",value:"medium"},{label:"Heavy",value:"heavy"}],$=>{n.dispatchCommand(xf,$)})}),r.appendChild(A);let v=s(`${e.tableLayout} \u2192`,()=>{});v.addEventListener("mouseenter",()=>{m(v,[{label:"Auto (responsive)",value:"auto"},{label:"Fixed",value:"fixed"}],$=>{n.dispatchCommand(Ef,$)})}),r.appendChild(v);let D=s(`${e.tableWidth} \u2192`,()=>{});D.addEventListener("mouseenter",()=>{m(D,[{label:"Full width (100%)",value:"100%"},{label:"75%",value:"75%"},{label:"50%",value:"50%"},{label:"600px",value:"600px"},{label:"400px",value:"400px"},{label:"Auto",value:"auto"}],$=>{n.dispatchCommand(Nf,$)})}),r.appendChild(D),r.appendChild(a());let R=s(e.deleteTable,()=>{n.dispatchCommand(_f,void 0)});R.style.color="#ef4444",r.appendChild(R),r.style.left=`${y}px`,r.style.top=`${N}px`,r.style.display="block",requestAnimationFrame(()=>{if(!r)return;let $=r.getBoundingClientRect();$.right>window.innerWidth&&(r.style.left=`${window.innerWidth-$.width-10}px`),$.bottom>window.innerHeight&&(r.style.top=`${window.innerHeight-$.height-10}px`)}),document.addEventListener("click",_),document.addEventListener("contextmenu",_)}function p(){r&&(r.style.display="none"),u(),g(),document.removeEventListener("click",_),document.removeEventListener("contextmenu",_)}function _(y){let N=y.target;r&&!r.contains(N)&&(!o||!o.contains(N))&&(!d||!d.contains(N))&&p()}function C(){p(),r&&(r.remove(),r=null),o&&(o.remove(),o=null)}return{show:h,hide:p,destroy:C}}var go=class n extends Ye{constructor(t,e){super(t,e)}static getType(){return"extended-text"}static clone(t){let e=new n(t.__text,t.__key);return e.__format=t.__format,e.__style=t.__style,e.__mode=t.__mode,e.__detail=t.__detail,e}static importDOM(){let t=Ye.importDOM();return{...t,code:()=>({conversion:gi(t?.code),priority:1}),em:()=>({conversion:gi(t?.em),priority:1}),span:()=>({conversion:gi(t?.span),priority:1}),strong:()=>({conversion:gi(t?.strong),priority:1}),sub:()=>({conversion:gi(t?.sub),priority:1}),sup:()=>({conversion:gi(t?.sup),priority:1})}}static importJSON(t){let e=ZT(t.text);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}isSimpleText(){return this.__type==="extended-text"&&this.__mode===0}exportJSON(){return{...super.exportJSON(),type:"extended-text"}}exportDOM(t){let{element:e}=super.exportDOM(t);if(e!==null&&e instanceof HTMLElement){let r=this.getStyle();r&&e.setAttribute("style",r),this.getFormat()!==0&&r&&!e.getAttribute("style")&&e.setAttribute("style",r)}return{element:e}}};function ZT(n=""){return ke(new go(n))}var QT=1,eb=2,tb=4,nb=8,rb=16,ob=32,ib=64,dx={lexical__textBold:QT,lexical__textItalic:eb,lexical__textStrikethrough:tb,lexical__textUnderline:nb,lexical__textCode:rb,lexical__textSubscript:ob,lexical__textSuperscript:ib};function gi(n){return t=>{let e=n?.(t);if(!e)return null;let r=e.conversion(t);if(!r)return r;let o=t.style.backgroundColor,i=t.style.color,s=t.style.fontFamily,a=t.style.fontWeight,l=t.style.fontSize,c=t.style.textDecoration,u=0;if(t.classList)for(let d of Array.from(t.classList))dx[d]&&(u|=dx[d]);return{...r,forChild:(d,f)=>{let g=(r?.forChild??(h=>h))(d,f);if(U(g)){let h=[o?`background-color: ${o}`:null,i?`color: ${i}`:null,s?`font-family: ${s}`:null,a?`font-weight: ${a}`:null,l?`font-size: ${l}`:null,c?`text-decoration: ${c}`:null].filter(p=>p!=null).join("; ");if(h.length&&g.setStyle(h),u!==0){let p=g.getFormat();g.setFormat(p|u)}}return g}}}}var fx=1;function fe(n,t){let e=n?.[t];return e instanceof HTMLElement?e:null}function sb(n){let t=new DOMParser().parseFromString(n,"text/html");return t.querySelectorAll("img").forEach(e=>{let r=e.getAttribute("src")??"";/^https?:\/\//i.test(r)||e.remove()}),t.body.innerHTML}function gx(n){return n?n.startsWith("/")?!0:/^https?:\/\//i.test(n):!1}function hx(n){let t=Array.from(n.querySelectorAll("img"));for(let e of t){let r=e.getAttribute("src")??"";if(!gx(r)){e.remove();continue}let o=e.getAttribute("width"),i=e.getAttribute("height");o&&!/^\d+$/.test(o)&&e.removeAttribute("width"),i&&!/^\d+$/.test(i)&&e.removeAttribute("height")}}function ab(n){if(!n)return n;let t=new DOMParser().parseFromString(n,"text/html");return hx(t),t.body.innerHTML}function lb(n){let t=new Set;return n&&new DOMParser().parseFromString(n,"text/html").querySelectorAll("img").forEach(r=>{let o=r.getAttribute("src");o&&gx(o)&&t.add(o)}),t}function cb({basicColors:n=["#d0021b","#f5a623","#f8e71c","#8b572a","#7ed321","#417505","#bd10e0","#9013fe","#4a90e2","#50e3c2","#b8e986","#000000","#4a4a4a","#9b9b9b","#ffffff"],state:t,enabledToolbars:e=["undo","redo","normal","h1","h2","h3","h4","h5","h6","bullet","numbered","quote","code","fontSize","bold","italic","underline","icode","link","textColor","backgroundColor","lowercase","uppercase","capitalize","strikethrough","subscript","superscript","clear","left","center","right","justify","start","end","indent","outdent","hr","image"],internalLinks:r=[],hasInternalLinks:o=!1,siteUrl:i=""}){let s=FC;return{$refs:{},$nextTick:()=>{},$dispatch:()=>{},state:t??null,basicColors:n,toolbarState:JSON.parse(JSON.stringify(by)),showLinkEditor:!1,linkEditMode:!1,linkEditorAnchor:null,linkEditorUrl:null,linkType:"external",linkOpenInNewTab:!0,selectedInternalLink:"",internalLinks:r,hasInternalLinks:o,siteUrl:i,editor:null,uploadUrl:null,enabledToolbars:e,activeImageKey:null,imageLockAspect:!0,imageAspectRatio:null,imageLastChanged:null,originalImages:new Set,deletedImages:[],showTableEditor:!1,tableEditorAnchor:null,tableRows:3,tableCols:3,tableHasHeaders:!0,tableBorderStyle:"light",tableCellPadding:"normal",tableContextMenu:null,init:function(){this.uploadUrl=window?.filamentData?.metaLexicalEditor?.uploadUrl??"/filament-meta-lexical-editor/upload-image";let l=fe(this.$refs,"editor");if(!l)return;let c={namespace:"lexical-editor",nodes:[go,{replace:Ye,with:d=>{let f=new go(d.__text);return f.__format=d.__format,f.__style=d.__style,f.__mode=d.__mode,f.__detail=d.__detail,f},withKlass:go},rC,MC,j_,p_,oC,Id,m_,cd,hs,fi,af,sf,lf],onError:console.error,theme:Ay};this.editor=zo(c),this.editor.setRootElement(l);let u=this.editor;if(Se(__(u),wC(u),IC(u,RC(),300),Ry(u),ax(u),BC(u),lx(u),cx(u),...Ja(u,PC,cd,$C)),this.tableContextMenu=ux(u),l.addEventListener("contextmenu",d=>{d.target.closest("td, th")&&this.tableContextMenu&&(d.preventDefault(),u.getEditorState().read(()=>{let g=w(),h=et(g)&&g.getNodes().filter(ii).length>1,p=M(g)&&(()=>{let C=g.anchor.getNode().getParent();return ii(C)?(C.getRowSpan()||1)>1||(C.getColSpan()||1)>1:!1})();this.tableContextMenu?.show(d.clientX,d.clientY,h,p)}))}),u.registerCommand(Jr,d=>(this.updateToolbarState("canUndo",d),this.updateToolbarState("cannotUndo",!d),!1),fx),u.registerCommand(jr,d=>(this.updateToolbarState("canRedo",d),this.updateToolbarState("cannotRedo",!d),!1),fx),u.registerUpdateListener(()=>{u.read(()=>{let d=$a(u);this.state=ab(d),this.updateToolbar()})}),this.state){let d=sb(this.state);this.originalImages=lb(this.state),u.update(()=>{let f=new DOMParser().parseFromString(d,"text/html");hx(f);let m=Pa(u,f);Ue().select(),Wn(m)})}this.registerToolbarActions(),this.initColorPickers()},initColorPickers:function(){window.__metaLexicalColorisInit||(window.__metaLexicalColorisInit=!0,s.init?.())},updateLink:function(){if(!this.editor)return;let l=null;if(this.linkType==="internal"&&this.selectedInternalLink?l="/"+this.selectedInternalLink:l=this.linkEditorUrl,!l)return;let c={url:l,target:this.linkOpenInNewTab?"_blank":"_self",rel:this.linkOpenInNewTab?"noopener noreferrer":""};this.editor.dispatchCommand(vr,c),this.linkEditMode=!1,this.closeLinkEditorDialog()},removeLink:function(){this.editor&&(this.editor.dispatchCommand(vr,null),this.closeLinkEditorDialog())},showLinkEditorDialog:function(l,c=null,u=!0){this.$nextTick(()=>{this.linkEditorAnchor=l,this.linkEditMode=u,this.linkEditorUrl=c,this.showLinkEditor=!0,this.linkType="external",this.selectedInternalLink="",this.linkOpenInNewTab=!0,c&&this.detectLinkType()})},closeLinkEditorDialog:function(){this.$nextTick(()=>{this.linkEditorAnchor=null,this.linkEditorUrl=null,this.showLinkEditor=!1,this.linkType="external",this.selectedInternalLink="",this.linkOpenInNewTab=!0})},onInternalLinkSelected:function(){this.selectedInternalLink&&(this.linkOpenInNewTab=!1)},getInternalLinkUrl:function(){return this.selectedInternalLink?`${this.siteUrl.replace(/\/$/,"")}/${this.selectedInternalLink}`:""},detectLinkType:function(){let l=this.linkEditorUrl;if(l)if(di(l)){this.linkType="internal";let c=l.replace(/^\//,""),u=this.internalLinks.find(d=>d.slug===c);u&&(this.selectedInternalLink=u.slug),this.linkOpenInNewTab=!1}else this.linkType="external",this.linkOpenInNewTab=!0},handleImage:async function(){let l=fe(this.$refs,"image_input"),c=fe(this.$refs,"image_alt"),u=l?.files,d=c?.value??"";if(!u||!u[0])return!1;let f=new FormData;f.append("image",u[0]),f.append("alt",d);let m=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")??"",g=await fetch(this.uploadUrl??"/filament-meta-lexical-editor/upload-image",{method:"POST",headers:m?{"X-CSRF-TOKEN":m}:{},body:f,credentials:"same-origin"});if(!g.ok)return console.error("Image upload failed:",await g.text()),!1;let h=await g.json(),p={altText:h.alt??d??"",src:h.url,...h.width?{width:Number(h.width)}:{},...h.height?{height:Number(h.height)}:{}};return this.insertImage(p),l&&(l.value=""),c&&(c.value=""),!0},insertImage:function(l){this.editor&&this.editor.dispatchCommand(gf,l)},openImageEditor:function(l){this.editor&&this.editor.read(()=>{let c=$e(l);if(!Sl(c))return;let u=fe(this.$refs,"imageEditorModal"),d=u?.getAttribute("modal-id")??null;if(!u||!d)return;let f=u.querySelector("[x-ref='image_editor_alt']"),m=u.querySelector("[x-ref='image_editor_width']"),g=u.querySelector("[x-ref='image_editor_height']");if(!f||!m||!g)return;let h=c.getWidth(),p=c.getHeight();f.value=c.getAltText(),m.value=h>0?String(h):"",g.value=p>0?String(p):"",this.activeImageKey=l,this.imageAspectRatio=h>0&&p>0?h/p:null,this.imageLockAspect=!0,this.imageLastChanged=null,this.$dispatch("open-modal",{id:d})})},deleteImage:function(l){if(!this.editor)return;let c=l??this.activeImageKey??"";c&&(this.editor.update(()=>{let u=$e(c);if(Sl(u)){let d=u.getSrc();d&&!this.deletedImages.includes(d)&&this.deletedImages.push(d),u.remove()}}),this.resetImageEditorForm(),this.activeImageKey=null,this.closeImageEditorModal())},updateImage:function(){if(!this.editor)return;let l=this.activeImageKey??"";if(!l)return;let c=fe(this.$refs,"imageEditorModal");if(!c)return;let u=c.querySelector("[x-ref='image_editor_alt']"),d=c.querySelector("[x-ref='image_editor_width']"),f=c.querySelector("[x-ref='image_editor_height']");if(!u||!d||!f)return;let m=u.value??"",g=Number(d.value),h=Number(f.value);g=Number.isFinite(g)?g:0,h=Number.isFinite(h)?h:0,this.imageLockAspect&&this.imageAspectRatio&&(this.imageLastChanged==="height"&&h>0?(g=Math.round(h*this.imageAspectRatio),d.value=String(g)):g>0&&(h=Math.round(g/this.imageAspectRatio),f.value=String(h))),this.editor.update(()=>{let p=$e(l);Sl(p)&&(p.setAltText(m),p.setWidthAndHeight(g,h))}),this.resetImageEditorForm(),this.activeImageKey=null,this.closeImageEditorModal()},resetImageEditorForm:function(){let l=fe(this.$refs,"imageEditorModal");if(!l)return;let c=l.querySelector("[x-ref='image_editor_alt']"),u=l.querySelector("[x-ref='image_editor_width']"),d=l.querySelector("[x-ref='image_editor_height']");c&&(c.value=""),u&&(u.value=""),d&&(d.value=""),this.imageAspectRatio=null,this.imageLastChanged=null,this.imageLockAspect=!0},closeImageEditorModal:function(){let c=fe(this.$refs,"imageEditorModal")?.getAttribute("modal-id")??null;c&&this.$dispatch("close-modal",{id:c})},toggleImageLockAspect:function(){if(this.imageLockAspect&&!this.imageAspectRatio){let l=fe(this.$refs,"imageEditorModal");if(!l)return;let c=l.querySelector("[x-ref='image_editor_width']"),u=l.querySelector("[x-ref='image_editor_height']");if(!c||!u)return;let d=Number(c.value),f=Number(u.value);Number.isFinite(d)&&Number.isFinite(f)&&d>0&&f>0&&(this.imageAspectRatio=d/f)}},imageWidthInput:function(){if(this.imageLastChanged="width",!this.imageLockAspect)return;let l=fe(this.$refs,"imageEditorModal");if(!l)return;let c=l.querySelector("[x-ref='image_editor_width']"),u=l.querySelector("[x-ref='image_editor_height']");if(!c||!u)return;let d=Number(c.value);if(!Number.isFinite(d)||d<=0)return;let f=Number(u.value);if(!this.imageAspectRatio&&Number.isFinite(f)&&f>0&&(this.imageAspectRatio=d/f),!this.imageAspectRatio)return;let m=Math.round(d/this.imageAspectRatio);u.value=String(m)},imageHeightInput:function(){if(this.imageLastChanged="height",!this.imageLockAspect)return;let l=fe(this.$refs,"imageEditorModal");if(!l)return;let c=l.querySelector("[x-ref='image_editor_width']"),u=l.querySelector("[x-ref='image_editor_height']");if(!c||!u)return;let d=Number(u.value);if(!Number.isFinite(d)||d<=0)return;let f=Number(c.value);if(!this.imageAspectRatio&&Number.isFinite(f)&&f>0&&(this.imageAspectRatio=f/d),!this.imageAspectRatio)return;let m=Math.round(d*this.imageAspectRatio);c.value=String(m)},showTableEditorDialog:function(l){this.$nextTick(()=>{this.tableEditorAnchor=l,this.showTableEditor=!0,this.tableRows=3,this.tableCols=3,this.tableHasHeaders=!0,this.tableBorderStyle="light",this.tableCellPadding="normal"})},closeTableEditorDialog:function(){this.$nextTick(()=>{this.tableEditorAnchor=null,this.showTableEditor=!1})},insertTable:function(){if(!this.editor)return;let l={rows:this.tableRows,columns:this.tableCols,includeHeaders:this.tableHasHeaders,borderStyle:this.tableBorderStyle,cellPadding:this.tableCellPadding};this.editor.dispatchCommand(hf,l),this.closeTableEditorDialog()},formatHeading:function(l){this.editor&&this.editor.update(()=>{let c=w();M(c)&&Sr(c,()=>Ya(l))})},formatAlignment:function(l){this.editor&&this.editor.dispatchCommand(Ut,l)},formatFontFamily:function(l){this.editor&&this.editor.update(()=>{let c=w();M(c)&&Wo(c,{"font-family":l})})},formatText:function(l){this.editor&&this.editor.dispatchCommand(At,l)},formatParagraph:function(){this.editor&&this.editor.update(()=>{let l=w();M(l)&&Sr(l,()=>Q())})},formatBulletList:function(){this.editor&&this.editor.dispatchCommand(al,void 0)},formatNumberedList:function(){this.editor&&this.editor.dispatchCommand(sl,void 0)},formatLineCode:function(){this.editor&&this.editor.dispatchCommand(At,"code")},insetLink:function(){this.editor&&this.editor.dispatchCommand(vr,null)},insetHR:function(){this.editor&&this.editor.dispatchCommand($d,void 0)},getToolbarActions:function(){return{bold:()=>this.formatText("bold"),strikethrough:()=>this.formatText("strikethrough"),subscript:()=>this.formatText("subscript"),lowercase:()=>this.formatText("lowercase"),uppercase:()=>this.formatText("uppercase"),capitalize:()=>this.formatText("capitalize"),superscript:()=>this.formatText("superscript"),italic:()=>this.formatText("italic"),underline:()=>this.formatText("underline"),link:l=>{l.stopPropagation(),this.insetLink()},h1:()=>this.formatHeading("h1"),h2:()=>this.formatHeading("h2"),h3:()=>this.formatHeading("h3"),h4:()=>this.formatHeading("h4"),h5:()=>this.formatHeading("h5"),h6:()=>this.formatHeading("h6"),normal:()=>this.formatParagraph(),bullet:()=>this.formatBulletList(),numbered:()=>this.formatNumberedList(),quote:()=>{this.editor&&yl(this.editor)},code:()=>{this.editor&&xl(this.editor)},decrement:()=>{if(!this.editor)return;let l=fe(this.$refs,"fontSize");l&&ci(this.editor,2,l)},increment:()=>{if(!this.editor)return;let l=fe(this.$refs,"fontSize");l&&ci(this.editor,1,l)},icode:()=>this.formatLineCode(),fontSizeChange:()=>{if(!this.editor)return;let l=fe(this.$refs,"fontSize");l&&uf(this.editor,Number(l.value),l)},fontSizeKeydown:l=>{if(!this.editor||l.key!=="Enter")return;l.stopPropagation(),l.preventDefault();let c=fe(this.$refs,"fontSize");c&&uf(this.editor,Number(c.value),c)},undo:()=>this.editor?.dispatchCommand(ba,void 0),redo:()=>this.editor?.dispatchCommand(Ta,void 0),left:()=>this.formatAlignment("left"),right:()=>this.formatAlignment("right"),center:()=>this.formatAlignment("center"),justify:()=>this.formatAlignment("justify"),start:()=>this.formatAlignment("start"),end:()=>this.formatAlignment("end"),indent:()=>this.editor?.dispatchCommand(pt,void 0),outdent:()=>this.editor?.dispatchCommand(Ot,void 0),clear:()=>{this.editor&&El(this.editor)},textColor:()=>{fe(this.$refs,"text_color_input")?.click(),s({swatches:this.basicColors,alpha:!1,formatToggle:!0})},textColorChange:l=>{if(!this.editor)return;let u=l.target.value;this.editor.update(()=>{let d=w();M(d)&&Wo(d,{color:u})})},backgroundColor:()=>{fe(this.$refs,"background_color_input")?.click(),s({swatches:this.basicColors,alpha:!1,formatToggle:!0})},backgroundColorChange:l=>{if(!this.editor)return;let u=l.target.value;this.editor.update(()=>{let d=w();M(d)&&Wo(d,{"background-color":u})})},fontFamily:l=>this.formatFontFamily(l),hr:()=>this.insetHR(),image:()=>{let c=fe(this.$refs,"imageModal")?.getAttribute("modal-id")??null;c&&this.$dispatch("open-modal",{id:c})},table:l=>{l.stopPropagation();let c=fe(this.$refs,"table");c&&this.showTableEditorDialog(c)}}},registerToolbarActions:function(){let l=this.getToolbarActions();this.enabledToolbars.forEach(c=>{if(c==="backgroundColor"){let u=fe(this.$refs,"background_color"),d=fe(this.$refs,"background_color_input");u?.addEventListener("click",()=>l.backgroundColor()),d?.addEventListener("change",f=>l.backgroundColorChange(f))}else if(c==="textColor"){let u=fe(this.$refs,"text_color"),d=fe(this.$refs,"text_color_input");u?.addEventListener("click",()=>l.textColor()),d?.addEventListener("change",f=>l.textColorChange(f))}else if(c==="link")fe(this.$refs,"link")?.addEventListener("click",d=>l.link(d));else if(c==="fontSize"){fe(this.$refs,"decrement")?.addEventListener("click",()=>l.decrement()),fe(this.$refs,"increment")?.addEventListener("click",()=>l.increment());let u=fe(this.$refs,"fontSize");u?.addEventListener("change",()=>l.fontSizeChange()),u?.addEventListener("keydown",d=>l.fontSizeKeydown(d))}else if(c==="fontFamily")fe(this.$refs,"fontFamily")?.addEventListener("change",d=>{let f=d.target;l.fontFamily(f.value)});else if(c==="image")fe(this.$refs,"image")?.addEventListener("click",()=>l.image());else if(c==="table")fe(this.$refs,"table")?.addEventListener("click",d=>l.table(d));else if(c!=="divider"){let u=fe(this.$refs,c),d=l[c];if(!u||typeof d!="function")return;u.addEventListener("click",()=>d())}})},updateToolbar:function(){if(!this.editor)return;let l=w();if(M(l)){let c=l.anchor.getNode(),u=c.getKey()==="root"?c:Y(c,_=>{let C=_.getParent();return C!==null&&Et(C)});u===null&&(u=c.getTopLevelElementOrThrow());let d=u.getKey(),f=this.editor.getElementByKey(d);this.updateToolbarState("isRTL",Zp(l,{editor:this.editor}));let m=ys(l),g=m.getParent(),h=Zt(g)||Zt(m);if(this.updateToolbarState("isLink",h),f!==null)if(OC(u)){let _=Ra(c,Id),C=_?_.getListType():u.getListType();this.updateToolbarState("blockType",C)}else{let _=ja(u)?u.getTag():u.getType();if(_ in Ty&&this.updateToolbarState("blockType",_),G_(u)){let C=u.getLanguage();this.updateToolbarState("codeLanguage",C?Y_[C]||C:"");return}}this.updateToolbarState("fontColor",Zi(l,"color","#000")),this.updateToolbarState("bgColor",Zi(l,"background-color","#fff")),this.updateToolbarState("fontFamily",Zi(l,"font-family","Arial"));let p;Zt(g)&&(p=Y(m,_=>P(_)&&!_.isInline())),this.updateToolbarState("elementFormat",P(p)?p.getFormatType():P(m)?m.getFormatType():g?.getFormatType()||"left")}(M(l)||et(l))&&(this.updateToolbarState("isBold",l.hasFormat("bold")),this.updateToolbarState("isItalic",l.hasFormat("italic")),this.updateToolbarState("isUnderline",l.hasFormat("underline")),this.updateToolbarState("isStrikethrough",l.hasFormat("strikethrough")),this.updateToolbarState("isSubscript",l.hasFormat("subscript")),this.updateToolbarState("isSuperscript",l.hasFormat("superscript")),this.updateToolbarState("isCode",l.hasFormat("code")),this.updateToolbarState("fontSize",Zi(l,"font-size","15px")),this.updateToolbarState("isLowercase",l.hasFormat("lowercase")),this.updateToolbarState("isUppercase",l.hasFormat("uppercase")),this.updateToolbarState("isCapitalize",l.hasFormat("capitalize")))},updateToolbarState:function(l,c){if(this.toolbarState[l]=c,l==="fontColor"){let u=fe(this.$refs,"text_color_input");u&&this.$nextTick(()=>{u.value=c??"#000000",u.dispatchEvent(new Event("input",{bubbles:!0}))})}else if(l==="bgColor"){let u=fe(this.$refs,"background_color_input");u&&this.$nextTick(()=>{u.value=c??"#ffffff",u.dispatchEvent(new Event("input",{bubbles:!0}))})}else if(l==="fontSize"){let u=fe(this.$refs,"fontSize");u&&(u.value=String(c??si).replace("px",""))}else if(l==="fontFamily"){let u=fe(this.$refs,"fontFamily");u&&(u.value=String(c??"Arial"))}}}}export{cb as default};
/*! Bundled license information:

prismjs/prism.js:
  (**
   * Prism: Lightweight, robust, elegant syntax highlighting
   *
   * @license MIT <https://opensource.org/licenses/MIT>
   * @author Lea Verou <https://lea.verou.me>
   * @namespace
   * @public
   *)

@melloware/coloris/dist/esm/coloris.js:
  (*!
  * Copyright (c) 2021-2024 Momo Bassit.
  * Licensed under the MIT License (MIT)
  * https://github.com/mdbassit/Coloris
  * Version: 0.24.0
  * NPM: https://github.com/melloware/coloris-npm
  *)
*/
