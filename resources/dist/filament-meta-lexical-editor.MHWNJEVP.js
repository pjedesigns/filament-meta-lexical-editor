var oE=Object.create;var Ls=Object.defineProperty;var iE=Object.getOwnPropertyDescriptor;var sE=Object.getOwnPropertyNames;var aE=Object.getPrototypeOf,lE=Object.prototype.hasOwnProperty;var cE=(n,t,e)=>t in n?Ls(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var uE=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),St=(n,t)=>{for(var e in t)Ls(n,e,{get:t[e],enumerable:!0})},dE=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sE(t))!lE.call(n,o)&&o!==e&&Ls(n,o,{get:()=>t[o],enumerable:!(r=iE(t,o))||r.enumerable});return n};var Vg=(n,t,e)=>(e=n!=null?oE(aE(n)):{},dE(t||!n||!n.__esModule?Ls(e,"default",{value:n,enumerable:!0}):e,n));var v=(n,t,e)=>cE(n,typeof t!="symbol"?t+"":t,e);var bd=uE((Jw,sl)=>{var oS=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var G=(function(n){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,e=0,r={},o={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function p(m){return m instanceof i?new i(m.type,p(m.content),m.alias):Array.isArray(m)?m.map(p):m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++e}),p.__id},clone:function p(m,_){_=_||{};var C,y;switch(o.util.type(m)){case"Object":if(y=o.util.objId(m),_[y])return _[y];C={},_[y]=C;for(var E in m)m.hasOwnProperty(E)&&(C[E]=p(m[E],_));return C;case"Array":return y=o.util.objId(m),_[y]?_[y]:(C=[],_[y]=C,m.forEach(function(b,T){C[T]=p(b,_)}),C);default:return m}},getLanguage:function(p){for(;p;){var m=t.exec(p.className);if(m)return m[1].toLowerCase();p=p.parentElement}return"none"},setLanguage:function(p,m){p.className=p.className.replace(RegExp(t,"gi"),""),p.classList.add("language-"+m)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(C){var p=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(C.stack)||[])[1];if(p){var m=document.getElementsByTagName("script");for(var _ in m)if(m[_].src==p)return m[_]}return null}},isActive:function(p,m,_){for(var C="no-"+m;p;){var y=p.classList;if(y.contains(m))return!0;if(y.contains(C))return!1;p=p.parentElement}return!!_}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(p,m){var _=o.util.clone(o.languages[p]);for(var C in m)_[C]=m[C];return _},insertBefore:function(p,m,_,C){C=C||o.languages;var y=C[p],E={};for(var b in y)if(y.hasOwnProperty(b)){if(b==m)for(var T in _)_.hasOwnProperty(T)&&(E[T]=_[T]);_.hasOwnProperty(b)||(E[b]=y[b])}var x=C[p];return C[p]=E,o.languages.DFS(o.languages,function(A,O){O===x&&A!=p&&(this[A]=E)}),E},DFS:function p(m,_,C,y){y=y||{};var E=o.util.objId;for(var b in m)if(m.hasOwnProperty(b)){_.call(m,b,m[b],C||b);var T=m[b],x=o.util.type(T);x==="Object"&&!y[E(T)]?(y[E(T)]=!0,p(T,_,null,y)):x==="Array"&&!y[E(T)]&&(y[E(T)]=!0,p(T,_,b,y))}}},plugins:{},highlightAll:function(p,m){o.highlightAllUnder(document,p,m)},highlightAllUnder:function(p,m,_){var C={callback:_,container:p,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",C),C.elements=Array.prototype.slice.apply(C.container.querySelectorAll(C.selector)),o.hooks.run("before-all-elements-highlight",C);for(var y=0,E;E=C.elements[y++];)o.highlightElement(E,m===!0,C.callback)},highlightElement:function(p,m,_){var C=o.util.getLanguage(p),y=o.languages[C];o.util.setLanguage(p,C);var E=p.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(E,C);var b=p.textContent,T={element:p,language:C,grammar:y,code:b};function x(O){T.highlightedCode=O,o.hooks.run("before-insert",T),T.element.innerHTML=T.highlightedCode,o.hooks.run("after-highlight",T),o.hooks.run("complete",T),_&&_.call(T.element)}if(o.hooks.run("before-sanity-check",T),E=T.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!T.code){o.hooks.run("complete",T),_&&_.call(T.element);return}if(o.hooks.run("before-highlight",T),!T.grammar){x(o.util.encode(T.code));return}if(m&&n.Worker){var A=new Worker(o.filename);A.onmessage=function(O){x(O.data)},A.postMessage(JSON.stringify({language:T.language,code:T.code,immediateClose:!0}))}else x(o.highlight(T.code,T.grammar,T.language))},highlight:function(p,m,_){var C={code:p,grammar:m,language:_};if(o.hooks.run("before-tokenize",C),!C.grammar)throw new Error('The language "'+C.language+'" has no grammar.');return C.tokens=o.tokenize(C.code,C.grammar),o.hooks.run("after-tokenize",C),i.stringify(o.util.encode(C.tokens),C.language)},tokenize:function(p,m){var _=m.rest;if(_){for(var C in _)m[C]=_[C];delete m.rest}var y=new a;return c(y,y.head,p),l(p,y,m,y.head,0),d(y)},hooks:{all:{},add:function(p,m){var _=o.hooks.all;_[p]=_[p]||[],_[p].push(m)},run:function(p,m){var _=o.hooks.all[p];if(!(!_||!_.length))for(var C=0,y;y=_[C++];)y(m)}},Token:i};n.Prism=o;function i(p,m,_,C){this.type=p,this.content=m,this.alias=_,this.length=(C||"").length|0}i.stringify=function p(m,_){if(typeof m=="string")return m;if(Array.isArray(m)){var C="";return m.forEach(function(x){C+=p(x,_)}),C}var y={type:m.type,content:p(m.content,_),tag:"span",classes:["token",m.type],attributes:{},language:_},E=m.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(y.classes,E):y.classes.push(E)),o.hooks.run("wrap",y);var b="";for(var T in y.attributes)b+=" "+T+'="'+(y.attributes[T]||"").replace(/"/g,"&quot;")+'"';return"<"+y.tag+' class="'+y.classes.join(" ")+'"'+b+">"+y.content+"</"+y.tag+">"};function s(p,m,_,C){p.lastIndex=m;var y=p.exec(_);if(y&&C&&y[1]){var E=y[1].length;y.index+=E,y[0]=y[0].slice(E)}return y}function l(p,m,_,C,y,E){for(var b in _)if(!(!_.hasOwnProperty(b)||!_[b])){var T=_[b];T=Array.isArray(T)?T:[T];for(var x=0;x<T.length;++x){if(E&&E.cause==b+","+x)return;var A=T[x],O=A.inside,L=!!A.lookbehind,R=!!A.greedy,K=A.alias;if(R&&!A.pattern.global){var F=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,F+"g")}for(var B=A.pattern||A,z=C.next,oe=y;z!==m.tail&&!(E&&oe>=E.reach);oe+=z.value.length,z=z.next){var he=z.value;if(m.length>p.length)return;if(!(he instanceof i)){var me=1,pe;if(R){if(pe=s(B,oe,p,L),!pe||pe.index>=p.length)break;var dt=pe.index,Xe=pe.index+pe[0].length,qe=oe;for(qe+=z.value.length;dt>=qe;)z=z.next,qe+=z.value.length;if(qe-=z.value.length,oe=qe,z.value instanceof i)continue;for(var Dt=z;Dt!==m.tail&&(qe<Xe||typeof Dt.value=="string");Dt=Dt.next)me++,qe+=Dt.value.length;me--,he=p.slice(oe,qe),pe.index-=oe}else if(pe=s(B,0,he,L),!pe)continue;var dt=pe.index,nt=pe[0],rt=he.slice(0,dt),He=he.slice(dt+nt.length),jt=oe+he.length;E&&jt>E.reach&&(E.reach=jt);var ie=z.prev;rt&&(ie=c(m,ie,rt),oe+=rt.length),u(m,ie,me);var ze=new i(b,O?o.tokenize(nt,O):nt,K,nt);if(z=c(m,ie,ze),He&&c(m,z,He),me>1){var Re={cause:b+","+x,reach:jt};l(p,m,_,z.prev,oe,Re),E&&Re.reach>E.reach&&(E.reach=Re.reach)}}}}}}function a(){var p={value:null,prev:null,next:null},m={value:null,prev:p,next:null};p.next=m,this.head=p,this.tail=m,this.length=0}function c(p,m,_){var C=m.next,y={value:_,prev:m,next:C};return m.next=y,C.prev=y,p.length++,y}function u(p,m,_){for(var C=m.next,y=0;y<_&&C!==p.tail;y++)C=C.next;m.next=C,C.prev=m,p.length-=y}function d(p){for(var m=[],_=p.head.next;_!==p.tail;)m.push(_.value),_=_.next;return m}if(!n.document)return n.addEventListener&&(o.disableWorkerMessageHandler||n.addEventListener("message",function(p){var m=JSON.parse(p.data),_=m.language,C=m.code,y=m.immediateClose;n.postMessage(o.highlight(C,o.languages[_],_)),y&&n.close()},!1)),o;var g=o.util.currentScript();g&&(o.filename=g.src,g.hasAttribute("data-manual")&&(o.manual=!0));function h(){o.manual||o.highlightAll()}if(!o.manual){var f=document.readyState;f==="loading"||f==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",h):window.requestAnimationFrame?window.requestAnimationFrame(h):window.setTimeout(h,16)}return o})(oS);typeof sl<"u"&&sl.exports&&(sl.exports=G);typeof global<"u"&&(global.Prism=G);G.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};G.languages.markup.tag.inside["attr-value"].inside.entity=G.languages.markup.entity;G.languages.markup.doctype.inside["internal-subset"].inside=G.languages.markup;G.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(G.languages.markup.tag,"addInlined",{value:function(t,e){var r={};r["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:G.languages[e]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+e]={pattern:/[\s\S]+/,inside:G.languages[e]};var i={};i[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:o},G.languages.insertBefore("markup","cdata",i)}});Object.defineProperty(G.languages.markup.tag,"addAttribute",{value:function(n,t){G.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:G.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});G.languages.html=G.languages.markup;G.languages.mathml=G.languages.markup;G.languages.svg=G.languages.markup;G.languages.xml=G.languages.extend("markup",{});G.languages.ssml=G.languages.xml;G.languages.atom=G.languages.xml;G.languages.rss=G.languages.xml;(function(n){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var e=n.languages.markup;e&&(e.tag.addInlined("style","css"),e.tag.addAttribute("style","css"))})(G);G.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};G.languages.javascript=G.languages.extend("clike",{"class-name":[G.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});G.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;G.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:G.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:G.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:G.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:G.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:G.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});G.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:G.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});G.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});G.languages.markup&&(G.languages.markup.tag.addInlined("script","javascript"),G.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));G.languages.js=G.languages.javascript;(function(){if(typeof G>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading\u2026",t=function(g,h){return"\u2716 Error "+g+" while fetching file: "+h},e="\u2716 Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",i="loading",s="loaded",l="failed",a="pre[data-src]:not(["+o+'="'+s+'"]):not(['+o+'="'+i+'"])';function c(g,h,f){var p=new XMLHttpRequest;p.open("GET",g,!0),p.onreadystatechange=function(){p.readyState==4&&(p.status<400&&p.responseText?h(p.responseText):p.status>=400?f(t(p.status,p.statusText)):f(e))},p.send(null)}function u(g){var h=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(g||"");if(h){var f=Number(h[1]),p=h[2],m=h[3];return p?m?[f,Number(m)]:[f,void 0]:[f,f]}}G.hooks.add("before-highlightall",function(g){g.selector+=", "+a}),G.hooks.add("before-sanity-check",function(g){var h=g.element;if(h.matches(a)){g.code="",h.setAttribute(o,i);var f=h.appendChild(document.createElement("CODE"));f.textContent=n;var p=h.getAttribute("data-src"),m=g.language;if(m==="none"){var _=(/\.(\w+)$/.exec(p)||[,"none"])[1];m=r[_]||_}G.util.setLanguage(f,m),G.util.setLanguage(h,m);var C=G.plugins.autoloader;C&&C.loadLanguages(m),c(p,function(y){h.setAttribute(o,s);var E=u(h.getAttribute("data-range"));if(E){var b=y.split(/\r\n?|\n/g),T=E[0],x=E[1]==null?b.length:E[1];T<0&&(T+=b.length),T=Math.max(0,Math.min(T-1,b.length)),x<0&&(x+=b.length),x=Math.max(0,Math.min(x,b.length)),y=b.slice(T,x).join(`
`),h.hasAttribute("data-start")||h.setAttribute("data-start",String(T+1))}f.textContent=y,G.highlightElement(f)},function(y){h.setAttribute(o,l),f.textContent=y})}}),G.plugins.fileHighlight={highlight:function(h){for(var f=(h||document).querySelectorAll(a),p=0,m;m=f[p++];)G.highlightElement(m)}};var d=!1;G.fileHighlight=function(){d||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),d=!0),G.plugins.fileHighlight.highlight.apply(this,arguments)}})()});var _u={};St(_u,{$addUpdateTag:()=>lp,$applyNodeReplacement:()=>zi,$caretFromPoint:()=>ur,$caretRangeFromSelection:()=>Mc,$cloneWithProperties:()=>uu,$cloneWithPropertiesEphemeral:()=>VT,$comparePointCaretNext:()=>hu,$copyNode:()=>lu,$create:()=>qT,$createLineBreakNode:()=>No,$createNodeSelection:()=>jc,$createParagraphNode:()=>Pn,$createPoint:()=>an,$createRangeSelection:()=>Kh,$createRangeSelectionFromDom:()=>NT,$createTabNode:()=>sa,$createTextNode:()=>ot,$extendCaretToRange:()=>gu,$findMatchingParent:()=>Ai,$getAdjacentChildCaret:()=>Lo,$getAdjacentNode:()=>sp,$getAdjacentSiblingOrParentSiblingCaret:()=>ib,$getCaretInDirection:()=>dr,$getCaretRange:()=>cr,$getCaretRangeInDirection:()=>mu,$getCharacterOffsets:()=>Tc,$getChildCaret:()=>Hn,$getChildCaretAtIndex:()=>Tp,$getChildCaretOrSelf:()=>_p,$getCollapsedCaretRange:()=>Cp,$getCommonAncestor:()=>vi,$getCommonAncestorResultBranchOrder:()=>pu,$getEditor:()=>cu,$getNearestNodeFromDOMNode:()=>ga,$getNearestRootOrShadowRoot:()=>up,$getNodeByKey:()=>Qe,$getNodeByKeyOrThrow:()=>dp,$getNodeFromDOMNode:()=>tu,$getPreviousSelection:()=>Gr,$getRoot:()=>Ht,$getSelection:()=>Ce,$getSiblingCaret:()=>ut,$getState:()=>Ks,$getStateChange:()=>WE,$getTextContent:()=>vT,$getTextNodeOffset:()=>sn,$getTextPointCaret:()=>lr,$getTextPointCaretSlice:()=>Oc,$getWritableNodeState:()=>kc,$hasAncestor:()=>na,$hasUpdateTag:()=>WT,$insertNodes:()=>AT,$isBlockElementNode:()=>bT,$isChildCaret:()=>on,$isDecoratorNode:()=>Le,$isEditorState:()=>LT,$isElementNode:()=>I,$isExtendableTextPointCaret:()=>Ep,$isInlineElementOrDecoratorNode:()=>YT,$isLeafNode:()=>HT,$isLineBreakNode:()=>Fr,$isNodeCaret:()=>eb,$isNodeSelection:()=>aa,$isParagraphNode:()=>jh,$isRangeSelection:()=>Q,$isRootNode:()=>ct,$isRootOrShadowRoot:()=>Jt,$isSiblingCaret:()=>Yr,$isTabNode:()=>Gc,$isTextNode:()=>W,$isTextPointCaret:()=>Kn,$isTextPointCaretSlice:()=>ob,$isTokenOrSegmented:()=>Rn,$isTokenOrTab:()=>or,$nodesOfType:()=>zT,$normalizeCaret:()=>nn,$normalizeSelection__EXPERIMENTAL:()=>Hs,$onUpdate:()=>cp,$parseSerializedNode:()=>MT,$removeTextFromCaretRange:()=>xp,$rewindSiblingCaret:()=>$o,$selectAll:()=>UT,$setCompositionKey:()=>st,$setPointFromCaret:()=>Do,$setSelection:()=>$t,$setSelectionFromCaretRange:()=>yp,$setState:()=>YE,$splitAtPointCaretNext:()=>lb,$splitNode:()=>GT,$updateRangeSelectionFromCaretRange:()=>Oi,ArtificialNode__DO_NOT_USE:()=>Qs,BEFORE_INPUT_COMMAND:()=>Ic,BLUR_COMMAND:()=>xh,CAN_REDO_COMMAND:()=>rT,CAN_UNDO_COMMAND:()=>oT,CLEAR_EDITOR_COMMAND:()=>tT,CLEAR_HISTORY_COMMAND:()=>nT,CLICK_COMMAND:()=>rh,COLLABORATION_TAG:()=>Lh,COMMAND_PRIORITY_CRITICAL:()=>$T,COMMAND_PRIORITY_EDITOR:()=>Co,COMMAND_PRIORITY_HIGH:()=>IT,COMMAND_PRIORITY_LOW:()=>kT,COMMAND_PRIORITY_NORMAL:()=>RT,COMPOSITION_END_COMMAND:()=>Pc,COMPOSITION_START_COMMAND:()=>Fc,CONTROLLED_TEXT_INSERTION_COMMAND:()=>xo,COPY_COMMAND:()=>zc,CUT_COMMAND:()=>Wc,DELETE_CHARACTER_COMMAND:()=>Li,DELETE_LINE_COMMAND:()=>ki,DELETE_WORD_COMMAND:()=>Di,DRAGEND_COMMAND:()=>Ch,DRAGOVER_COMMAND:()=>_h,DRAGSTART_COMMAND:()=>mh,DROP_COMMAND:()=>ph,DecoratorNode:()=>Ii,ElementNode:()=>ar,FOCUS_COMMAND:()=>yh,FORMAT_ELEMENT_COMMAND:()=>eT,FORMAT_TEXT_COMMAND:()=>nr,HISTORIC_TAG:()=>gT,HISTORY_MERGE_TAG:()=>Fs,HISTORY_PUSH_TAG:()=>fT,INDENT_CONTENT_COMMAND:()=>ZE,INPUT_COMMAND:()=>$c,INSERT_LINE_BREAK_COMMAND:()=>bi,INSERT_PARAGRAPH_COMMAND:()=>dc,INSERT_TAB_COMMAND:()=>qE,INTERNAL_$isBlock:()=>Fn,IS_ALL_FORMATTING:()=>NE,IS_BOLD:()=>_E,IS_CODE:()=>EE,IS_HIGHLIGHT:()=>Lc,IS_ITALIC:()=>CE,IS_STRIKETHROUGH:()=>yE,IS_SUBSCRIPT:()=>TE,IS_SUPERSCRIPT:()=>bE,IS_UNDERLINE:()=>xE,KEY_ARROW_DOWN_COMMAND:()=>ch,KEY_ARROW_LEFT_COMMAND:()=>sh,KEY_ARROW_RIGHT_COMMAND:()=>oh,KEY_ARROW_UP_COMMAND:()=>lh,KEY_BACKSPACE_COMMAND:()=>dh,KEY_DELETE_COMMAND:()=>fh,KEY_DOWN_COMMAND:()=>Uc,KEY_ENTER_COMMAND:()=>Gs,KEY_ESCAPE_COMMAND:()=>gh,KEY_MODIFIER_COMMAND:()=>Eh,KEY_SPACE_COMMAND:()=>uh,KEY_TAB_COMMAND:()=>hh,LineBreakNode:()=>bo,MOVE_TO_END:()=>ih,MOVE_TO_START:()=>ah,NODE_STATE_KEY:()=>PE,OUTDENT_CONTENT_COMMAND:()=>QE,PASTE_COMMAND:()=>Bc,PASTE_TAG:()=>hT,ParagraphNode:()=>vo,REDO_COMMAND:()=>Hc,REMOVE_TEXT_COMMAND:()=>gc,RootNode:()=>Ao,SELECTION_CHANGE_COMMAND:()=>Rc,SELECTION_INSERT_CLIPBOARD_NODES_COMMAND:()=>XE,SELECT_ALL_COMMAND:()=>fc,SKIP_COLLAB_TAG:()=>pT,SKIP_DOM_SELECTION_TAG:()=>kh,SKIP_SCROLL_INTO_VIEW_TAG:()=>Dh,SKIP_SELECTION_FOCUS_TAG:()=>Rh,TEXT_TYPE_TO_FORMAT:()=>xt,TabNode:()=>So,TextNode:()=>Hr,UNDO_COMMAND:()=>Kc,buildImportMap:()=>dT,configExtension:()=>ub,createCommand:()=>ne,createEditor:()=>FT,createSharedNodeState:()=>qf,createState:()=>zE,declarePeerDependency:()=>db,defineExtension:()=>cb,flipDirection:()=>gr,getDOMOwnerDocument:()=>su,getDOMSelection:()=>yn,getDOMSelectionFromTarget:()=>gp,getDOMTextNode:()=>zr,getEditorPropertyFromDOMNode:()=>Hi,getNearestEditorFromDOMNode:()=>eu,getRegisteredNode:()=>Zc,getRegisteredNodeOrThrow:()=>qc,getStaticNodeConfig:()=>Wi,getTextDirection:()=>KT,getTransformSetFromKlass:()=>Vh,isBlockDomNode:()=>Ac,isCurrentlyReadOnlyMode:()=>Ro,isDOMDocumentNode:()=>Zh,isDOMNode:()=>Io,isDOMTextNode:()=>Cn,isDOMUnmanaged:()=>mp,isDocumentFragment:()=>fp,isExactShortcutMatch:()=>be,isHTMLAnchorElement:()=>jT,isHTMLElement:()=>At,isInlineDomNode:()=>hp,isLexicalEditor:()=>ua,isModifierMatch:()=>ip,isSelectionCapturedInDecoratorInput:()=>Qc,isSelectionWithinEditor:()=>Ki,makeStepwiseIterator:()=>fu,removeFromParent:()=>ir,resetRandomKey:()=>PT,safeCast:()=>gb,setDOMUnmanaged:()=>XT,setNodeIndentFromDOM:()=>pp,shallowMergeConfig:()=>fb});function $(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Uf(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);e.search=r.toString(),console.warn(`Minified Lexical warning #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var ln=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,gE=ln&&"documentMode"in document?document.documentMode:null,tn=ln&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Pr=ln&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Bs=!(!ln||!("InputEvent"in window)||gE)&&"getTargetRanges"in new window.InputEvent("input"),Pi=ln&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),ko=ln&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,fE=ln&&/Android/.test(navigator.userAgent),zf=ln&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Xg=ln&&fE&&zf,Bi=ln&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&tn&&!zf;function Wf(...n){let t=[];for(let e of n)if(e&&typeof e=="string")for(let[r]of e.matchAll(/\S+/g))t.push(r);return t}var hE=0,pE=1,mE=2,_E=1,CE=2,yE=4,xE=8,EE=16,TE=32,bE=64,Lc=128,NE=2047,SE=1,AE=2,vE=3,OE=4,wE=5,ME=6,oa=Pi||ko||Bi?"\xA0":"\u200B",sr=`

`,LE=Pr?"\xA0":oa,Yf="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",Gf="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",DE=new RegExp("^[^"+Gf+"]*["+Yf+"]"),kE=new RegExp("^[^"+Yf+"]*["+Gf+"]"),xt={bold:1,capitalize:1024,code:16,highlight:Lc,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},RE={directionless:1,unmergeable:2},qg={center:2,end:6,justify:4,left:1,right:3,start:5},IE={[AE]:"center",[ME]:"end",[OE]:"justify",[SE]:"left",[vE]:"right",[wE]:"start"},$E={normal:0,segmented:2,token:1},FE={[hE]:"normal",[mE]:"segmented",[pE]:"token"},PE="$",Zg="$config";function jf(n,t,e,r,o,i){let s=n.getFirstChild();for(;s!==null;){let l=s.__key;s.__parent===t&&(I(s)&&jf(s,l,e,r,o,i),e.has(l)||i.delete(l),o.push(l)),s=s.getNextSibling()}}var tc=!1,Dc=0;function BE(n){Dc=n.timeStamp}function Yl(n,t,e){let r=n.nodeName==="BR",o=t.__lexicalLineBreak;return o&&(n===o||r&&n.previousSibling===o)||r&&da(n,e)!==void 0}function KE(n,t,e){let r=yn(Vt(e)),o=null,i=null;r!==null&&r.anchorNode===n&&(o=r.anchorOffset,i=r.focusOffset);let s=n.nodeValue;s!==null&&ou(t,s,o,i,!1)}function HE(n,t,e){if(Q(n)){let r=n.anchor.getNode();if(r.is(e)&&n.format!==r.getFormat())return!1}return Cn(t)&&e.isAttached()}function UE(n,t,e,r){for(let o=n;o&&!mp(o);o=Ui(o)){let i=da(o,t);if(i!==void 0){let s=Qe(i,e);if(s)return Le(s)||!At(o)?void 0:[o,s]}else if(o===r)return[r,tp(e)]}}function Jf(n,t,e){tc=!0;let r=performance.now()-Dc>100;try{_n(n,()=>{let o=Ce()||(function(g){return g.getEditorState().read(()=>{let h=Ce();return h!==null?h.clone():null})})(n),i=new Map,s=n.getRootElement(),l=n._editorState,a=n._blockCursorElement,c=!1,u="";for(let g=0;g<t.length;g++){let h=t[g],f=h.type,p=h.target,m=UE(p,n,l,s);if(!m)continue;let[_,C]=m;if(f==="characterData")r&&W(C)&&Cn(p)&&HE(o,p,C)&&KE(p,C,n);else if(f==="childList"){c=!0;let y=h.addedNodes;for(let T=0;T<y.length;T++){let x=y[T],A=tu(x),O=x.parentNode;if(O!=null&&x!==a&&A===null&&!Yl(x,O,n)){if(Pr){let L=(At(x)?x.innerText:null)||x.nodeValue;L&&(u+=L)}O.removeChild(x)}}let E=h.removedNodes,b=E.length;if(b>0){let T=0;for(let x=0;x<b;x++){let A=E[x];(Yl(A,p,n)||a===A)&&(p.appendChild(A),T++)}b!==T&&i.set(_,C)}}}if(i.size>0)for(let[g,h]of i)h.reconcileObservedMutation(g,n);let d=e.takeRecords();if(d.length>0){for(let g=0;g<d.length;g++){let h=d[g],f=h.addedNodes,p=h.target;for(let m=0;m<f.length;m++){let _=f[m],C=_.parentNode;C==null||_.nodeName!=="BR"||Yl(_,p,n)||C.removeChild(_)}}e.takeRecords()}o!==null&&(c&&$t(o),Pr&&ap(n)&&o.insertRawText(u))})}finally{tc=!1}}function Vf(n){let t=n._observer;t!==null&&Jf(n,t.takeRecords(),t)}function Xf(n){(function(t){Dc===0&&Vt(t).addEventListener("textInput",BE,!0)})(n),n._observer=new MutationObserver((t,e)=>{Jf(n,t,e)})}var nc=class{constructor(t,e){v(this,"key");v(this,"parse");v(this,"unparse");v(this,"isEqual");v(this,"defaultValue");this.key=t,this.parse=e.parse.bind(e),this.unparse=(e.unparse||GE).bind(e),this.isEqual=(e.isEqual||Object.is).bind(e),this.defaultValue=this.parse(void 0)}};function zE(n,t){return new nc(n,t)}function Ks(n,t,e="latest"){let r=(e==="latest"?n.getLatest():n).__state;return r?r.getValue(t):t.defaultValue}function WE(n,t,e){let r=Ks(n,e,"direct"),o=Ks(t,e,"direct");return e.isEqual(r,o)?null:[r,o]}function YE(n,t,e){let r;if(it(),typeof e=="function"){let i=n.getLatest(),s=Ks(i,t);if(r=e(s),t.isEqual(s,r))return i}else r=e;let o=n.getWritable();return kc(o).updateFromKnown(t,r),o}function qf(n){let t=new Map,e=new Set;for(let r=typeof n=="function"?n:n.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){let{ownNodeConfig:o}=Wi(r);if(o&&o.stateConfigs)for(let i of o.stateConfigs){let s;"stateConfig"in i?(s=i.stateConfig,i.flat&&e.add(s.key)):s=i,t.set(s.key,s)}}return{flatKeys:e,sharedConfigMap:t}}var rc=class n{constructor(t,e,r=void 0,o=new Map,i=void 0){v(this,"node");v(this,"knownState");v(this,"unknownState");v(this,"sharedNodeState");v(this,"size");this.node=t,this.sharedNodeState=e,this.unknownState=r,this.knownState=o;let{sharedConfigMap:s}=this.sharedNodeState,l=i!==void 0?i:(function(a,c,u){let d=u.size;if(c)for(let g in c){let h=a.get(g);h&&u.has(h)||d++}return d})(s,r,o);this.size=l}getValue(t){let e=this.knownState.get(t);if(e!==void 0)return e;this.sharedNodeState.sharedConfigMap.set(t.key,t);let r=t.defaultValue;if(this.unknownState&&t.key in this.unknownState){let o=this.unknownState[t.key];o!==void 0&&(r=t.parse(o)),this.updateFromKnown(t,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){let t={...this.unknownState},e={};for(let[r,o]of this.knownState)r.isEqual(o,r.defaultValue)?delete t[r.key]:t[r.key]=r.unparse(o);for(let r of this.sharedNodeState.flatKeys)r in t&&(e[r]=t[r],delete t[r]);return Qg(t)&&(e.$=t),e}getWritable(t){if(this.node===t)return this;let{sharedNodeState:e,unknownState:r}=this,o=new Map(this.knownState);return new n(t,e,(function(i,s,l){let a;if(l)for(let[c,u]of Object.entries(l)){let d=i.get(c);d?s.has(d)||s.set(d,d.parse(u)):(a=a||{},a[c]=u)}return a})(e.sharedConfigMap,o,r),o,this.size)}updateFromKnown(t,e){let r=t.key;this.sharedNodeState.sharedConfigMap.set(r,t);let{knownState:o,unknownState:i}=this;o.has(t)||i&&r in i||(i&&(delete i[r],this.unknownState=Qg(i)),this.size++),o.set(t,e)}updateFromUnknown(t,e){let r=this.sharedNodeState.sharedConfigMap.get(t);r?this.updateFromKnown(r,r.parse(e)):(this.unknownState=this.unknownState||{},t in this.unknownState||this.size++,this.unknownState[t]=e)}updateFromJSON(t){let{knownState:e}=this;for(let r of e.keys())e.set(r,r.defaultValue);if(this.size=e.size,this.unknownState=void 0,t)for(let[r,o]of Object.entries(t))this.updateFromUnknown(r,o)}};function kc(n){let t=n.getWritable(),e=t.__state?t.__state.getWritable(t):new rc(t,Zf(t));return t.__state=e,e}function Zf(n){return n.__state?n.__state.sharedNodeState:qc(cu(),n.getType()).sharedNodeState}function Qg(n){if(n)for(let t in n)return n}function GE(n){return n}function ef(n,t,e){for(let[r,o]of t.knownState){if(n.has(r.key))continue;n.add(r.key);let i=e?e.getValue(r):r.defaultValue;if(i!==o&&!r.isEqual(i,o))return!0}return!1}function tf(n,t,e){let{unknownState:r}=t,o=e?e.unknownState:void 0;if(r){for(let[i,s]of Object.entries(r))if(!n.has(i)&&(n.add(i),s!==(o?o[i]:void 0)))return!0}return!1}function nf(n,t){let e=n.__state;return e&&e.node===n?e.getWritable(t):e}function rf(n,t){let e=n.__mode,r=n.__format,o=n.__style,i=t.__mode,s=t.__format,l=t.__style,a=n.__state,c=t.__state;return(e===null||e===i)&&(r===null||r===s)&&(o===null||o===l)&&(n.__state===null||a===c||(function(u,d){if(u===d)return!0;if(u&&d&&u.size!==d.size)return!1;let g=new Set;return!(u&&ef(g,u,d)||d&&ef(g,d,u)||u&&tf(g,u,d)||d&&tf(g,d,u))})(a,c))}function of(n,t){let e=n.mergeWithSibling(t),r=Se()._normalizedNodes;return r.add(n.__key),r.add(t.__key),e}function sf(n){let t,e,r=n;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(t=r.getPreviousSibling())!==null&&W(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(rf(t,r)){r=of(t,r);break}break}t.remove()}for(;(e=r.getNextSibling())!==null&&W(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(rf(r,e)){r=of(r,e);break}break}e.remove()}}else r.remove()}function Hs(n){return af(n.anchor),af(n.focus),n}function af(n){for(;n.type==="element";){let t=n.getNode(),e=n.offset,r,o;if(e===t.getChildrenSize()?(r=t.getChildAtIndex(e-1),o=!0):(r=t.getChildAtIndex(e),o=!1),W(r)){n.set(r.__key,o?r.getTextContentSize():0,"text",!0);break}if(!I(r))break;n.set(r.__key,o?r.getChildrenSize():0,"element",!0)}}var Br,Et,wi,ia,oc,ic,Kr,rn,sc,Mi,Ze="",mn=null,Ir=null,In="",mo=!1,Us=!1;function zs(n,t){let e=Kr.get(n);if(t!==null){let r=uc(n);r.parentNode===t&&t.removeChild(r)}if(rn.has(n)||Et._keyToDOMMap.delete(n),I(e)){let r=Ys(e,Kr);ac(r,0,r.length-1,null)}e!==void 0&&iu(Mi,wi,ia,e,"destroyed")}function ac(n,t,e,r){let o=t;for(;o<=e;++o){let i=n[o];i!==void 0&&zs(i,r)}}function Rr(n,t){n.setProperty("text-align",t)}var jE="40px";function Qf(n,t){let e=Br.theme.indent;if(typeof e=="string"){let o=n.classList.contains(e);t>0&&!o?n.classList.add(e):t<1&&o&&n.classList.remove(e)}let r=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||jE;n.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${r})`)}function eh(n,t){let e=n.style;t===0?Rr(e,""):t===1?Rr(e,"left"):t===2?Rr(e,"center"):t===3?Rr(e,"right"):t===4?Rr(e,"justify"):t===5?Rr(e,"start"):t===6&&Rr(e,"end")}function lc(n,t){let e=(function(r){let o=r.__dir;if(o!==null)return o;if(ct(r))return null;let i=r.getParentOrThrow();return ct(i)&&i.__dir===null?"auto":null})(t);e!==null?n.dir=e:n.removeAttribute("dir")}function Ws(n,t){let e=rn.get(n);e===void 0&&$(60);let r=e.createDOM(Br,Et);if((function(o,i,s){let l=s._keyToDOMMap;(function(a,c,u){let d=`__lexicalKey_${c._key}`;a[d]=u})(i,s,o),l.set(o,i)})(n,r,Et),W(e)?r.setAttribute("data-lexical-text","true"):Le(e)&&r.setAttribute("data-lexical-decorator","true"),I(e)){let o=e.__indent,i=e.__size;if(lc(r,e),o!==0&&Qf(r,o),i!==0){let l=i-1;cc(Ys(e,rn),e,0,l,e.getDOMSlot(r))}let s=e.__format;s!==0&&eh(r,s),e.isInline()||th(null,e,r),fa(e)&&(Ze+=sr,In+=sr)}else{let o=e.getTextContent();if(Le(e)){let i=e.decorate(Et,Br);i!==null&&nh(n,i),r.contentEditable="false"}Ze+=o,In+=o}return t!==null&&t.insertChild(r),iu(Mi,wi,ia,e,"created"),r}function cc(n,t,e,r,o){let i=Ze;Ze="";let s=e;for(;s<=r;++s){Ws(n[s],o);let l=rn.get(n[s]);l!==null&&W(l)&&mn===null&&(mn=l.getFormat(),Ir=l.getStyle())}fa(t)&&(Ze+=sr),o.element.__lexicalTextContent=Ze,Ze=i+Ze}function lf(n,t){if(n){let e=n.__last;if(e){let r=t.get(e);if(r)return Fr(r)?"line-break":Le(r)&&r.isInline()?"decorator":null}return"empty"}return null}function th(n,t,e){let r=lf(n,Kr),o=lf(t,rn);r!==o&&t.getDOMSlot(e).setManagedLineBreak(o)}function JE(n,t,e){var r;mn=null,Ir=null,(function(o,i,s){let l=Ze,a=o.__size,c=i.__size;Ze="";let u=s.element;if(a===1&&c===1){let d=o.__first,g=i.__first;if(d===g)Ei(d,u);else{let f=uc(d),p=Ws(g,null);try{u.replaceChild(p,f)}catch(m){if(typeof m=="object"&&m!=null){let _=`${m.toString()} Parent: ${u.tagName}, new child: {tag: ${p.tagName} key: ${g}}, old child: {tag: ${f.tagName}, key: ${d}}.`;throw new Error(_)}throw m}zs(d,null)}let h=rn.get(g);W(h)&&mn===null&&(mn=h.getFormat(),Ir=h.getStyle())}else{let d=Ys(o,Kr),g=Ys(i,rn);if(d.length!==a&&$(227),g.length!==c&&$(228),a===0)c!==0&&cc(g,i,0,c-1,s);else if(c===0){if(a!==0){let h=s.after==null&&s.before==null&&s.element.__lexicalLineBreak==null;ac(d,0,a-1,h?null:u),h&&(u.textContent="")}}else(function(h,f,p,m,_,C){let y=m-1,E=_-1,b,T,x=C.getFirstChild(),A=0,O=0;for(;A<=y&&O<=E;){let K=f[A],F=p[O];if(K===F)x=Gl(Ei(F,C.element)),A++,O++;else{b===void 0&&(b=new Set(f)),T===void 0&&(T=new Set(p));let z=T.has(K),oe=b.has(F);if(z)if(oe){let he=Wr(Et,F);he===x?x=Gl(Ei(F,C.element)):(C.withBefore(x).insertChild(he),Ei(F,C.element)),A++,O++}else Ws(F,C.withBefore(x)),O++;else x=Gl(uc(K)),zs(K,C.element),A++}let B=rn.get(F);B!==null&&W(B)&&mn===null&&(mn=B.getFormat(),Ir=B.getStyle())}let L=A>y,R=O>E;if(L&&!R){let K=p[E+1],F=K===void 0?null:Et.getElementByKey(K);cc(p,h,O,E,C.withBefore(F))}else R&&!L&&ac(f,A,y,C.element)})(i,d,g,a,c,s)}fa(i)&&(Ze+=sr),u.__lexicalTextContent=Ze,Ze=l+Ze})(n,t,t.getDOMSlot(e)),r=t,mn==null||mn===r.__textFormat||Us||r.setTextFormat(mn),(function(o){Ir==null||Ir===o.__textStyle||Us||o.setTextStyle(Ir)})(t)}function Ys(n,t){let e=[],r=n.__first;for(;r!==null;){let o=t.get(r);o===void 0&&$(101),e.push(r),r=o.__next}return e}function Ei(n,t){let e=Kr.get(n),r=rn.get(n);e!==void 0&&r!==void 0||$(61);let o=mo||ic.has(n)||oc.has(n),i=Wr(Et,n);if(e===r&&!o){if(I(e)){let s=i.__lexicalTextContent;s!==void 0&&(Ze+=s,In+=s)}else{let s=e.getTextContent();In+=s,Ze+=s}return i}if(e!==r&&o&&iu(Mi,wi,ia,r,"updated"),r.updateDOM(e,i,Br)){let s=Ws(n,null);return t===null&&$(62),t.replaceChild(s,i),zs(n,null),s}if(I(e)&&I(r)){let s=r.__indent;(mo||s!==e.__indent)&&Qf(i,s);let l=r.__format;if((mo||l!==e.__format)&&eh(i,l),o&&(JE(e,r,i),ct(r)||r.isInline()||th(e,r,i)),fa(r)&&(Ze+=sr,In+=sr),(mo||r.__dir!==e.__dir)&&(lc(i,r),ct(r)&&!mo))for(let a of r.getChildren())I(a)&&lc(Wr(Et,a.getKey()),a)}else{let s=r.getTextContent();if(Le(r)){let l=r.decorate(Et,Br);l!==null&&nh(n,l)}Ze+=s,In+=s}if(!Us&&ct(r)&&r.__cachedText!==In){let s=r.getWritable();s.__cachedText=In,r=s}return i}function nh(n,t){let e=Et._pendingDecorators,r=Et._decorators;if(e===null){if(r[n]===t)return;e=ep(Et)}e[n]=t}function Gl(n){let t=n.nextSibling;return t!==null&&t===Et._blockCursorElement&&(t=t.nextSibling),t}function VE(n,t,e,r,o,i){Ze="",In="",mo=r===2,Et=e,Br=e._config,wi=e._nodes,ia=Et._listeners.mutation,oc=o,ic=i,Kr=n._nodeMap,rn=t._nodeMap,Us=t._readOnly,sc=new Map(e._keyToDOMMap);let s=new Map;return Mi=s,Ei("root",null),Et=void 0,wi=void 0,oc=void 0,ic=void 0,Kr=void 0,rn=void 0,Br=void 0,sc=void 0,Mi=void 0,s}function uc(n){let t=sc.get(n);return t===void 0&&$(75,n),t}function ne(n){return{type:n}}var Rc=ne("SELECTION_CHANGE_COMMAND"),XE=ne("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),rh=ne("CLICK_COMMAND"),Ic=ne("BEFORE_INPUT_COMMAND"),$c=ne("INPUT_COMMAND"),Fc=ne("COMPOSITION_START_COMMAND"),Pc=ne("COMPOSITION_END_COMMAND"),Li=ne("DELETE_CHARACTER_COMMAND"),bi=ne("INSERT_LINE_BREAK_COMMAND"),dc=ne("INSERT_PARAGRAPH_COMMAND"),xo=ne("CONTROLLED_TEXT_INSERTION_COMMAND"),Bc=ne("PASTE_COMMAND"),gc=ne("REMOVE_TEXT_COMMAND"),Di=ne("DELETE_WORD_COMMAND"),ki=ne("DELETE_LINE_COMMAND"),nr=ne("FORMAT_TEXT_COMMAND"),Kc=ne("UNDO_COMMAND"),Hc=ne("REDO_COMMAND"),Uc=ne("KEYDOWN_COMMAND"),oh=ne("KEY_ARROW_RIGHT_COMMAND"),ih=ne("MOVE_TO_END"),sh=ne("KEY_ARROW_LEFT_COMMAND"),ah=ne("MOVE_TO_START"),lh=ne("KEY_ARROW_UP_COMMAND"),ch=ne("KEY_ARROW_DOWN_COMMAND"),Gs=ne("KEY_ENTER_COMMAND"),uh=ne("KEY_SPACE_COMMAND"),dh=ne("KEY_BACKSPACE_COMMAND"),gh=ne("KEY_ESCAPE_COMMAND"),fh=ne("KEY_DELETE_COMMAND"),hh=ne("KEY_TAB_COMMAND"),qE=ne("INSERT_TAB_COMMAND"),ZE=ne("INDENT_CONTENT_COMMAND"),QE=ne("OUTDENT_CONTENT_COMMAND"),ph=ne("DROP_COMMAND"),eT=ne("FORMAT_ELEMENT_COMMAND"),mh=ne("DRAGSTART_COMMAND"),_h=ne("DRAGOVER_COMMAND"),Ch=ne("DRAGEND_COMMAND"),zc=ne("COPY_COMMAND"),Wc=ne("CUT_COMMAND"),fc=ne("SELECT_ALL_COMMAND"),tT=ne("CLEAR_EDITOR_COMMAND"),nT=ne("CLEAR_HISTORY_COMMAND"),rT=ne("CAN_REDO_COMMAND"),oT=ne("CAN_UNDO_COMMAND"),yh=ne("FOCUS_COMMAND"),xh=ne("BLUR_COMMAND"),Eh=ne("KEY_MODIFIER_COMMAND"),Ln=Object.freeze({}),hc=[["keydown",function(n,t){Ri=n.timeStamp,Th=n.key,!t.isComposing()&&H(t,Uc,n)}],["pointerdown",function(n,t){let e=n.target,r=n.pointerType;Io(e)&&r!=="touch"&&r!=="pen"&&n.button===0&&_n(t,()=>{qh(e)||(_c=!0)})}],["compositionstart",function(n,t){H(t,Fc,n)}],["compositionend",function(n,t){Pr?Ti=!0:ko||!Pi&&!Bi?H(t,Pc,n):(Cc=!0,yc=n.data)}],["input",function(n,t){n.stopPropagation(),_n(t,()=>{t.dispatchCommand($c,n)},{event:n}),_o=null}],["click",function(n,t){_n(t,()=>{let e=Ce(),r=yn(Vt(t)),o=Gr();if(r){if(Q(e)){let i=e.anchor,s=i.getNode();if(i.type==="element"&&i.offset===0&&e.isCollapsed()&&!ct(s)&&Ht().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&o!==null&&e.is(o))r.removeAllRanges(),e.dirty=!0;else if(n.detail===3&&!e.isCollapsed()&&s!==e.focus.getNode()){let l=Ai(s,a=>I(a)&&!a.isInline());I(l)&&l.select(0)}}else if(n.pointerType==="touch"||n.pointerType==="pen"){let i=r.anchorNode;(At(i)||Cn(i))&&$t(la(o,r,t,n))}}H(t,rh,n)})}],["cut",Ln],["copy",Ln],["dragstart",Ln],["dragover",Ln],["dragend",Ln],["paste",Ln],["focus",Ln],["blur",Ln],["drop",Ln]];Bs&&hc.push(["beforeinput",(n,t)=>(function(e,r){let o=e.inputType;o==="deleteCompositionText"||Pr&&ap(r)||o!=="insertCompositionText"&&H(r,Ic,e)})(n,t)]);var Ri=0,Th=null,bh=0,_o=null,pc=new WeakMap,js=new WeakMap,mc=!1,_c=!1,Ni=!1,Ti=!1,Cc=!1,yc="",$r=null,Nh=[0,"",0,"root",0];function Sh(n,t,e,r,o){let i=n.anchor,s=n.focus,l=i.getNode(),a=Se(),c=yn(Vt(a)),u=c!==null?c.anchorNode:null,d=i.key,g=a.getElementByKey(d),h=e.length;return d!==s.key||!W(l)||(!o&&(!Bs||bh<r+50)||l.isDirty()&&h<2||np(e))&&i.offset!==s.offset&&!l.isComposing()||Rn(l)||l.isDirty()&&h>1||(o||!Bs)&&g!==null&&!l.isComposing()&&u!==zr(g)||c!==null&&t!==null&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||l.getFormat()!==n.format||l.getStyle()!==n.style||(function(f,p){if(p.isSegmented())return!0;if(!f.isCollapsed())return!1;let m=f.anchor.offset,_=p.getParentOrThrow(),C=or(p);return m===0?!p.canInsertTextBefore()||!_.canInsertTextBefore()&&!p.isComposing()||C||(function(y){let E=y.getPreviousSibling();return(W(E)||I(E)&&E.isInline())&&!E.canInsertTextAfter()})(p):m===p.getTextContentSize()&&(!p.canInsertTextAfter()||!_.canInsertTextAfter()&&!p.isComposing()||C)})(n,l)}function cf(n,t){return Cn(n)&&n.nodeValue!==null&&t!==0&&t!==n.nodeValue.length}function uf(n,t,e){let{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}=n;mc&&(mc=!1,cf(r,o)&&cf(i,s)&&!$r)||_n(t,()=>{if(!e)return void $t(null);if(!Ki(t,r,i))return;let l=Ce();if($r&&Q(l)&&l.isCollapsed()){let a=l.anchor,c=$r.anchor;(a.key===c.key&&a.offset===c.offset+1||a.offset===1&&c.getNode().is(a.getNode().getPreviousSibling()))&&(l=$r.clone(),$t(l))}if($r=null,Q(l)){let a=l.anchor,c=a.getNode();if(l.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(l.dirty=!0);let u=Vt(t).event,d=u?u.timeStamp:performance.now(),[g,h,f,p,m]=Nh,_=Ht(),C=t.isComposing()===!1&&_.getTextContent()==="";if(d<m+200&&a.offset===f&&a.key===p)$s(l,g,h);else if(a.type==="text")W(c)||$(141),Ah(l,c);else if(a.type==="element"&&!C){I(c)||$(259);let y=a.getNode();y.isEmpty()?(function(E,b){let T=b.getTextFormat(),x=b.getTextStyle();$s(E,T,x)})(l,y):$s(l,0,"")}}else{let u=a.key,d=l.focus.key,g=l.getNodes(),h=g.length,f=l.isBackward(),p=f?s:o,m=f?o:s,_=f?d:u,C=f?u:d,y=2047,E=!1;for(let b=0;b<h;b++){let T=g[b],x=T.getTextContentSize();if(W(T)&&x!==0&&!(b===0&&T.__key===_&&p===x||b===h-1&&T.__key===C&&m===0)&&(E=!0,y&=T.getFormat(),y===0))break}l.format=E?y:0}}H(t,Rc,void 0)})}function $s(n,t,e){n.format===t&&n.style===e||(n.format=t,n.style=e,n.dirty=!0)}function Ah(n,t){$s(n,t.getFormat(),t.getStyle())}function vh(n){if(!n.getTargetRanges)return null;let t=n.getTargetRanges();return t.length===0?null:t[0]}function iT(n){let t=n.inputType,e=vh(n),r=Se(),o=Ce();if(t==="deleteContentBackward"){if(o===null){let d=Gr();if(!Q(d))return!0;$t(d.clone())}if(Q(o)){let d=o.anchor.key===o.focus.key;if(i=n.timeStamp,Th==="MediaLast"&&i<Ri+30&&r.isComposing()&&d){if(st(null),Ri=0,setTimeout(()=>{_n(r,()=>{st(null)})},30),Q(o)){let g=o.anchor.getNode();g.markDirty(),W(g)||$(142),Ah(o,g)}}else{st(null),n.preventDefault();let g=o.anchor.getNode(),h=g.getTextContent(),f=g.canInsertTextAfter(),p=o.anchor.offset===0&&o.focus.offset===h.length,m=Xg&&d&&!p&&f;if(m&&o.isCollapsed()&&(m=!Le(sp(o.anchor,!0))),!m){H(r,Li,!0);let _=Ce();Xg&&Q(_)&&_.isCollapsed()&&($r=_,setTimeout(()=>$r=null))}}return!0}}var i;if(!Q(o))return!0;let s=n.data;_o!==null&&ru(!1,r,_o),o.dirty&&_o===null||!o.isCollapsed()||ct(o.anchor.getNode())||e===null||o.applyDOMRange(e),_o=null;let l=o.anchor,a=o.focus,c=l.getNode(),u=a.getNode();if(t==="insertText"||t==="insertTranspose"){if(s===`
`)n.preventDefault(),H(r,bi,!1);else if(s===sr)n.preventDefault(),H(r,dc,void 0);else if(s==null&&n.dataTransfer){let d=n.dataTransfer.getData("text/plain");n.preventDefault(),o.insertRawText(d)}else s!=null&&Sh(o,e,s,n.timeStamp,!0)?(n.preventDefault(),H(r,xo,s)):_o=s;return bh=n.timeStamp,!0}switch(n.preventDefault(),t){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":H(r,xo,n);break;case"insertFromComposition":st(null),H(r,xo,n);break;case"insertLineBreak":st(null),H(r,bi,!1);break;case"insertParagraph":st(null),Ni&&!ko?(Ni=!1,H(r,bi,!1)):H(r,dc,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":H(r,Bc,n);break;case"deleteByComposition":(function(d,g){return d!==g||I(d)||I(g)||!or(d)||!or(g)})(c,u)&&H(r,gc,n);break;case"deleteByDrag":case"deleteByCut":H(r,gc,n);break;case"deleteContent":H(r,Li,!1);break;case"deleteWordBackward":H(r,Di,!0);break;case"deleteWordForward":H(r,Di,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":H(r,ki,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":H(r,ki,!1);break;case"formatStrikeThrough":H(r,nr,"strikethrough");break;case"formatBold":H(r,nr,"bold");break;case"formatItalic":H(r,nr,"italic");break;case"formatUnderline":H(r,nr,"underline");break;case"historyUndo":H(r,Kc,void 0);break;case"historyRedo":H(r,Hc,void 0)}return!0}function sT(n){if(At(n.target)&&qh(n.target))return!0;let t=Se(),e=Ce(),r=n.data,o=vh(n);if(r!=null&&Q(e)&&Sh(e,o,r,n.timeStamp,!1)){Ti&&(Js(t,r),Ti=!1);let i=e.anchor.getNode(),s=yn(Vt(t));if(s===null)return!0;let l=e.isBackward(),a=l?e.anchor.offset:e.focus.offset,c=l?e.focus.offset:e.anchor.offset;Bs&&!e.isCollapsed()&&W(i)&&s.anchorNode!==null&&i.getTextContent().slice(0,a)+r+i.getTextContent().slice(a+c)===op(s.anchorNode)||H(t,xo,r);let u=r.length;Pr&&u>1&&n.inputType==="insertCompositionText"&&!t.isComposing()&&(e.anchor.offset-=u),Pi||ko||Bi||!t.isComposing()||(Ri=0,st(null))}else ru(!1,t,r!==null?r:void 0),Ti&&(Js(t,r||void 0),Ti=!1);return(function(){it();let i=Se();Vf(i)})(),!0}function aT(n){let t=Se(),e=Ce();if(Q(e)&&!t.isComposing()){let r=e.anchor,o=e.anchor.getNode();st(r.key),(n.timeStamp<Ri+30||r.type==="element"||!e.isCollapsed()||o.getFormat()!==e.format||W(o)&&o.getStyle()!==e.style)&&H(t,xo,LE)}return!0}function lT(n){return Js(Se(),n.data),!0}function Js(n,t){let e=n._compositionKey;if(st(null),e!==null&&t!=null){if(t===""){let r=Qe(e),o=zr(n.getElementByKey(e));return void(o!==null&&o.nodeValue!==null&&W(r)&&ou(r,o.nodeValue,null,null,!0))}if(t[t.length-1]===`
`){let r=Ce();if(Q(r)){let o=r.focus;return r.anchor.set(o.key,o.offset,o.type),void H(n,Gs,null)}}}ru(!0,n,t)}function cT(n){let t=Se();if(n.key==null)return!0;if(Cc&&$f(n))return _n(t,()=>{Js(t,yc)}),Cc=!1,yc="",!0;if((function(e){return be(e,"ArrowRight",{shiftKey:"any"})})(n))H(t,oh,n);else if((function(e){return be(e,"ArrowRight",kn)})(n))H(t,ih,n);else if((function(e){return be(e,"ArrowLeft",{shiftKey:"any"})})(n))H(t,sh,n);else if((function(e){return be(e,"ArrowLeft",kn)})(n))H(t,ah,n);else if((function(e){return be(e,"ArrowUp",{altKey:"any",shiftKey:"any"})})(n))H(t,lh,n);else if((function(e){return be(e,"ArrowDown",{altKey:"any",shiftKey:"any"})})(n))H(t,ch,n);else if((function(e){return be(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})})(n))Ni=!0,H(t,Gs,n);else if((function(e){return e.key===" "})(n))H(t,uh,n);else if((function(e){return tn&&be(e,"o",{ctrlKey:!0})})(n))n.preventDefault(),Ni=!0,H(t,bi,!0);else if((function(e){return be(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})})(n))Ni=!1,H(t,Gs,n);else if((function(e){return be(e,"Backspace",{shiftKey:"any"})||tn&&be(e,"h",{ctrlKey:!0})})(n))$f(n)?H(t,dh,n):(n.preventDefault(),H(t,Li,!0));else if((function(e){return e.key==="Escape"})(n))H(t,gh,n);else if((function(e){return be(e,"Delete",{})||tn&&be(e,"d",{ctrlKey:!0})})(n))(function(e){return e.key==="Delete"})(n)?H(t,fh,n):(n.preventDefault(),H(t,Li,!1));else if((function(e){return be(e,"Backspace",If)})(n))n.preventDefault(),H(t,Di,!0);else if((function(e){return be(e,"Delete",If)})(n))n.preventDefault(),H(t,Di,!1);else if((function(e){return tn&&be(e,"Backspace",{metaKey:!0})})(n))n.preventDefault(),H(t,ki,!0);else if((function(e){return tn&&(be(e,"Delete",{metaKey:!0})||be(e,"k",{ctrlKey:!0}))})(n))n.preventDefault(),H(t,ki,!1);else if((function(e){return be(e,"b",kn)})(n))n.preventDefault(),H(t,nr,"bold");else if((function(e){return be(e,"u",kn)})(n))n.preventDefault(),H(t,nr,"underline");else if((function(e){return be(e,"i",kn)})(n))n.preventDefault(),H(t,nr,"italic");else if((function(e){return be(e,"Tab",{shiftKey:"any"})})(n))H(t,hh,n);else if((function(e){return be(e,"z",kn)})(n))n.preventDefault(),H(t,Kc,void 0);else if((function(e){return tn?be(e,"z",{metaKey:!0,shiftKey:!0}):be(e,"y",{ctrlKey:!0})||be(e,"z",{ctrlKey:!0,shiftKey:!0})})(n))n.preventDefault(),H(t,Hc,void 0);else{let e=t._editorState._selection;e===null||Q(e)?Ff(n)&&(n.preventDefault(),H(t,fc,n)):(function(r){return be(r,"c",kn)})(n)?(n.preventDefault(),H(t,zc,n)):(function(r){return be(r,"x",kn)})(n)?(n.preventDefault(),H(t,Wc,n)):Ff(n)&&(n.preventDefault(),H(t,fc,n))}return(function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey})(n)&&t.dispatchCommand(Eh,n),!0}function Oh(n){let t=n.__lexicalEventHandles;return t===void 0&&(t=[],n.__lexicalEventHandles=t),t}var Eo=new Map;function wh(n){let t=gp(n.target);if(t===null)return;let e=eu(t.anchorNode);if(e===null)return;_c&&(_c=!1,_n(e,()=>{let a=Gr(),c=t.anchorNode;(At(c)||Cn(c))&&$t(la(a,t,e,n))}));let r=nu(e),o=r[r.length-1],i=o._key,s=Eo.get(i),l=s||o;l!==e&&uf(t,l,!1),uf(t,e,!0),e!==o?Eo.set(i,e):s&&Eo.delete(i)}function df(n){n._lexicalHandled=!0}function gf(n){return n._lexicalHandled===!0}var ff=()=>{};function uT(n){let t=pc.get(n);if(t===void 0)return void ff();let e=js.get(t);if(e===void 0)return void ff();let r=e-1;r>=0||$(164),pc.delete(n),js.set(t,r),r===0&&t.removeEventListener("selectionchange",wh);let o=Hi(n);ua(o)?((function(s){if(s._parentEditor!==null){let l=nu(s),a=l[l.length-1]._key;Eo.get(a)===s&&Eo.delete(a)}else Eo.delete(s._key)})(o),n.__lexicalEditor=null):o&&$(198);let i=Oh(n);for(let s=0;s<i.length;s++)i[s]();n.__lexicalEventHandles=[]}function xc(n,t,e){it();let r=n.__key,o=n.getParent();if(o===null)return;let i=(function(l){let a=Ce();if(!Q(a)||!I(l))return a;let{anchor:c,focus:u}=a,d=c.getNode(),g=u.getNode();return na(d,l)&&c.set(l.__key,0,"element"),na(g,l)&&u.set(l.__key,0,"element"),a})(n),s=!1;if(Q(i)&&t){let l=i.anchor,a=i.focus;l.key===r&&(Zs(l,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0),a.key===r&&(Zs(a,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0)}else aa(i)&&t&&n.isSelected()&&n.selectPrevious();if(Q(i)&&t&&!s){let l=n.getIndexWithinParent();ir(n),qs(i,o,l,-1)}else ir(n);e||Jt(o)||o.canBeEmpty()||!o.isEmpty()||xc(o,t),t&&i&&ct(o)&&o.isEmpty()&&o.selectEnd()}function dT(n){return n}var Mh=Symbol.for("ephemeral");function Vs(n){return n[Mh]||!1}var Kt=class{constructor(t){v(this,"__type");v(this,"__key");v(this,"__parent");v(this,"__prev");v(this,"__next");v(this,"__state");this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),Qh(this,t)}static getType(){let{ownNodeType:t}=Wi(this);return t===void 0&&$(64,this.name),t}static clone(t){$(65,this.name)}$config(){return{}}config(t,e){let r=e.extends||Object.getPrototypeOf(this.constructor);return Object.assign(e,{extends:r,type:t}),{[t]:e}}afterCloneFrom(t){this.__key===t.__key?(this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev,this.__state=t.__state):t.__state&&(this.__state=t.__state.getWritable(this))}getType(){return this.__type}isInline(){$(137,this.constructor.name)}isAttached(){let t=this.__key;for(;t!==null;){if(t==="root")return!0;let e=Qe(t);if(e===null)break;t=e.__parent}return!1}isSelected(t){let e=t||Ce();if(e==null)return!1;let r=e.getNodes().some(o=>o.__key===this.__key);if(W(this))return r;if(Q(e)&&e.anchor.type==="element"&&e.focus.type==="element"){if(e.isCollapsed())return!1;let o=this.getParent();if(Le(this)&&this.isInline()&&o){let i=e.isBackward()?e.focus:e.anchor;if(o.is(i.getNode())&&i.offset===o.getChildrenSize()&&this.is(o.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){let t=this.getParent();if(t===null)return-1;let e=t.getFirstChild(),r=0;for(;e!==null;){if(this.is(e))return r;r++,e=e.getNextSibling()}return-1}getParent(){let t=this.getLatest().__parent;return t===null?null:Qe(t)}getParentOrThrow(){let t=this.getParent();return t===null&&$(66,this.__key),t}getTopLevelElement(){let t=this;for(;t!==null;){let e=t.getParent();if(Jt(e))return I(t)||t===this&&Le(t)||$(194),t;t=e}return null}getTopLevelElementOrThrow(){let t=this.getTopLevelElement();return t===null&&$(67,this.__key),t}getParents(){let t=[],e=this.getParent();for(;e!==null;)t.push(e),e=e.getParent();return t}getParentKeys(){let t=[],e=this.getParent();for(;e!==null;)t.push(e.__key),e=e.getParent();return t}getPreviousSibling(){let t=this.getLatest().__prev;return t===null?null:Qe(t)}getPreviousSiblings(){let t=[],e=this.getParent();if(e===null)return t;let r=e.getFirstChild();for(;r!==null&&!r.is(this);)t.push(r),r=r.getNextSibling();return t}getNextSibling(){let t=this.getLatest().__next;return t===null?null:Qe(t)}getNextSiblings(){let t=[],e=this.getNextSibling();for(;e!==null;)t.push(e),e=e.getNextSibling();return t}getCommonAncestor(t){let e=I(this)?this:this.getParent(),r=I(t)?t:t.getParent(),o=e&&r?vi(e,r):null;return o?o.commonAncestor:null}is(t){return t!=null&&this.__key===t.__key}isBefore(t){let e=vi(this,t);return e!==null&&(e.type==="descendant"||(e.type==="branch"?pu(e)===-1:(e.type!=="same"&&e.type!=="ancestor"&&$(279),!1)))}isParentOf(t){let e=vi(this,t);return e!==null&&e.type==="ancestor"}getNodesBetween(t){let e=this.isBefore(t),r=[],o=new Set,i=this;for(;i!==null;){let s=i.__key;if(o.has(s)||(o.add(s),r.push(i)),i===t)break;let l=I(i)?e?i.getFirstChild():i.getLastChild():null;if(l!==null){i=l;continue}let a=e?i.getNextSibling():i.getPreviousSibling();if(a!==null){i=a;continue}let c=i.getParentOrThrow();if(o.has(c.__key)||r.push(c),c===t)break;let u=null,d=c;do{if(d===null&&$(68),u=e?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),d===null)break;u!==null||o.has(d.__key)||r.push(d)}while(u===null);i=u}return e||r.reverse(),r}isDirty(){let t=Se()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){if(Vs(this))return this;let t=Qe(this.__key);return t===null&&$(113),t}getWritable(){if(Vs(this))return this;it();let t=Un(),e=Se(),r=t._nodeMap,o=this.__key,i=this.getLatest(),s=e._cloneNotNeeded,l=Ce();if(l!==null&&l.setCachedNodes(null),s.has(o))return ta(i),i;let a=uu(i);return s.add(o),ta(a),r.set(o,a),a}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,e){$(70)}updateDOM(t,e,r){$(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){let t=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...t}}static importJSON(t){$(18,this.name)}updateFromJSON(t){return(function(e,r){let o=e.getWritable(),i=r.$,s=i;for(let l of Zf(o).flatKeys)l in r&&(s!==void 0&&s!==i||(s={...i}),s[l]=r[l]);return(o.__state||s)&&kc(e).updateFromJSON(s),o})(this,t)}static transform(){return null}remove(t){xc(this,!0,t)}replace(t,e){it();let r=Ce();r!==null&&(r=r.clone()),Zl(this,t);let o=this.getLatest(),i=this.__key,s=t.__key,l=t.getWritable(),a=this.getParentOrThrow().getWritable(),c=a.__size;ir(l);let u=o.getPreviousSibling(),d=o.getNextSibling(),g=o.__prev,h=o.__next,f=o.__parent;if(xc(o,!1,!0),u===null?a.__first=s:u.getWritable().__next=s,l.__prev=g,d===null?a.__last=s:d.getWritable().__prev=s,l.__next=h,l.__parent=f,a.__size=c,e&&(I(this)&&I(l)||$(139),this.getChildren().forEach(p=>{l.append(p)})),Q(r)){$t(r);let p=r.anchor,m=r.focus;p.key===i&&_f(p,l),m.key===i&&_f(m,l)}return rr()===i&&st(s),l}insertAfter(t,e=!0){it(),Zl(this,t);let r=this.getWritable(),o=t.getWritable(),i=o.getParent(),s=Ce(),l=!1,a=!1;if(i!==null){let h=t.getIndexWithinParent();if(ir(o),Q(s)){let f=i.__key,p=s.anchor,m=s.focus;l=p.type==="element"&&p.key===f&&p.offset===h+1,a=m.type==="element"&&m.key===f&&m.offset===h+1}}let c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),d=o.__key,g=r.__next;if(c===null?u.__last=d:c.getWritable().__prev=d,u.__size++,r.__next=d,o.__next=g,o.__prev=r.__key,o.__parent=r.__parent,e&&Q(s)){let h=this.getIndexWithinParent();qs(s,u,h+1);let f=u.__key;l&&s.anchor.set(f,h+2,"element"),a&&s.focus.set(f,h+2,"element")}return t}insertBefore(t,e=!0){it(),Zl(this,t);let r=this.getWritable(),o=t.getWritable(),i=o.__key;ir(o);let s=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,c=this.getIndexWithinParent();s===null?l.__first=i:s.getWritable().__next=i,l.__size++,r.__prev=i,o.__prev=a,o.__next=r.__key,o.__parent=r.__parent;let u=Ce();return e&&Q(u)&&qs(u,this.getParentOrThrow(),c),t}isParentRequired(){return!1}createParentElementNode(){return Pn()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,e){it();let r=this.getPreviousSibling(),o=this.getParentOrThrow();if(r===null)return o.select(0,0);if(I(r))return r.select();if(!W(r)){let i=r.getIndexWithinParent()+1;return o.select(i,i)}return r.select(t,e)}selectNext(t,e){it();let r=this.getNextSibling(),o=this.getParentOrThrow();if(r===null)return o.select();if(I(r))return r.select(0,0);if(!W(r)){let i=r.getIndexWithinParent();return o.select(i,i)}return r.select(t,e)}markDirty(){this.getWritable()}reconcileObservedMutation(t,e){this.markDirty()}};v(Kt,"importDOM");var gT="historic",fT="history-push",Fs="history-merge",hT="paste",Lh="collaboration",pT="skip-collab",Dh="skip-scroll-into-view",kh="skip-dom-selection",Rh="skip-selection-focus",bo=class n extends Kt{static getType(){return"linebreak"}static clone(t){return new n(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:t=>(function(e){let r=e.parentElement;if(r!==null&&Ac(r)){let o=r.firstChild;if(o===e||o.nextSibling===e&&Ds(o)){let i=r.lastChild;if(i===e||i.previousSibling===e&&Ds(i))return!0}}return!1})(t)||(function(e){let r=e.parentElement;if(r!==null&&Ac(r)){let o=r.firstChild;if(o===e||o.nextSibling===e&&Ds(o))return!1;let i=r.lastChild;if(i===e||i.previousSibling===e&&Ds(i))return!0}return!1})(t)?null:{conversion:mT,priority:0}}}static importJSON(t){return No().updateFromJSON(t)}};function mT(n){return{node:No()}}function No(){return zi(new bo)}function Fr(n){return n instanceof bo}function Ds(n){return Cn(n)&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function jl(n,t){return 16&t?"code":t&Lc?"mark":32&t?"sub":64&t?"sup":null}function Jl(n,t){return 1&t?"strong":2&t?"em":"span"}function Ih(n,t,e,r,o){let i=r.classList,s=To(o,"base");s!==void 0&&i.add(...s),s=To(o,"underlineStrikethrough");let l=!1,a=8&t&&4&t;s!==void 0&&(8&e&&4&e?(l=!0,a||i.add(...s)):a&&i.remove(...s));for(let c in xt){let u=xt[c];if(s=To(o,c),s!==void 0)if(e&u){if(l&&(c==="underline"||c==="strikethrough")){t&u&&i.remove(...s);continue}((t&u)===0||a&&c==="underline"||c==="strikethrough")&&i.add(...s)}else t&u&&i.remove(...s)}}function $h(n,t,e){let r=t.firstChild,o=e.isComposing(),i=n+(o?oa:"");if(r==null)t.textContent=i;else{let s=r.nodeValue;if(s!==i)if(o||Pr){let[l,a,c]=(function(u,d){let g=u.length,h=d.length,f=0,p=0;for(;f<g&&f<h&&u[f]===d[f];)f++;for(;p+f<g&&p+f<h&&u[g-p-1]===d[h-p-1];)p++;return[f,g-f-p,d.slice(f,h-p)]})(s,i);a!==0&&r.deleteData(l,a),r.insertData(l,c)}else r.nodeValue=i}}function hf(n,t,e,r,o,i){$h(o,n,t);let s=i.theme.text;s!==void 0&&Ih(0,0,r,n,s)}function ks(n,t){let e=document.createElement(t);return e.appendChild(n),e}var Hr=class n extends Kt{constructor(e="",r){super(r);v(this,"__text");v(this,"__format");v(this,"__style");v(this,"__mode");v(this,"__detail");this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}static getType(){return"text"}static clone(e){return new n(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return FE[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===rr()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){let r=xt[e];return(this.getFormat()&r)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,r){return ea(this.getLatest().__format,e,r)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,r){let o=this.__format,i=jl(0,o),s=Jl(0,o),l=i===null?s:i,a=document.createElement(l),c=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),i!==null&&(c=document.createElement(s),a.appendChild(c)),hf(c,this,0,o,this.__text,e);let u=this.__style;return u!==""&&(a.style.cssText=u),a}updateDOM(e,r,o){let i=this.__text,s=e.__format,l=this.__format,a=jl(0,s),c=jl(0,l),u=Jl(0,s),d=Jl(0,l);if((a===null?u:a)!==(c===null?d:c))return!0;if(a===c&&u!==d){let m=r.firstChild;m==null&&$(48);let _=document.createElement(d);return hf(_,this,0,l,i,o),r.replaceChild(_,m),!1}let g=r;c!==null&&a!==null&&(g=r.firstChild,g==null&&$(49)),$h(i,g,this);let h=o.theme.text;h!==void 0&&s!==l&&Ih(0,s,l,g,h);let f=e.__style,p=this.__style;return f!==p&&(r.style.cssText=p),!1}static importDOM(){return{"#text":()=>({conversion:xT,priority:0}),b:()=>({conversion:CT,priority:0}),code:()=>({conversion:Dn,priority:0}),em:()=>({conversion:Dn,priority:0}),i:()=>({conversion:Dn,priority:0}),mark:()=>({conversion:Dn,priority:0}),s:()=>({conversion:Dn,priority:0}),span:()=>({conversion:_T,priority:0}),strong:()=>({conversion:Dn,priority:0}),sub:()=>({conversion:Dn,priority:0}),sup:()=>({conversion:Dn,priority:0}),u:()=>({conversion:Dn,priority:0})}}static importJSON(e){return ot().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:r}=super.exportDOM(e);return At(r)||$(132),r.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?r.style.textTransform="lowercase":this.hasFormat("uppercase")?r.style.textTransform="uppercase":this.hasFormat("capitalize")&&(r.style.textTransform="capitalize"),this.hasFormat("bold")&&(r=ks(r,"b")),this.hasFormat("italic")&&(r=ks(r,"i")),this.hasFormat("strikethrough")&&(r=ks(r,"s")),this.hasFormat("underline")&&(r=ks(r,"u")),{element:r}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,r){}setFormat(e){let r=this.getWritable();return r.__format=typeof e=="string"?xt[e]:e,r}setDetail(e){let r=this.getWritable();return r.__detail=typeof e=="string"?RE[e]:e,r}setStyle(e){let r=this.getWritable();return r.__style=e,r}toggleFormat(e){let r=ea(this.getFormat(),e,null);return this.setFormat(r)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){let r=$E[e];if(this.__mode===r)return this;let o=this.getWritable();return o.__mode=r,o}setTextContent(e){if(this.__text===e)return this;let r=this.getWritable();return r.__text=e,r}select(e,r){it();let o=e,i=r,s=Ce(),l=this.getTextContent(),a=this.__key;if(typeof l=="string"){let c=l.length;o===void 0&&(o=c),i===void 0&&(i=c)}else o=0,i=0;if(!Q(s))return Bh(a,o,a,i,"text","text");{let c=rr();c!==s.anchor.key&&c!==s.focus.key||st(a),s.setTextNodeRange(this,o,this,i)}return s}selectStart(){return this.select(0,0)}selectEnd(){let e=this.getTextContentSize();return this.select(e,e)}spliceText(e,r,o,i){let s=this.getWritable(),l=s.__text,a=o.length,c=e;c<0&&(c=a+c,c<0&&(c=0));let u=Ce();if(i&&Q(u)){let g=e+a;u.setTextNodeRange(s,g,s,g)}let d=l.slice(0,c)+o+l.slice(c+r);return s.__text=d,s}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){it();let r=this.getLatest(),o=r.getTextContent();if(o==="")return[];let i=r.__key,s=rr(),l=o.length;e.sort((O,L)=>O-L),e.push(l);let a=[],c=e.length;for(let O=0,L=0;O<l&&L<=c;L++){let R=e[L];R>O&&(a.push(o.slice(O,R)),O=R)}let u=a.length;if(u===1)return[r];let d=a[0],g=r.getParent(),h,f=r.getFormat(),p=r.getStyle(),m=r.__detail,_=!1,C=null,y=null,E=Ce();if(Q(E)){let[O,L]=E.isBackward()?[E.focus,E.anchor]:[E.anchor,E.focus];O.type==="text"&&O.key===i&&(C=O),L.type==="text"&&L.key===i&&(y=L)}r.isSegmented()?(h=ot(d),h.__format=f,h.__style=p,h.__detail=m,h.__state=nf(r,h),_=!0):h=r.setTextContent(d);let b=[h];for(let O=1;O<u;O++){let L=ot(a[O]);L.__format=f,L.__style=p,L.__detail=m,L.__state=nf(r,L);let R=L.__key;s===i&&st(R),b.push(L)}let T=C?C.offset:null,x=y?y.offset:null,A=0;for(let O of b){if(!C&&!y)break;let L=A+O.getTextContentSize();if(C!==null&&T!==null&&T<=L&&T>=A&&(C.set(O.getKey(),T-A,"text"),T<L&&(C=null)),y!==null&&x!==null&&x<=L&&x>=A){y.set(O.getKey(),x-A,"text");break}A=L}if(g!==null){(function(R){let K=R.getPreviousSibling(),F=R.getNextSibling();K!==null&&ta(K),F!==null&&ta(F)})(this);let O=g.getWritable(),L=this.getIndexWithinParent();_?(O.splice(L,0,b),this.remove()):O.splice(L,1,b),Q(E)&&qs(E,g,L,u-1)}return b}mergeWithSibling(e){let r=e===this.getPreviousSibling();r||e===this.getNextSibling()||$(50);let o=this.__key,i=e.__key,s=this.__text,l=s.length;rr()===i&&st(o);let a=Ce();if(Q(a)){let g=a.anchor,h=a.focus;g!==null&&g.key===i&&Nf(g,r,o,e,l),h!==null&&h.key===i&&Nf(h,r,o,e,l)}let c=e.__text,u=r?c+s:s+c;this.setTextContent(u);let d=this.getWritable();return e.remove(),d}isTextEntity(){return!1}};function _T(n){return{forChild:Yc(n.style),node:null}}function CT(n){let t=n,e=t.style.fontWeight==="normal";return{forChild:Yc(t.style,e?void 0:"bold"),node:null}}var pf=new WeakMap;function yT(n){if(!At(n))return!1;if(n.nodeName==="PRE")return!0;let t=n.style.whiteSpace;return typeof t=="string"&&t.startsWith("pre")}function xT(n){let t=n;n.parentElement===null&&$(129);let e=t.textContent||"";if((function(r){let o,i=r.parentNode,s=[r];for(;i!==null&&(o=pf.get(i))===void 0&&!yT(i);)s.push(i),i=i.parentNode;let l=o===void 0?i:o;for(let a=0;a<s.length;a++)pf.set(s[a],l);return l})(t)!==null){let r=e.split(/(\r?\n|\t)/),o=[],i=r.length;for(let s=0;s<i;s++){let l=r[s];l===`
`||l===`\r
`?o.push(No()):l==="	"?o.push(sa()):l!==""&&o.push(ot(l))}return{node:o}}if(e=e.replace(/\r/g,"").replace(/[ \t\n]+/g," "),e==="")return{node:null};if(e[0]===" "){let r=t,o=!0;for(;r!==null&&(r=mf(r,!1))!==null;){let i=r.textContent||"";if(i.length>0){/[ \t\n]$/.test(i)&&(e=e.slice(1)),o=!1;break}}o&&(e=e.slice(1))}if(e[e.length-1]===" "){let r=t,o=!0;for(;r!==null&&(r=mf(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){o=!1;break}o&&(e=e.slice(0,e.length-1))}return e===""?{node:null}:{node:ot(e)}}function mf(n,t){let e=n;for(;;){let r;for(;(r=t?e.nextSibling:e.previousSibling)===null;){let i=e.parentElement;if(i===null)return null;e=i}if(e=r,At(e)){let i=e.style.display;if(i===""&&!hp(e)||i!==""&&!i.startsWith("inline"))return null}let o=e;for(;(o=t?e.firstChild:e.lastChild)!==null;)e=o;if(Cn(e))return e;if(e.nodeName==="BR")return null}}var ET={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Dn(n){let t=ET[n.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:Yc(n.style,t),node:null}}function ot(n=""){return zi(new Hr(n))}function W(n){return n instanceof Hr}function Yc(n,t){let e=n.fontWeight,r=n.textDecoration.split(" "),o=e==="700"||e==="bold",i=r.includes("line-through"),s=n.fontStyle==="italic",l=r.includes("underline"),a=n.verticalAlign;return c=>(W(c)&&(o&&!c.hasFormat("bold")&&c.toggleFormat("bold"),i&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),s&&!c.hasFormat("italic")&&c.toggleFormat("italic"),l&&!c.hasFormat("underline")&&c.toggleFormat("underline"),a!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),a!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),t&&!c.hasFormat(t)&&c.toggleFormat(t)),c)}var So=class n extends Hr{static getType(){return"tab"}static clone(t){return new n(t.__key)}constructor(t){super("	",t),this.__detail=2}static importDOM(){return null}createDOM(t){let e=super.createDOM(t),r=To(t.theme,"tab");return r!==void 0&&e.classList.add(...r),e}static importJSON(t){return sa().updateFromJSON(t)}setTextContent(t){return t!=="	"&&t!==""&&Uf(126),super.setTextContent("	")}spliceText(t,e,r,o){return r===""&&e===0||r==="	"&&e===1||$(286),this}setDetail(t){return t!==2&&$(127),this}setMode(t){return t!=="normal"&&$(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}};function sa(){return zi(new So)}function Gc(n){return n instanceof So}var Ec=class{constructor(t,e,r){v(this,"key");v(this,"offset");v(this,"type");v(this,"_selection");this._selection=null,this.key=t,this.offset=e,this.type=r}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){return this.key===t.key?this.offset<t.offset:hu(nn(ur(this,"next")),nn(ur(t,"next")))<0}getNode(){let t=Qe(this.key);return t===null&&$(20),t}set(t,e,r,o){let i=this._selection,s=this.key;o&&this.key===t&&this.offset===e&&this.type===r||(this.key=t,this.offset=e,this.type=r,Ro()||(rr()===s&&st(t),i!==null&&(i.setCachedNodes(null),i.dirty=!0)))}};function an(n,t,e){return new Ec(n,t,e)}function Vl(n,t){let e=t.__key,r=n.offset,o="element";if(W(t)){o="text";let i=t.getTextContentSize();r>i&&(r=i)}else if(!I(t)){let i=t.getNextSibling();if(W(i))e=i.__key,r=0,o="text";else{let s=t.getParent();s&&(e=s.__key,r=t.getIndexWithinParent()+1)}}n.set(e,r,o)}function _f(n,t){if(I(t)){let e=t.getLastDescendant();I(e)||W(e)?Vl(n,e):Vl(n,t)}else Vl(n,t)}var Xs=class n{constructor(t){v(this,"_nodes");v(this,"_cachedNodes");v(this,"dirty");this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!aa(t))return!1;let e=this._nodes,r=t._nodes;return e.size===r.size&&Array.from(e).every(o=>r.has(o))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new n(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){let e=this.getNodes(),r=e.length,o=e[r-1],i;if(W(o))i=o.select();else{let s=o.getIndexWithinParent()+1;i=o.getParentOrThrow().select(s,s)}i.insertNodes(t);for(let s=0;s<r;s++)e[s].remove()}getNodes(){let t=this._cachedNodes;if(t!==null)return t;let e=this._nodes,r=[];for(let o of e){let i=Qe(o);i!==null&&r.push(i)}return Ro()||(this._cachedNodes=r),r}getTextContent(){let t=this.getNodes(),e="";for(let r=0;r<t.length;r++)e+=t[r].getTextContent();return e}deleteNodes(){let t=this.getNodes();if((Ce()||Gr())===this&&t[0]){let e=ut(t[0],"next");yp(cr(e,e))}for(let e of t)e.remove()}};function Q(n){return n instanceof Ur}var Ur=class n{constructor(t,e,r,o){v(this,"format");v(this,"style");v(this,"anchor");v(this,"focus");v(this,"_cachedNodes");v(this,"dirty");this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=r,this.style=o,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!Q(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){let t=this._cachedNodes;if(t!==null)return t;let e=(function(r){let o=[],[i,s]=r.getTextSlices();i&&o.push(i.caret.origin);let l=new Set,a=new Set;for(let c of r)if(on(c)){let{origin:u}=c;o.length===0?l.add(u):(a.add(u),o.push(u))}else{let{origin:u}=c;I(u)&&a.has(u)||o.push(u)}if(s&&o.push(s.caret.origin),Yr(r.focus)&&I(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let c=Hn(r.focus.origin,"previous");on(c)&&l.has(c.origin)&&!c.origin.isEmpty()&&c.origin.is(o[o.length-1]);c=Lo(c))l.delete(c.origin),o.pop();for(;o.length>1;){let c=o[o.length-1];if(!I(c)||a.has(c)||c.isEmpty()||l.has(c))break;o.pop()}if(o.length===0&&r.isCollapsed()){let c=nn(r.anchor),u=nn(r.anchor.getFlipped()),d=h=>Kn(h)?h.origin:h.getNodeAtCaret(),g=d(c)||d(u)||(r.anchor.getNodeAtCaret()?c.origin:u.origin);o.push(g)}return o})(mu(Mc(this),"next"));return Ro()||(this._cachedNodes=e),e}setTextNodeRange(t,e,r,o){this.anchor.set(t.__key,e,"text"),this.focus.set(r.__key,o,"text")}getTextContent(){let t=this.getNodes();if(t.length===0)return"";let e=t[0],r=t[t.length-1],o=this.anchor,i=this.focus,s=o.isBefore(i),[l,a]=Tc(this),c="",u=!0;for(let d=0;d<t.length;d++){let g=t[d];if(I(g)&&!g.isInline())u||(c+=`
`),u=!g.isEmpty();else if(u=!1,W(g)){let h=g.getTextContent();g===e?g===r?o.type==="element"&&i.type==="element"&&i.offset!==o.offset||(h=l<a?h.slice(l,a):h.slice(a,l)):h=s?h.slice(l):h.slice(a):g===r&&(h=s?h.slice(0,a):h.slice(0,l)),c+=h}else!Le(g)&&!Fr(g)||g===r&&this.isCollapsed()||(c+=g.getTextContent())}return c}applyDOMRange(t){let e=Se(),r=e.getEditorState()._selection,o=Ph(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,r);if(o===null)return;let[i,s]=o;this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(s.key,s.offset,s.type,!0),Hs(this)}clone(){let t=this.anchor,e=this.focus;return new n(an(t.key,t.offset,t.type),an(e.key,e.offset,e.type),this.format,this.style)}toggleFormat(t){this.format=ea(this.format,t,null),this.dirty=!0}setFormat(t){this.format=t,this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){let e=xt[t];return(this.format&e)!==0}insertRawText(t){let e=t.split(/(\r?\n|\t)/),r=[],o=e.length;for(let i=0;i<o;i++){let s=e[i];s===`
`||s===`\r
`?r.push(No()):s==="	"?r.push(sa()):r.push(ot(s))}this.insertNodes(r)}insertText(t){let e=this.anchor,r=this.focus,o=this.format,i=this.style,s=e,l=r;!this.isCollapsed()&&r.isBefore(e)&&(s=r,l=e),s.type==="element"&&(function(m,_,C,y){let E=m.getNode(),b=E.getChildAtIndex(m.offset),T=ot();if(T.setFormat(C),T.setStyle(y),jh(b))b.splice(0,0,[T]);else{let x=ct(E)?Pn().append(T):T;b===null?E.append(x):b.insertBefore(x)}m.is(_)&&_.set(T.__key,0,"text"),m.set(T.__key,0,"text")})(s,l,o,i),l.type==="element"&&Do(l,nn(ur(l,"next")));let a=s.offset,c=l.offset,u=this.getNodes(),d=u.length,g=u[0];W(g)||$(26);let h=g.getTextContent().length,f=g.getParentOrThrow(),p=u[d-1];if(d===1&&l.type==="element"&&(c=h,l.set(s.key,c,"text")),this.isCollapsed()&&a===h&&(Rn(g)||!g.canInsertTextAfter()||!f.canInsertTextAfter()&&g.getNextSibling()===null)){let m=g.getNextSibling();if(W(m)&&m.canInsertTextBefore()&&!Rn(m)||(m=ot(),m.setFormat(o),m.setStyle(i),f.canInsertTextAfter()?g.insertAfter(m):f.insertAfter(m)),m.select(0,0),g=m,t!=="")return void this.insertText(t)}else if(this.isCollapsed()&&a===0&&(Rn(g)||!g.canInsertTextBefore()||!f.canInsertTextBefore()&&g.getPreviousSibling()===null)){let m=g.getPreviousSibling();if(W(m)&&!Rn(m)||(m=ot(),m.setFormat(o),f.canInsertTextBefore()?g.insertBefore(m):f.insertBefore(m)),m.select(),g=m,t!=="")return void this.insertText(t)}else if(g.isSegmented()&&a!==h){let m=ot(g.getTextContent());m.setFormat(o),g.replace(m),g=m}else if(!this.isCollapsed()&&t!==""){let m=p.getParent();if(!f.canInsertTextBefore()||!f.canInsertTextAfter()||I(m)&&(!m.canInsertTextBefore()||!m.canInsertTextAfter()))return this.insertText(""),Fh(this.anchor,this.focus,null),void this.insertText(t)}if(d===1){if(or(g)){let y=ot(t);return y.select(),void g.replace(y)}let m=g.getFormat(),_=g.getStyle();if(a!==c||m===o&&_===i){if(Gc(g)){let y=ot(t);return y.setFormat(o),y.setStyle(i),y.select(),void g.replace(y)}}else{if(g.getTextContent()!==""){let y=ot(t);if(y.setFormat(o),y.setStyle(i),y.select(),a===0)g.insertBefore(y,!1);else{let[E]=g.splitText(a);E.insertAfter(y,!1)}return void(y.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length))}g.setFormat(o),g.setStyle(i)}let C=c-a;g=g.spliceText(a,C,t,!0),g.getTextContent()===""?g.remove():this.anchor.type==="text"&&(g.isComposing()?this.anchor.offset-=t.length:(this.format=m,this.style=_))}else{let m=new Set([...g.getParentKeys(),...p.getParentKeys()]),_=I(g)?g:g.getParentOrThrow(),C=I(p)?p:p.getParentOrThrow(),y=p;if(!_.is(C)&&C.isInline())do y=C,C=C.getParentOrThrow();while(C.isInline());if(l.type==="text"&&(c!==0||p.getTextContent()==="")||l.type==="element"&&p.getIndexWithinParent()<c)if(W(p)&&!or(p)&&c!==p.getTextContentSize()){if(p.isSegmented()){let A=ot(p.getTextContent());p.replace(A),p=A}ct(l.getNode())||l.type!=="text"||(p=p.spliceText(0,c,"")),m.add(p.__key)}else{let A=p.getParentOrThrow();A.canBeEmpty()||A.getChildrenSize()!==1?p.remove():A.remove()}else m.add(p.__key);let E=C.getChildren(),b=new Set(u),T=_.is(C),x=_.isInline()&&g.getNextSibling()===null?_:g;for(let A=E.length-1;A>=0;A--){let O=E[A];if(O.is(g)||I(O)&&O.isParentOf(g))break;O.isAttached()&&(!b.has(O)||O.is(y)?T||x.insertAfter(O,!1):O.remove())}if(!T){let A=C,O=null;for(;A!==null;){let L=A.getChildren(),R=L.length;(R===0||L[R-1].is(O))&&(m.delete(A.__key),O=A),A=A.getParent()}}if(or(g))if(a===h)g.select();else{let A=ot(t);A.select(),g.replace(A)}else g=g.spliceText(a,h-a,t,!0),g.getTextContent()===""?g.remove():g.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);for(let A=1;A<d;A++){let O=u[A],L=O.__key;m.has(L)||O.remove()}}}removeText(){let t=Ce()===this;Oi(this,xp(Mc(this))),t&&Ce()!==this&&$t(this)}formatText(t,e=null){if(this.isCollapsed())return this.toggleFormat(t),void st(null);let r=this.getNodes(),o=[];for(let E of r)W(E)&&o.push(E);let i=E=>{r.forEach(b=>{if(I(b)){let T=b.getFormatFlags(t,E);b.setTextFormat(T)}})},s=o.length;if(s===0)return this.toggleFormat(t),st(null),void i(e);let l=this.anchor,a=this.focus,c=this.isBackward(),u=c?a:l,d=c?l:a,g=0,h=o[0],f=u.type==="element"?0:u.offset;if(u.type==="text"&&f===h.getTextContentSize()&&(g=1,h=o[1],f=0),h==null)return;let p=h.getFormatFlags(t,e);i(p);let m=s-1,_=o[m],C=d.type==="text"?d.offset:_.getTextContentSize();if(h.is(_)){if(f===C)return;if(Rn(h)||f===0&&C===h.getTextContentSize())h.setFormat(p);else{let E=h.splitText(f,C),b=f===0?E[0]:E[1];b.setFormat(p),u.type==="text"&&u.set(b.__key,0,"text"),d.type==="text"&&d.set(b.__key,C-f,"text")}return void(this.format=p)}f===0||Rn(h)||([,h]=h.splitText(f),f=0),h.setFormat(p);let y=_.getFormatFlags(t,p);C>0&&(C===_.getTextContentSize()||Rn(_)||([_]=_.splitText(C)),_.setFormat(y));for(let E=g+1;E<m;E++){let b=o[E],T=b.getFormatFlags(t,y);b.setFormat(T)}u.type==="text"&&u.set(h.__key,f,"text"),d.type==="text"&&d.set(_.__key,C,"text"),this.format=p|y}insertNodes(t){if(t.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();let f=Ce();return Q(f)||$(134),f.insertNodes(t)}let e=(this.isBackward()?this.focus:this.anchor).getNode(),r=Ai(e,Fn),o=t[t.length-1];if(I(r)&&"__language"in r){if("__language"in t[0])this.insertText(t[0].getTextContent());else{let f=Xl(this);r.splice(f,0,t),o.selectEnd()}return}if(!t.some(f=>(I(f)||Le(f))&&!f.isInline())){I(r)||$(211,e.constructor.name,e.getType());let f=Xl(this);return r.splice(f,0,t),void o.selectEnd()}let i=(function(f){let p=Pn(),m=null;for(let _=0;_<f.length;_++){let C=f[_],y=Fr(C);if(y||Le(C)&&C.isInline()||I(C)&&C.isInline()||W(C)||C.isParentRequired()){if(m===null&&(m=C.createParentElementNode(),p.append(m),y))continue;m!==null&&m.append(C)}else p.append(C),m=null}return p})(t),s=i.getLastDescendant(),l=i.getChildren(),a=!I(r)||!r.isEmpty()?this.insertParagraph():null,c=l[l.length-1],u=l[0];var d;I(d=u)&&Fn(d)&&!d.isEmpty()&&I(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(I(r)||$(211,e.constructor.name,e.getType()),r.append(...u.getChildren()),u=l[1]),u&&(r===null&&$(212,e.constructor.name,e.getType()),(function(f,p){let m=p.getParentOrThrow().getLastChild(),_=p,C=[p];for(;_!==m;)_.getNextSibling()||$(140),_=_.getNextSibling(),C.push(_);let y=f;for(let E of C)y=y.insertAfter(E)})(r,u));let g=Ai(s,Fn);a&&I(g)&&(a.canMergeWhenEmpty()||Fn(c))&&(g.append(...a.getChildren()),a.remove()),I(r)&&r.isEmpty()&&r.remove(),s.selectEnd();let h=I(r)?r.getLastChild():null;Fr(h)&&g!==r&&h.remove()}insertParagraph(){if(this.anchor.key==="root"){let s=Pn();return Ht().splice(this.anchor.offset,0,[s]),s.select(),s}let t=Xl(this),e=Ai(this.anchor.getNode(),Fn);I(e)||$(213);let r=e.getChildAtIndex(t),o=r?[r,...r.getNextSiblings()]:[],i=e.insertNewAfter(this,!1);return i?(i.append(...o),i.selectStart(),i):null}insertLineBreak(t){let e=No();if(this.insertNodes([e]),t){let r=e.getParentOrThrow(),o=e.getIndexWithinParent();r.select(o,o)}}extract(){let t=[...this.getNodes()],e=t.length,r=t[0],o=t[e-1],[i,s]=Tc(this),l=this.isBackward(),[a,c]=l?[this.focus,this.anchor]:[this.anchor,this.focus],[u,d]=l?[s,i]:[i,s];if(e===0)return[];if(e===1){if(W(r)&&!this.isCollapsed()){let g=r.splitText(u,d),h=u===0?g[0]:g[1];return h?(a.set(h.getKey(),0,"text"),c.set(h.getKey(),h.getTextContentSize(),"text"),[h]):[]}return[r]}if(W(r)&&(u===r.getTextContentSize()?t.shift():u!==0&&([,r]=r.splitText(u),t[0]=r,a.set(r.getKey(),0,"text"))),W(o)){let g=o.getTextContent().length;d===0?t.pop():d!==g&&([o]=o.splitText(d),t[t.length-1]=o,c.set(o.getKey(),o.getTextContentSize(),"text"))}return t}modify(t,e,r){if(Sf(this,t,e,r))return;let o=t==="move",i=Se(),s=yn(Vt(i));if(!s)return;let l=i._blockCursorElement,a=i._rootElement,c=this.focus.getNode();if(a===null||l===null||!I(c)||c.isInline()||c.canBeEmpty()||Sc(l,i,a),this.dirty){let u=Wr(i,this.anchor.key),d=Wr(i,this.focus.key);this.anchor.type==="text"&&(u=zr(u)),this.focus.type==="text"&&(d=zr(d)),u&&d&&Hh(s,u,this.anchor.offset,d,this.focus.offset)}if((function(u,d,g,h){u.modify(d,g,h)})(s,t,e?"backward":"forward",r),s.rangeCount>0){let u=s.getRangeAt(0),d=this.anchor.getNode(),g=ct(d)?d:up(d);if(this.applyDOMRange(u),this.dirty=!0,!o){let h=this.getNodes(),f=[],p=!1;for(let m=0;m<h.length;m++){let _=h[m];na(_,g)?f.push(_):p=!0}if(p&&f.length>0)if(e){let m=f[0];I(m)?m.selectStart():m.getParentOrThrow().selectStart()}else{let m=f[f.length-1];I(m)?m.selectEnd():m.getParentOrThrow().selectEnd()}s.anchorNode===u.startContainer&&s.anchorOffset===u.startOffset||(function(m){let _=m.focus,C=m.anchor,y=C.key,E=C.offset,b=C.type;C.set(_.key,_.offset,_.type,!0),_.set(y,E,b,!0)})(this)}}r==="lineboundary"&&Sf(this,t,e,r,"decorators")}forwardDeletion(t,e,r){if(!r&&(t.type==="element"&&I(e)&&t.offset===e.getChildrenSize()||t.type==="text"&&t.offset===e.getTextContentSize())){let o=e.getParent(),i=e.getNextSibling()||(o===null?null:o.getNextSibling());if(I(i)&&i.isShadowRoot())return!0}return!1}deleteCharacter(t){let e=this.isCollapsed();if(this.isCollapsed()){let r=this.anchor,o=r.getNode();if(this.forwardDeletion(r,o,t))return;let i=gu(ur(r,t?"previous":"next"));if(i.getTextSlices().every(l=>l===null||l.distance===0)){let l={type:"initial"};for(let a of i.iterNodeCarets("shadowRoot"))if(on(a)){if(!a.origin.isInline()){if(a.origin.isShadowRoot()){if(l.type==="merge-block")break;if(I(i.anchor.origin)&&i.anchor.origin.isEmpty()){let c=nn(a);Oi(this,cr(c,c)),i.anchor.origin.remove()}return}l.type!=="merge-next-block"&&l.type!=="merge-block"||(l={block:l.block,caret:a,type:"merge-block"})}}else{if(l.type==="merge-block")break;if(Yr(a)){if(I(a.origin)){if(a.origin.isInline()){if(!a.origin.isParentOf(i.anchor.origin))break}else l={block:a.origin,type:"merge-next-block"};continue}if(Le(a.origin)){if(!a.origin.isIsolated())if(l.type==="merge-next-block"&&(a.origin.isKeyboardSelectable()||!a.origin.isInline())&&I(i.anchor.origin)&&i.anchor.origin.isEmpty()){i.anchor.origin.remove();let c=jc();c.add(a.origin.getKey()),$t(c)}else a.origin.remove();return}break}}if(l.type==="merge-block"){let{caret:a,block:c}=l;return Oi(this,cr(!a.origin.isEmpty()&&c.isEmpty()?$o(ut(c,a.direction)):i.anchor,a)),this.removeText()}}let s=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&r.offset===0&&yf(this,r.getNode()))return}else{let l=s.type==="text"?s.getNode():null;if(o=r.type==="text"?r.getNode():null,l!==null&&l.isSegmented()){let a=s.offset,c=l.getTextContentSize();if(l.is(o)||t&&a!==c||!t&&a!==0)return void xf(l,t,a)}else if(o!==null&&o.isSegmented()){let a=r.offset,c=o.getTextContentSize();if(o.is(l)||t&&a!==0||!t&&a!==c)return void xf(o,t,a)}(function(a,c){let u=a.anchor,d=a.focus,g=u.getNode(),h=d.getNode();if(g===h&&u.type==="text"&&d.type==="text"){let f=u.offset,p=d.offset,m=f<p,_=m?f:p,C=m?p:f,y=C-1;_!==y&&(function(E){return!(np(E)||TT(E))})(g.getTextContent().slice(_,C))&&(c?d.set(d.key,y,d.type):u.set(u.key,y,u.type))}})(this,t)}}if(this.removeText(),t&&!e&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){let r=this.anchor.getNode();r.isEmpty()&&ct(r.getParent())&&r.getPreviousSibling()===null&&yf(this,r)}}deleteLine(t){this.isCollapsed()&&this.modify("extend",t,"lineboundary"),this.isCollapsed()?this.deleteCharacter(t):this.removeText()}deleteWord(t){if(this.isCollapsed()){let e=this.anchor,r=e.getNode();if(this.forwardDeletion(e,r,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}};function aa(n){return n instanceof Xs}function Cf(n){let t=n.offset;if(n.type==="text")return t;let e=n.getNode();return t===e.getChildrenSize()?e.getTextContent().length:0}function Tc(n){let t=n.getStartEndPoints();if(t===null)return[0,0];let[e,r]=t;return e.type==="element"&&r.type==="element"&&e.key===r.key&&e.offset===r.offset?[0,0]:[Cf(e),Cf(r)]}function yf(n,t){for(let e=t;e;e=e.getParent()){if(I(e)){if(e.collapseAtStart(n))return!0;if(Jt(e))break}if(e.getPreviousSibling())break}return!1}var TT=(()=>{try{let n=new RegExp("\\p{Emoji}","u"),t=n.test.bind(n);if(t("\u2764\uFE0F")&&t("#\uFE0F\u20E3")&&t("\u{1F44D}"))return t}catch{}return()=>!1})();function xf(n,t,e){let r=n,o=r.getTextContent().split(/(?=\s)/g),i=o.length,s=0,l=0;for(let c=0;c<i;c++){let u=c===i-1;if(l=s,s+=o[c].length,t&&s===e||s>e||u){o.splice(c,1),u&&(l=void 0);break}}let a=o.join("").trim();a===""?r.remove():(r.setTextContent(a),r.select(l,l))}function Ef(n,t,e,r){let o,i=t;if(At(n)){let s=!1,l=n.childNodes,a=l.length,c=r._blockCursorElement;i===a&&(s=!0,i=a-1);let u=l[i],d=!1;if(u===c)u=l[i+1],d=!0;else if(c!==null){let g=c.parentNode;n===g&&t>Array.prototype.indexOf.call(g.children,c)&&i--}if(o=yo(u),W(o))i=sn(o,s?"next":"previous");else{let g=yo(n);if(g===null)return null;if(I(g)){let h=r.getElementByKey(g.getKey());h===null&&$(214),[g,i]=g.getDOMSlot(h).resolveChildIndex(g,h,n,t),I(g)||$(215),s&&i>=g.getChildrenSize()&&(i=Math.max(0,g.getChildrenSize()-1));let p=g.getChildAtIndex(i);if(I(p)&&(function(m,_,C){let y=m.getParent();return C===null||y===null||!y.canBeEmpty()||y!==C.getNode()})(p,0,e)){let m=s?p.getLastDescendant():p.getFirstDescendant();m===null?g=p:(p=m,g=I(p)?p:p.getParentOrThrow()),i=0}W(p)?(o=p,g=null,i=sn(p,s?"next":"previous")):p!==g&&s&&!d&&(I(g)||$(216),i=Math.min(g.getChildrenSize(),i+1))}else{let h=g.getIndexWithinParent();i=t===0&&Le(g)&&yo(n)===g?h:h+1,g=g.getParentOrThrow()}if(I(g))return an(g.__key,i,"element")}}else o=yo(n);return W(o)?an(o.__key,sn(o,i,"clamp"),"text"):null}function Tf(n,t,e){let r=n.offset,o=n.getNode();if(r===0){let i=o.getPreviousSibling(),s=o.getParent();if(t){if((e||!t)&&i===null&&I(s)&&s.isInline()){let l=s.getPreviousSibling();W(l)&&n.set(l.__key,l.getTextContent().length,"text")}}else I(i)&&!e&&i.isInline()?n.set(i.__key,i.getChildrenSize(),"element"):W(i)&&n.set(i.__key,i.getTextContent().length,"text")}else if(r===o.getTextContent().length){let i=o.getNextSibling(),s=o.getParent();if(t&&I(i)&&i.isInline())n.set(i.__key,0,"element");else if((e||t)&&i===null&&I(s)&&s.isInline()&&!s.canInsertTextAfter()){let l=s.getNextSibling();W(l)&&n.set(l.__key,0,"text")}}}function Fh(n,t,e){if(n.type==="text"&&t.type==="text"){let r=n.isBefore(t),o=n.is(t);Tf(n,r,o),Tf(t,!r,o),o&&t.set(n.key,n.offset,n.type);let i=Se();if(i.isComposing()&&i._compositionKey!==n.key&&Q(e)){let s=e.anchor,l=e.focus;n.set(s.key,s.offset,s.type,!0),t.set(l.key,l.offset,l.type,!0)}}}function Ph(n,t,e,r,o,i){if(n===null||e===null||!Ki(o,n,e))return null;let s=Ef(n,t,Q(i)?i.anchor:null,o);if(s===null)return null;let l=Ef(e,r,Q(i)?i.focus:null,o);if(l===null)return null;if(s.type==="element"&&l.type==="element"){let a=yo(n),c=yo(e);if(Le(a)&&Le(c))return null}return Fh(s,l,i),[s,l]}function bT(n){return I(n)&&!n.isInline()}function Bh(n,t,e,r,o,i){let s=Un(),l=new Ur(an(n,t,o),an(e,r,i),0,"");return l.dirty=!0,s._selection=l,l}function Kh(){let n=an("root",0,"element"),t=an("root",0,"element");return new Ur(n,t,0,"")}function jc(){return new Xs(new Set)}function NT(n,t){return la(null,n,t,null)}function la(n,t,e,r){let o=e._window;if(o===null)return null;let i=r||o.event,s=i?i.type:void 0,l=s==="selectionchange",a=!tc&&(l||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&i&&i.detail===3||s==="drop"||s===void 0),c,u,d,g;if(Q(n)&&!a)return n.clone();if(t===null)return null;if(c=t.anchorNode,u=t.focusNode,d=t.anchorOffset,g=t.focusOffset,(l||s===void 0)&&Q(n)&&!Ki(e,c,u))return n.clone();let h=Ph(c,d,u,g,e,n);if(h===null)return null;let[f,p]=h;return new Ur(f,p,Q(n)?n.format:0,Q(n)?n.style:"")}function Ce(){return Un()._selection}function Gr(){return Se()._editorState._selection}function qs(n,t,e,r=1){let o=n.anchor,i=n.focus,s=o.getNode(),l=i.getNode();if(!t.is(s)&&!t.is(l))return;let a=t.__key;if(n.isCollapsed()){let c=o.offset;if(e<=c&&r>0||e<c&&r<0){let u=Math.max(0,c+r);o.set(a,u,"element"),i.set(a,u,"element"),bf(n)}}else{let c=n.isBackward(),u=c?i:o,d=u.getNode(),g=c?o:i,h=g.getNode();if(t.is(d)){let f=u.offset;(e<=f&&r>0||e<f&&r<0)&&u.set(a,Math.max(0,f+r),"element")}if(t.is(h)){let f=g.offset;(e<=f&&r>0||e<f&&r<0)&&g.set(a,Math.max(0,f+r),"element")}}bf(n)}function bf(n){let t=n.anchor,e=t.offset,r=n.focus,o=r.offset,i=t.getNode(),s=r.getNode();if(n.isCollapsed()){if(!I(i))return;let l=i.getChildrenSize(),a=e>=l,c=a?i.getChildAtIndex(l-1):i.getChildAtIndex(e);if(W(c)){let u=0;a&&(u=c.getTextContentSize()),t.set(c.__key,u,"text"),r.set(c.__key,u,"text")}return}if(I(i)){let l=i.getChildrenSize(),a=e>=l,c=a?i.getChildAtIndex(l-1):i.getChildAtIndex(e);if(W(c)){let u=0;a&&(u=c.getTextContentSize()),t.set(c.__key,u,"text")}}if(I(s)){let l=s.getChildrenSize(),a=o>=l,c=a?s.getChildAtIndex(l-1):s.getChildAtIndex(o);if(W(c)){let u=0;a&&(u=c.getTextContentSize()),r.set(c.__key,u,"text")}}}function Zs(n,t,e,r,o){let i=null,s=0,l=null;r!==null?(i=r.__key,W(r)?(s=r.getTextContentSize(),l="text"):I(r)&&(s=r.getChildrenSize(),l="element")):o!==null&&(i=o.__key,W(o)?l="text":I(o)&&(l="element")),i!==null&&l!==null?n.set(i,s,l):(s=t.getIndexWithinParent(),s===-1&&(s=e.getChildrenSize()),n.set(e.__key,s,"element"))}function Nf(n,t,e,r,o){n.type==="text"?n.set(e,n.offset+(t?0:o),"text"):n.offset>r.getIndexWithinParent()&&n.set(n.key,n.offset-1,"element")}function Hh(n,t,e,r,o){try{n.setBaseAndExtent(t,e,r,o)}catch{}}function ST(n,t,e,r,o,i,s){let l=r.anchorNode,a=r.focusNode,c=r.anchorOffset,u=r.focusOffset,d=document.activeElement;if(o.has(Lh)&&d!==i||d!==null&&Qc(d))return;if(!Q(t))return void(n!==null&&Ki(e,l,a)&&r.removeAllRanges());let g=t.anchor,h=t.focus,f=g.key,p=h.key,m=Wr(e,f),_=Wr(e,p),C=g.offset,y=h.offset,E=t.format,b=t.style,T=t.isCollapsed(),x=m,A=_,O=!1;if(g.type==="text"){x=zr(m);let z=g.getNode();O=z.getFormat()!==E||z.getStyle()!==b}else Q(n)&&n.anchor.type==="text"&&(O=!0);var L,R,K,F,B;if(h.type==="text"&&(A=zr(_)),x!==null&&A!==null&&(T&&(n===null||O||Q(n)&&(n.format!==E||n.style!==b))&&(L=E,R=b,K=C,F=f,B=performance.now(),Nh=[L,R,K,F,B]),c!==C||u!==y||l!==x||a!==A||r.type==="Range"&&T||(d!==null&&i.contains(d)||o.has(Rh)||i.focus({preventScroll:!0}),g.type==="element"))){if(Hh(r,x,C,A,y),!o.has(Dh)&&t.isCollapsed()&&i!==null&&i===document.activeElement){let z=Q(t)&&t.anchor.type==="element"?x.childNodes[C]||null:r.rangeCount>0?r.getRangeAt(0):null;if(z!==null){let oe;if(z instanceof Text){let he=document.createRange();he.selectNode(z),oe=he.getBoundingClientRect()}else oe=z.getBoundingClientRect();(function(he,me,pe){let Xe=su(pe),qe=au(Xe);if(Xe===null||qe===null)return;let{top:Dt,bottom:dt}=me,nt=0,rt=0,He=pe;for(;He!==null;){let jt=He===Xe.body;if(jt)nt=0,rt=Vt(he).innerHeight;else{let ze=He.getBoundingClientRect();nt=ze.top,rt=ze.bottom}let ie=0;if(Dt<nt?ie=-(nt-Dt):dt>rt&&(ie=dt-rt),ie!==0)if(jt)qe.scrollBy(0,ie);else{let ze=He.scrollTop;He.scrollTop+=ie;let Re=He.scrollTop-ze;Dt-=Re,dt-=Re}if(jt)break;He=Ui(He)}})(e,oe,i)}}mc=!0}}function AT(n){let t=Ce()||Gr();t===null&&(t=Ht().selectEnd()),t.insertNodes(n)}function vT(){let n=Ce();return n===null?"":n.getTextContent()}function Xl(n){let t=n;n.isCollapsed()||t.removeText();let e=Ce();Q(e)&&(t=e),Q(t)||$(161);let r=t.anchor,o=r.getNode(),i=r.offset;for(;!Fn(o);){let s=o;if([o,i]=OT(o,i),s.is(o))break}return i}function OT(n,t){let e=n.getParent();if(!e){let o=Pn();return Ht().append(o),o.select(),[Ht(),0]}if(W(n)){let o=n.splitText(t);if(o.length===0)return[e,n.getIndexWithinParent()];let i=t===0?0:1;return[e,o[0].getIndexWithinParent()+i]}if(!I(n)||t===0)return[e,n.getIndexWithinParent()];let r=n.getChildAtIndex(t);if(r){let o=new Ur(an(n.__key,t,"element"),an(n.__key,t,"element"),0,""),i=n.insertNewAfter(o);i&&i.append(r,...r.getNextSiblings())}return[e,n.getIndexWithinParent()+1]}function Sf(n,t,e,r,o="decorators-and-blocks"){if(t==="move"&&r==="character"&&!n.isCollapsed()){let[u,d]=e===n.isBackward()?[n.focus,n.anchor]:[n.anchor,n.focus];return d.set(u.key,u.offset,u.type),!0}let i=ur(n.focus,e?"previous":"next"),s=r==="lineboundary",l=t==="move",a=i,c=o==="decorators-and-blocks";if(!Ep(a)){for(let u of a){c=!1;let{origin:d}=u;if(!Le(d)||d.isIsolated()||(a=u,!s||!d.isInline()))break}if(c)for(let u of gu(i).iterNodeCarets(t==="extend"?"shadowRoot":"root")){if(on(u))u.origin.isInline()||(a=u);else{if(I(u.origin))continue;Le(u.origin)&&!u.origin.isInline()&&(a=u)}break}}if(a===i)return!1;if(l&&!s&&Le(a.origin)&&a.origin.isKeyboardSelectable()){let u=jc();return u.add(a.origin.getKey()),$t(u),!0}return a=nn(a),l&&Do(n.anchor,a),Do(n.focus,a),c||!s}var at=null,lt=null,It=!1,ql=!1,Ps=0,Af={characterData:!0,childList:!0,subtree:!0};function Ro(){return It||at!==null&&at._readOnly}function it(){It&&$(13)}function Uh(){Ps>99&&$(14)}function Un(){return at===null&&$(195,zh()),at}function Se(){return lt===null&&$(196,zh()),lt}function zh(){let n=0,t=new Set,e=Bn.version;if(typeof window<"u")for(let o of document.querySelectorAll("[contenteditable]")){let i=Hi(o);if(ua(i))n++;else if(i){let s=String(i.constructor.version||"<0.17.1");s===e&&(s+=" (separately built, likely a bundler configuration issue)"),t.add(s)}}let r=` Detected on the page: ${n} compatible editor(s) with version ${e}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function wT(){return lt}function vf(n,t,e){let r=t.__type,o=qc(n,r),i=e.get(r);i===void 0&&(i=Array.from(o.transforms),e.set(r,i));let s=i.length;for(let l=0;l<s&&(i[l](t),t.isAttached());l++);}function Of(n,t){return n!==void 0&&n.__key!==t&&n.isAttached()}function Wh(n,t){if(!t)return;let e=n._updateTags,r=t;Array.isArray(t)||(r=[t]);for(let o of r)e.add(o)}function MT(n){return Jc(n,Se()._nodes)}function Jc(n,t){let e=n.type,r=t.get(e);r===void 0&&$(17,e);let o=r.klass;n.type!==o.getType()&&$(18,o.name);let i=o.importJSON(n),s=n.children;if(I(i)&&Array.isArray(s))for(let l=0;l<s.length;l++){let a=Jc(s[l],t);i.append(a)}return i}function wf(n,t,e){let r=at,o=It,i=lt;at=t,It=!0,lt=n;try{return e()}finally{at=r,It=o,lt=i}}function $n(n,t){let e=n._pendingEditorState,r=n._rootElement,o=n._headless||r===null;if(e===null)return;let i=n._editorState,s=i._selection,l=e._selection,a=n._dirtyType!==0,c=at,u=It,d=lt,g=n._updating,h=n._observer,f=null;if(n._pendingEditorState=null,n._editorState=e,!o&&a&&h!==null){lt=n,at=e,It=!1,n._updating=!0;try{let T=n._dirtyType,x=n._dirtyElements,A=n._dirtyLeaves;h.disconnect(),f=VE(i,e,n,T,x,A)}catch(T){if(T instanceof Error&&n._onError(T),ql)throw T;return Jh(n,null,r,e),Xf(n),n._dirtyType=2,ql=!0,$n(n,i),void(ql=!1)}finally{h.observe(r,Af),n._updating=g,at=c,It=u,lt=d}}e._readOnly||(e._readOnly=!0);let p=n._dirtyLeaves,m=n._dirtyElements,_=n._normalizedNodes,C=n._updateTags,y=n._deferred;a&&(n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),(function(T,x){let A=T._decorators,O=T._pendingDecorators||A,L=x._nodeMap,R;for(R in O)L.has(R)||(O===A&&(O=ep(T)),delete O[R])})(n,e);let E=o?null:yn(Vt(n));if(n._editable&&E!==null&&(a||l===null||l.dirty||!l.is(s))&&r!==null&&!C.has(kh)){lt=n,at=e;try{if(h!==null&&h.disconnect(),a||l===null||l.dirty){let T=n._blockCursorElement;T!==null&&Sc(T,n,r),ST(s,l,n,E,C,r)}(function(T,x,A){let O=T._blockCursorElement;if(Q(A)&&A.isCollapsed()&&A.anchor.type==="element"&&x.contains(document.activeElement)){let L=A.anchor,R=L.getNode(),K=L.offset,F=!1,B=null;if(K===R.getChildrenSize())Ql(R.getChildAtIndex(K-1))&&(F=!0);else{let z=R.getChildAtIndex(K);if(z!==null&&Ql(z)){let oe=z.getPreviousSibling();(oe===null||Ql(oe))&&(F=!0,B=T.getElementByKey(z.__key))}}if(F){let z=T.getElementByKey(R.__key);return O===null&&(T._blockCursorElement=O=(function(oe){let he=oe.theme,me=document.createElement("div");me.contentEditable="false",me.setAttribute("data-lexical-cursor","true");let pe=he.blockCursor;if(pe!==void 0){if(typeof pe=="string"){let Xe=Wf(pe);pe=he.blockCursor=Xe}pe!==void 0&&me.classList.add(...pe)}return me})(T._config)),x.style.caretColor="transparent",void(B===null?z.appendChild(O):z.insertBefore(O,B))}}O!==null&&Sc(O,T,x)})(n,r,l)}finally{h!==null&&h.observe(r,Af),lt=d,at=c}}f!==null&&(function(T,x,A,O,L){let R=Array.from(T._listeners.mutation),K=R.length;for(let F=0;F<K;F++){let[B,z]=R[F];for(let oe of z){let he=x.get(oe);he!==void 0&&B(he,{dirtyLeaves:O,prevEditorState:L,updateTags:A})}}})(n,f,C,p,i),Q(l)||l===null||s!==null&&s.is(l)||n.dispatchCommand(Rc,void 0);let b=n._pendingDecorators;b!==null&&(n._decorators=b,n._pendingDecorators=null,Si("decorator",n,!0,b)),(function(T,x,A){let O=kf(x),L=kf(A);O!==L&&Si("textcontent",T,!0,L)})(n,t||i,e),Si("update",n,!0,{dirtyElements:m,dirtyLeaves:p,editorState:e,mutatedNodes:f,normalizedNodes:_,prevEditorState:t||i,tags:C}),(function(T,x){if(T._deferred=[],x.length!==0){let A=T._updating;T._updating=!0;try{for(let O=0;O<x.length;O++)x[O]()}finally{T._updating=A}}})(n,y),(function(T){let x=T._updates;if(x.length!==0){let A=x.shift();if(A){let[O,L]=A;ca(T,O,L)}}})(n)}function Si(n,t,e,...r){let o=t._updating;t._updating=e;try{let i=Array.from(t._listeners[n]);for(let s=0;s<i.length;s++)i[s].apply(null,r)}finally{t._updating=o}}function Mf(n,t){let e=n._updates,r=t||!1;for(;e.length!==0;){let o=e.shift();if(o){let[i,s]=o,l=n._pendingEditorState,a;s!==void 0&&(a=s.onUpdate,s.skipTransforms&&(r=!0),s.discrete&&(l===null&&$(191),l._flushSync=!0),a&&n._deferred.push(a),Wh(n,s.tag)),l==null?ca(n,i,s):i()}}return r}function ca(n,t,e){let r=n._updateTags,o,i=!1,s=!1;e!==void 0&&(o=e.onUpdate,Wh(n,e.tag),i=e.skipTransforms||!1,s=e.discrete||!1),o&&n._deferred.push(o);let l=n._editorState,a=n._pendingEditorState,c=!1;(a===null||a._readOnly)&&(a=n._pendingEditorState=Yh(a||l),c=!0),a._flushSync=s;let u=at,d=It,g=lt,h=n._updating;at=a,It=!1,n._updating=!0,lt=n;let f=n._headless||n.getRootElement()===null;Xc(null);try{c&&(f?l._selection!==null&&(a._selection=l._selection.clone()):a._selection=(function(C,y){let E=C.getEditorState()._selection,b=yn(Vt(C));return Q(E)||E==null?la(E,b,C,y):E.clone()})(n,e&&e.event||null));let m=n._compositionKey;t(),i=Mf(n,i),(function(C,y){let E=y.getEditorState()._selection,b=C._selection;if(Q(b)){let T=b.anchor,x=b.focus,A;if(T.type==="text"&&(A=T.getNode(),A.selectionTransform(E,b)),x.type==="text"){let O=x.getNode();A!==O&&O.selectionTransform(E,b)}}})(a,n),n._dirtyType!==0&&(i?(function(C,y){let E=y._dirtyLeaves,b=C._nodeMap;for(let T of E){let x=b.get(T);W(x)&&x.isAttached()&&x.isSimpleText()&&!x.isUnmergeable()&&sf(x)}})(a,n):(function(C,y){let E=y._dirtyLeaves,b=y._dirtyElements,T=C._nodeMap,x=rr(),A=new Map,O=E,L=O.size,R=b,K=R.size;for(;L>0||K>0;){if(L>0){y._dirtyLeaves=new Set;for(let F of O){let B=T.get(F);W(B)&&B.isAttached()&&B.isSimpleText()&&!B.isUnmergeable()&&sf(B),B!==void 0&&Of(B,x)&&vf(y,B,A),E.add(F)}if(O=y._dirtyLeaves,L=O.size,L>0){Ps++;continue}}y._dirtyLeaves=new Set,y._dirtyElements=new Map,R.delete("root")&&R.set("root",!0);for(let F of R){let B=F[0],z=F[1];if(b.set(B,z),!z)continue;let oe=T.get(B);oe!==void 0&&Of(oe,x)&&vf(y,oe,A)}O=y._dirtyLeaves,L=O.size,R=y._dirtyElements,K=R.size,Ps++}y._dirtyLeaves=E,y._dirtyElements=b})(a,n),Mf(n),(function(C,y,E,b){let T=C._nodeMap,x=y._nodeMap,A=[];for(let[O]of b){let L=x.get(O);L!==void 0&&(L.isAttached()||(I(L)&&jf(L,O,T,x,A,b),T.has(O)||b.delete(O),A.push(O)))}for(let O of A)x.delete(O);for(let O of E){let L=x.get(O);L===void 0||L.isAttached()||(T.has(O)||E.delete(O),x.delete(O))}})(l,a,n._dirtyLeaves,n._dirtyElements)),m!==n._compositionKey&&(a._flushSync=!0);let _=a._selection;if(Q(_)){let C=a._nodeMap,y=_.anchor.key,E=_.focus.key;C.get(y)!==void 0&&C.get(E)!==void 0||$(19)}else aa(_)&&_._nodes.size===0&&(a._selection=null)}catch(m){return m instanceof Error&&n._onError(m),n._pendingEditorState=l,n._dirtyType=2,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void $n(n)}finally{at=u,It=d,lt=g,n._updating=h,Ps=0}n._dirtyType!==0||n._deferred.length>0||(function(m,_){let C=_.getEditorState()._selection,y=m._selection;if(y!==null){if(y.dirty||!y.is(C))return!0}else if(C!==null)return!0;return!1})(a,n)?a._flushSync?(a._flushSync=!1,$n(n)):c&&BT(()=>{$n(n)}):(a._flushSync=!1,c&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function _n(n,t,e){lt===n&&e===void 0?t():ca(n,t,e)}var bc=class n{constructor(t,e,r){v(this,"element");v(this,"before");v(this,"after");this.element=t,this.before=e||null,this.after=r||null}withBefore(t){return new n(this.element,t,this.after)}withAfter(t){return new n(this.element,this.before,t)}withElement(t){return this.element===t?this:new n(t,this.before,this.after)}insertChild(t){let e=this.before||this.getManagedLineBreak();return e!==null&&e.parentElement!==this.element&&$(222),this.element.insertBefore(t,e),this}removeChild(t){return t.parentElement!==this.element&&$(223),this.element.removeChild(t),this}replaceChild(t,e){return e.parentElement!==this.element&&$(224),this.element.replaceChild(t,e),this}getFirstChild(){let t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(t){if(t===null)this.removeManagedLineBreak();else{let e=t==="decorator"&&(Bi||ko||Pi);this.insertManagedLineBreak(e)}}removeManagedLineBreak(){let t=this.getManagedLineBreak();if(t){let e=this.element,r=t.nodeName==="IMG"?t.nextSibling:null;r&&e.removeChild(r),e.removeChild(t),e.__lexicalLineBreak=void 0}}insertManagedLineBreak(t){let e=this.getManagedLineBreak();if(e){if(t===(e.nodeName==="IMG"))return;this.removeManagedLineBreak()}let r=this.element,o=this.before,i=document.createElement("br");if(r.insertBefore(i,o),t){let s=document.createElement("img");s.setAttribute("data-lexical-linebreak","true"),s.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",s.alt="",r.insertBefore(s,i),r.__lexicalLineBreak=s}else r.__lexicalLineBreak=i}getFirstChildOffset(){let t=0;for(let e=this.after;e!==null;e=e.previousSibling)t++;return t}resolveChildIndex(t,e,r,o){if(r===this.element){let a=this.getFirstChildOffset();return[t,Math.min(a+t.getChildrenSize(),Math.max(a,o))]}let i=Lf(e,r);i.push(o);let s=Lf(e,this.element),l=t.getIndexWithinParent();for(let a=0;a<s.length;a++){let c=i[a],u=s[a];if(c===void 0||c<u)break;if(c>u){l+=1;break}}return[t.getParentOrThrow(),l]}};function Lf(n,t){let e=[],r=t;for(;r!==n&&r!==null;r=r.parentNode){let o=0;for(let i=r.previousSibling;i!==null;i=i.previousSibling)o++;e.push(o)}return r!==n&&$(225),e.reverse()}var ar=class extends Kt{constructor(e){super(e);v(this,"__first");v(this,"__last");v(this,"__size");v(this,"__format");v(this,"__style");v(this,"__indent");v(this,"__dir");v(this,"__textFormat");v(this,"__textStyle");this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return IE[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],r=this.getFirstChild();for(;r!==null;)e.push(r),r=r.getNextSibling();return e}getChildrenKeys(){let e=[],r=this.getFirstChild();for(;r!==null;)e.push(r.__key),r=r.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let e=Se()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),r=this.getParentOrThrow().getLastChild();return r!==null&&r.is(e)}getAllTextNodes(){let e=[],r=this.getFirstChild();for(;r!==null;){if(W(r)&&e.push(r),I(r)){let o=r.getAllTextNodes();e.push(...o)}r=r.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;I(e);){let r=e.getFirstChild();if(r===null)break;e=r}return e}getLastDescendant(){let e=this.getLastChild();for(;I(e);){let r=e.getLastChild();if(r===null)break;e=r}return e}getDescendantByIndex(e){let r=this.getChildren(),o=r.length;if(e>=o){let s=r[o-1];return I(s)&&s.getLastDescendant()||s||null}let i=r[e];return I(i)&&i.getFirstDescendant()||i||null}getFirstChild(){let e=this.getLatest().__first;return e===null?null:Qe(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return e===null&&$(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return e===null?null:Qe(e)}getLastChildOrThrow(){let e=this.getLastChild();return e===null&&$(96,this.__key),e}getChildAtIndex(e){let r=this.getChildrenSize(),o,i;if(e<r/2){for(o=this.getFirstChild(),i=0;o!==null&&i<=e;){if(i===e)return o;o=o.getNextSibling(),i++}return null}for(o=this.getLastChild(),i=r-1;o!==null&&i>=e;){if(i===e)return o;o=o.getPreviousSibling(),i--}return null}getTextContent(){let e="",r=this.getChildren(),o=r.length;for(let i=0;i<o;i++){let s=r[i];e+=s.getTextContent(),I(s)&&i!==o-1&&!s.isInline()&&(e+=sr)}return e}getTextContentSize(){let e=0,r=this.getChildren(),o=r.length;for(let i=0;i<o;i++){let s=r[i];e+=s.getTextContentSize(),I(s)&&i!==o-1&&!s.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){let r=qg[e];return(this.getFormat()&r)!==0}return!1}hasTextFormat(e){let r=xt[e];return(this.getTextFormat()&r)!==0}getFormatFlags(e,r){return ea(this.getLatest().__textFormat,e,r)}getTextStyle(){return this.getLatest().__textStyle}select(e,r){it();let o=Ce(),i=e,s=r,l=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&r===0){let c=this.getFirstChild();if(W(c)||I(c))return c.select(0,0)}else if(!(e!==void 0&&e!==l||r!==void 0&&r!==l)){let c=this.getLastChild();if(W(c)||I(c))return c.select()}}i===void 0&&(i=l),s===void 0&&(s=l);let a=this.__key;return Q(o)?(o.anchor.set(a,i,"element"),o.focus.set(a,s,"element"),o.dirty=!0,o):Bh(a,i,a,s,"element","element")}selectStart(){let e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){let e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(r=>r.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let r=this.getWritable();return r.__dir=e,r}setFormat(e){return this.getWritable().__format=e!==""?qg[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){let r=this.getWritable();return r.__textFormat=e,r}setTextStyle(e){let r=this.getWritable();return r.__textStyle=e,r}setIndent(e){return this.getWritable().__indent=e,this}splice(e,r,o){Vs(this)&&$(324,this.__key,this.__type);let i=this.getChildrenSize(),s=this.getWritable();e+r<=i||$(226,String(e),String(r),String(i));let l=s.__key,a=[],c=[],u=this.getChildAtIndex(e+r),d=null,g=i-r+o.length;if(e!==0)if(e===i)d=this.getLastChild();else{let f=this.getChildAtIndex(e);f!==null&&(d=f.getPreviousSibling())}if(r>0){let f=d===null?this.getFirstChild():d.getNextSibling();for(let p=0;p<r;p++){f===null&&$(100);let m=f.getNextSibling(),_=f.__key;ir(f.getWritable()),c.push(_),f=m}}let h=d;for(let f of o){h!==null&&f.is(h)&&(d=h=h.getPreviousSibling());let p=f.getWritable();p.__parent===l&&g--,ir(p);let m=f.__key;if(h===null)s.__first=m,p.__prev=null;else{let _=h.getWritable();_.__next=m,p.__prev=_.__key}f.__key===l&&$(76),p.__parent=l,a.push(m),h=f}if(e+r===i)h!==null&&(h.getWritable().__next=null,s.__last=h.__key);else if(u!==null){let f=u.getWritable();if(h!==null){let p=h.getWritable();f.__prev=h.__key,p.__next=u.__key}else f.__prev=null}if(s.__size=g,c.length){let f=Ce();if(Q(f)){let p=new Set(c),m=new Set(a),{anchor:_,focus:C}=f;Df(_,p,m)&&Zs(_,_.getNode(),this,d,u),Df(C,p,m)&&Zs(C,C.getNode(),this,d,u),g!==0||this.canBeEmpty()||Jt(this)||this.remove()}}return s}getDOMSlot(e){return new bc(e)}exportDOM(e){let{element:r}=super.exportDOM(e);if(At(r)){let o=this.getIndent();o>0&&(r.style.paddingInlineStart=40*o+"px");let i=this.getDirection();i&&(r.dir=i)}return{element:r}}exportJSON(){let e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},r=this.getTextFormat(),o=this.getTextStyle();return r===0&&o===""||Jt(this)||this.getChildren().some(W)||(r!==0&&(e.textFormat=r),o!==""&&(e.textStyle=o)),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,r){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,r,o){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,r){let o=this.getDOMSlot(e),i=o.getFirstChild();for(let s=this.getFirstChild();s;s=s.getNextSibling()){let l=r.getElementByKey(s.getKey());l!==null&&(i==null?(o.insertChild(l),i=l):i!==l&&o.replaceChild(l,i),i=i.nextSibling)}}};function I(n){return n instanceof ar}function Df(n,t,e){let r=n.getNode();for(;r;){let o=r.__key;if(t.has(o)&&!e.has(o))return!0;r=r.getParent()}return!1}var Ii=class extends Kt{decorate(t,e){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}};function Le(n){return n instanceof Ii}var Ao=class n extends ar{constructor(){super("root");v(this,"__cachedText");this.__cachedText=null}static getType(){return"root"}static clone(){return new n}getTopLevelElementOrThrow(){$(51)}getTextContent(){let e=this.__cachedText;return!Ro()&&Se()._dirtyType!==0||e===null?super.getTextContent():e}remove(){$(52)}replace(e){$(53)}insertBefore(e){$(54)}insertAfter(e){$(55)}updateDOM(e,r){return!1}splice(e,r,o){for(let i of o)I(i)||Le(i)||$(282);return super.splice(e,r,o)}static importJSON(e){return Ht().updateFromJSON(e)}collapseAtStart(){return!0}};function ct(n){return n instanceof Ao}function Yh(n){return new $i(new Map(n._nodeMap))}function Vc(){return new $i(new Map([["root",new Ao]]))}function Gh(n){let t=n.exportJSON(),e=n.constructor;if(t.type!==e.getType()&&$(130,e.name),I(n)){let r=t.children;Array.isArray(r)||$(59,e.name);let o=n.getChildren();for(let i=0;i<o.length;i++){let s=Gh(o[i]);r.push(s)}}return t}function LT(n){return n instanceof $i}var $i=class n{constructor(t,e){v(this,"_nodeMap");v(this,"_selection");v(this,"_flushSync");v(this,"_readOnly");this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t,e){return wf(e&&e.editor||null,this,t)}clone(t){let e=new n(this._nodeMap,t===void 0?this._selection:t);return e._readOnly=!0,e}toJSON(){return wf(null,this,()=>({root:Gh(Ht())}))}},Qs=class extends ar{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}},vo=class n extends ar{static getType(){return"paragraph"}static clone(t){return new n(t.__key)}createDOM(t){let e=document.createElement("p"),r=To(t.theme,"paragraph");return r!==void 0&&e.classList.add(...r),e}updateDOM(t,e,r){return!1}static importDOM(){return{p:t=>({conversion:DT,priority:0})}}exportDOM(t){let{element:e}=super.exportDOM(t);if(At(e)){this.isEmpty()&&e.append(document.createElement("br"));let r=this.getFormatType();r&&(e.style.textAlign=r)}return{element:e}}static importJSON(t){return Pn().updateFromJSON(t)}exportJSON(){let t=super.exportJSON();if(t.textFormat===void 0||t.textStyle===void 0){let e=this.getChildren().find(W);e?(t.textFormat=e.getFormat(),t.textStyle=e.getStyle()):(t.textFormat=this.getTextFormat(),t.textStyle=this.getTextStyle())}return t}insertNewAfter(t,e){let r=Pn();r.setTextFormat(t.format),r.setTextStyle(t.style);let o=this.getDirection();return r.setDirection(o),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,e),r}collapseAtStart(){let t=this.getChildren();if(t.length===0||W(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}};function DT(n){let t=Pn();return n.style&&(t.setFormat(n.style.textAlign),pp(n,t)),{node:t}}function Pn(){return zi(new vo)}function jh(n){return n instanceof vo}var Co=0,kT=1,RT=2,IT=3,$T=4;function Jh(n,t,e,r){let o=n._keyToDOMMap;o.clear(),n._editorState=Vc(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;let i=n._observer;i!==null&&(i.disconnect(),n._observer=null),t!==null&&(t.textContent=""),e!==null&&(e.textContent="",o.set("root",e))}function Vh(n){let t=new Set,e=new Set,r=n;for(;r;){let{ownNodeConfig:o}=Wi(r),i=r.transform;if(!e.has(i)){e.add(i);let s=r.transform();s&&t.add(s)}if(o){let s=o.$transform;s&&t.add(s),r=o.extends}else{let s=Object.getPrototypeOf(r);r=s.prototype instanceof Kt&&s!==Kt?s:void 0}}return t}function FT(n){let t=n||{},e=wT(),r=t.theme||{},o=n===void 0?e:t.parentEditor||null,i=t.disableEvents||!1,s=Vc(),l=t.namespace||(o!==null?o._config.namespace:rp()),a=t.editorState,c=[Ao,Hr,bo,So,vo,Qs,...t.nodes||[]],{onError:u,html:d}=t,g=t.editable===void 0||t.editable,h;if(n===void 0&&e!==null)h=e._nodes;else{h=new Map;for(let p=0;p<c.length;p++){let m=c[p],_=null,C=null;if(typeof m!="function"){let b=m;m=b.replace,_=b.with,C=b.withKlass||null}Wi(m);let y=m.getType(),E=Vh(m);h.set(y,{exportDOM:d&&d.export?d.export.get(m):void 0,klass:m,replace:_,replaceWithKlass:C,sharedNodeState:qf(c[p]),transforms:E})}}let f=new Bn(s,o,h,{disableEvents:i,namespace:l,theme:r},u||console.error,(function(p,m){let _=new Map,C=new Set,y=E=>{Object.keys(E).forEach(b=>{let T=_.get(b);T===void 0&&(T=[],_.set(b,T)),T.push(E[b])})};return p.forEach(E=>{let b=E.klass.importDOM;if(b==null||C.has(b))return;C.add(b);let T=b.call(E.klass);T!==null&&y(T)}),m&&y(m),_})(h,d?d.import:void 0),g,n);return a!==void 0&&(f._pendingEditorState=a,f._dirtyType=2),(function(p){p.registerCommand(Ic,iT,Co),p.registerCommand($c,sT,Co),p.registerCommand(Fc,aT,Co),p.registerCommand(Pc,lT,Co),p.registerCommand(Uc,cT,Co)})(f),f}var Bn=class{constructor(t,e,r,o,i,s,l,a){v(this,"_headless");v(this,"_parentEditor");v(this,"_rootElement");v(this,"_editorState");v(this,"_pendingEditorState");v(this,"_compositionKey");v(this,"_deferred");v(this,"_keyToDOMMap");v(this,"_updates");v(this,"_updating");v(this,"_listeners");v(this,"_commands");v(this,"_nodes");v(this,"_decorators");v(this,"_pendingDecorators");v(this,"_config");v(this,"_dirtyType");v(this,"_cloneNotNeeded");v(this,"_dirtyLeaves");v(this,"_dirtyElements");v(this,"_normalizedNodes");v(this,"_updateTags");v(this,"_observer");v(this,"_key");v(this,"_onError");v(this,"_htmlConversions");v(this,"_window");v(this,"_editable");v(this,"_blockCursorElement");v(this,"_createEditorArgs");this._createEditorArgs=a,this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=rp(),this._onError=i,this._htmlConversions=s,this._editable=l,this._headless=e!==null&&e._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){let e=this._listeners.update;return e.add(t),()=>{e.delete(t)}}registerEditableListener(t){let e=this._listeners.editable;return e.add(t),()=>{e.delete(t)}}registerDecoratorListener(t){let e=this._listeners.decorator;return e.add(t),()=>{e.delete(t)}}registerTextContentListener(t){let e=this._listeners.textcontent;return e.add(t),()=>{e.delete(t)}}registerRootListener(t){let e=this._listeners.root;return t(this._rootElement,null),e.add(t),()=>{t(null,this._rootElement),e.delete(t)}}registerCommand(t,e,r){r===void 0&&$(35);let o=this._commands;o.has(t)||o.set(t,[new Set,new Set,new Set,new Set,new Set]);let i=o.get(t);i===void 0&&$(36,String(t));let s=i[r];return s.add(e),()=>{s.delete(e),i.every(l=>l.size===0)&&o.delete(t)}}registerMutationListener(t,e,r){let o=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,i=this._listeners.mutation,s=i.get(e);s===void 0&&(s=new Set,i.set(e,s)),s.add(o);let l=r&&r.skipInitialization;return l!==void 0&&l||this.initializeMutationListener(e,o),()=>{s.delete(o),s.size===0&&i.delete(e)}}getRegisteredNode(t){let e=this._nodes.get(t.getType());return e===void 0&&$(37,t.name),e}resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;)t=this.getRegisteredNode(t.replaceWithKlass);return t}initializeMutationListener(t,e){let r=this._editorState,o=vc(r).get(e.getType());if(!o)return;let i=new Map;for(let s of o.keys())i.set(s,"created");i.size>0&&t(i,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(t,e){let r=this.getRegisteredNode(t);return r.transforms.add(e),r}registerNodeTransform(t,e){let r=this.registerNodeTransformToKlass(t,e),o=[r],i=r.replaceWithKlass;if(i!=null){let s=this.registerNodeTransformToKlass(i,e);o.push(s)}return(function(s,l){let a=vc(s.getEditorState()),c=[];for(let u of l){let d=a.get(u);d&&c.push(d)}c.length!==0&&s.update(()=>{for(let u of c)for(let d of u.keys()){let g=Qe(d);g&&g.markDirty()}},s._pendingEditorState===null?{tag:Fs}:void 0)})(this,o.map(s=>s.klass.getType())),()=>{o.forEach(s=>s.transforms.delete(e))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,e){return H(this,t,e)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){let e=this._rootElement;if(t!==e){let r=To(this._config.theme,"root"),o=this._pendingEditorState||this._editorState;if(this._rootElement=t,Jh(this,e,t,o),e!==null&&(this._config.disableEvents||uT(e),r!=null&&e.classList.remove(...r)),t!==null){let i=au(t),s=t.style;s.userSelect="text",s.whiteSpace="pre-wrap",s.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=i,this._dirtyType=2,Xf(this),this._updateTags.add(Fs),$n(this),this._config.disableEvents||(function(l,a){let c=l.ownerDocument;pc.set(l,c);let u=js.get(c)??0;u<1&&c.addEventListener("selectionchange",wh),js.set(c,u+1),l.__lexicalEditor=a;let d=Oh(l);for(let g=0;g<hc.length;g++){let[h,f]=hc[g],p=typeof f=="function"?m=>{gf(m)||(df(m),(a.isEditable()||h==="click")&&f(m,a))}:m=>{if(gf(m))return;df(m);let _=a.isEditable();switch(h){case"cut":return _&&H(a,Wc,m);case"copy":return H(a,zc,m);case"paste":return _&&H(a,Bc,m);case"dragstart":return _&&H(a,mh,m);case"dragover":return _&&H(a,_h,m);case"dragend":return _&&H(a,Ch,m);case"focus":return _&&H(a,yh,m);case"blur":return _&&H(a,xh,m);case"drop":return _&&H(a,ph,m)}};l.addEventListener(h,p),d.push(()=>{l.removeEventListener(h,p)})}})(t,this),r!=null&&t.classList.add(...r)}else this._window=null,this._updateTags.add(Fs),$n(this);Si("root",this,!1,t,e)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,e){t.isEmpty()&&$(38);let r=t;r._readOnly&&(r=Yh(t),r._selection=t._selection?t._selection.clone():null),Vf(this);let o=this._pendingEditorState,i=this._updateTags,s=e!==void 0?e.tag:null;o===null||o.isEmpty()||(s!=null&&i.add(s),$n(this)),this._pendingEditorState=r,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,s!=null&&i.add(s),this._updating||$n(this)}parseEditorState(t,e){return(function(r,o,i){let s=Vc(),l=at,a=It,c=lt,u=o._dirtyElements,d=o._dirtyLeaves,g=o._cloneNotNeeded,h=o._dirtyType;o._dirtyElements=new Map,o._dirtyLeaves=new Set,o._cloneNotNeeded=new Set,o._dirtyType=0,at=s,It=!1,lt=o,Xc(null);try{let f=o._nodes;Jc(r.root,f),i&&i(),s._readOnly=!0}catch(f){f instanceof Error&&o._onError(f)}finally{o._dirtyElements=u,o._dirtyLeaves=d,o._cloneNotNeeded=g,o._dirtyType=h,at=l,It=a,lt=c}return s})(typeof t=="string"?JSON.parse(t):t,this,e)}read(t){return $n(this),this.getEditorState().read(t,{editor:this})}update(t,e){(function(r,o,i){r._updating?r._updates.push([o,i]):ca(r,o,i)})(this,t,e)}focus(t,e={}){let r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),_n(this,()=>{let o=Ce(),i=Ht();o!==null?o.dirty||$t(o.clone()):i.getChildrenSize()!==0&&(e.defaultSelection==="rootStart"?i.selectStart():i.selectEnd()),lp("focus"),cp(()=>{r.removeAttribute("autocapitalize"),t&&t()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){let t=this._rootElement;t!==null&&t.blur();let e=yn(this._window);e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,Si("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}};v(Bn,"version");Bn.version="0.39.0+prod.esm";var Nc=null;function Xc(n){Nc=n}var Xh=1;function PT(){Xh=1}function qc(n,t){let e=Zc(n,t);return e===void 0&&$(30,t),e}function Zc(n,t){return n._nodes.get(t)}var BT=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function qh(n){return Le(ga(n))}function Qc(n){let t=document.activeElement;if(!At(t))return!1;let e=t.nodeName;return Le(ga(n))&&(e==="INPUT"||e==="TEXTAREA"||t.contentEditable==="true"&&Hi(t)==null)}function Ki(n,t,e){let r=n.getRootElement();try{return r!==null&&r.contains(t)&&r.contains(e)&&t!==null&&!Qc(t)&&eu(t)===n}catch{return!1}}function ua(n){return n instanceof Bn}function eu(n){let t=n;for(;t!=null;){let e=Hi(t);if(ua(e))return e;t=Ui(t)}return null}function Hi(n){return n?n.__lexicalEditor:null}function KT(n){return DE.test(n)?"rtl":kE.test(n)?"ltr":null}function or(n){return Gc(n)||n.isToken()}function Rn(n){return or(n)||n.isSegmented()}function Cn(n){return Io(n)&&n.nodeType===3}function Zh(n){return Io(n)&&n.nodeType===9}function zr(n){let t=n;for(;t!=null;){if(Cn(t))return t;t=t.firstChild}return null}function ea(n,t,e){let r=xt[t];if(e!==null&&(n&r)===(e&r))return n;let o=n^r;return t==="subscript"?o&=~xt.superscript:t==="superscript"?o&=~xt.subscript:t==="lowercase"?(o&=~xt.uppercase,o&=~xt.capitalize):t==="uppercase"?(o&=~xt.lowercase,o&=~xt.capitalize):t==="capitalize"&&(o&=~xt.lowercase,o&=~xt.uppercase),o}function HT(n){return W(n)||Fr(n)||Le(n)}function Qh(n,t){let e=(function(){let s=Nc;return Nc=null,s})();if((t=t||e&&e.__key)!=null)return void(n.__key=t);it(),Uh();let r=Se(),o=Un(),i=""+Xh++;o._nodeMap.set(i,n),I(n)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=1,n.__key=i}function ir(n){let t=n.getParent();if(t!==null){let e=n.getWritable(),r=t.getWritable(),o=n.getPreviousSibling(),i=n.getNextSibling(),s=i!==null?i.__key:null,l=o!==null?o.__key:null,a=o!==null?o.getWritable():null,c=i!==null?i.getWritable():null;o===null&&(r.__first=s),i===null&&(r.__last=l),a!==null&&(a.__next=s),c!==null&&(c.__prev=l),e.__prev=null,e.__next=null,e.__parent=null,r.__size--}}function ta(n){Uh(),Vs(n)&&$(323,n.__key,n.__type);let t=n.getLatest(),e=t.__parent,r=Un(),o=Se(),i=r._nodeMap,s=o._dirtyElements;e!==null&&(function(a,c,u){let d=a;for(;d!==null;){if(u.has(d))return;let g=c.get(d);if(g===void 0)break;u.set(d,!1),d=g.__parent}})(e,i,s);let l=t.__key;o._dirtyType=1,I(n)?s.set(l,!0):o._dirtyLeaves.add(l)}function st(n){it();let t=Se(),e=t._compositionKey;if(n!==e){if(t._compositionKey=n,e!==null){let r=Qe(e);r!==null&&r.getWritable()}if(n!==null){let r=Qe(n);r!==null&&r.getWritable()}}}function rr(){return Ro()?null:Se()._compositionKey}function Qe(n,t){let e=(t||Un())._nodeMap.get(n);return e===void 0?null:e}function tu(n,t){let e=da(n,Se());return e!==void 0?Qe(e,t):null}function da(n,t){return n[`__lexicalKey_${t._key}`]}function ga(n,t){let e=n;for(;e!=null;){let r=tu(e,t);if(r!==null)return r;e=Ui(e)}return null}function ep(n){let t=n._decorators,e=Object.assign({},t);return n._pendingDecorators=e,e}function kf(n){return n.read(()=>Ht().getTextContent())}function Ht(){return tp(Un())}function tp(n){return n._nodeMap.get("root")}function $t(n){it();let t=Un();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),t._selection=n}function yo(n){let t=Se(),e=(function(r,o){let i=r;for(;i!=null;){let s=da(i,o);if(s!==void 0)return s;i=Ui(i)}return null})(n,t);return e===null?n===t.getRootElement()?Qe("root"):null:Qe(e)}function np(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function nu(n){let t=[],e=n;for(;e!==null;)t.push(e),e=e._parentEditor;return t}function rp(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function op(n){return Cn(n)?n.nodeValue:null}function ru(n,t,e){let r=yn(Vt(t));if(r===null)return;let o=r.anchorNode,{anchorOffset:i,focusOffset:s}=r;if(o!==null){let l=op(o),a=ga(o);if(l!==null&&W(a)){if(l===oa&&e){let c=e.length;l=e,i=c,s=c}l!==null&&ou(a,l,i,s,n)}}}function ou(n,t,e,r,o){let i=n;if(i.isAttached()&&(o||!i.isDirty())){let s=i.isComposing(),l=t;(s||o)&&t[t.length-1]===oa&&(l=t.slice(0,-1));let a=i.getTextContent();if(o||l!==a){if(l===""){if(st(null),Pi||ko||Bi)i.remove();else{let p=Se();setTimeout(()=>{p.update(()=>{i.isAttached()&&i.remove()})},20)}return}let c=i.getParent(),u=Gr(),d=i.getTextContentSize(),g=rr(),h=i.getKey();if(i.isToken()||g!==null&&h===g&&!s||Q(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===n.__key&&u.anchor.offset===0&&!i.canInsertTextBefore()&&!s||u.focus.key===n.__key&&u.focus.offset===d&&!i.canInsertTextAfter()&&!s))return void i.markDirty();let f=Ce();if(!Q(f)||e===null||r===null)return void Rf(i,l,f);if(f.setTextNodeRange(i,e,i,r),i.isSegmented()){let p=ot(i.getTextContent());i.replace(p),i=p}Rf(i,l,f)}}}function Rf(n,t,e){if(n.setTextContent(t),Q(e)){let r=n.getKey();for(let o of["anchor","focus"]){let i=e[o];i.type==="text"&&i.key===r&&(i.offset=sn(n,i.offset,"clamp"))}}}function Rs(n,t,e){let r=t[e]||!1;return r==="any"||r===n[e]}function ip(n,t){return Rs(n,t,"altKey")&&Rs(n,t,"ctrlKey")&&Rs(n,t,"shiftKey")&&Rs(n,t,"metaKey")}function be(n,t,e){return ip(n,e)&&n.key.toLowerCase()===t.toLowerCase()}var kn={ctrlKey:!tn,metaKey:tn},If={altKey:tn,ctrlKey:!tn};function $f(n){return n.key==="Backspace"}function Ff(n){return be(n,"a",kn)}function UT(n){let t=Ht();if(Q(n)){let e=n.anchor,r=n.focus,o=e.getNode().getTopLevelElementOrThrow().getParentOrThrow();return e.set(o.getKey(),0,"element"),r.set(o.getKey(),o.getChildrenSize(),"element"),Hs(n),n}{let e=t.select(0,t.getChildrenSize());return $t(Hs(e)),e}}function To(n,t){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});let e=n.__lexicalClassNameCache,r=e[t];if(r!==void 0)return r;let o=n[t];if(typeof o=="string"){let i=Wf(o);return e[t]=i,i}return o}function iu(n,t,e,r,o){if(e.size===0)return;let i=r.__type,s=r.__key,l=t.get(i);l===void 0&&$(33,i);let a=l.klass,c=n.get(a);c===void 0&&(c=new Map,n.set(a,c));let u=c.get(s),d=u==="destroyed"&&o==="created";(u===void 0||d)&&c.set(s,d?"updated":o)}function zT(n){let t=n.getType(),e=Un();if(e._readOnly){let i=vc(e).get(t);return i?Array.from(i.values()):[]}let r=e._nodeMap,o=[];for(let[,i]of r)i instanceof n&&i.__type===t&&i.isAttached()&&o.push(i);return o}function Pf(n,t,e){let r=n.getParent(),o=e,i=n;return r!==null&&(t&&e===0?(o=i.getIndexWithinParent(),i=r):t||e!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(t?o-1:o)}function sp(n,t){let e=n.offset;if(n.type==="element")return Pf(n.getNode(),t,e);{let r=n.getNode();if(t&&e===0||!t&&e===r.getTextContentSize()){let o=t?r.getPreviousSibling():r.getNextSibling();return o===null?Pf(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):o}}return null}function ap(n){let t=Vt(n).event,e=t&&t.inputType;return e==="insertFromPaste"||e==="insertFromPasteAsQuotation"}function H(n,t,e){return(function(r,o,i){let s=nu(r);for(let l=4;l>=0;l--)for(let a=0;a<s.length;a++){let c=s[a],u=c._commands.get(o);if(u!==void 0){let d=u[l];if(d!==void 0){let g=Array.from(d),h=g.length,f=!1;if(_n(c,()=>{for(let p=0;p<h;p++)if(g[p](i,r))return void(f=!0)}),f)return f}}}return!1})(n,t,e)}function fa(n){return!ct(n)&&!n.isLastChild()&&!n.isInline()}function Wr(n,t){let e=n._keyToDOMMap.get(t);return e===void 0&&$(75,t),e}function Ui(n){let t=n.assignedSlot||n.parentElement;return fp(t)?t.host:t}function su(n){return Zh(n)?n:At(n)?n.ownerDocument:null}function WT(n){return Se()._updateTags.has(n)}function lp(n){it(),Se()._updateTags.add(n)}function cp(n){it(),Se()._deferred.push(n)}function na(n,t){let e=n.getParent();for(;e!==null;){if(e.is(t))return!0;e=e.getParent()}return!1}function au(n){let t=su(n);return t?t.defaultView:null}function Vt(n){let t=n._window;return t===null&&$(78),t}function YT(n){return I(n)&&n.isInline()||Le(n)&&n.isInline()}function up(n){let t=n.getParentOrThrow();for(;t!==null;){if(Jt(t))return t;t=t.getParentOrThrow()}return t}function Jt(n){return ct(n)||I(n)&&n.isShadowRoot()}function lu(n){let t=n.constructor.clone(n);return Qh(t,null),t.afterCloneFrom(n),t}function zi(n){let t=Se(),e=n.getType(),r=Zc(t,e);r===void 0&&$(200,n.constructor.name,e);let{replace:o,replaceWithKlass:i}=r;if(o!==null){let s=o(n),l=s.constructor;return i!==null?s instanceof i||$(201,i.name,i.getType(),l.name,l.getType(),n.constructor.name,e):s instanceof n.constructor&&l!==n.constructor||$(202,l.name,l.getType(),n.constructor.name,e),s.__key===n.__key&&$(203,n.constructor.name,e,l.name,l.getType()),s}return n}function Zl(n,t){!ct(n.getParent())||I(t)||Le(t)||$(99)}function dp(n){let t=Qe(n);return t===null&&$(63,n),t}function Ql(n){return(Le(n)||I(n)&&!n.canBeEmpty())&&!n.isInline()}function Sc(n,t,e){e.style.removeProperty("caret-color"),t._blockCursorElement=null;let r=n.parentElement;r!==null&&r.removeChild(n)}function yn(n){return ln?(n||window).getSelection():null}function gp(n){let t=au(n);return t?t.getSelection():null}function GT(n,t){let e=n.getChildAtIndex(t);e==null&&(e=n),Jt(n)&&$(102);let r=s=>{let l=s.getParentOrThrow(),a=Jt(l),c=s!==e||a?lu(s):s;if(a)return I(s)&&I(c)||$(133),s.insertAfter(c),[s,c,c];{let[u,d,g]=r(l),h=s.getNextSiblings();return g.append(c,...h),[u,d,c]}},[o,i]=r(e);return[o,i]}function jT(n){return At(n)&&n.tagName==="A"}function At(n){return Io(n)&&n.nodeType===1}function Io(n){return typeof n=="object"&&n!==null&&"nodeType"in n&&typeof n.nodeType=="number"}function fp(n){return Io(n)&&n.nodeType===11}function hp(n){let t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(t)!==null}function Ac(n){let t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(t)!==null}function Fn(n){if(Le(n)&&!n.isInline())return!0;if(!I(n)||Jt(n))return!1;let t=n.getFirstChild(),e=t===null||Fr(t)||W(t)||t.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&e}function cu(){return Se()}var Bf=new WeakMap,JT=new Map;function vc(n){if(!n._readOnly&&n.isEmpty())return JT;n._readOnly||$(192);let t=Bf.get(n);return t||(t=(function(e){let r=new Map;for(let[o,i]of e._nodeMap){let s=i.__type,l=r.get(s);l||(l=new Map,r.set(s,l)),l.set(o,i)}return r})(n),Bf.set(n,t)),t}function uu(n){let t=n.constructor.clone(n);return t.afterCloneFrom(n),t}function VT(n){return(t=uu(n))[Mh]=!0,t;var t}function pp(n,t){let e=parseInt(n.style.paddingInlineStart,10)||0,r=Math.round(e/40);t.setIndent(r)}function XT(n){n.__lexicalUnmanaged=!0}function mp(n){return n.__lexicalUnmanaged===!0}function xi(n,t){return(function(e,r){return Object.prototype.hasOwnProperty.call(e,r)})(n,t)&&n[t]!==Kt[t]}function Wi(n){let t=Zg in n.prototype?n.prototype[Zg]():void 0,e=(function(s){if(!(s===Kt||s.prototype instanceof Kt)){let l="<unknown>",a="<unknown>";try{l=s.getType()}catch{}try{Bn.version&&(a=JSON.parse(Bn.version))}catch{}$(290,s.name,l,a)}return s===Ii||s===ar||s===Kt})(n),r=!e&&xi(n,"getType")?n.getType():void 0,o,i=r;if(t)if(r)o=t[r];else for(let[s,l]of Object.entries(t))i=s,o=l;if(!e&&i&&(xi(n,"getType")||(n.getType=()=>i),xi(n,"clone")||(n.clone=s=>(Xc(s),new n)),xi(n,"importJSON")||(n.importJSON=o&&o.$importJSON||(s=>new n().updateFromJSON(s))),!xi(n,"importDOM")&&o)){let{importDOM:s}=o;s&&(n.importDOM=()=>s)}return{ownNodeConfig:o,ownNodeType:i}}function qT(n){let t=cu();return it(),new(t.resolveRegisteredNodeAfterReplacements(t.getRegisteredNode(n))).klass}var Ai=(n,t)=>{let e=n;for(;e!=null&&!ct(e);){if(t(e))return e;e=e.getParent()}return null},ZT={next:"previous",previous:"next"},Oo=class{constructor(t){v(this,"origin");this.origin=t}[Symbol.iterator](){return fu({hasNext:Yr,initial:this.getAdjacentCaret(),map:t=>t,step:t=>t.getAdjacentCaret()})}getAdjacentCaret(){return ut(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return ut(this.origin,this.direction)}remove(){let t=this.getNodeAtCaret();return t&&t.remove(),this}replaceOrInsert(t,e){let r=this.getNodeAtCaret();return t.is(this.origin)||t.is(r)||(r===null?this.insert(t):r.replace(t,e)),this}splice(t,e,r="next"){let o=r===this.direction?e:Array.from(e).reverse(),i=this,s=this.getParentAtCaret(),l=new Map;for(let a=i.getAdjacentCaret();a!==null&&l.size<t;a=a.getAdjacentCaret()){let c=a.origin.getWritable();l.set(c.getKey(),c)}for(let a of o){if(l.size>0){let c=i.getNodeAtCaret();if(c){if(l.delete(c.getKey()),l.delete(a.getKey()),!(c.is(a)||i.origin.is(a))){let u=a.getParent();u&&u.is(s)&&a.remove(),c.replace(a)}}else c===null&&$(263,Array.from(l).join(" "))}else i.insert(a);i=ut(a,this.direction)}for(let a of l.values())a.remove();return this}},Fi=class n extends Oo{constructor(){super(...arguments);v(this,"type","child")}getLatest(){let e=this.origin.getLatest();return e===this.origin?this:Hn(e,this.direction)}getParentCaret(e="root"){return ut(du(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=gr(this.direction);return ut(this.getNodeAtCaret(),e)||Hn(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof n&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}},QT={root:ct,shadowRoot:Jt};function gr(n){return ZT[n]}function du(n,t="root"){return QT[t](n)?null:n}var wo=class n extends Oo{constructor(){super(...arguments);v(this,"type","sibling")}getLatest(){let e=this.origin.getLatest();return e===this.origin?this:ut(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return I(this.origin)?Hn(this.origin,this.direction):null}getParentCaret(e="root"){return ut(du(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=gr(this.direction);return ut(this.getNodeAtCaret(),e)||Hn(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof n&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof n||e instanceof Mo)&&this.direction===e.direction&&this.origin.is(e.origin)}},Mo=class n extends Oo{constructor(e,r){super(e);v(this,"type","text");v(this,"offset");this.offset=r}getLatest(){let e=this.origin.getLatest();return e===this.origin?this:lr(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return ut(du(this.getParentAtCaret(),e),this.direction)}getFlipped(){return lr(this.origin,gr(this.direction),this.offset)}isSamePointCaret(e){return e instanceof n&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof wo||e instanceof n)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return ut(this.origin,this.direction)}};function Kn(n){return n instanceof Mo}function eb(n){return n instanceof Oo}function Yr(n){return n instanceof wo}function on(n){return n instanceof Fi}var tb={next:class extends Mo{constructor(){super(...arguments);v(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends Mo{constructor(){super(...arguments);v(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},nb={next:class extends wo{constructor(){super(...arguments);v(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(t){return this.origin.insertAfter(t),this}},previous:class extends wo{constructor(){super(...arguments);v(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(t){return this.origin.insertBefore(t),this}}},rb={next:class extends Fi{constructor(){super(...arguments);v(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(t){return this.origin.splice(0,0,[t]),this}},previous:class extends Fi{constructor(){super(...arguments);v(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this}}};function ut(n,t){return n?new nb[t](n):null}function lr(n,t,e){return n?new tb[t](n,sn(n,e)):null}function sn(n,t,e="error"){let r=n.getTextContentSize(),o=t==="next"?r:t==="previous"?0:t;return(o<0||o>r)&&(e!=="clamp"&&Uf(284,String(t),String(r),n.getKey()),o=o<0?0:r),o}function Oc(n,t){return new ra(n,t)}function Hn(n,t){return I(n)?new rb[t](n):null}function _p(n){return n&&n.getChildCaret()||n}function Lo(n){return n&&_p(n.getAdjacentCaret())}var wc=class n{constructor(t,e,r){v(this,"type","node-caret-range");v(this,"direction");v(this,"anchor");v(this,"focus");this.anchor=t,this.focus=e,this.direction=r}getLatest(){let t=this.anchor.getLatest(),e=this.focus.getLatest();return t===this.anchor&&e===this.focus?this:new n(t,e,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){let t=o=>{let i=this[o].getLatest();return Kn(i)?(function(s,l){let{direction:a,origin:c}=s,u=sn(c,l==="focus"?gr(a):a);return Oc(s,u-s.offset)})(i,o):null},e=t("anchor"),r=t("focus");if(e&&r){let{caret:o}=e,{caret:i}=r;if(o.isSameNodeCaret(i))return[Oc(o,i.offset-o.offset),null]}return[e,r]}iterNodeCarets(t="root"){let e=Kn(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),o=Kn(r),i=s=>s.isSameNodeCaret(r)?null:Lo(s)||s.getParentCaret(t);return fu({hasNext:s=>s!==null&&!(o&&r.isSameNodeCaret(s)),initial:e.isSameNodeCaret(r)?null:i(e),map:s=>s,step:i})}[Symbol.iterator](){return this.iterNodeCarets("root")}},ra=class{constructor(t,e){v(this,"type","slice");v(this,"caret");v(this,"distance");this.caret=t,this.distance=e}getSliceIndices(){let{distance:t,caret:{offset:e}}=this,r=e+t;return r<e?[r,e]:[e,r]}getTextContent(){let[t,e]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(t,e)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){let{caret:{origin:t,direction:e}}=this,[r,o]=this.getSliceIndices(),i=t.getTextContent();return lr(t.setTextContent(i.slice(0,r)+i.slice(o)),e,r)}};function ob(n){return n instanceof ra}function gu(n){return cr(n,ut(Ht(),n.direction))}function Cp(n){return cr(n,n)}function cr(n,t){return n.direction!==t.direction&&$(265),new wc(n,t,n.direction)}function fu(n){let{initial:t,hasNext:e,step:r,map:o}=n,i=t;return{[Symbol.iterator](){return this},next(){if(!e(i))return{done:!0,value:void 0};let s={done:!1,value:o(i)};return i=r(i),s}}}function hu(n,t){let e=vi(n.origin,t.origin);switch(e===null&&$(275,n.origin.getKey(),t.origin.getKey()),e.type){case"same":{let r=n.type==="text",o=t.type==="text";return r&&o?(function(i,s){return Math.sign(i-s)})(n.offset,t.offset):n.type===t.type?0:r?-1:o?1:n.type==="child"?-1:1}case"ancestor":return n.type==="child"?-1:1;case"descendant":return t.type==="child"?1:-1;case"branch":return pu(e)}}function pu(n){let{a:t,b:e}=n,r=t.__key,o=e.__key,i=t,s=e;for(;i&&s;i=i.getNextSibling(),s=s.getNextSibling()){if(i.__key===o)return-1;if(s.__key===r)return 1}return i===null?1:-1}function Is(n,t){return t.is(n)}function Kf(n){return I(n)?[n.getLatest(),null]:[n.getParent(),n.getLatest()]}function vi(n,t){if(n.is(t))return{commonAncestor:n,type:"same"};let e=new Map;for(let[r,o]=Kf(n);r;o=r,r=r.getParent())e.set(r,o);for(let[r,o]=Kf(t);r;o=r,r=r.getParent()){let i=e.get(r);if(i!==void 0)return i===null?(Is(n,r)||$(276),{commonAncestor:r,type:"ancestor"}):o===null?(Is(t,r)||$(277),{commonAncestor:r,type:"descendant"}):((I(i)||Is(n,i))&&(I(o)||Is(t,o))&&r.is(i.getParent())&&r.is(o.getParent())||$(278),{a:i,b:o,commonAncestor:r,type:"branch"})}return null}function ur(n,t){let{type:e,key:r,offset:o}=n,i=dp(n.key);return e==="text"?(W(i)||$(266,i.getType(),r),lr(i,t,o)):(I(i)||$(267,i.getType(),r),Tp(i,n.offset,t))}function Do(n,t){let{origin:e,direction:r}=t,o=r==="next";Kn(t)?n.set(e.getKey(),t.offset,"text"):Yr(t)?W(e)?n.set(e.getKey(),sn(e,r),"text"):n.set(e.getParentOrThrow().getKey(),e.getIndexWithinParent()+(o?1:0),"element"):(on(t)&&I(e)||$(268),n.set(e.getKey(),o?0:e.getChildrenSize(),"element"))}function yp(n){let t=Ce(),e=Q(t)?t:Kh();return Oi(e,n),$t(e),e}function Oi(n,t){Do(n.anchor,t.anchor),Do(n.focus,t.focus)}function Mc(n){let{anchor:t,focus:e}=n,r=ur(t,"next"),o=ur(e,"next"),i=hu(r,o)<=0?"next":"previous";return cr(dr(r,i),dr(o,i))}function $o(n){let{direction:t,origin:e}=n,r=ut(e,gr(t)).getNodeAtCaret();return r?ut(r,t):Hn(e.getParentOrThrow(),t)}function Hf(n,t="root"){let e=[n];for(let r=on(n)?n.getParentCaret(t):n.getSiblingCaret();r!==null;r=r.getParentCaret(t))e.push($o(r));return e}function ec(n){return!!n&&n.origin.isAttached()}function xp(n,t="removeEmptySlices"){if(n.isCollapsed())return n;let e="root",r="next",o=t,i=mu(n,r),s=Hf(i.anchor,e),l=Hf(i.focus.getFlipped(),e),a=new Set,c=[];for(let f of i.iterNodeCarets(e))if(on(f))a.add(f.origin.getKey());else if(Yr(f)){let{origin:p}=f;I(p)&&!a.has(p.getKey())||c.push(p)}for(let f of c)f.remove();for(let f of i.getTextSlices()){if(!f)continue;let{origin:p}=f.caret,m=p.getTextContentSize(),_=$o(ut(p,r)),C=p.getMode();if(Math.abs(f.distance)===m&&o==="removeEmptySlices"||C==="token"&&f.distance!==0)_.remove();else if(f.distance!==0){o="removeEmptySlices";let y=f.removeTextSlice(),E=f.caret.origin;if(C==="segmented"){let b=y.origin,T=ot(b.getTextContent()).setStyle(b.getStyle()).setFormat(b.getFormat());_.replaceOrInsert(T),y=lr(T,r,y.offset)}E.is(s[0].origin)&&(s[0]=y),E.is(l[0].origin)&&(l[0]=y.getFlipped())}}let u,d;for(let f of s)if(ec(f)){u=nn(f);break}for(let f of l)if(ec(f)){d=nn(f);break}let g=(function(f,p,m){if(!f||!p)return null;let _=f.getParentAtCaret(),C=p.getParentAtCaret();if(!_||!C)return null;let y=_.getParents().reverse();y.push(_);let E=C.getParents().reverse();E.push(C);let b=Math.min(y.length,E.length),T;for(T=0;T<b&&y[T]===E[T];T++);let x=(L,R)=>{let K;for(let F=T;F<L.length;F++){let B=L[F];if(Jt(B))return;!K&&R(B)&&(K=B)}return K},A=x(y,Fn),O=A&&x(E,L=>m.has(L.getKey())&&Fn(L));return A&&O?[A,O]:null})(u,d,a);if(g){let[f,p]=g;Hn(f,"previous").splice(0,p.getChildren()),p.remove()}let h=[u,d,...s,...l].find(ec);if(h)return Cp(dr(nn(h),n.direction));$(269,JSON.stringify(s.map(f=>f.origin.__key)))}function nn(n){let t=(function(o){let i=o;for(;on(i);){let s=Lo(i);if(!on(s))break;i=s}return i})(n.getLatest()),{direction:e}=t;if(W(t.origin))return Kn(t)?t:lr(t.origin,e,e);let r=t.getAdjacentCaret();return Yr(r)&&W(r.origin)?lr(r.origin,e,gr(e)):t}function Ep(n){return Kn(n)&&n.offset!==sn(n.origin,n.direction)}function dr(n,t){return n.direction===t?n:n.getFlipped()}function mu(n,t){return n.direction===t?n:cr(dr(n.focus,t),dr(n.anchor,t))}function Tp(n,t,e){let r=Hn(n,"next");for(let o=0;o<t;o++){let i=r.getAdjacentCaret();if(i===null)break;r=i}return dr(r,e)}function ib(n,t="root"){let e=0,r=n,o=Lo(r);for(;o===null;){if(e--,o=r.getParentCaret(t),!o)return null;r=o,o=Lo(r)}return o&&[o,e]}function sb(n){let{origin:t,offset:e,direction:r}=n;if(e===sn(t,r))return n.getSiblingCaret();if(e===sn(t,gr(r)))return $o(n.getSiblingCaret());let[o]=t.splitText(e);return W(o)||$(281),dr(ut(o,"next"),r)}function ab(n,t){return!0}function lb(n,{$copyElementNode:t=lu,$splitTextPointCaretNext:e=sb,rootMode:r="shadowRoot",$shouldSplit:o=ab}={}){if(Kn(n))return e(n);let i=n.getParentCaret(r);if(i){let{origin:s}=i;if(on(n)&&(!s.canBeEmpty()||!o(s,"first")))return $o(i);let l=(function(a){let c=[];for(let u=a.getAdjacentCaret();u;u=u.getAdjacentCaret())c.push(u.origin);return c})(n);(l.length>0||s.canBeEmpty()&&o(s,"last"))&&i.insert(t(s).splice(0,0,l))}return i}function cb(n){return n}function ub(...n){return n}function db(n,t){return[n,t]}function gb(n){return n}function fb(n,t){if(!t||n===t)return n;for(let e in t)if(n[e]!==t[e])return{...n,...t};return n}var S=_u,yA=S.$addUpdateTag,ge=S.$applyNodeReplacement,fr=S.$caretFromPoint,bp=S.$caretRangeFromSelection,ha=S.$cloneWithProperties,Np=S.$cloneWithPropertiesEphemeral,xA=S.$comparePointCaretNext,EA=S.$copyNode,Fo=S.$create,cn=S.$createLineBreakNode,Sp=S.$createNodeSelection,X=S.$createParagraphNode,un=S.$createPoint,hr=S.$createRangeSelection,Ap=S.$createRangeSelectionFromDom,Ut=S.$createTabNode,et=S.$createTextNode,Yi=S.$extendCaretToRange,pr=S.$findMatchingParent,Gi=S.$getAdjacentChildCaret,Cu=S.$getAdjacentNode,jr=S.$getAdjacentSiblingOrParentSiblingCaret,yu=S.$getCaretInDirection,ji=S.$getCaretRange,xu=S.$getCaretRangeInDirection,vp=S.$getCharacterOffsets,zt=S.$getChildCaret,TA=S.$getChildCaretAtIndex,Eu=S.$getChildCaretOrSelf,Op=S.$getCollapsedCaretRange,bA=S.$getCommonAncestor,NA=S.$getCommonAncestorResultBranchOrder,zn=S.$getEditor,We=S.$getNearestNodeFromDOMNode,SA=S.$getNearestRootOrShadowRoot,ye=S.$getNodeByKey,AA=S.$getNodeByKeyOrThrow,wp=S.$getNodeFromDOMNode,Wn=S.$getPreviousSelection,Be=S.$getRoot,M=S.$getSelection,gt=S.$getSiblingCaret,Mp=S.$getState,vA=S.$getStateChange,OA=S.$getTextContent,wA=S.$getTextNodeOffset,Tu=S.$getTextPointCaret,MA=S.$getTextPointCaretSlice,LA=S.$getWritableNodeState,Lp=S.$hasAncestor,DA=S.$hasUpdateTag,Yn=S.$insertNodes,Po=S.$isBlockElementNode,mr=S.$isChildCaret,Gn=S.$isDecoratorNode,Dp=S.$isEditorState,P=S.$isElementNode,pa=S.$isExtendableTextPointCaret,kp=S.$isInlineElementOrDecoratorNode,Ji=S.$isLeafNode,Ke=S.$isLineBreakNode,kA=S.$isNodeCaret,ft=S.$isNodeSelection,_r=S.$isParagraphNode,w=S.$isRangeSelection,jn=S.$isRootNode,Tt=S.$isRootOrShadowRoot,ma=S.$isSiblingCaret,ht=S.$isTabNode,Y=S.$isTextNode,_a=S.$isTextPointCaret,RA=S.$isTextPointCaretSlice,bu=S.$isTokenOrSegmented,IA=S.$isTokenOrTab,$A=S.$nodesOfType,dn=S.$normalizeCaret,Jn=S.$normalizeSelection__EXPERIMENTAL,FA=S.$onUpdate,Rp=S.$parseSerializedNode,PA=S.$removeTextFromCaretRange,Ip=S.$rewindSiblingCaret,Ca=S.$selectAll,BA=S.$setCompositionKey,Cr=S.$setPointFromCaret,je=S.$setSelection,Vi=S.$setSelectionFromCaretRange,$p=S.$setState,Fp=S.$splitAtPointCaretNext,Pp=S.$splitNode,KA=S.$updateRangeSelectionFromCaretRange,Nu=S.ArtificialNode__DO_NOT_USE,HA=S.BEFORE_INPUT_COMMAND,UA=S.BLUR_COMMAND,Jr=S.CAN_REDO_COMMAND,Vr=S.CAN_UNDO_COMMAND,ya=S.CLEAR_EDITOR_COMMAND,Bp=S.CLEAR_HISTORY_COMMAND,Bo=S.CLICK_COMMAND,zA=S.COLLABORATION_TAG,xa=S.COMMAND_PRIORITY_CRITICAL,J=S.COMMAND_PRIORITY_EDITOR,pt=S.COMMAND_PRIORITY_HIGH,re=S.COMMAND_PRIORITY_LOW,Kp=S.COMMAND_PRIORITY_NORMAL,WA=S.COMPOSITION_END_COMMAND,YA=S.COMPOSITION_START_COMMAND,Ea=S.CONTROLLED_TEXT_INSERTION_COMMAND,Ta=S.COPY_COMMAND,ba=S.CUT_COMMAND,Ko=S.DELETE_CHARACTER_COMMAND,Xi=S.DELETE_LINE_COMMAND,Na=S.DELETE_WORD_COMMAND,GA=S.DRAGEND_COMMAND,Sa=S.DRAGOVER_COMMAND,Hp=S.DRAGSTART_COMMAND,Aa=S.DROP_COMMAND,Xt=S.DecoratorNode,$e=S.ElementNode,Up=S.FOCUS_COMMAND,Wt=S.FORMAT_ELEMENT_COMMAND,vt=S.FORMAT_TEXT_COMMAND,va=S.HISTORIC_TAG,Oa=S.HISTORY_MERGE_TAG,zp=S.HISTORY_PUSH_TAG,mt=S.INDENT_CONTENT_COMMAND,jA=S.INPUT_COMMAND,Su=S.INSERT_LINE_BREAK_COMMAND,yr=S.INSERT_PARAGRAPH_COMMAND,xr=S.INSERT_TAB_COMMAND,qi=S.INTERNAL_$isBlock,JA=S.IS_ALL_FORMATTING,VA=S.IS_BOLD,XA=S.IS_CODE,qA=S.IS_HIGHLIGHT,ZA=S.IS_ITALIC,QA=S.IS_STRIKETHROUGH,ev=S.IS_SUBSCRIPT,tv=S.IS_SUPERSCRIPT,nv=S.IS_UNDERLINE,xn=S.KEY_ARROW_DOWN_COMMAND,Ho=S.KEY_ARROW_LEFT_COMMAND,wa=S.KEY_ARROW_RIGHT_COMMAND,qt=S.KEY_ARROW_UP_COMMAND,Ma=S.KEY_BACKSPACE_COMMAND,La=S.KEY_DELETE_COMMAND,rv=S.KEY_DOWN_COMMAND,Wp=S.KEY_ENTER_COMMAND,Er=S.KEY_ESCAPE_COMMAND,Yp=S.KEY_MODIFIER_COMMAND,Da=S.KEY_SPACE_COMMAND,Vn=S.KEY_TAB_COMMAND,Gp=S.LineBreakNode,ka=S.MOVE_TO_END,Zi=S.MOVE_TO_START,ov=S.NODE_STATE_KEY,Ot=S.OUTDENT_CONTENT_COMMAND,Ra=S.PASTE_COMMAND,jp=S.PASTE_TAG,Jp=S.ParagraphNode,Ia=S.REDO_COMMAND,Vp=S.REMOVE_TEXT_COMMAND,Xp=S.RootNode,Xr=S.SELECTION_CHANGE_COMMAND,Qi=S.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,qp=S.SELECT_ALL_COMMAND,iv=S.SKIP_COLLAB_TAG,sv=S.SKIP_DOM_SELECTION_TAG,av=S.SKIP_SCROLL_INTO_VIEW_TAG,lv=S.SKIP_SELECTION_FOCUS_TAG,Zp=S.TEXT_TYPE_TO_FORMAT,Qp=S.TabNode,Je=S.TextNode,$a=S.UNDO_COMMAND,Au=S.buildImportMap,Fa=S.configExtension,se=S.createCommand,Uo=S.createEditor,cv=S.createSharedNodeState,uv=S.createState,em=S.declarePeerDependency,xe=S.defineExtension,dv=S.flipDirection,gv=S.getDOMOwnerDocument,Tr=S.getDOMSelection,fv=S.getDOMSelectionFromTarget,tm=S.getDOMTextNode,hv=S.getEditorPropertyFromDOMNode,zo=S.getNearestEditorFromDOMNode,nm=S.getRegisteredNode,pv=S.getRegisteredNodeOrThrow,mv=S.getStaticNodeConfig,vu=S.getTextDirection,_v=S.getTransformSetFromKlass,rm=S.isBlockDomNode,om=S.isCurrentlyReadOnlyMode,im=S.isDOMDocumentNode,Ft=S.isDOMNode,Cv=S.isDOMTextNode,yv=S.isDOMUnmanaged,Ou=S.isDocumentFragment,xv=S.isExactShortcutMatch,Pa=S.isHTMLAnchorElement,qr=S.isHTMLElement,es=S.isInlineDomNode,Ev=S.isLexicalEditor,Tv=S.isModifierMatch,sm=S.isSelectionCapturedInDecoratorInput,am=S.isSelectionWithinEditor,wu=S.makeStepwiseIterator,bv=S.removeFromParent,Nv=S.resetRandomKey,_t=S.safeCast,lm=S.setDOMUnmanaged,Mu=S.setNodeIndentFromDOM,br=S.shallowMergeConfig;var $u={};St($u,{$addNodeStyle:()=>yb,$cloneWithProperties:()=>ha,$copyBlockFormatIndent:()=>_m,$ensureForwardRangeSelection:()=>mm,$forEachSelectedTextNode:()=>pm,$getComputedStyleForElement:()=>ku,$getComputedStyleForParent:()=>Ru,$getSelectionStyleValueForProperty:()=>vb,$isAtNodeEnd:()=>Cb,$isParentElementRTL:()=>Iu,$isParentRTL:()=>mb,$moveCaretSelection:()=>xm,$moveCharacter:()=>Sb,$patchStyleText:()=>xb,$selectAll:()=>Ca,$setBlocksType:()=>Eb,$shouldOverrideDefaultCharacterSelection:()=>Nb,$sliceSelectedTextNodeContent:()=>_b,$trimTextContentFromAnchor:()=>hm,$wrapNodes:()=>bb,createDOMRange:()=>hb,createRectsFromDOMRange:()=>pb,getCSSFromStyleObject:()=>fm,getStyleObjectFromCSS:()=>Ha,trimTextContentFromAnchor:()=>Ob});function Du(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var Ka=new Map;function cm(n){let t=n;for(;t!=null;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function um(n){let t=n.parentNode;if(t==null)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(n)]}function hb(n,t,e,r,o){let i=t.getKey(),s=r.getKey(),l=document.createRange(),a=n.getElementByKey(i),c=n.getElementByKey(s),u=e,d=o;if(Y(t)&&(a=cm(a)),Y(r)&&(c=cm(c)),t===void 0||r===void 0||a===null||c===null)return null;a.nodeName==="BR"&&([a,u]=um(a)),c.nodeName==="BR"&&([c,d]=um(c));let g=a.firstChild;a===c&&g!=null&&g.nodeName==="BR"&&u===0&&d===0&&(d=1);try{l.setStart(a,u),l.setEnd(c,d)}catch{return null}return!l.collapsed||u===d&&i===s||(l.setStart(c,d),l.setEnd(a,u)),l}function pb(n,t){let e=n.getRootElement();if(e===null)return[];let r=e.getBoundingClientRect(),o=getComputedStyle(e),i=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),s=Array.from(t.getClientRects()),l,a=s.length;s.sort((c,u)=>{let d=c.top-u.top;return Math.abs(d)<=3?c.left-u.left:d});for(let c=0;c<a;c++){let u=s[c],d=l&&l.top<=u.top&&l.top+l.height>u.top&&l.left+l.width>u.left,g=u.width+i===r.width;d||g?(s.splice(c--,1),a--):l=u}return s}function gm(n){let t={};if(!n)return t;let e=n.split(";");for(let r of e)if(r!==""){let[o,i]=r.split(/:([^]+)/);o&&i&&(t[o.trim()]=i.trim())}return t}function Ha(n){let t=Ka.get(n);return t===void 0&&(t=gm(n),Ka.set(n,t)),t}function fm(n){let t="";for(let e in n)e&&(t+=`${e}: ${n[e]};`);return t}function ku(n){let t=zn().getElementByKey(n.getKey());if(t===null)return null;let e=t.ownerDocument.defaultView;return e===null?null:e.getComputedStyle(t)}function Ru(n){return ku(jn(n)?n:n.getParentOrThrow())}function mb(n){let t=Ru(n);return t!==null&&t.direction==="rtl"}function _b(n,t,e="self"){let r=n.getStartEndPoints();if(t.isSelected(n)&&!bu(t)&&r!==null){let[o,i]=r,s=n.isBackward(),l=o.getNode(),a=i.getNode(),c=t.is(l),u=t.is(a);if(c||u){let[d,g]=vp(n),h=l.is(a),f=t.is(s?a:l),p=t.is(s?l:a),m,_=0;h?(_=d>g?g:d,m=d>g?d:g):f?(_=s?g:d,m=void 0):p&&(_=0,m=s?d:g);let C=t.__text.slice(_,m);C!==t.__text&&(e==="clone"&&(t=Np(t)),t.__text=C)}}return t}function Cb(n){if(n.type==="text")return n.offset===n.getNode().getTextContentSize();let t=n.getNode();return P(t)||Du(177),n.offset===t.getChildrenSize()}function hm(n,t,e){let r=t.getNode(),o=e;if(P(r)){let i=r.getDescendantByIndex(t.offset);i!==null&&(r=i)}for(;o>0&&r!==null;){if(P(r)){let c=r.getLastDescendant();c!==null&&(r=c)}let i=r.getPreviousSibling(),s=0;if(i===null){let c=r.getParentOrThrow(),u=c.getPreviousSibling();for(;u===null;){if(c=c.getParent(),c===null){i=null;break}u=c.getPreviousSibling()}c!==null&&(s=c.isInline()?0:2,i=u)}let l=r.getTextContent();l===""&&P(r)&&!r.isInline()&&(l=`

`);let a=l.length;if(!Y(r)||o>=a){let c=r.getParent();r.remove(),c==null||c.getChildrenSize()!==0||jn(c)||c.remove(),o-=a+s,r=i}else{let c=r.getKey(),u=n.getEditorState().read(()=>{let h=ye(c);return Y(h)&&h.isSimpleText()?h.getTextContent():null}),d=a-o,g=l.slice(0,d);if(u!==null&&u!==l){let h=Wn(),f=r;if(r.isSimpleText())r.setTextContent(u);else{let p=et(u);r.replace(p),f=p}if(w(h)&&h.isCollapsed()){let p=h.anchor.offset;f.select(p,p)}}else if(r.isSimpleText()){let h=t.key===c,f=t.offset;f<o&&(f=a);let p=h?f-o:0,m=h?f:d;if(h&&p===0){let[_]=r.splitText(p,m);_.remove()}else{let[,_]=r.splitText(p,m);_.remove()}}else{let h=et(g);r.replace(h)}o=0}}}function yb(n){let t=n.getStyle(),e=gm(t);Ka.set(t,e)}function Ba(n,t){(w(n)?n.isCollapsed():Y(n)||P(n))||Du(280);let e=Ha(w(n)?n.style:Y(n)?n.getStyle():n.getTextStyle()),r=Object.entries(t).reduce((i,[s,l])=>(typeof l=="function"?i[s]=l(e[s],n):l===null?delete i[s]:i[s]=l,i),{...e}),o=fm(r);w(n)||Y(n)?n.setStyle(o):n.setTextStyle(o),Ka.set(o,r)}function xb(n,t){if(w(n)&&n.isCollapsed()){Ba(n,t);let r=n.anchor.getNode();P(r)&&r.isEmpty()&&Ba(r,t)}pm(r=>{Ba(r,t)});let e=n.getNodes();if(e.length>0){let r=new Set;for(let o of e){if(!P(o)||!o.canBeEmpty()||o.getChildrenSize()!==0)continue;let i=o.getKey();r.has(i)||(r.add(i),Ba(o,t))}}}function pm(n){let t=M();if(!t)return;let e=new Map,r=i=>e.get(i.getKey())||[0,i.getTextContentSize()];if(w(t))for(let i of bp(t).getTextSlices())i&&e.set(i.caret.origin.getKey(),i.getSliceIndices());let o=t.getNodes();for(let i of o){if(!Y(i)||!i.canHaveFormat())continue;let[s,l]=r(i);l!==s&&(bu(i)||s===0&&l===i.getTextContentSize()?n(i):n(i.splitText(s,l)[s===0?0:1]))}w(t)&&t.anchor.type==="text"&&t.focus.type==="text"&&t.anchor.key===t.focus.key&&mm(t)}function mm(n){if(n.isBackward()){let{anchor:t,focus:e}=n,{key:r,offset:o,type:i}=t;t.set(e.key,e.offset,e.type),e.set(r,o,i)}}function _m(n,t){let e=n.getFormatType(),r=n.getIndent();e!==t.getFormatType()&&t.setFormat(e),r!==t.getIndent()&&t.setIndent(r)}function Eb(n,t,e=_m){if(n===null)return;let r=n.getStartEndPoints(),o=new Map,i=null;if(r){let[s,l]=r;i=hr(),i.anchor.set(s.key,s.offset,s.type),i.focus.set(l.key,l.offset,l.type);let a=pr(s.getNode(),qi),c=pr(l.getNode(),qi);P(a)&&o.set(a.getKey(),a),P(c)&&o.set(c.getKey(),c)}for(let s of n.getNodes())if(P(s)&&qi(s))o.set(s.getKey(),s);else if(r===null){let l=pr(s,qi);P(l)&&o.set(l.getKey(),l)}for(let[s,l]of o){let a=t();e(l,a),l.replace(a,!0),i&&(s===i.anchor.key&&i.anchor.set(a.getKey(),i.anchor.offset,i.anchor.type),s===i.focus.key&&i.focus.set(a.getKey(),i.focus.offset,i.focus.type))}i&&n.is(M())&&je(i)}function dm(n){return n.getNode().isAttached()}function Tb(n){let t=n;for(;t!==null&&!Tt(t);){let e=t.getLatest(),r=t.getParent();e.getChildrenSize()===0&&t.remove(!0),t=r}}function bb(n,t,e=null){let r=n.getStartEndPoints(),o=r?r[0]:null,i=n.getNodes(),s=i.length;if(o!==null&&(s===0||s===1&&o.type==="element"&&o.getNode().getChildrenSize()===0)){let c=o.type==="text"?o.getNode().getParentOrThrow():o.getNode(),u=c.getChildren(),d=t();return d.setFormat(c.getFormatType()),d.setIndent(c.getIndent()),u.forEach(g=>d.append(g)),e&&(d=e.append(d)),void c.replace(d)}let l=null,a=[];for(let c=0;c<s;c++){let u=i[c];Tt(u)?(Lu(n,a,a.length,t,e),a=[],l=u):l===null||l!==null&&Lp(u,l)?a.push(u):(Lu(n,a,a.length,t,e),a=[u])}Lu(n,a,a.length,t,e)}function Lu(n,t,e,r,o=null){if(t.length===0)return;let i=t[0],s=new Map,l=[],a=P(i)?i:i.getParentOrThrow();a.isInline()&&(a=a.getParentOrThrow());let c=!1;for(;a!==null;){let f=a.getPreviousSibling();if(f!==null){a=f,c=!0;break}if(a=a.getParentOrThrow(),Tt(a))break}let u=new Set;for(let f=0;f<e;f++){let p=t[f];P(p)&&p.getChildrenSize()===0&&u.add(p.getKey())}let d=new Set;for(let f=0;f<e;f++){let p=t[f],m=p.getParent();if(m!==null&&m.isInline()&&(m=m.getParent()),m!==null&&Ji(p)&&!d.has(p.getKey())){let _=m.getKey();if(s.get(_)===void 0){let C=r();C.setFormat(m.getFormatType()),C.setIndent(m.getIndent()),l.push(C),s.set(_,C),m.getChildren().forEach(y=>{C.append(y),d.add(y.getKey()),P(y)&&y.getChildrenKeys().forEach(E=>d.add(E))}),Tb(m)}}else if(u.has(p.getKey())){P(p)||Du(179);let _=r();_.setFormat(p.getFormatType()),_.setIndent(p.getIndent()),l.push(_),p.remove(!0)}}if(o!==null)for(let f=0;f<l.length;f++){let p=l[f];o.append(p)}let g=null;if(Tt(a))if(c)if(o!==null)a.insertAfter(o);else for(let f=l.length-1;f>=0;f--){let p=l[f];a.insertAfter(p)}else{let f=a.getFirstChild();if(P(f)&&(a=f),f===null)if(o)a.append(o);else for(let p=0;p<l.length;p++){let m=l[p];a.append(m),g=m}else if(o!==null)f.insertBefore(o);else for(let p=0;p<l.length;p++){let m=l[p];f.insertBefore(m),g=m}}else if(o)a.insertAfter(o);else for(let f=l.length-1;f>=0;f--){let p=l[f];a.insertAfter(p),g=p}let h=Wn();w(h)&&dm(h.anchor)&&dm(h.focus)?je(h.clone()):g!==null?g.selectEnd():n.dirty=!0}function Cm(n){let t=ym(n);return t!==null&&t.writingMode==="vertical-rl"}function ym(n){let t=n.anchor.getNode();return P(t)?ku(t):Ru(t)}function Nb(n,t){let e=Cm(n)?!t:t;Iu(n)&&(e=!e);let r=fr(n.focus,e?"previous":"next");if(pa(r))return!1;for(let o of Yi(r)){if(mr(o))return!o.origin.isInline();if(!P(o.origin)){if(Gn(o.origin))return!0;break}}return!1}function xm(n,t,e,r){n.modify(t?"extend":"move",e,r)}function Iu(n){let t=ym(n);return t!==null&&t.direction==="rtl"}function Sb(n,t,e){let r=Iu(n),o;o=Cm(n)||r?!e:e,xm(n,t,o,"character")}function Ab(n,t,e){let r=Ha(n.getStyle());return r!==null&&r[t]||e}function vb(n,t,e=""){let r=null,o=n.getNodes(),i=n.anchor,s=n.focus,l=n.isBackward(),a=l?s.offset:i.offset,c=l?s.getNode():i.getNode();if(w(n)&&n.isCollapsed()&&n.style!==""){let u=Ha(n.style);if(u!==null&&t in u)return u[t]}for(let u=0;u<o.length;u++){let d=o[u];if((u===0||a!==0||!d.is(c))&&Y(d)){let g=Ab(d,t,e);if(r===null)r=g;else if(r!==g){r="";break}}}return r===null?e:r}var Ob=hm;var Ie=$u,Em=Ie.$addNodeStyle,Ov=Ie.$cloneWithProperties,wv=Ie.$copyBlockFormatIndent,Mv=Ie.$ensureForwardRangeSelection,Lv=Ie.$forEachSelectedTextNode,Dv=Ie.$getComputedStyleForElement,kv=Ie.$getComputedStyleForParent,ts=Ie.$getSelectionStyleValueForProperty,Fu=Ie.$isAtNodeEnd,Tm=Ie.$isParentElementRTL,Pu=Ie.$isParentRTL,Rv=Ie.$moveCaretSelection,Bu=Ie.$moveCharacter,Wo=Ie.$patchStyleText,Iv=Ie.$selectAll,Nr=Ie.$setBlocksType,Ku=Ie.$shouldOverrideDefaultCharacterSelection,Ua=Ie.$sliceSelectedTextNodeContent,$v=Ie.$trimTextContentFromAnchor,Fv=Ie.$wrapNodes,Pv=Ie.createDOMRange,bm=Ie.createRectsFromDOMRange,Bv=Ie.getCSSFromStyleObject,Hu=Ie.getStyleObjectFromCSS,Kv=Ie.trimTextContentFromAnchor;var Yu={};St(Yu,{$descendantsMatching:()=>gN,$dfs:()=>Vb,$dfsIterator:()=>Im,$filter:()=>aN,$findMatchingParent:()=>pr,$firstToLastIterator:()=>fN,$getAdjacentCaret:()=>Xb,$getAdjacentSiblingOrParentSiblingCaret:()=>jr,$getDepth:()=>Fm,$getNearestBlockElementAncestorOrThrow:()=>tN,$getNearestNodeOfType:()=>eN,$getNextRightPreorderNode:()=>Qb,$getNextSiblingOrParentSibling:()=>Zb,$insertFirst:()=>lN,$insertNodeToNearestRoot:()=>oN,$insertNodeToNearestRootAtCaret:()=>Bm,$isEditorIsNestedEditor:()=>uN,$lastToFirstIterator:()=>Wu,$restoreEditorState:()=>rN,$reverseDfs:()=>qb,$reverseDfsIterator:()=>Pm,$splitNode:()=>Pp,$unwrapAndFilterDescendants:()=>dN,$unwrapNode:()=>hN,$wrapNodeInElement:()=>iN,CAN_USE_BEFORE_INPUT:()=>Pb,CAN_USE_DOM:()=>Dm,IS_ANDROID:()=>Bb,IS_ANDROID_CHROME:()=>Kb,IS_APPLE:()=>Hb,IS_APPLE_WEBKIT:()=>Ub,IS_CHROME:()=>zb,IS_FIREFOX:()=>km,IS_IOS:()=>Wb,IS_SAFARI:()=>Yb,addClassNamesToElement:()=>Gb,calculateZoomLevel:()=>cN,isBlockDomNode:()=>rm,isHTMLAnchorElement:()=>Pa,isHTMLElement:()=>qr,isInlineDomNode:()=>es,isMimeType:()=>Rm,makeStateWrapper:()=>pN,markSelection:()=>Lm,mediaFileReader:()=>Jb,mergeRegister:()=>wm,objectKlassEquals:()=>sN,positionNodeOnRange:()=>Mm,registerNestedElementResolver:()=>nN,removeClassNamesFromElement:()=>jb,selectionAlwaysOnDisplay:()=>Fb});function za(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var gn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,wb=gn&&"documentMode"in document?document.documentMode:null,Am=gn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Mb=gn&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Lb=!(!gn||!("InputEvent"in window)||wb)&&"getTargetRanges"in new window.InputEvent("input"),Db=gn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),kb=gn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,vm=gn&&/Android/.test(navigator.userAgent),zu=gn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Rb=gn&&vm&&zu,Ib=gn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&Am&&!zu;function Om(...n){let t=[];for(let e of n)if(e&&typeof e=="string")for(let[r]of e.matchAll(/\S+/g))t.push(r);return t}function wm(...n){return()=>{for(let t=n.length-1;t>=0;t--)n[t]();n.length=0}}function En(n){return`${n}px`}var $b={attributes:!0,characterData:!0,childList:!0,subtree:!0};function Mm(n,t,e){let r=null,o=null,i=null,s=[],l=document.createElement("div");function a(){r===null&&za(182),o===null&&za(183);let{left:d,top:g}=o.getBoundingClientRect(),h=bm(n,t);var f,p;l.isConnected||(p=l,(f=o).insertBefore(p,f.firstChild));let m=!1;for(let _=0;_<h.length;_++){let C=h[_],y=s[_]||document.createElement("div"),E=y.style;E.position!=="absolute"&&(E.position="absolute",m=!0);let b=En(C.left-d);E.left!==b&&(E.left=b,m=!0);let T=En(C.top-g);E.top!==T&&(y.style.top=T,m=!0);let x=En(C.width);E.width!==x&&(y.style.width=x,m=!0);let A=En(C.height);E.height!==A&&(y.style.height=A,m=!0),y.parentNode!==l&&(l.append(y),m=!0),s[_]=y}for(;s.length>h.length;)s.pop();m&&e(s)}function c(){o=null,r=null,i!==null&&i.disconnect(),i=null,l.remove();for(let d of s)d.remove();s=[]}l.style.position="relative";let u=n.registerRootListener(function d(){let g=n.getRootElement();if(g===null)return c();let h=g.parentElement;if(!qr(h))return c();c(),r=g,o=h,i=new MutationObserver(f=>{let p=n.getRootElement(),m=p&&p.parentElement;if(p!==r||m!==o)return d();for(let _ of f)if(!l.contains(_.target))return a()}),i.observe(h,$b),a()});return()=>{u(),c()}}function Nm(n,t,e){if(n.type!=="text"&&P(t)){let r=t.getDOMSlot(e);return[r.element,r.getFirstChildOffset()+n.offset]}return[tm(e)||e,n.offset]}function Lm(n,t){let e=null,r=null,o=null,i=null,s=null,l=null,a=()=>{};function c(u){u.read(()=>{let d=M();if(!w(d))return e=null,o=null,i=null,l=null,a(),void(a=()=>{});let[g,h]=(function(A){let O=A.getStartEndPoints();return A.isBackward()?[O[1],O[0]]:O})(d),f=g.getNode(),p=f.getKey(),m=g.offset,_=h.getNode(),C=_.getKey(),y=h.offset,E=n.getElementByKey(p),b=n.getElementByKey(C),T=e===null||E!==r||m!==o||p!==e.getKey(),x=i===null||b!==s||y!==l||C!==i.getKey();if((T||x)&&E!==null&&b!==null){let A=(function(O,L,R,K,F,B,z){let oe=(O._window?O._window.document:document).createRange();return oe.setStart(...Nm(L,R,K)),oe.setEnd(...Nm(F,B,z)),oe})(n,g,f,E,h,_,b);a(),a=Mm(n,A,O=>{if(t===void 0)for(let L of O){let R=L.style;R.background!=="Highlight"&&(R.background="Highlight"),R.color!=="HighlightText"&&(R.color="HighlightText"),R.marginTop!==En(-1.5)&&(R.marginTop=En(-1.5)),R.paddingTop!==En(4)&&(R.paddingTop=En(4)),R.paddingBottom!==En(0)&&(R.paddingBottom=En(0))}else t(O)})}e=f,r=E,o=m,i=_,s=b,l=y})}return c(n.getEditorState()),wm(n.registerUpdateListener(({editorState:u})=>c(u)),()=>{a()})}function Fb(n){let t=null,e=()=>{let r=getSelection(),o=r&&r.anchorNode,i=n.getRootElement();o!==null&&i!==null&&i.contains(o)?t!==null&&(t(),t=null):t===null&&(t=Lm(n))};return document.addEventListener("selectionchange",e),()=>{t!==null&&t(),document.removeEventListener("selectionchange",e)}}var Pb=Lb,Dm=gn,Bb=vm,Kb=Rb,Hb=Am,Ub=Ib,zb=zu,km=Mb,Wb=kb,Yb=Db;function Gb(n,...t){let e=Om(...t);e.length>0&&n.classList.add(...e)}function jb(n,...t){let e=Om(...t);e.length>0&&n.classList.remove(...e)}function Rm(n,t){for(let e of t)if(n.type.startsWith(e))return!0;return!1}function Jb(n,t){let e=n[Symbol.iterator]();return new Promise((r,o)=>{let i=[],s=()=>{let{done:l,value:a}=e.next();if(l)return r(i);let c=new FileReader;c.addEventListener("error",o),c.addEventListener("load",()=>{let u=c.result;typeof u=="string"&&i.push({file:a,result:u}),s()}),Rm(a,t)?c.readAsDataURL(a):s()};s()})}function Vb(n,t){return Array.from(Im(n,t))}function Xb(n){return n?n.getAdjacentCaret():null}function qb(n,t){return Array.from(Pm(n,t))}function Im(n,t){return $m("next",n,t)}function Sm(n,t){let e=jr(gt(n,t));return e&&e[0]}function $m(n,t,e){let r=Be(),o=t||r,i=P(o)?zt(o,n):gt(o,n),s=Fm(o),l=e?Gi(Eu(gt(e,n)))||Sm(e,n):Sm(o,n),a=s;return wu({hasNext:c=>c!==null,initial:i,map:c=>({depth:a,node:c.origin}),step:c=>{if(c.isSameNodeCaret(l))return null;mr(c)&&a++;let u=jr(c);return!u||u[0].isSameNodeCaret(l)?null:(a+=u[1],u[0])}})}function Zb(n){let t=jr(gt(n,"next"));return t&&[t[0].origin,t[1]]}function Fm(n){let t=-1;for(let e=n;e!==null;e=e.getParent())t++;return t}function Qb(n){let t=Eu(gt(n,"previous")),e=jr(t,"root");return e&&e[0].origin}function Pm(n,t){return $m("previous",n,t)}function eN(n,t){let e=n;for(;e!=null;){if(e instanceof t)return e;e=e.getParent()}return null}function tN(n){let t=pr(n,e=>P(e)&&!e.isInline());return P(t)||za(4,n.__key),t}function nN(n,t,e,r){let o=i=>i instanceof t;return n.registerNodeTransform(t,i=>{let s=(l=>{let a=l.getChildren();for(let d=0;d<a.length;d++){let g=a[d];if(o(g))return null}let c=l,u=l;for(;c!==null;)if(u=c,c=c.getParent(),o(c))return{child:u,parent:c};return null})(i);if(s!==null){let{child:l,parent:a}=s;if(l.is(i)){r(a,i);let c=l.getNextSiblings(),u=c.length;if(a.insertAfter(l),u!==0){let d=e(a);l.insertAfter(d);for(let g=0;g<u;g++)d.append(c[g])}a.canBeEmpty()||a.getChildrenSize()!==0||a.remove()}}})}function rN(n,t){let e=new Map,r=n._pendingEditorState;for(let[i,s]of t._nodeMap)e.set(i,ha(s));r&&(r._nodeMap=e),n._dirtyType=2;let o=t._selection;je(o===null?null:o.clone())}function oN(n){let t=M()||Wn(),e;if(w(t))e=fr(t.focus,"next");else{if(t!=null){let s=t.getNodes(),l=s[s.length-1];l&&(e=gt(l,"next"))}e=e||zt(Be(),"previous").getFlipped().insert(X())}let r=Bm(n,e),o=Gi(r),i=mr(o)?dn(o):r;return Vi(Op(i)),n.getLatest()}function Bm(n,t,e){let r=yu(t,"next");for(let o=r;o;o=Fp(o,e))r=o;return _a(r)&&za(283),r.insert(n.isInline()?X().append(n):n),yu(gt(n.getLatest(),"next"),t.direction)}function iN(n,t){let e=t();return n.replace(e),e.append(n),e}function sN(n,t){return n!==null&&Object.getPrototypeOf(n).constructor.name===t.name}function aN(n,t){let e=[];for(let r=0;r<n.length;r++){let o=t(n[r]);o!==null&&e.push(o)}return e}function lN(n,t){zt(n,"next").insert(t)}var Uu=!(km||!Dm)&&void 0;function cN(n){let t=1;if((function(){if(Uu===void 0){let e=document.createElement("div");e.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(e);let r=e.getBoundingClientRect();e.style.setProperty("zoom","2"),Uu=e.getBoundingClientRect().width===r.width,document.body.removeChild(e)}return Uu})())for(;n;)t*=Number(window.getComputedStyle(n).getPropertyValue("zoom")),n=n.parentElement;return t}function uN(n){return n._parentEditor!==null}function dN(n,t){return Km(n,t,null)}function Km(n,t,e){let r=!1;for(let o of Wu(n))t(o)?e!==null&&e(o):(r=!0,P(o)&&Km(o,t,e||(i=>o.insertAfter(i))),o.remove());return r}function gN(n,t){let e=[],r=Array.from(n).reverse();for(let o=r.pop();o!==void 0;o=r.pop())if(t(o))e.push(o);else if(P(o))for(let i of Wu(o))r.push(i);return e}function fN(n){return Hm(zt(n,"next"))}function Wu(n){return Hm(zt(n,"previous"))}function Hm(n){return wu({hasNext:ma,initial:n.getAdjacentCaret(),map:t=>t.origin.getLatest(),step:t=>t.getAdjacentCaret()})}function hN(n){Ip(gt(n,"next")).splice(1,n.getChildren())}function pN(n){let t=r=>Mp(r,n),e=(r,o)=>$p(r,n,o);return{$get:t,$set:e,accessors:[t,e],makeGetterMethod:()=>function(){return t(this)},makeSetterMethod:()=>function(r){return e(this,r)},stateConfig:n}}var te=Yu,Gu=te.$descendantsMatching,Yv=te.$dfs,Gv=te.$dfsIterator,Um=te.$filter,V=te.$findMatchingParent,jv=te.$firstToLastIterator,Wa=te.$getAdjacentCaret,Jv=te.$getAdjacentSiblingOrParentSiblingCaret,Vv=te.$getDepth,Zr=te.$getNearestBlockElementAncestorOrThrow,Ya=te.$getNearestNodeOfType,Xv=te.$getNextRightPreorderNode,qv=te.$getNextSiblingOrParentSibling,zm=te.$insertFirst,Ga=te.$insertNodeToNearestRoot,Zv=te.$insertNodeToNearestRootAtCaret,Qv=te.$isEditorIsNestedEditor,eO=te.$lastToFirstIterator,tO=te.$restoreEditorState,nO=te.$reverseDfs,rO=te.$reverseDfsIterator,oO=te.$splitNode,ju=te.$unwrapAndFilterDescendants,iO=te.$unwrapNode,sO=te.$wrapNodeInElement,aO=te.CAN_USE_BEFORE_INPUT,lO=te.CAN_USE_DOM,cO=te.IS_ANDROID,uO=te.IS_ANDROID_CHROME,dO=te.IS_APPLE,gO=te.IS_APPLE_WEBKIT,fO=te.IS_CHROME,hO=te.IS_FIREFOX,pO=te.IS_IOS,mO=te.IS_SAFARI,fe=te.addClassNamesToElement,Wm=te.calculateZoomLevel,Ju=te.isBlockDomNode,ja=te.isHTMLAnchorElement,Ve=te.isHTMLElement,_O=te.isInlineDomNode,CO=te.isMimeType,yO=te.makeStateWrapper,xO=te.markSelection,EO=te.mediaFileReader,ue=te.mergeRegister,Yt=te.objectKlassEquals,TO=te.positionNodeOnRange,bO=te.registerNestedElementResolver,bt=te.removeClassNamesFromElement,NO=te.selectionAlwaysOnDisplay;var Vu={};St(Vu,{$generateHtmlFromNodes:()=>_N,$generateNodesFromDOM:()=>mN});function mN(n,t){let e=im(t)?t.body.childNodes:t.childNodes,r=[],o=[];for(let i of e)if(!Gm.has(i.nodeName)){let s=jm(i,n,o,!1);s!==null&&(r=r.concat(s))}return(function(i){for(let s of i)s.getNextSibling()instanceof Nu&&s.insertAfter(cn());for(let s of i){let l=s.getChildren();for(let a of l)s.insertBefore(a);s.remove()}})(o),r}function _N(n,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let e=document.createElement("div"),r=Be().getChildren();for(let o=0;o<r.length;o++)Ym(n,r[o],e,t);return e.innerHTML}function Ym(n,t,e,r=null){let o=r===null||t.isSelected(r),i=P(t)&&t.excludeFromCopy("html"),s=t;r!==null&&Y(t)&&(s=Ua(r,t,"clone"));let l=P(s)?s.getChildren():[],a=nm(n,s.getType()),c;c=a&&a.exportDOM!==void 0?a.exportDOM(n,s):s.exportDOM(n);let{element:u,after:d}=c;if(!u)return!1;let g=document.createDocumentFragment();for(let h=0;h<l.length;h++){let f=l[h],p=Ym(n,f,g,r);!o&&P(t)&&p&&t.extractWithChild(f,r,"html")&&(o=!0)}if(o&&!i){if((Ve(u)||Ou(u))&&u.append(g),e.append(u),d){let h=d.call(s,u);h&&(Ou(u)?u.replaceChildren(h):u.replaceWith(h))}}else e.append(g);return o}var Gm=new Set(["STYLE","SCRIPT"]);function jm(n,t,e,r,o=new Map,i){let s=[];if(Gm.has(n.nodeName))return s;let l=null,a=(function(f,p){let{nodeName:m}=f,_=p._htmlConversions.get(m.toLowerCase()),C=null;if(_!==void 0)for(let y of _){let E=y(f);E!==null&&(C===null||(C.priority||0)<=(E.priority||0))&&(C=E)}return C!==null?C.conversion:null})(n,t),c=a?a(n):null,u=null;if(c!==null){u=c.after;let f=c.node;if(l=Array.isArray(f)?f[f.length-1]:f,l!==null){for(let[,p]of o)if(l=p(l,i),!l)break;l&&s.push(...Array.isArray(f)?f:[l])}c.forChild!=null&&o.set(n.nodeName,c.forChild)}let d=n.childNodes,g=[],h=(l==null||!Tt(l))&&(l!=null&&Po(l)||r);for(let f=0;f<d.length;f++)g.push(...jm(d[f],t,e,h,new Map(o),l));return u!=null&&(g=u(g)),Ju(n)&&(g=CN(n,g,h?()=>{let f=new Nu;return e.push(f),f}:X)),l==null?g.length>0?s=s.concat(g):Ju(n)&&(function(f){return f.nextSibling==null||f.previousSibling==null?!1:es(f.nextSibling)&&es(f.previousSibling)})(n)&&(s=s.concat(cn())):P(l)&&l.append(...g),s}function CN(n,t,e){let r=n.style.textAlign,o=[],i=[];for(let s=0;s<t.length;s++){let l=t[s];if(Po(l))r&&!l.getFormat()&&l.setFormat(r),o.push(l);else if(i.push(l),s===t.length-1||s<t.length-1&&Po(t[s+1])){let a=e();a.setFormat(r),a.append(...i),o.push(a),i=[]}}return o}var Jm=Vu,Ja=Jm.$generateHtmlFromNodes,Va=Jm.$generateNodesFromDOM;var qu={};St(qu,{$generateJSONFromSelectedNodes:()=>Qm,$generateNodesFromSerializedNodes:()=>e_,$getClipboardDataFromSelection:()=>n_,$getHtmlContent:()=>Xm,$getLexicalContent:()=>qm,$insertDataTransferForPlainText:()=>yN,$insertDataTransferForRichText:()=>xN,$insertGeneratedNodes:()=>Xu,copyToClipboard:()=>EN,setLexicalClipboardDataTransfer:()=>r_});function Xa(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Xm(n,t=M()){return t==null&&Xa(166),w(t)&&t.isCollapsed()||t.getNodes().length===0?"":Ja(n,t)}function qm(n,t=M()){return t==null&&Xa(166),w(t)&&t.isCollapsed()||t.getNodes().length===0?null:JSON.stringify(Qm(n,t))}function yN(n,t){let e=n.getData("text/plain")||n.getData("text/uri-list");e!=null&&t.insertRawText(e)}function xN(n,t,e){let r=n.getData("application/x-lexical-editor");if(r)try{let l=JSON.parse(r);if(l.namespace===e._config.namespace&&Array.isArray(l.nodes))return Xu(e,e_(l.nodes),t)}catch(l){console.error(l)}let o=n.getData("text/html"),i=n.getData("text/plain");if(o&&i!==o)try{let l=new DOMParser().parseFromString((function(a){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:c=>c}).createHTML(a):a})(o),"text/html");return Xu(e,Va(e,l),t)}catch(l){console.error(l)}let s=i||n.getData("text/uri-list");if(s!=null)if(w(t)){let l=s.split(/(\r?\n|\t)/);l[l.length-1]===""&&l.pop();for(let a=0;a<l.length;a++){let c=M();if(w(c)){let u=l[a];u===`
`||u===`\r
`?c.insertParagraph():u==="	"?c.insertNodes([Ut()]):c.insertText(u)}}}else t.insertRawText(s)}function Xu(n,t,e){n.dispatchCommand(Qi,{nodes:t,selection:e})||(e.insertNodes(t),(function(r){if(w(r)&&r.isCollapsed()){let o=r.anchor,i=null,s=fr(o,"previous");if(s)if(_a(s))i=s.origin;else{let l=ji(s,zt(Be(),"next").getFlipped());for(let a of l){if(Y(a.origin)){i=a.origin;break}if(P(a.origin)&&!a.origin.isInline())break}}if(i&&Y(i)){let l=i.getFormat(),a=i.getStyle();r.format===l&&r.style===a||(r.format=l,r.style=a,r.dirty=!0)}}})(e))}function Zm(n,t,e,r=[]){let o=t===null||e.isSelected(t),i=P(e)&&e.excludeFromCopy("html"),s=e;t!==null&&Y(s)&&(s=Ua(t,s,"clone"));let l=P(s)?s.getChildren():[],a=(function(c){let u=c.exportJSON(),d=c.constructor;if(u.type!==d.getType()&&Xa(58,d.name),P(c)){let g=u.children;Array.isArray(g)||Xa(59,d.name)}return u})(s);Y(s)&&s.getTextContentSize()===0&&(o=!1);for(let c=0;c<l.length;c++){let u=l[c],d=Zm(n,t,u,a.children);!o&&P(e)&&d&&e.extractWithChild(u,t,"clone")&&(o=!0)}if(o&&!i)r.push(a);else if(Array.isArray(a.children))for(let c=0;c<a.children.length;c++){let u=a.children[c];r.push(u)}return o}function Qm(n,t){let e=[],r=Be().getChildren();for(let o=0;o<r.length;o++)Zm(n,t,r[o],e);return{namespace:n._config.namespace,nodes:e}}function e_(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e],o=Rp(r);Y(o)&&Em(o),t.push(o)}return t}var Yo=null;async function EN(n,t,e){if(Yo!==null)return!1;if(t!==null)return new Promise((c,u)=>{n.update(()=>{c(Vm(n,t,e))})});let r=n.getRootElement(),o=n._window||window,i=o.document,s=Tr(o);if(r===null||s===null)return!1;let l=i.createElement("span");l.style.cssText="position: fixed; top: -1000px;",l.append(i.createTextNode("#")),r.append(l);let a=new Range;return a.setStart(l,0),a.setEnd(l,1),s.removeAllRanges(),s.addRange(a),new Promise((c,u)=>{let d=n.registerCommand(Ta,g=>(Yt(g,ClipboardEvent)&&(d(),Yo!==null&&(o.clearTimeout(Yo),Yo=null),c(Vm(n,g,e))),!0),xa);Yo=o.setTimeout(()=>{d(),Yo=null,c(!1)},50),i.execCommand("copy"),l.remove()})}function Vm(n,t,e){if(e===void 0){let o=Tr(n._window),i=M();if(!i||i.isCollapsed()||!o)return!1;let s=o.anchorNode,l=o.focusNode;if(s!==null&&l!==null&&!am(n,s,l))return!1;e=n_(i)}t.preventDefault();let r=t.clipboardData;return r!==null&&(r_(r,e),!0)}var t_=[["text/html",Xm],["application/x-lexical-editor",qm]];function n_(n=M()){let t={"text/plain":n?n.getTextContent():""};if(n){let e=zn();for(let[r,o]of t_){let i=o(e,n);i!==null&&(t[r]=i)}}return t}function r_(n,t){for(let[e]of t_)t[e]===void 0&&n.setData(e,"");for(let e in t){let r=t[e];r!==void 0&&n.setData(e,r)}}var Tn=qu,RO=Tn.$generateJSONFromSelectedNodes,IO=Tn.$generateNodesFromSerializedNodes,o_=Tn.$getClipboardDataFromSelection,$O=Tn.$getHtmlContent,FO=Tn.$getLexicalContent,PO=Tn.$insertDataTransferForPlainText,Zu=Tn.$insertDataTransferForRichText,BO=Tn.$insertGeneratedNodes,ns=Tn.copyToClipboard,KO=Tn.setLexicalClipboardDataTransfer;var gd={};St(gd,{$createHorizontalRuleNode:()=>dd,$isHorizontalRuleNode:()=>b_,AutoFocusExtension:()=>NN,ClearEditorExtension:()=>SN,EditorStateExtension:()=>el,HorizontalRuleExtension:()=>FN,HorizontalRuleNode:()=>eo,INSERT_HORIZONTAL_RULE_COMMAND:()=>IN,InitialStateExtension:()=>E_,LexicalBuilder:()=>Vo,NodeSelectionExtension:()=>ad,TabIndentationExtension:()=>PN,batch:()=>u_,buildEditorFromExtensions:()=>MN,computed:()=>f_,configExtension:()=>Fa,declarePeerDependency:()=>em,defineExtension:()=>xe,effect:()=>Ar,getExtensionDependencyFromEditor:()=>DN,getKnownTypesAndNodes:()=>AN,getPeerDependencyFromEditor:()=>T_,getPeerDependencyFromEditorOrThrow:()=>kN,namedSignals:()=>nl,registerClearEditor:()=>m_,registerTabIndentation:()=>N_,safeCast:()=>_t,shallowMergeConfig:()=>br,signal:()=>Jo,untracked:()=>rd,watchedSignal:()=>cd});var TN=Symbol.for("preact-signals");function tl(){if(Sr>1)return void Sr--;let n,t=!1;for(;os!==void 0;){let e=os;for(os=void 0,od++;e!==void 0;){let r=e.o;if(e.o=void 0,e.f&=-3,!(8&e.f)&&d_(e))try{e.c()}catch(o){t||(n=o,t=!0)}e=r}}if(od=0,Sr--,t)throw n}function u_(n){if(Sr>0)return n();Sr++;try{return n()}finally{tl()}}var Ne,os;function rd(n){let t=Ne;Ne=void 0;try{return n()}finally{Ne=t}}var Sr=0,od=0,Qa=0;function i_(n){if(Ne===void 0)return;let t=n.n;return t===void 0||t.t!==Ne?(t={i:0,S:n,p:Ne.s,n:void 0,t:Ne,e:void 0,x:void 0,r:t},Ne.s!==void 0&&(Ne.s.n=t),Ne.s=t,n.n=t,32&Ne.f&&n.S(t),t):t.i===-1?(t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=Ne.s,t.n=void 0,Ne.s.n=t,Ne.s=t),t):void 0}function wt(n,t){this.v=n,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}function Jo(n,t){return new wt(n,t)}function d_(n){for(let t=n.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function s_(n){for(let t=n.s;t!==void 0;t=t.n){let e=t.S.n;if(e!==void 0&&(t.r=e),t.S.n=t,t.i=-1,t.n===void 0){n.s=t;break}}}function g_(n){let t,e=n.s;for(;e!==void 0;){let r=e.p;e.i===-1?(e.S.U(e),r!==void 0&&(r.n=e.n),e.n!==void 0&&(e.n.p=r)):t=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=r}n.s=t}function Qr(n,t){wt.call(this,void 0),this.x=n,this.s=void 0,this.g=Qa-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}function f_(n,t){return new Qr(n,t)}function h_(n){let t=n.u;if(n.u=void 0,typeof t=="function"){Sr++;let e=Ne;Ne=void 0;try{t()}catch(r){throw n.f&=-2,n.f|=8,ld(n),r}finally{Ne=e,tl()}}}function ld(n){for(let t=n.s;t!==void 0;t=t.n)t.S.U(t);n.x=void 0,n.s=void 0,h_(n)}function bN(n){if(Ne!==this)throw new Error("Out-of-order effect");g_(this),Ne=n,this.f&=-2,8&this.f&&ld(this),tl()}function jo(n,t){this.x=n,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}function Ar(n,t){let e=new jo(n,t);try{e.c()}catch(o){throw e.d(),o}let r=e.d.bind(e);return r[Symbol.dispose]=r,r}function nl(n,t={}){let e={};for(let r in n){let o=t[r],i=Jo(o===void 0?n[r]:o);e[r]=i}return e}wt.prototype.brand=TN,wt.prototype.h=function(){return!0},wt.prototype.S=function(n){let t=this.t;t!==n&&n.e===void 0&&(n.x=t,this.t=n,t!==void 0?t.e=n:rd(()=>{var e;(e=this.W)==null||e.call(this)}))},wt.prototype.U=function(n){if(this.t!==void 0){let t=n.e,e=n.x;t!==void 0&&(t.x=e,n.e=void 0),e!==void 0&&(e.e=t,n.x=void 0),n===this.t&&(this.t=e,e===void 0&&rd(()=>{var r;(r=this.Z)==null||r.call(this)}))}},wt.prototype.subscribe=function(n){return Ar(()=>{let t=this.value,e=Ne;Ne=void 0;try{n(t)}finally{Ne=e}},{name:"sub"})},wt.prototype.valueOf=function(){return this.value},wt.prototype.toString=function(){return this.value+""},wt.prototype.toJSON=function(){return this.value},wt.prototype.peek=function(){let n=Ne;Ne=void 0;try{return this.value}finally{Ne=n}},Object.defineProperty(wt.prototype,"value",{get(){let n=i_(this);return n!==void 0&&(n.i=this.i),this.v},set(n){if(n!==this.v){if(od>100)throw new Error("Cycle detected");this.v=n,this.i++,Qa++,Sr++;try{for(let t=this.t;t!==void 0;t=t.x)t.t.N()}finally{tl()}}}}),Qr.prototype=new wt,Qr.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Qa))return!0;if(this.g=Qa,this.f|=1,this.i>0&&!d_(this))return this.f&=-2,!0;let n=Ne;try{s_(this),Ne=this;let t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return Ne=n,g_(this),this.f&=-2,!0},Qr.prototype.S=function(n){if(this.t===void 0){this.f|=36;for(let t=this.s;t!==void 0;t=t.n)t.S.S(t)}wt.prototype.S.call(this,n)},Qr.prototype.U=function(n){if(this.t!==void 0&&(wt.prototype.U.call(this,n),this.t===void 0)){this.f&=-33;for(let t=this.s;t!==void 0;t=t.n)t.S.U(t)}},Qr.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let n=this.t;n!==void 0;n=n.x)n.t.N()}},Object.defineProperty(Qr.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");let n=i_(this);if(this.h(),n!==void 0&&(n.i=this.i),16&this.f)throw this.v;return this.v}}),jo.prototype.c=function(){let n=this.S();try{if(8&this.f||this.x===void 0)return;let t=this.x();typeof t=="function"&&(this.u=t)}finally{n()}},jo.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,h_(this),s_(this),Sr++;let n=Ne;return Ne=this,bN.bind(this,n)},jo.prototype.N=function(){2&this.f||(this.f|=2,this.o=os,os=this)},jo.prototype.d=function(){this.f|=8,1&this.f||ld(this)},jo.prototype.dispose=function(){this.d()};var NN=xe({build:(n,t,e)=>nl(t),config:_t({defaultSelection:"rootEnd",disabled:!1}),name:"@lexical/extension/AutoFocus",register(n,t,e){let r=e.getOutput();return Ar(()=>r.disabled.value?void 0:n.registerRootListener(o=>{n.focus(()=>{let i=document.activeElement;o===null||i!==null&&o.contains(i)||o.focus({preventScroll:!0})},{defaultSelection:r.defaultSelection.peek()})}))}});function p_(){let n=Be(),t=M(),e=X();n.clear(),n.append(e),t!==null&&e.select(),w(t)&&(t.format=0)}function m_(n,t=p_){return n.registerCommand(ya,e=>(n.update(t),!0),J)}var SN=xe({build:(n,t,e)=>nl(t),config:_t({$onClear:p_}),name:"@lexical/extension/ClearEditor",register(n,t,e){let{$onClear:r}=e.getOutput();return Ar(()=>m_(n,r.value))}});function AN(n){let t=new Set,e=new Set;for(let r of __(n)){let o=typeof r=="function"?r:r.replace;t.add(o.getType()),e.add(o)}return{nodes:e,types:t}}function __(n){return(typeof n.nodes=="function"?n.nodes():n.nodes)||[]}function cd(n,t){let e;return Jo(n(),{unwatched(){e&&(e(),e=void 0)},watched(){this.value=n(),e=t(this)}})}var el=xe({build:n=>cd(()=>n.getEditorState(),t=>n.registerUpdateListener(e=>{t.value=e.editorState})),name:"@lexical/extension/EditorState"});function Ae(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function C_(n,t){if(n&&t&&!Array.isArray(t)&&typeof n=="object"&&typeof t=="object"){let e=n,r=t;for(let o in r)e[o]=C_(e[o],r[o]);return n}return t}var ud=0,id=1,y_=2,Qu=3,qa=4,Go=5,ed=6,rs=7;function td(n){return n.id===ud}function x_(n){return n.id===y_}function vN(n){return(function(t){return t.id===id})(n)||Ae(305,String(n.id),String(id)),Object.assign(n,{id:y_})}var ON=new Set,sd=class{constructor(t,e){v(this,"builder");v(this,"configs");v(this,"_dependency");v(this,"_peerNameSet");v(this,"extension");v(this,"state");v(this,"_signal");this.builder=t,this.extension=e,this.configs=new Set,this.state={id:ud}}mergeConfigs(){let t=this.extension.config||{},e=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):br;for(let r of this.configs)t=e(t,r);return t}init(t){let e=this.state;x_(e)||Ae(306,String(e.id));let r={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},o={...r,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},i=(function(l,a,c){return Object.assign(l,{config:a,id:Qu,registerState:c})})(e,this.mergeConfigs(),r),s;this.state=i,this.extension.init&&(s=this.extension.init(t,i.config,r)),this.state=(function(l,a,c){return Object.assign(l,{id:qa,initResult:a,registerState:c})})(i,s,o)}build(t){let e=this.state,r;e.id!==qa&&Ae(307,String(e.id),String(Go)),this.extension.build&&(r=this.extension.build(t,e.config,e.registerState));let o={...e.registerState,getOutput:()=>r,getSignal:this.getSignal.bind(this)};this.state=(function(i,s,l){return Object.assign(i,{id:Go,output:s,registerState:l})})(e,r,o)}register(t,e){this._signal=e;let r=this.state;r.id!==Go&&Ae(308,String(r.id),String(Go));let o=this.extension.register&&this.extension.register(t,r.config,r.registerState);return this.state=(function(i){return Object.assign(i,{id:ed})})(r),()=>{let i=this.state;i.id!==rs&&Ae(309,String(r.id),String(rs)),this.state=(function(s){return Object.assign(s,{id:Go})})(i),o&&o()}}afterRegistration(t){let e=this.state,r;return e.id!==ed&&Ae(310,String(e.id),String(ed)),this.extension.afterRegistration&&(r=this.extension.afterRegistration(t,e.config,e.registerState)),this.state=(function(o){return Object.assign(o,{id:rs})})(e),r}getSignal(){return this._signal===void 0&&Ae(311),this._signal}getInitResult(){this.extension.init===void 0&&Ae(312,this.extension.name);let t=this.state;return(function(e){return e.id>=qa})(t)||Ae(313,String(t.id),String(qa)),t.initResult}getInitPeer(t){let e=this.builder.extensionNameMap.get(t);return e?e.getExtensionInitDependency():void 0}getExtensionInitDependency(){let t=this.state;return(function(e){return e.id>=Qu})(t)||Ae(314,String(t.id),String(Qu)),{config:t.config}}getPeer(t){let e=this.builder.extensionNameMap.get(t);return e?e.getExtensionDependency():void 0}getInitDependency(t){let e=this.builder.getExtensionRep(t);return e===void 0&&Ae(315,this.extension.name,t.name),e.getExtensionInitDependency()}getDependency(t){let e=this.builder.getExtensionRep(t);return e===void 0&&Ae(315,this.extension.name,t.name),e.getExtensionDependency()}getState(){let t=this.state;return(function(e){return e.id>=rs})(t)||Ae(316,String(t.id),String(rs)),t}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||ON}getPeerNameSet(){let t=this._peerNameSet;return t||(t=new Set((this.extension.peerDependencies||[]).map(([e])=>e)),this._peerNameSet=t),t}getExtensionDependency(){if(!this._dependency){let t=this.state;(function(e){return e.id>=Go})(t)||Ae(317,this.extension.name),this._dependency={config:t.config,init:t.initResult,output:t.output}}return this._dependency}},a_={tag:Oa};function wN(){let n=Be();n.isEmpty()&&n.append(X())}var E_=xe({config:_t({setOptions:a_,updateOptions:a_}),init:({$initialEditorState:n=wN})=>({$initialEditorState:n,initialized:!1}),afterRegistration(n,{updateOptions:t,setOptions:e},r){let o=r.getInitResult();if(!o.initialized){o.initialized=!0;let{$initialEditorState:i}=o;if(Dp(i))n.setEditorState(i,e);else if(typeof i=="function")n.update(()=>{i(n)},t);else if(i&&(typeof i=="string"||typeof i=="object")){let s=n.parseEditorState(i);n.setEditorState(s,e)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[Xp,Je,Gp,Qp,Jp]}),l_=Symbol.for("@lexical/extension/LexicalBuilder");function MN(...n){return Vo.fromExtensions(n).buildEditor()}function c_(){}function LN(n){throw n}function Za(n){return Array.isArray(n)?n:[n]}var nd="0.39.0+prod.esm",Vo=class n{constructor(t){v(this,"roots");v(this,"extensionNameMap");v(this,"outgoingConfigEdges");v(this,"incomingEdges");v(this,"conflicts");v(this,"_sortedExtensionReps");v(this,"PACKAGE_VERSION");this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=nd,this.roots=t;for(let e of t)this.addExtension(e)}static fromExtensions(t){let e=[Za(E_)];for(let r of t)e.push(Za(r));return new n(e)}static maybeFromEditor(t){let e=t[l_];return e&&(e.PACKAGE_VERSION!==nd&&Ae(292,e.PACKAGE_VERSION,nd),e instanceof n||Ae(293)),e}static fromEditor(t){let e=n.maybeFromEditor(t);return e===void 0&&Ae(294),e}constructEditor(){let{$initialEditorState:t,onError:e,...r}=this.buildCreateEditorArgs(),o=Object.assign(Uo({...r,...e?{onError:i=>{e(i,o)}}:{}}),{[l_]:this});for(let i of this.sortedExtensionReps())i.build(o);return o}buildEditor(){let t=c_;function e(){try{t()}finally{t=c_}}let r=Object.assign(this.constructEditor(),{dispose:e,[Symbol.dispose]:e});return t=ue(this.registerEditor(r),()=>r.setRootElement(null)),r}hasExtensionByName(t){return this.extensionNameMap.has(t)}getExtensionRep(t){let e=this.extensionNameMap.get(t.name);if(e)return e.extension!==t&&Ae(295,t.name),e}addEdge(t,e,r){let o=this.outgoingConfigEdges.get(t);o?o.set(e,r):this.outgoingConfigEdges.set(t,new Map([[e,r]]));let i=this.incomingEdges.get(e);i?i.add(t):this.incomingEdges.set(e,new Set([t]))}addExtension(t){this._sortedExtensionReps!==void 0&&Ae(296);let e=Za(t),[r]=e;typeof r.name!="string"&&Ae(297,typeof r.name);let o=this.extensionNameMap.get(r.name);if(o!==void 0&&o.extension!==r&&Ae(298,r.name),!o){o=new sd(this,r),this.extensionNameMap.set(r.name,o);let i=this.conflicts.get(r.name);typeof i=="string"&&Ae(299,r.name,i);for(let s of r.conflictsWith||[])this.extensionNameMap.has(s)&&Ae(299,r.name,s),this.conflicts.set(s,r.name);for(let s of r.dependencies||[]){let l=Za(s);this.addEdge(r.name,l[0].name,l.slice(1)),this.addExtension(l)}for(let[s,l]of r.peerDependencies||[])this.addEdge(r.name,s,l?[l]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;let t=[],e=(r,o)=>{let i=r.state;if(x_(i))return;let s=r.extension.name;var l;td(i)||Ae(300,s,o||"[unknown]"),td(l=i)||Ae(304,String(l.id),String(ud)),i=Object.assign(l,{id}),r.state=i;let a=this.outgoingConfigEdges.get(s);if(a)for(let c of a.keys()){let u=this.extensionNameMap.get(c);u&&e(u,s)}i=vN(i),r.state=i,t.push(r)};for(let r of this.extensionNameMap.values())td(r.state)&&e(r);for(let r of t)for(let[o,i]of this.outgoingConfigEdges.get(r.extension.name)||[])if(i.length>0){let s=this.extensionNameMap.get(o);if(s)for(let l of i)s.configs.add(l)}for(let[r,...o]of this.roots)if(o.length>0){let i=this.extensionNameMap.get(r.name);i===void 0&&Ae(301,r.name);for(let s of o)i.configs.add(s)}return this._sortedExtensionReps=t,this._sortedExtensionReps}registerEditor(t){let e=this.sortedExtensionReps(),r=new AbortController,o=[()=>r.abort()],i=r.signal;for(let s of e){let l=s.register(t,i);l&&o.push(l)}for(let s of e){let l=s.afterRegistration(t);l&&o.push(l)}return ue(...o)}buildCreateEditorArgs(){let t={},e=new Set,r=new Map,o=new Map,i={},s={},l=this.sortedExtensionReps();for(let u of l){let{extension:d}=u;if(d.onError!==void 0&&(t.onError=d.onError),d.disableEvents!==void 0&&(t.disableEvents=d.disableEvents),d.parentEditor!==void 0&&(t.parentEditor=d.parentEditor),d.editable!==void 0&&(t.editable=d.editable),d.namespace!==void 0&&(t.namespace=d.namespace),d.$initialEditorState!==void 0&&(t.$initialEditorState=d.$initialEditorState),d.nodes)for(let g of __(d)){if(typeof g!="function"){let h=r.get(g.replace);h&&Ae(302,d.name,g.replace.name,h.extension.name),r.set(g.replace,u)}e.add(g)}if(d.html){if(d.html.export)for(let[g,h]of d.html.export.entries())o.set(g,h);d.html.import&&Object.assign(i,d.html.import)}d.theme&&C_(s,d.theme)}Object.keys(s).length>0&&(t.theme=s),e.size&&(t.nodes=[...e]);let a=Object.keys(i).length>0,c=o.size>0;(a||c)&&(t.html={},a&&(t.html.import=i),c&&(t.html.export=o));for(let u of l)u.init(t);return t.onError||(t.onError=LN),t}};function DN(n,t){let e=Vo.fromEditor(n).getExtensionRep(t);return e===void 0&&Ae(303,t.name),e.getExtensionDependency()}function T_(n,t){let e=Vo.fromEditor(n).extensionNameMap.get(t);return e?e.getExtensionDependency():void 0}function kN(n,t){let e=T_(n,t);return e===void 0&&Ae(291,t),e}var RN=new Set,ad=xe({build(n,t,e){let r=e.getDependency(el).output,o=Jo({watchedNodeKeys:new Map}),i=cd(()=>{},()=>Ar(()=>{let s=i.peek(),{watchedNodeKeys:l}=o.value,a,c=!1;r.value.read(()=>{if(M())for(let[u,d]of l.entries()){if(d.size===0){l.delete(u);continue}let g=ye(u),h=g&&g.isSelected()||!1;c=c||h!==(!!s&&s.has(u)),h&&(a=a||new Set,a.add(u))}}),!c&&a&&s&&a.size===s.size||(i.value=a)}));return{watchNodeKey:function(s){let l=f_(()=>(i.value||RN).has(s)),{watchedNodeKeys:a}=o.peek(),c=a.get(s),u=c!==void 0;return c=c||new Set,c.add(l),u||(a.set(s,c),o.value={watchedNodeKeys:a}),l}}},dependencies:[el],name:"@lexical/extension/NodeSelection"}),IN=se("INSERT_HORIZONTAL_RULE_COMMAND"),eo=class n extends Xt{static getType(){return"horizontalrule"}static clone(t){return new n(t.__key)}static importJSON(t){return dd().updateFromJSON(t)}static importDOM(){return{hr:()=>({conversion:$N,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(t){let e=document.createElement("hr");return fe(e,t.theme.hr),e}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}};function $N(){return{node:dd()}}function dd(){return Fo(eo)}function b_(n){return n instanceof eo}var FN=xe({dependencies:[el,ad],name:"@lexical/extension/HorizontalRule",nodes:()=>[eo],register(n,t,e){let{watchNodeKey:r}=e.getDependency(ad).output,o=Jo({nodeSelections:new Map}),i=n._config.theme.hrSelected??"selected";return ue(n.registerCommand(Bo,s=>{if(Ft(s.target)){let l=wp(s.target);if(b_(l))return(function(a,c=!1){let u=M(),d=a.isSelected(),g=a.getKey(),h;c&&ft(u)?h=u:(h=Sp(),je(h)),d?h.delete(g):h.add(g)})(l,s.shiftKey),!0}return!1},re),n.registerMutationListener(eo,(s,l)=>{u_(()=>{let a=!1,{nodeSelections:c}=o.peek();for(let[u,d]of s.entries())if(d==="destroyed")c.delete(u),a=!0;else{let g=c.get(u),h=n.getElementByKey(u);g?g.domNode.value=h:(a=!0,c.set(u,{domNode:Jo(h),selectedSignal:r(u)}))}a&&(o.value={nodeSelections:c})})}),Ar(()=>{let s=[];for(let{domNode:l,selectedSignal:a}of o.value.nodeSelections.values())s.push(Ar(()=>{let c=l.value;c&&(a.value?fe(c,i):bt(c,i))}));return ue(...s)}))}});function N_(n,t){return ue(n.registerCommand(Vn,e=>{let r=M();if(!w(r))return!1;e.preventDefault();let o=(function(i){let s=i.getNodes();if(Um(s,g=>Po(g)&&g.canIndent()?g:null).length>0)return!0;let l=i.anchor,a=i.focus,c=a.isBefore(l)?a:l,u=c.getNode(),d=Zr(u);if(d.canIndent()){let g=d.getKey(),h=hr();if(h.anchor.set(g,0,"element"),h.focus.set(g,0,"element"),h=Jn(h),h.anchor.is(c))return!0}return!1})(r)?e.shiftKey?Ot:mt:xr;return n.dispatchCommand(o,void 0)},J),n.registerCommand(mt,()=>{let e=typeof t=="number"?t:t?t.peek():null;if(e==null)return!1;let r=M();if(!w(r))return!1;let o=r.getNodes().map(i=>Zr(i).getIndent());return Math.max(...o)+1>=e},xa))}var PN=xe({build:(n,t,e)=>nl(t),config:_t({disabled:!1,maxIndent:null}),name:"@lexical/extension/TabIndentation",register(n,t,e){let{disabled:r,maxIndent:o}=e.getOutput();return Ar(()=>{if(!r.value)return N_(n,o)})}});var Ee=gd,GO=Ee.$createHorizontalRuleNode,jO=Ee.$isHorizontalRuleNode,JO=Ee.AutoFocusExtension,VO=Ee.ClearEditorExtension,XO=Ee.EditorStateExtension,qO=Ee.HorizontalRuleExtension,ZO=Ee.HorizontalRuleNode,QO=Ee.INSERT_HORIZONTAL_RULE_COMMAND,ew=Ee.InitialStateExtension,tw=Ee.LexicalBuilder,nw=Ee.NodeSelectionExtension,rw=Ee.TabIndentationExtension,S_=Ee.batch,ow=Ee.buildEditorFromExtensions,iw=Ee.computed,sw=Ee.configExtension,aw=Ee.declarePeerDependency,lw=Ee.defineExtension,Mt=Ee.effect,cw=Ee.getExtensionDependencyFromEditor,uw=Ee.getKnownTypesAndNodes,A_=Ee.getPeerDependencyFromEditor,dw=Ee.getPeerDependencyFromEditorOrThrow,fn=Ee.namedSignals,gw=Ee.registerClearEditor,fw=Ee.registerTabIndentation,hw=Ee.safeCast,pw=Ee.shallowMergeConfig,v_=Ee.signal,mw=Ee.untracked,_w=Ee.watchedSignal;var fd={};St(fd,{DragonExtension:()=>BN,registerDragonSupport:()=>O_});function O_(n){let t=window.location.origin,e=r=>{if(r.origin!==t)return;let o=n.getRootElement();if(document.activeElement!==o)return;let i=r.data;if(typeof i=="string"){let s;try{s=JSON.parse(i)}catch{return}if(s&&s.protocol==="nuanria_messaging"&&s.type==="request"){let l=s.payload;if(l&&l.functionId==="makeChanges"){let a=l.args;if(a){let[c,u,d,g,h]=a;n.update(()=>{let f=M();if(w(f)){let p=f.anchor,m=p.getNode(),_=0,C=0;if(Y(m)&&c>=0&&u>=0&&(_=c,C=c+u,f.setTextNodeRange(m,_,m,C)),_===C&&d===""||(f.insertRawText(d),m=p.getNode()),Y(m)){_=g,C=g+h;let y=m.getTextContentSize();_=_>y?y:_,C=C>y?y:C,f.setTextNodeRange(m,_,m,C)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",e,!0),()=>{window.removeEventListener("message",e,!0)}}var BN=xe({build:(n,t,e)=>fn(t),config:_t({disabled:typeof window>"u"}),name:"@lexical/dragon",register:(n,t,e)=>Mt(()=>e.getOutput().disabled.value?void 0:O_(n))});var w_=fd,M_=w_.DragonExtension,Ew=w_.registerDragonSupport;var _d={};St(_d,{$createHeadingNode:()=>qo,$createQuoteNode:()=>md,$isHeadingNode:()=>JN,$isQuoteNode:()=>GN,DRAG_DROP_PASTE:()=>pd,HeadingNode:()=>Qo,QuoteNode:()=>Zo,RichTextExtension:()=>VN,eventFiles:()=>is,registerRichText:()=>$_});function L_(n,t){if(document.caretRangeFromPoint!==void 0){let e=document.caretRangeFromPoint(n,t);return e===null?null:{node:e.startContainer,offset:e.startOffset}}if(document.caretPositionFromPoint!=="undefined"){let e=document.caretPositionFromPoint(n,t);return e===null?null:{node:e.offsetNode,offset:e.offset}}return null}var to=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,KN=to&&"documentMode"in document?document.documentMode:null,HN=to&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),UN=!(!to||!("InputEvent"in window)||KN)&&"getTargetRanges"in new window.InputEvent("input"),zN=to&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),D_=to&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,WN=to&&/^(?=.*Chrome).*/i.test(navigator.userAgent),YN=to&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&HN&&!WN,pd=se("DRAG_DROP_PASTE_FILE"),Zo=class n extends $e{static getType(){return"quote"}static clone(t){return new n(t.__key)}createDOM(t){let e=document.createElement("blockquote");return fe(e,t.theme.quote),e}updateDOM(t,e){return!1}static importDOM(){return{blockquote:t=>({conversion:jN,priority:0})}}exportDOM(t){let{element:e}=super.exportDOM(t);if(Ve(e)){this.isEmpty()&&e.append(document.createElement("br"));let r=this.getFormatType();r&&(e.style.textAlign=r);let o=this.getDirection();o&&(e.dir=o)}return{element:e}}static importJSON(t){return md().updateFromJSON(t)}insertNewAfter(t,e){let r=X(),o=this.getDirection();return r.setDirection(o),this.insertAfter(r,e),r}collapseAtStart(){let t=X();return this.getChildren().forEach(e=>t.append(e)),this.replace(t),!0}canMergeWhenEmpty(){return!0}};function md(){return ge(new Zo)}function GN(n){return n instanceof Zo}var Qo=class n extends $e{constructor(e,r){super(r);v(this,"__tag");this.__tag=e}static getType(){return"heading"}static clone(e){return new n(e.__tag,e.__key)}getTag(){return this.__tag}setTag(e){let r=this.getWritable();return this.__tag=e,r}createDOM(e){let r=this.__tag,o=document.createElement(r),i=e.theme.heading;if(i!==void 0){let s=i[r];fe(o,s)}return o}updateDOM(e,r,o){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:Xo,priority:0}),h2:e=>({conversion:Xo,priority:0}),h3:e=>({conversion:Xo,priority:0}),h4:e=>({conversion:Xo,priority:0}),h5:e=>({conversion:Xo,priority:0}),h6:e=>({conversion:Xo,priority:0}),p:e=>{let r=e.firstChild;return r!==null&&k_(r)?{conversion:()=>({node:null}),priority:3}:null},span:e=>k_(e)?{conversion:r=>({node:qo("h1")}),priority:3}:null}}exportDOM(e){let{element:r}=super.exportDOM(e);if(Ve(r)){this.isEmpty()&&r.append(document.createElement("br"));let o=this.getFormatType();o&&(r.style.textAlign=o);let i=this.getDirection();i&&(r.dir=i)}return{element:r}}static importJSON(e){return qo(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,r=!0){let o=e?e.anchor.offset:0,i=this.getLastDescendant(),s=!i||e&&e.anchor.key===i.getKey()&&o===i.getTextContentSize()||!e?X():qo(this.getTag()),l=this.getDirection();if(s.setDirection(l),this.insertAfter(s,r),o===0&&!this.isEmpty()&&e){let a=X();a.select(),this.replace(a,!0)}return s}collapseAtStart(){let e=this.isEmpty()?X():qo(this.getTag());return this.getChildren().forEach(r=>e.append(r)),this.replace(e),!0}extractWithChild(){return!0}};function k_(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function Xo(n){let t=n.nodeName.toLowerCase(),e=null;return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6"||(e=qo(t),n.style!==null&&(Mu(n,e),e.setFormat(n.style.textAlign))),{node:e}}function jN(n){let t=md();return n.style!==null&&(t.setFormat(n.style.textAlign),Mu(n,t)),{node:t}}function qo(n="h1"){return ge(new Qo(n))}function JN(n){return n instanceof Qo}function is(n){let t=null;if(Yt(n,DragEvent)?t=n.dataTransfer:Yt(n,ClipboardEvent)&&(t=n.clipboardData),t===null)return[!1,[],!1];let e=t.types,r=e.includes("Files"),o=e.includes("text/html")||e.includes("text/plain");return[r,Array.from(t.files),o]}function R_(n){let t=M();if(!w(t))return!1;let e=new Set,r=t.getNodes();for(let o=0;o<r.length;o++){let i=r[o],s=i.getKey();if(e.has(s))continue;let l=V(i,c=>P(c)&&!c.isInline());if(l===null)continue;let a=l.getKey();l.canIndent()&&!e.has(a)&&(e.add(a),n(l))}return e.size>0}function I_(n){let t=We(n);return Gn(t)}function hd(n){for(let t of["lowercase","uppercase","capitalize"])n.hasFormat(t)&&n.toggleFormat(t)}function $_(n){return ue(n.registerCommand(Bo,t=>{let e=M();return!!ft(e)&&(e.clear(),!0)},J),n.registerCommand(Ko,t=>{let e=M();return w(e)?(e.deleteCharacter(t),!0):!!ft(e)&&(e.deleteNodes(),!0)},J),n.registerCommand(Na,t=>{let e=M();return!!w(e)&&(e.deleteWord(t),!0)},J),n.registerCommand(Xi,t=>{let e=M();return!!w(e)&&(e.deleteLine(t),!0)},J),n.registerCommand(Ea,t=>{let e=M();if(typeof t=="string")e!==null&&e.insertText(t);else{if(e===null)return!1;let r=t.dataTransfer;if(r!=null)Zu(r,e,n);else if(w(e)){let o=t.data;return o&&e.insertText(o),!0}}return!0},J),n.registerCommand(Vp,()=>{let t=M();return!!w(t)&&(t.removeText(),!0)},J),n.registerCommand(vt,t=>{let e=M();return!!w(e)&&(e.formatText(t),!0)},J),n.registerCommand(Wt,t=>{let e=M();if(!w(e)&&!ft(e))return!1;let r=e.getNodes();for(let o of r){let i=V(o,s=>P(s)&&!s.isInline());i!==null&&i.setFormat(t)}return!0},J),n.registerCommand(Su,t=>{let e=M();return!!w(e)&&(e.insertLineBreak(t),!0)},J),n.registerCommand(yr,()=>{let t=M();return!!w(t)&&(t.insertParagraph(),!0)},J),n.registerCommand(xr,()=>(Yn([Ut()]),!0),J),n.registerCommand(mt,()=>R_(t=>{let e=t.getIndent();t.setIndent(e+1)}),J),n.registerCommand(Ot,()=>R_(t=>{let e=t.getIndent();e>0&&t.setIndent(Math.max(0,e-1))}),J),n.registerCommand(qt,t=>{let e=M();if(ft(e)){let r=e.getNodes();if(r.length>0)return t.preventDefault(),r[0].selectPrevious(),!0}else if(w(e)){let r=Cu(e.focus,!0);if(!t.shiftKey&&Gn(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),t.preventDefault(),!0}return!1},J),n.registerCommand(xn,t=>{let e=M();if(ft(e)){let r=e.getNodes();if(r.length>0)return t.preventDefault(),r[0].selectNext(0,0),!0}else if(w(e)){if((function(o){let i=o.focus;return i.key==="root"&&i.offset===Be().getChildrenSize()})(e))return t.preventDefault(),!0;let r=Cu(e.focus,!1);if(!t.shiftKey&&Gn(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),t.preventDefault(),!0}return!1},J),n.registerCommand(Ho,t=>{let e=M();if(ft(e)){let r=e.getNodes();if(r.length>0)return t.preventDefault(),Pu(r[0])?r[0].selectNext(0,0):r[0].selectPrevious(),!0}if(!w(e))return!1;if(Ku(e,!0)){let r=t.shiftKey;return t.preventDefault(),Bu(e,r,!0),!0}return!1},J),n.registerCommand(wa,t=>{let e=M();if(ft(e)){let o=e.getNodes();if(o.length>0)return t.preventDefault(),Pu(o[0])?o[0].selectPrevious():o[0].selectNext(0,0),!0}if(!w(e))return!1;let r=t.shiftKey;return!!Ku(e,!1)&&(t.preventDefault(),Bu(e,r,!1),!0)},J),n.registerCommand(Ma,t=>{if(I_(t.target))return!1;let e=M();if(w(e)){if((function(r){if(!r.isCollapsed())return!1;let{anchor:o}=r;if(o.offset!==0)return!1;let i=o.getNode();if(jn(i))return!1;let s=Zr(i);return s.getIndent()>0&&(s.is(i)||i.is(s.getFirstDescendant()))})(e))return t.preventDefault(),n.dispatchCommand(Ot,void 0);if(D_&&navigator.language==="ko-KR")return!1}else if(!ft(e))return!1;return t.preventDefault(),n.dispatchCommand(Ko,!0)},J),n.registerCommand(La,t=>{if(I_(t.target))return!1;let e=M();return!(!w(e)&&!ft(e))&&(t.preventDefault(),n.dispatchCommand(Ko,!1))},J),n.registerCommand(Wp,t=>{let e=M();if(!w(e))return!1;if(hd(e),t!==null){if((D_||zN||YN)&&UN)return!1;if(t.preventDefault(),t.shiftKey)return n.dispatchCommand(Su,!1)}return n.dispatchCommand(yr,void 0)},J),n.registerCommand(Er,()=>{let t=M();return!!w(t)&&(n.blur(),!0)},J),n.registerCommand(Aa,t=>{let[,e]=is(t);if(e.length>0){let o=L_(t.clientX,t.clientY);if(o!==null){let{offset:i,node:s}=o,l=We(s);if(l!==null){let a=hr();if(Y(l))a.anchor.set(l.getKey(),i,"text"),a.focus.set(l.getKey(),i,"text");else{let u=l.getParentOrThrow().getKey(),d=l.getIndexWithinParent()+1;a.anchor.set(u,d,"element"),a.focus.set(u,d,"element")}let c=Jn(a);je(c)}n.dispatchCommand(pd,e)}return t.preventDefault(),!0}let r=M();return!!w(r)},J),n.registerCommand(Hp,t=>{let[e]=is(t),r=M();return!(e&&!w(r))},J),n.registerCommand(Sa,t=>{let[e]=is(t),r=M();if(e&&!w(r))return!1;let o=L_(t.clientX,t.clientY);if(o!==null){let i=We(o.node);Gn(i)&&t.preventDefault()}return!0},J),n.registerCommand(qp,()=>(Ca(),!0),J),n.registerCommand(Ta,t=>(ns(n,Yt(t,ClipboardEvent)?t:null),!0),J),n.registerCommand(ba,t=>((async function(e,r){await ns(r,Yt(e,ClipboardEvent)?e:null),r.update(()=>{let o=M();w(o)?o.removeText():ft(o)&&o.getNodes().forEach(i=>i.remove())})})(t,n),!0),J),n.registerCommand(Ra,t=>{let[,e,r]=is(t);return e.length>0&&!r?(n.dispatchCommand(pd,e),!0):Ft(t.target)&&sm(t.target)?!1:M()!==null&&((function(o,i){o.preventDefault(),i.update(()=>{let s=M(),l=Yt(o,InputEvent)||Yt(o,KeyboardEvent)?null:o.clipboardData;l!=null&&s!==null&&Zu(l,s,i)},{tag:jp})})(t,n),!0)},J),n.registerCommand(Da,t=>{let e=M();return w(e)&&hd(e),!1},J),n.registerCommand(Vn,t=>{let e=M();return w(e)&&hd(e),!1},J))}var VN=xe({conflictsWith:["@lexical/plain-text"],dependencies:[M_],name:"@lexical/rich-text",nodes:()=>[Qo,Zo],register:$_});var bn=_d,rl=bn.$createHeadingNode,F_=bn.$createQuoteNode,ol=bn.$isHeadingNode,P_=bn.$isQuoteNode,ww=bn.DRAG_DROP_PASTE,B_=bn.HeadingNode,K_=bn.QuoteNode,Mw=bn.RichTextExtension,Lw=bn.eventFiles,H_=bn.registerRichText;var yd={};St(yd,{$canShowPlaceholder:()=>z_,$canShowPlaceholderCurry:()=>qN,$findTextIntersectionFromCharacters:()=>ZN,$isRootTextContentEmpty:()=>Cd,$isRootTextContentEmptyCurry:()=>XN,$rootTextContent:()=>U_,registerLexicalTextEntity:()=>eS});function U_(){return Be().getTextContent()}function Cd(n,t=!0){if(n)return!1;let e=U_();return t&&(e=e.trim()),e===""}function XN(n,t){return()=>Cd(n,t)}function z_(n){if(!Cd(n,!1))return!1;let t=Be().getChildren(),e=t.length;if(e>1)return!1;for(let r=0;r<e;r++){let o=t[r];if(Gn(o))return!1;if(P(o)){if(!_r(o)||o.__indent!==0)return!1;let i=o.getChildren(),s=i.length;for(let l=0;l<s;l++){let a=i[r];if(!Y(a))return!1}}}return!0}function qN(n){return()=>z_(n)}function ZN(n,t){let e=n.getFirstChild(),r=0;e:for(;e!==null;){if(P(e)){let s=e.getFirstChild();if(s!==null){e=s;continue}}else if(Y(e)){let s=e.getTextContentSize();if(r+s>t)return{node:e,offset:t-r};r+=s}let o=e.getNextSibling();if(o!==null){e=o;continue}let i=e.getParent();for(;i!==null;){let s=i.getNextSibling();if(s!==null){e=s;continue e}i=i.getParent()}break}return null}function QN(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function eS(n,t,e,r){let o=s=>s instanceof e,i=s=>{let l=et(s.getTextContent());l.setFormat(s.getFormat()),s.replace(l)};return[n.registerNodeTransform(Je,s=>{if(!s.isSimpleText())return;let l,a=s.getPreviousSibling(),c=s.getTextContent(),u=s;if(Y(a)){let g=a.getTextContent(),h=t(g+c);if(o(a)){if(h===null||(f=>f.getLatest().__mode)(a)!==0)return void i(a);{let f=h.end-g.length;if(f>0){let p=g+c.slice(0,f);if(a.select(),a.setTextContent(p),f===c.length)s.remove();else{let m=c.slice(f);s.setTextContent(m)}return}}}else if(h===null||h.start<g.length)return}let d=0;for(;;){l=t(c);let g,h=l===null?"":c.slice(l.end);if(c=h,h===""){let p=u.getNextSibling();if(Y(p)){h=u.getTextContent()+p.getTextContent();let m=t(h);if(m===null)return void(o(p)?i(p):p.markDirty());if(m.start!==0)return}}if(l===null)return;if(l.start===0&&Y(a)&&a.isTextEntity()){d+=l.end;continue}l.start===0?[g,u]=u.splitText(l.end):[,g,u]=u.splitText(l.start+d,l.end+d),g===void 0&&QN(165,"nodeToReplace");let f=r(g);if(f.setFormat(g.getFormat()),g.replace(f),u==null)return;d=0,a=f}}),n.registerNodeTransform(e,s=>{let l=s.getTextContent(),a=t(l);if(a===null||a.start!==0)return void i(s);if(l.length>a.end)return void s.splitText(a.end);let c=s.getPreviousSibling();Y(c)&&c.isTextEntity()&&(i(c),i(s));let u=s.getNextSibling();Y(u)&&u.isTextEntity()&&(i(u),o(s)&&i(s))})]}var no=yd,Rw=no.$canShowPlaceholder,Iw=no.$canShowPlaceholderCurry,$w=no.$findTextIntersectionFromCharacters,Fw=no.$isRootTextContentEmpty,Pw=no.$isRootTextContentEmptyCurry,Bw=no.$rootTextContent,il=no.registerLexicalTextEntity;var Ed={};St(Ed,{$createHashtagNode:()=>xd,$isHashtagNode:()=>tS,HashtagExtension:()=>rS,HashtagNode:()=>ro,registerLexicalHashtag:()=>Y_});var ro=class n extends Je{static getType(){return"hashtag"}static clone(t){return new n(t.__text,t.__key)}createDOM(t){let e=super.createDOM(t);return fe(e,t.theme.hashtag),e}static importJSON(t){return xd().updateFromJSON(t)}canInsertTextBefore(){return!1}isTextEntity(){return!0}};function xd(n=""){return ge(new ro(n))}function tS(n){return n instanceof ro}var nS=new RegExp((function(){let{alpha:n,alphanumeric:t,hashChars:e}=(function(){let o=String.fromCharCode,i="A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u076D\u0780-\u07A5\u07B1\u0904-\u0939\u093D\u0950\u0958-\u0961\u097D\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6A\u0F88-\u0F8B\u1000-\u1021\u1023-\u1027\u1029-\u102A\u1050-\u1055\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1D00-\u1DBF\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3006\u3031-\u3035\u303B-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253-\u0254\u0256-\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF\u0400-\u04FF\u0500-\u0527\u2DE0-\u2DFF\uA640-\uA69F\u0591-\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F4\uFB12-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFB4F\u0610-\u061A\u0620-\u065F\u066E-\u06D3\u06D5-\u06DC\u06DE-\u06E8\u06EA-\u06EF\u06FA-\u06FC\u06FF\u0750-\u077F\u08A0\u08A2-\u08AC\u08E4-\u08FE\uFB50-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\u200C-\u200C\u0E01-\u0E3A\u0E40-\u0E4E\u1100-\u11FF\u3130-\u3185\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\uFFA1-\uFFDC\u30A1-\u30FA\u30FC-\u30FE\uFF66-\uFF9F\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\u3041-\u3096\u3099-\u309E\u3400-\u4DBF\u4E00-\u9FFF"+o(173824)+"-"+o(177983)+o(177984)+"-"+o(178207)+o(194560)+"-"+o(195103)+"\u3003\u3005\u303B";return{alpha:i,alphanumeric:i+"\u0300-\u036F\u0483-\u0486\u0591-\u05B9\u05BB-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u0615\u064B-\u065E\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u0901-\u0903\u093C\u093E-\u094D\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7-\u09C8\u09CB-\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A70-\u0A71\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B43\u0B47-\u0B48\u0B4B-\u0B4D\u0B56-\u0B57\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C82-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D82-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2-\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F3E-\u0F3F\u0F71-\u0F84\u0F86-\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102C-\u1032\u1036-\u1039\u1056-\u1059\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8-\u19C9\u1A17-\u1A1B\u1DC0-\u1DC3\u20D0-\u20DC\u20E1\u20E5-\u20EB\u302A-\u302F\u3099-\u309A\uA802\uA806\uA80B\uA823-\uA827\uFB1E\uFE00-\uFE0F\uFE20-\uFE230-9\u0660-\u0669\u06F0-\u06F9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\uFF10-\uFF19_",hashChars:"#\\uFF03"}})(),r="["+t+"]";return"("+("^|$|[^&/"+t+"]")+")("+("["+e+"]")+")("+r+"*"+("["+n+"]")+r+"*)"})(),"i"),W_={getHashtagMatch:function(n){let t=nS.exec(n);if(t===null)return null;let e=t[3].length+1,r=t.index+t[1].length;return{end:r+e,start:r}}};function Y_(n,t=W_){return ue(...il(n,t.getHashtagMatch,ro,e=>xd(e.getTextContent())))}var rS=xe({config:W_,name:"@lexical/hashtag/Hashtag",nodes:()=>[ro],register:Y_});var ss=Ed,G_=ss.$createHashtagNode,Ww=ss.$isHashtagNode,Yw=ss.HashtagExtension,Td=ss.HashtagNode,Gw=ss.registerLexicalHashtag;var qw=Vg(bd(),1);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(t,e){var r={};r["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[e]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+e]={pattern:/[\s\S]+/,inside:Prism.languages[e]};var i={};i[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:o},Prism.languages.insertBefore("markup","cdata",i)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(n,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(n){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function e(u){return u=u.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+u+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+i+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+i+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:e(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:e(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:e(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:e(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(u){["url","bold","italic","strike","code-snippet"].forEach(function(d){u!==d&&(n.languages.markdown[u].inside.content.inside[d]=n.languages.markdown[d])})}),n.hooks.add("after-tokenize",function(u){if(u.language!=="markdown"&&u.language!=="md")return;function d(g){if(!(!g||typeof g=="string"))for(var h=0,f=g.length;h<f;h++){var p=g[h];if(p.type!=="code"){d(p.content);continue}var m=p.content[1],_=p.content[3];if(m&&_&&m.type==="code-language"&&_.type==="code-block"&&typeof m.content=="string"){var C=m.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");C=(/[a-z][\w-]*/i.exec(C)||[""])[0].toLowerCase();var y="language-"+C;_.alias?typeof _.alias=="string"?_.alias=[_.alias,y]:_.alias.push(y):_.alias=[y]}}}d(u.tokens)}),n.hooks.add("wrap",function(u){if(u.type==="code-block"){for(var d="",g=0,h=u.classes.length;g<h;g++){var f=u.classes[g],p=/language-(.+)/.exec(f);if(p){d=p[1];break}}var m=n.languages[d];if(m)u.content=n.highlight(c(u.content),m,d);else if(d&&d!=="none"&&n.plugins.autoloader){var _="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);u.attributes.id=_,n.plugins.autoloader.loadLanguages(d,function(){var C=document.getElementById(_);C&&(C.innerHTML=n.highlight(C.textContent,n.languages[d],d))})}}});var s=RegExp(n.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;function c(u){var d=u.replace(s,"");return d=d.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(g,h){if(h=h.toLowerCase(),h[0]==="#"){var f;return h[1]==="x"?f=parseInt(h.slice(2),16):f=Number(h.slice(1)),a(f)}else{var p=l[h];return p||g}}),d}n.languages.md=n.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(n){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var e=n.languages.markup;e&&(e.tag.addInlined("style","css"),e.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(n){var t=n.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};t.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:t},boolean:t.boolean,variable:t.variable}})(Prism);Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(n){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,e=0;e<2;e++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=Prism.languages.swift});(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var t=n.languages.extend("typescript",{});delete t["class-name"],n.languages.typescript["class-name"].inside=t,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),n.languages.ts=n.languages.typescript})(Prism);(function(n){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,e=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+e+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+e+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+e+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+e+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+e+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(n){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,e=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});n.languages.cpp=n.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),n.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return e})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),n.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n.languages.cpp}}}}),n.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),n.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:n.languages.extend("cpp",{})}}),n.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},n.languages.cpp["base-clause"])})(Prism);function V_(n,t){for(let e of n.childNodes){if(Ve(e)&&e.tagName===t)return!0;V_(e,t)}return!1}var ls="data-language",as="data-highlight-language",al="data-theme",cs=class n extends $e{constructor(e,r){super(r);v(this,"__language");v(this,"__theme");v(this,"__isSyntaxHighlightSupported");this.__language=e||void 0,this.__isSyntaxHighlightSupported=!1,this.__theme=void 0}static getType(){return"code"}static clone(e){return new n(e.__language,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__language=e.__language,this.__theme=e.__theme,this.__isSyntaxHighlightSupported=e.__isSyntaxHighlightSupported}createDOM(e){let r=document.createElement("code");fe(r,e.theme.code),r.setAttribute("spellcheck","false");let o=this.getLanguage();o&&(r.setAttribute(ls,o),this.getIsSyntaxHighlightSupported()&&r.setAttribute(as,o));let i=this.getTheme();i&&r.setAttribute(al,i);let s=this.getStyle();return s&&r.setAttribute("style",s),r}updateDOM(e,r,o){let i=this.__language,s=e.__language;i?i!==s&&r.setAttribute(ls,i):s&&r.removeAttribute(ls);let l=this.__isSyntaxHighlightSupported;e.__isSyntaxHighlightSupported&&s?l&&i?i!==s&&r.setAttribute(as,i):r.removeAttribute(as):l&&i&&r.setAttribute(as,i);let c=this.__theme,u=e.__theme;c?c!==u&&r.setAttribute(al,c):u&&r.removeAttribute(al);let d=this.__style,g=e.__style;return d?d!==g&&r.setAttribute("style",d):g&&r.removeAttribute("style"),!1}exportDOM(e){let r=document.createElement("pre");fe(r,e._config.theme.code),r.setAttribute("spellcheck","false");let o=this.getLanguage();o&&(r.setAttribute(ls,o),this.getIsSyntaxHighlightSupported()&&r.setAttribute(as,o));let i=this.getTheme();i&&r.setAttribute(al,i);let s=this.getStyle();return s&&r.setAttribute("style",s),{element:r}}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||V_(e,"BR"))?{conversion:j_,priority:1}:null,div:()=>({conversion:sS,priority:1}),pre:()=>({conversion:j_,priority:0}),table:e=>Nd(e)?{conversion:aS,priority:3}:null,td:e=>{let r=e,o=r.closest("table");return cS(r)||o&&Nd(o)?{conversion:J_,priority:3}:null},tr:e=>{let o=e.closest("table");return o&&Nd(o)?{conversion:J_,priority:3}:null}}}static importJSON(e){return ds().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language).setTheme(e.theme)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),theme:this.getTheme()}}insertNewAfter(e,r=!0){let o=this.getChildren(),i=o.length;if(i>=2&&o[i-1].getTextContent()===`
`&&o[i-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i){o[i-1].remove(),o[i-2].remove();let u=X();return this.insertAfter(u,r),u}let{anchor:s,focus:l}=e,c=(s.isBefore(l)?s:l).getNode();if(Y(c)){let u=dS(c),d=[];for(;;)if(ht(u))d.push(Ut()),u=u.getNextSibling();else if(Z_(u)){let C=0,y=u.getTextContent(),E=u.getTextContentSize();for(;C<E&&y[C]===" ";)C++;if(C!==0&&d.push(q_(" ".repeat(C))),C!==E)break;u=u.getNextSibling()}else break;let g=c.splitText(s.offset)[0],h=s.offset===0?0:1,f=g.getIndexWithinParent()+h,p=c.getParentOrThrow(),m=[cn(),...d];p.splice(f,0,m);let _=d[d.length-1];_?_.select():s.offset===0?g.selectPrevious():g.getNextSibling().selectNext(0,0)}if(iS(c)){let{offset:u}=e.anchor;c.splice(u,0,[cn()]),c.select(u+1,u+1)}return null}canIndent(){return!1}collapseAtStart(){let e=X();return this.getChildren().forEach(o=>e.append(o)),this.replace(e),!0}setLanguage(e){let r=this.getWritable();return r.__language=e||void 0,r}getLanguage(){return this.getLatest().__language}setIsSyntaxHighlightSupported(e){let r=this.getWritable();return r.__isSyntaxHighlightSupported=e,r}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}setTheme(e){let r=this.getWritable();return r.__theme=e||void 0,r}getTheme(){return this.getLatest().__theme}};function ds(n,t){return Fo(cs).setLanguage(n).setTheme(t)}function iS(n){return n instanceof cs}function j_(n){let t=n.getAttribute(ls);return{node:ds(t)}}function sS(n){let t=n,e=X_(t);return!e&&!lS(t)?{node:null}:{node:e?ds():null}}function aS(){return{node:ds()}}function J_(){return{node:null}}function X_(n){return n.style.fontFamily.match("monospace")!==null}function lS(n){let t=n.parentElement;for(;t!==null;){if(X_(t))return!0;t=t.parentElement}return!1}function cS(n){return n.classList.contains("js-file-line")}function Nd(n){return n.classList.contains("js-file-line-container")}var us=class n extends Je{constructor(e="",r,o){super(e,o);v(this,"__highlightType");this.__highlightType=r}static getType(){return"code-highlight"}static clone(e){return new n(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){let r=this.getWritable();return r.__highlightType=e||void 0,r}canHaveFormat(){return!1}createDOM(e){let r=super.createDOM(e),o=Sd(e.theme,this.__highlightType);return fe(r,o),r}updateDOM(e,r,o){let i=super.updateDOM(e,r,o),s=Sd(o.theme,e.__highlightType),l=Sd(o.theme,this.__highlightType);return s!==l&&(s&&bt(r,s),l&&fe(r,l)),i}static importJSON(e){return q_().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return ds()}};function Sd(n,t){return t&&n&&n.codeHighlight&&n.codeHighlight[t]}function q_(n="",t){return ge(new us(n,t))}function Z_(n){return n instanceof us}function uS(n,t){let e=n;for(let r=gt(n,t);r&&(Z_(r.origin)||ht(r.origin));r=Wa(r))e=r.origin;return e}function dS(n){return uS(n,"previous")}var fM=xe({name:"@lexical/code",nodes:()=>[cs,us]});(function(n){n.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach(function(e){var r=t[e],o=[];/^\w+$/.test(e)||o.push(/\w+/.exec(e)[0]),e==="diff"&&o.push("bold"),n.languages.diff[e]={pattern:RegExp("^(?:["+r+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:o,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(e)[0]}}}}),Object.defineProperty(n.languages.diff,"PREFIXES",{value:t})})(Prism);var hM=globalThis.Prism||window.Prism;var Id={};St(Id,{$createCodeHighlightNode:()=>ul,$createCodeNode:()=>ei,$getCodeLineDirection:()=>cC,$getEndOfCodeInLine:()=>kd,$getFirstCodeNodeOfLine:()=>qn,$getLastCodeNodeOfLine:()=>vr,$getStartOfCodeInLine:()=>Dd,$isCodeHighlightNode:()=>Ye,$isCodeNode:()=>hn,CODE_LANGUAGE_FRIENDLY_NAME_MAP:()=>Rd,CODE_LANGUAGE_MAP:()=>uC,CodeExtension:()=>pS,CodeHighlightNode:()=>Or,CodeNode:()=>Xn,DEFAULT_CODE_LANGUAGE:()=>Ld,PrismTokenizer:()=>gC,getCodeLanguageOptions:()=>CS,getCodeLanguages:()=>_S,getCodeThemeOptions:()=>yS,getDefaultCodeLanguage:()=>gS,getEndOfCodeInLine:()=>SS,getFirstCodeNodeOfLine:()=>bS,getLanguageFriendlyName:()=>mS,getLastCodeNodeOfLine:()=>NS,getStartOfCodeInLine:()=>AS,normalizeCodeLang:()=>dC,normalizeCodeLanguage:()=>dC,registerCodeHighlighting:()=>TS});var yM=Vg(bd(),1);function cl(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var Ld="javascript",gS=()=>Ld;function aC(n,t){for(let e of n.childNodes){if(Ve(e)&&e.tagName===t)return!0;aC(e,t)}return!1}var fs="data-language",gs="data-highlight-language",ll="data-theme",Xn=class n extends $e{constructor(e,r){super(r);v(this,"__language");v(this,"__theme");v(this,"__isSyntaxHighlightSupported");this.__language=e||void 0,this.__isSyntaxHighlightSupported=!1,this.__theme=void 0}static getType(){return"code"}static clone(e){return new n(e.__language,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__language=e.__language,this.__theme=e.__theme,this.__isSyntaxHighlightSupported=e.__isSyntaxHighlightSupported}createDOM(e){let r=document.createElement("code");fe(r,e.theme.code),r.setAttribute("spellcheck","false");let o=this.getLanguage();o&&(r.setAttribute(fs,o),this.getIsSyntaxHighlightSupported()&&r.setAttribute(gs,o));let i=this.getTheme();i&&r.setAttribute(ll,i);let s=this.getStyle();return s&&r.setAttribute("style",s),r}updateDOM(e,r,o){let i=this.__language,s=e.__language;i?i!==s&&r.setAttribute(fs,i):s&&r.removeAttribute(fs);let l=this.__isSyntaxHighlightSupported;e.__isSyntaxHighlightSupported&&s?l&&i?i!==s&&r.setAttribute(gs,i):r.removeAttribute(gs):l&&i&&r.setAttribute(gs,i);let a=this.__theme,c=e.__theme;a?a!==c&&r.setAttribute(ll,a):c&&r.removeAttribute(ll);let u=this.__style,d=e.__style;return u?u!==d&&r.setAttribute("style",u):d&&r.removeAttribute("style"),!1}exportDOM(e){let r=document.createElement("pre");fe(r,e._config.theme.code),r.setAttribute("spellcheck","false");let o=this.getLanguage();o&&(r.setAttribute(fs,o),this.getIsSyntaxHighlightSupported()&&r.setAttribute(gs,o));let i=this.getTheme();i&&r.setAttribute(ll,i);let s=this.getStyle();return s&&r.setAttribute("style",s),{element:r}}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||aC(e,"BR"))?{conversion:Q_,priority:1}:null,div:()=>({conversion:fS,priority:1}),pre:()=>({conversion:Q_,priority:0}),table:e=>Ad(e)?{conversion:hS,priority:3}:null,td:e=>{let r=e,o=r.closest("table");return r.classList.contains("js-file-line")||o&&Ad(o)?{conversion:eC,priority:3}:null},tr:e=>{let r=e.closest("table");return r&&Ad(r)?{conversion:eC,priority:3}:null}}}static importJSON(e){return ei().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language).setTheme(e.theme)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),theme:this.getTheme()}}insertNewAfter(e,r=!0){let o=this.getChildren(),i=o.length;if(i>=2&&o[i-1].getTextContent()===`
`&&o[i-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i){o[i-1].remove(),o[i-2].remove();let c=X();return this.insertAfter(c,r),c}let{anchor:s,focus:l}=e,a=(s.isBefore(l)?s:l).getNode();if(Y(a)){let c=qn(a),u=[];for(;;)if(ht(c))u.push(Ut()),c=c.getNextSibling();else{if(!Ye(c))break;{let _=0,C=c.getTextContent(),y=c.getTextContentSize();for(;_<y&&C[_]===" ";)_++;if(_!==0&&u.push(ul(" ".repeat(_))),_!==y)break;c=c.getNextSibling()}}let d=a.splitText(s.offset)[0],g=s.offset===0?0:1,h=d.getIndexWithinParent()+g,f=a.getParentOrThrow(),p=[cn(),...u];f.splice(h,0,p);let m=u[u.length-1];m?m.select():s.offset===0?d.selectPrevious():d.getNextSibling().selectNext(0,0)}if(hn(a)){let{offset:c}=e.anchor;a.splice(c,0,[cn()]),a.select(c+1,c+1)}return null}canIndent(){return!1}collapseAtStart(){let e=X();return this.getChildren().forEach(r=>e.append(r)),this.replace(e),!0}setLanguage(e){let r=this.getWritable();return r.__language=e||void 0,r}getLanguage(){return this.getLatest().__language}setIsSyntaxHighlightSupported(e){let r=this.getWritable();return r.__isSyntaxHighlightSupported=e,r}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}setTheme(e){let r=this.getWritable();return r.__theme=e||void 0,r}getTheme(){return this.getLatest().__theme}};function ei(n,t){return Fo(Xn).setLanguage(n).setTheme(t)}function hn(n){return n instanceof Xn}function Q_(n){return{node:ei(n.getAttribute(fs))}}function fS(n){let t=n,e=tC(t);return e||(function(r){let o=r.parentElement;for(;o!==null;){if(tC(o))return!0;o=o.parentElement}return!1})(t)?{node:e?ei():null}:{node:null}}function hS(){return{node:ei()}}function eC(){return{node:null}}function tC(n){return n.style.fontFamily.match("monospace")!==null}function Ad(n){return n.classList.contains("js-file-line-container")}var Or=class n extends Je{constructor(e="",r,o){super(e,o);v(this,"__highlightType");this.__highlightType=r}static getType(){return"code-highlight"}static clone(e){return new n(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){let r=this.getWritable();return r.__highlightType=e||void 0,r}canHaveFormat(){return!1}createDOM(e){let r=super.createDOM(e),o=vd(e.theme,this.__highlightType);return fe(r,o),r}updateDOM(e,r,o){let i=super.updateDOM(e,r,o),s=vd(o.theme,e.__highlightType),l=vd(o.theme,this.__highlightType);return s!==l&&(s&&bt(r,s),l&&fe(r,l)),i}static importJSON(e){return ul().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return ei()}};function vd(n,t){return t&&n&&n.codeHighlight&&n.codeHighlight[t]}function ul(n="",t){return ge(new Or(n,t))}function Ye(n){return n instanceof Or}function lC(n,t){let e=n;for(let r=gt(n,t);r&&(Ye(r.origin)||ht(r.origin));r=Wa(r))e=r.origin;return e}function qn(n){return lC(n,"previous")}function vr(n){return lC(n,"next")}function cC(n){let t=qn(n),e=vr(n),r=t;for(;r!==null;){if(Ye(r)){let i=vu(r.getTextContent());if(i!==null)return i}if(r===e)break;r=r.getNextSibling()}let o=t.getParent();if(P(o)){let i=o.getDirection();if(i==="ltr"||i==="rtl")return i}return null}function Dd(n,t){let e=null,r=null,o=n,i=t,s=n.getTextContent();for(;;){if(i===0){if(o=o.getPreviousSibling(),o===null)break;if(Ye(o)||ht(o)||Ke(o)||cl(167),Ke(o)){e={node:o,offset:1};break}i=Math.max(0,o.getTextContentSize()-1),s=o.getTextContent()}else i--;let a=s[i];Ye(o)&&a!==" "&&(r={node:o,offset:i})}if(r!==null)return r;let l=null;if(t<n.getTextContentSize())Ye(n)&&(l=n.getTextContent()[t]);else{let a=n.getNextSibling();Ye(a)&&(l=a.getTextContent()[0])}if(l!==null&&l!==" ")return e;{let a=(function(c,u){let d=c,g=u,h=c.getTextContent(),f=c.getTextContentSize();for(;;){if(!Ye(d)||g===f){if(d=d.getNextSibling(),d===null||Ke(d))return null;Ye(d)&&(g=0,h=d.getTextContent(),f=d.getTextContentSize())}if(Ye(d)){if(h[g]!==" ")return{node:d,offset:g};g++}}})(n,t);return a!==null?a:e}}function kd(n){let t=vr(n);return Ke(t)&&cl(168),t}var pS=xe({name:"@lexical/code",nodes:()=>[Xn,Or]});(function(n){n.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach(function(e){var r=t[e],o=[];/^\w+$/.test(e)||o.push(/\w+/.exec(e)[0]),e==="diff"&&o.push("bold"),n.languages.diff[e]={pattern:RegExp("^(?:["+r+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:o,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(e)[0]}}}}),Object.defineProperty(n.languages.diff,"PREFIXES",{value:t})})(Prism);var Zt=globalThis.Prism||window.Prism,Rd={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",powershell:"PowerShell",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},uC={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function dC(n){return uC[n]||n}function mS(n){let t=dC(n);return Rd[t]||t}var _S=()=>Object.keys(Zt.languages).filter(n=>typeof Zt.languages[n]!="function").sort();function CS(){let n=[];for(let[t,e]of Object.entries(Rd))n.push([t,e]);return n}function yS(){return[]}function wd(n){return typeof n=="string"?n:Array.isArray(n)?n.map(wd).join(""):wd(n.content)}function xS(n,t){let e=/^diff-([\w-]+)/i.exec(t),r=n.getTextContent(),o=Zt.tokenize(r,Zt.languages[e?"diff":t]);return e&&(o=(function(i,s){let l=s,a=Zt.languages[l],c={tokens:i},u=Zt.languages.diff.PREFIXES;for(let d of c.tokens){if(typeof d=="string"||!(d.type in u)||!Array.isArray(d.content))continue;let g=d.type,h=0,f=()=>(h++,new Zt.Token("prefix",u[g],g.replace(/^(\w+).*/,"$1"))),p=d.content.filter(b=>typeof b=="string"||b.type!=="prefix"),m=d.content.length-p.length,_=Zt.tokenize(wd(p),a);_.unshift(f());let C=/\r\n|\n/g,y=b=>{let T=[];C.lastIndex=0;let x,A=0;for(;h<m&&(x=C.exec(b));){let O=x.index+x[0].length;T.push(b.slice(A,O)),A=O,T.push(f())}if(T.length!==0)return A<b.length&&T.push(b.slice(A)),T},E=b=>{for(let T=0;T<b.length&&h<m;T++){let x=b[T];if(typeof x=="string"){let A=y(x);A&&(b.splice(T,1,...A),T+=A.length-1)}else if(typeof x.content=="string"){let A=y(x.content);A&&(x.content=A)}else Array.isArray(x.content)?E(x.content):E([x.content])}};E(_),h<m&&_.push(f()),d.content=_}return c.tokens})(o,e[1])),Md(o)}function Md(n,t){let e=[];for(let r of n)if(typeof r=="string"){let o=r.split(/(\n|\t)/),i=o.length;for(let s=0;s<i;s++){let l=o[s];l===`
`||l===`\r
`?e.push(cn()):l==="	"?e.push(Ut()):l.length>0&&e.push(ul(l,t))}}else{let{content:o,alias:i}=r;typeof o=="string"?e.push(...Md([o],r.type==="prefix"&&typeof i=="string"?i:r.type)):Array.isArray(o)&&e.push(...Md(o,r.type==="unchanged"?void 0:r.type))}return e}var gC={$tokenize(n,t){return xS(n,t||this.defaultLanguage)},defaultLanguage:Ld,tokenize(n,t){return Zt.tokenize(n,Zt.languages[t||""]||Zt.languages[this.defaultLanguage])}};function nC(n,t,e){let r=n.getParent();hn(r)?fC(r,t,e):Ye(n)&&n.replace(et(n.__text))}function ES(n,t){let e=t.getElementByKey(n.getKey());if(e===null)return;let r=n.getChildren(),o=r.length;if(o===e.__cachedChildrenLength)return;e.__cachedChildrenLength=o;let i="1",s=1;for(let l=0;l<o;l++)Ke(r[l])&&(i+=`
`+ ++s);e.setAttribute("data-gutter",i)}var Od=new Set;function fC(n,t,e){let r=n.getKey(),o=t.getKey()+"/"+r;n.getLanguage()===void 0&&n.setLanguage(e.defaultLanguage);let i=n.getLanguage()||e.defaultLanguage;if(!(function(s){let l=(function(c){let u=/^diff-([\w-]+)/i.exec(c);return u?u[1]:null})(s),a=l||s;try{return!!a&&Zt.languages.hasOwnProperty(a)}catch{return!1}})(i))return n.getIsSyntaxHighlightSupported()&&n.setIsSyntaxHighlightSupported(!1),void(async function(){})();n.getIsSyntaxHighlightSupported()||n.setIsSyntaxHighlightSupported(!0),Od.has(o)||(Od.add(o),t.update(()=>{(function(s,l){let a=ye(s);if(!hn(a)||!a.isAttached())return;let c=M();if(!w(c))return void l();let u=c.anchor,d=u.offset,g=u.type==="element"&&Ke(a.getChildAtIndex(u.offset-1)),h=0;if(!g){let f=u.getNode();h=d+f.getPreviousSiblings().reduce((p,m)=>p+m.getTextContentSize(),0)}if(l()){if(g)return void u.getNode().select(d,d);a.getChildren().some(f=>{let p=Y(f);if(p||Ke(f)){let m=f.getTextContentSize();if(p&&m>=h)return f.select(h,h),!0;h-=m}return!1})}})(r,()=>{let s=ye(r);if(!hn(s)||!s.isAttached())return!1;let l=s.getLanguage()||e.defaultLanguage,a=e.$tokenize(s,l),c=(function(h,f){let p=0;for(;p<h.length&&rC(h[p],f[p]);)p++;let m=h.length,_=f.length,C=Math.min(m,_)-p,y=0;for(;y<C;)if(y++,!rC(h[m-y],f[_-y])){y--;break}let E=p,b=m-y,T=f.slice(p,_-y);return{from:E,nodesForReplacement:T,to:b}})(s.getChildren(),a),{from:u,to:d,nodesForReplacement:g}=c;return!(u===d&&!g.length)&&(n.splice(u,d-u,g),!0)})},{onUpdate:()=>{Od.delete(o)},skipTransforms:!0}))}function rC(n,t){return Ye(n)&&Ye(t)&&n.__text===t.__text&&n.__highlightType===t.__highlightType||ht(n)&&ht(t)||Ke(n)&&Ke(t)}function oo(n){if(!w(n))return!1;let t=n.anchor.getNode(),e=hn(t)?t:t.getParent(),r=n.focus.getNode(),o=hn(r)?r:r.getParent();return hn(e)&&e.is(o)}function hC(n){let t=n.getNodes(),e=[];if(t.length===1&&hn(t[0]))return e;let r=[];for(let o=0;o<t.length;o++){let i=t[o];Ye(i)||ht(i)||Ke(i)||cl(169),Ke(i)?r.length>0&&(e.push(r),r=[]):r.push(i)}if(r.length>0){let o=n.isBackward()?n.anchor:n.focus,i=un(r[0].getKey(),0,"text");o.is(i)||e.push(r)}return e}function oC(n){let t=M();if(!w(t)||!oo(t))return!1;let e=hC(t),r=e.length;if(r===0&&t.isCollapsed())return n===mt&&t.insertNodes([Ut()]),!0;if(r===0&&n===mt&&t.getTextContent()===`
`){let o=Ut(),i=cn(),s=t.isBackward()?"previous":"next";return t.insertNodes([o,i]),Vi(xu(ji(Tu(o,"next",0),dn(gt(i,"next"))),s)),!0}for(let o=0;o<r;o++){let i=e[o];if(i.length>0){let s=i[0];if(o===0&&(s=qn(s)),n===mt){let l=Ut();if(s.insertBefore(l),o===0){let a=t.isBackward()?"focus":"anchor",c=un(s.getKey(),0,"text");t[a].is(c)&&t[a].set(l.getKey(),0,"text")}}else ht(s)&&s.remove()}}return!0}function iC(n,t){let e=M();if(!w(e))return!1;let{anchor:r,focus:o}=e,i=r.offset,s=o.offset,l=r.getNode(),a=o.getNode(),c=n===qt;if(!oo(e)||!Ye(l)&&!ht(l)||!Ye(a)&&!ht(a))return!1;if(!t.altKey){if(e.isCollapsed()){let _=l.getParentOrThrow();if(c&&i===0&&l.getPreviousSibling()===null){if(_.getPreviousSibling()===null)return _.selectPrevious(),t.preventDefault(),!0}else if(!c&&i===l.getTextContentSize()&&l.getNextSibling()===null&&_.getNextSibling()===null)return _.selectNext(),t.preventDefault(),!0}return!1}let u,d;if(l.isBefore(a)?(u=qn(l),d=vr(a)):(u=qn(a),d=vr(l)),u==null||d==null)return!1;let g=u.getNodesBetween(d);for(let _=0;_<g.length;_++){let C=g[_];if(!Ye(C)&&!ht(C)&&!Ke(C))return!1}t.preventDefault(),t.stopPropagation();let h=c?u.getPreviousSibling():d.getNextSibling();if(!Ke(h))return!0;let f=c?h.getPreviousSibling():h.getNextSibling();if(f==null)return!0;let p=Ye(f)||ht(f)||Ke(f)?c?qn(f):vr(f):null,m=p??f;return h.remove(),g.forEach(_=>_.remove()),n===qt?(g.forEach(_=>m.insertBefore(_)),m.insertBefore(h)):(m.insertAfter(h),m=h,g.forEach(_=>{m.insertAfter(_),m=_})),e.setTextNodeRange(l,i,a,s),!0}function sC(n,t){let e=M();if(!w(e))return!1;let{anchor:r,focus:o}=e,i=r.getNode(),s=o.getNode(),l=n===Zi;if(!oo(e)||!Ye(i)&&!ht(i)||!Ye(s)&&!ht(s))return!1;let a=s;if(cC(a)==="rtl"?!l:l){let c=Dd(a,o.offset);if(c!==null){let{node:u,offset:d}=c;Ke(u)?u.selectNext(0,0):e.setTextNodeRange(u,d,u,d)}else a.getParentOrThrow().selectStart()}else kd(a).select();return t.preventDefault(),t.stopPropagation(),!0}function TS(n,t){if(!n.hasNodes([Xn,Or]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");t==null&&(t=gC);let e=[];return n._headless!==!0&&e.push(n.registerMutationListener(Xn,r=>{n.getEditorState().read(()=>{for(let[o,i]of r)if(i!=="destroyed"){let s=ye(o);s!==null&&ES(s,n)}})},{skipInitialization:!1})),e.push(n.registerNodeTransform(Xn,r=>fC(r,n,t)),n.registerNodeTransform(Je,r=>nC(r,n,t)),n.registerNodeTransform(Or,r=>nC(r,n,t)),n.registerCommand(Vn,r=>{let o=(function(i){let s=M();if(!w(s)||!oo(s))return null;let l=i?Ot:mt,a=i?Ot:xr,c=s.anchor,u=s.focus;if(c.is(u))return a;let d=hC(s);if(d.length!==1)return l;let g=d[0],h,f;g.length===0&&cl(285),s.isBackward()?(h=u,f=c):(h=c,f=u);let p=qn(g[0]),m=vr(g[0]),_=un(p.getKey(),0,"text"),C=un(m.getKey(),m.getTextContentSize(),"text");return h.isBefore(_)||C.isBefore(f)?l:_.isBefore(h)||f.isBefore(C)?a:l})(r.shiftKey);return o!==null&&(r.preventDefault(),n.dispatchCommand(o,void 0),!0)},re),n.registerCommand(xr,()=>!!oo(M())&&(Yn([Ut()]),!0),re),n.registerCommand(mt,r=>oC(mt),re),n.registerCommand(Ot,r=>oC(Ot),re),n.registerCommand(qt,r=>{let o=M();if(!w(o))return!1;let{anchor:i}=o,s=i.getNode();return!!oo(o)&&(o.isCollapsed()&&i.offset===0&&s.getPreviousSibling()===null&&hn(s.getParentOrThrow())?(r.preventDefault(),!0):iC(qt,r))},re),n.registerCommand(xn,r=>{let o=M();if(!w(o))return!1;let{anchor:i}=o,s=i.getNode();return!!oo(o)&&(o.isCollapsed()&&i.offset===s.getTextContentSize()&&s.getNextSibling()===null&&hn(s.getParentOrThrow())?(r.preventDefault(),!0):iC(xn,r))},re),n.registerCommand(Zi,r=>sC(Zi,r),re),n.registerCommand(ka,r=>sC(ka,r),re)),ue(...e)}var bS=qn,NS=vr,SS=kd,AS=Dd;var Oe=Id,FM=Oe.$createCodeHighlightNode,$d=Oe.$createCodeNode,PM=Oe.$getCodeLineDirection,BM=Oe.$getEndOfCodeInLine,KM=Oe.$getFirstCodeNodeOfLine,HM=Oe.$getLastCodeNodeOfLine,UM=Oe.$getStartOfCodeInLine,zM=Oe.$isCodeHighlightNode,pC=Oe.$isCodeNode,WM=Oe.CODE_LANGUAGE_FRIENDLY_NAME_MAP,mC=Oe.CODE_LANGUAGE_MAP,YM=Oe.CodeExtension,GM=Oe.CodeHighlightNode,_C=Oe.CodeNode,jM=Oe.DEFAULT_CODE_LANGUAGE,JM=Oe.PrismTokenizer,VM=Oe.getCodeLanguageOptions,XM=Oe.getCodeLanguages,qM=Oe.getCodeThemeOptions,ZM=Oe.getDefaultCodeLanguage,QM=Oe.getEndOfCodeInLine,eL=Oe.getFirstCodeNodeOfLine,tL=Oe.getLanguageFriendlyName,nL=Oe.getLastCodeNodeOfLine,rL=Oe.getStartOfCodeInLine,oL=Oe.normalizeCodeLang,iL=Oe.normalizeCodeLanguage,sL=Oe.registerCodeHighlighting;var Hd={};St(Hd,{$createAutoLinkNode:()=>gl,$createLinkNode:()=>io,$isAutoLinkNode:()=>Sn,$isLinkNode:()=>Nn,$toggleLink:()=>hs,AutoLinkExtension:()=>$S,AutoLinkNode:()=>ps,ClickableLinkExtension:()=>MS,LinkExtension:()=>Kd,LinkNode:()=>so,TOGGLE_LINK_COMMAND:()=>fl,createLinkMatcherWithRegExp:()=>LS,formatUrl:()=>Pd,registerAutoLink:()=>AC,registerClickableLink:()=>xC,registerLink:()=>yC,toggleLink:()=>FS});var vS=new Set(["http:","https:","mailto:","sms:","tel:"]),so=class n extends $e{constructor(e="",r={},o){super(o);v(this,"__url");v(this,"__target");v(this,"__rel");v(this,"__title");let{target:i=null,rel:s=null,title:l=null}=r;this.__url=e,this.__target=i,this.__rel=s,this.__title=l}static getType(){return"link"}static clone(e){return new n(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}createDOM(e){let r=document.createElement("a");return this.updateLinkDOM(null,r,e),fe(r,e.theme.link),r}updateLinkDOM(e,r,o){if(ja(r)){e&&e.__url===this.__url||(r.href=this.sanitizeUrl(this.__url));for(let i of["target","rel","title"]){let s=`__${i}`,l=this[s];e&&e[s]===l||(l?r[i]=l:r.removeAttribute(i))}}}updateDOM(e,r,o){return this.updateLinkDOM(e,r,o),!1}static importDOM(){return{a:e=>({conversion:OS,priority:1})}}static importJSON(e){return io().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){e=Pd(e);try{let r=new URL(Pd(e));if(!vS.has(r.protocol))return"about:blank"}catch{return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){let r=this.getWritable();return r.__url=e,r}getTarget(){return this.getLatest().__target}setTarget(e){let r=this.getWritable();return r.__target=e,r}getRel(){return this.getLatest().__rel}setRel(e){let r=this.getWritable();return r.__rel=e,r}getTitle(){return this.getLatest().__title}setTitle(e){let r=this.getWritable();return r.__title=e,r}insertNewAfter(e,r=!0){let o=io(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(o,r),o}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,r,o){if(!w(r))return!1;let i=r.anchor.getNode(),s=r.focus.getNode();return this.isParentOf(i)&&this.isParentOf(s)&&r.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function OS(n){let t=null;if(ja(n)){let e=n.textContent;(e!==null&&e!==""||n.children.length>0)&&(t=io(n.getAttribute("href")||"",{rel:n.getAttribute("rel"),target:n.getAttribute("target"),title:n.getAttribute("title")}))}return{node:t}}function io(n="",t){return ge(new so(n,t))}function Nn(n){return n instanceof so}var ps=class n extends so{constructor(e="",r={},o){super(e,r,o);v(this,"__isUnlinked");this.__isUnlinked=r.isUnlinked!==void 0&&r.isUnlinked!==null&&r.isUnlinked}static getType(){return"autolink"}static clone(e){return new n(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){let r=this.getWritable();return r.__isUnlinked=e,r}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,r,o){return super.updateDOM(e,r,o)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return gl().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e,r=!0){let o=this.getParentOrThrow().insertNewAfter(e,r);if(P(o)){let i=gl(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return o.append(i),i}return null}};function gl(n="",t){return ge(new ps(n,t))}function Sn(n){return n instanceof ps}var fl=se("TOGGLE_LINK_COMMAND");function CC(n,t){if(n.type==="element"){let e=n.getNode();return P(e)||(function(r,...o){let i=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",r);for(let l of o)s.append("v",l);throw i.search=s.toString(),Error(`Minified Lexical error #${r}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(252),e.getChildren()[n.offset+t]||null}return null}function hs(n,t={}){let e;if(n&&typeof n=="object"){let{url:u,...d}=n;e=u,t={...d,...t}}else e=n;let{target:r,title:o}=t,i=t.rel===void 0?"noreferrer":t.rel,s=M();if(s===null||!w(s)&&!ft(s))return;if(ft(s)){let u=s.getNodes();return u.length===0?void 0:void u.forEach(d=>{if(e===null){let g=V(d,h=>!Sn(h)&&Nn(h));g&&(g.insertBefore(d),g.getChildren().length===0&&g.remove())}else{let g=V(d,h=>!Sn(h)&&Nn(h));if(g)g.setURL(e),r!==void 0&&g.setTarget(r),i!==void 0&&g.setRel(i);else{let h=io(e,{rel:i,target:r});d.insertBefore(h),h.append(d)}}})}let l=s.extract();if(e===null){let u=new Set;return void l.forEach(d=>{let g=d.getParent();if(Nn(g)&&!Sn(g)){let h=g.getKey();if(u.has(h))return;(function(f,p){let m=new Set(p.filter(x=>f.isParentOf(x)).map(x=>x.getKey())),_=f.getChildren(),C=_.filter(x=>m.has(x.getKey()));if(C.length===_.length)return _.forEach(x=>f.insertBefore(x)),void f.remove();let y=_.findIndex(x=>m.has(x.getKey())),E=_.findLastIndex(x=>m.has(x.getKey())),b=y===0,T=E===_.length-1;if(b)C.forEach(x=>f.insertBefore(x));else if(T)for(let x=C.length-1;x>=0;x--)f.insertAfter(C[x]);else{for(let A=C.length-1;A>=0;A--)f.insertAfter(C[A]);let x=_.slice(E+1);if(x.length>0){let A=io(f.getURL(),{rel:f.getRel(),target:f.getTarget(),title:f.getTitle()});C[C.length-1].insertAfter(A),x.forEach(O=>A.append(O))}}})(g,l),u.add(h)}})}let a=new Set,c=u=>{a.has(u.getKey())||(a.add(u.getKey()),u.setURL(e),r!==void 0&&u.setTarget(r),i!==void 0&&u.setRel(i),o!==void 0&&u.setTitle(o))};if(l.length===1){let u=l[0],d=V(u,Nn);if(d!==null)return c(d)}(function(u){let d=M();if(!w(d))return u();let g=Jn(d),h=g.isBackward(),f=CC(g.anchor,h?-1:0),p=CC(g.focus,h?0:-1),m=u();if(f||p){let _=M();if(w(_)){let C=_.clone();if(f){let y=f.getParent();y&&C.anchor.set(y.getKey(),f.getIndexWithinParent()+(h?1:0),"element")}if(p){let y=p.getParent();y&&C.focus.set(y.getKey(),p.getIndexWithinParent()+(h?0:1),"element")}je(Jn(C))}}})(()=>{let u=null;for(let d of l){if(!d.isAttached())continue;let g=V(d,Nn);if(g){c(g);continue}if(P(d)){if(!d.isInline())continue;if(Nn(d)){if(!(Sn(d)||u!==null&&u.getParentOrThrow().isParentOf(d))){c(d),u=d;continue}for(let f of d.getChildren())d.insertBefore(f);d.remove();continue}}let h=d.getPreviousSibling();Nn(h)&&h.is(u)?h.append(d):(u=io(e,{rel:i,target:r,title:o}),d.insertAfter(u),u.append(d))}})}var wS=/^\+?[0-9\s()-]{5,}$/;function Pd(n){return n.match(/^[a-z][a-z0-9+.-]*:/i)||n.match(/^[/#.]/)?n:n.includes("@")?`mailto:${n}`:wS.test(n)?`tel:${n}`:`https://${n}`}function yC(n,t){return ue(Mt(()=>n.registerCommand(fl,e=>{let r=t.validateUrl.peek(),o=t.attributes.peek();if(e===null)return hs(null),!0;if(typeof e=="string")return!(r!==void 0&&!r(e))&&(hs(e,o),!0);{let{url:i,target:s,rel:l,title:a}=e;return hs(i,{...o,rel:l,target:s,title:a}),!0}},re)),Mt(()=>{let e=t.validateUrl.value;if(!e)return;let r=t.attributes.value;return n.registerCommand(Ra,o=>{let i=M();if(!w(i)||i.isCollapsed()||!Yt(o,ClipboardEvent)||o.clipboardData===null)return!1;let s=o.clipboardData.getData("text");return!!e(s)&&!i.getNodes().some(l=>P(l))&&(n.dispatchCommand(fl,{...r,url:s}),o.preventDefault(),!0)},re)}))}var Kd=xe({build:(n,t,e)=>fn(t),config:{attributes:void 0,validateUrl:void 0},mergeConfig(n,t){let e=br(n,t);return n.attributes&&(e.attributes=br(n.attributes,e.attributes)),e},name:"@lexical/link/Link",nodes:()=>[so],register:(n,t,e)=>yC(n,e.getOutput())});function xC(n,t,e={}){let r=i=>{let s=i.target;if(!Ft(s))return;let l=zo(s);if(l===null)return;let a=null,c=null;if(l.update(()=>{let g=We(s);if(g!==null){let h=V(g,P);if(!t.disabled.peek())if(Nn(h))a=h.sanitizeUrl(h.getURL()),c=h.getTarget();else{let f=(function(p,m){let _=p;for(;_!=null;){if(m(_))return _;_=_.parentNode}return null})(s,ja);f!==null&&(a=f.href,c=f.target)}}}),a===null||a==="")return;let u=n.getEditorState().read(M);if(w(u)&&!u.isCollapsed())return void i.preventDefault();let d=i.type==="auxclick"&&i.button===1;window.open(a,t.newTab.peek()||d||i.metaKey||i.ctrlKey||c==="_blank"?"_blank":"_self"),i.preventDefault()},o=i=>{i.button===1&&r(i)};return n.registerRootListener((i,s)=>{s!==null&&(s.removeEventListener("click",r),s.removeEventListener("mouseup",o)),i!==null&&(i.addEventListener("click",r,e),i.addEventListener("mouseup",o,e))})}var MS=xe({build:(n,t,e)=>fn(t),config:_t({disabled:!1,newTab:!1}),dependencies:[Kd],name:"@lexical/link/ClickableLink",register:(n,t,e)=>xC(n,e.getOutput())});function LS(n,t=e=>e){return e=>{let r=n.exec(e);return r===null?null:{index:r.index,length:r[0].length,text:r[0],url:t(r[0])}}}function EC(n,t){for(let e=0;e<t.length;e++){let r=t[e](n);if(r)return r}return null}var DS=/[.,;\s]/;function hl(n){return DS.test(n)}function TC(n){return hl(n[n.length-1])}function Bd(n){return hl(n[0])}function bC(n){let t=n.getPreviousSibling();return P(t)&&(t=t.getLastDescendant()),t===null||Ke(t)||Y(t)&&TC(t.getTextContent())}function NC(n){let t=n.getNextSibling();return P(t)&&(t=t.getFirstDescendant()),t===null||Ke(t)||Y(t)&&Bd(t.getTextContent())}function kS(n,t,e,r){return(n>0?hl(e[n-1]):bC(r[0]))?t<e.length?hl(e[t]):NC(r[r.length-1]):!1}function RS(n,t,e){let r=[],o=[],i=[],s=0,l=0,a=[...n];for(;a.length>0;){let c=a[0],u=c.getTextContent().length,d=l;l+u<=t?(r.push(c),s+=u):d>=e?i.push(c):o.push(c),l+=u,a.shift()}return[s,r,o,i]}function IS(n,t,e,r){let o=gl(r.url,r.attributes);if(n.length===1){let i,s=n[0];t===0?[i,s]=s.splitText(e):[,i,s]=s.splitText(t,e);let l=et(r.text);return l.setFormat(i.getFormat()),l.setDetail(i.getDetail()),l.setStyle(i.getStyle()),o.append(l),i.replace(o),s}if(n.length>1){let i=n[0],s,l=i.getTextContent().length;t===0?s=i:[,s]=i.splitText(t);let a=[],c;for(let h=1;h<n.length;h++){let f=n[h],p=f.getTextContent().length,m=l;if(m<e)if(l+p<=e)a.push(f);else{let[_,C]=f.splitText(e-m);a.push(_),c=C}l+=p}let u=M(),d=u?u.getNodes().find(Y):void 0,g=et(s.getTextContent());return g.setFormat(s.getFormat()),g.setDetail(s.getDetail()),g.setStyle(s.getStyle()),o.append(g,...a),d&&d===s&&(w(u)?g.select(u.anchor.offset,u.focus.offset):ft(u)&&g.select(0,g.getTextContent().length)),s.replace(o),c}}function Fd(n,t,e){let r=n.getChildren(),o=r.length;for(let a=0;a<o;a++){let c=r[a];if(!Y(c)||!c.isSimpleText())return dl(n),void e(null,n.getURL())}let i=n.getTextContent(),s=EC(i,t);if(s===null||s.text!==i||!bC(n)||!NC(n))return dl(n),void e(null,n.getURL());let l=n.getURL();if(l!==s.url&&(n.setURL(s.url),e(s.url,l)),s.attributes){let a=n.getRel();a!==s.attributes.rel&&(n.setRel(s.attributes.rel||null),e(s.attributes.rel||null,a));let c=n.getTarget();c!==s.attributes.target&&(n.setTarget(s.attributes.target||null),e(s.attributes.target||null,c))}}function dl(n){let t=n.getChildren();for(let e=t.length-1;e>=0;e--)n.insertAfter(t[e]);return n.remove(),t.map(e=>e.getLatest())}var SC={changeHandlers:[],matchers:[]};function AC(n,t=SC){let{matchers:e,changeHandlers:r}=t,o=(i,s)=>{for(let l of r)l(i,s)};return ue(n.registerNodeTransform(Je,i=>{let s=i.getParentOrThrow(),l=i.getPreviousSibling();if(Sn(s)&&!s.getIsUnlinked())Fd(s,e,o);else if(!Nn(s)){if(i.isSimpleText()&&(Bd(i.getTextContent())||!Sn(l))){let a=(function(c){let u=[c],d=c.getNextSibling();for(;d!==null&&Y(d)&&d.isSimpleText()&&(u.push(d),!/[\s]/.test(d.getTextContent()));)d=d.getNextSibling();return u})(i);(function(c,u,d){let g=[...c],h=g.map(_=>_.getTextContent()).join(""),f,p=h,m=0;for(;(f=EC(p,u))&&f!==null;){let _=f.index,C=_+f.length;if(kS(m+_,m+C,h,g)){let[y,,E,b]=RS(g,m+_,m+C),T=IS(E,m+_-y,m+C-y,f);g=T?[T,...b]:b,d(f.url,null),m=0}else m+=C;p=p.substring(C)}})(a,e,o)}(function(a,c,u){let d=a.getPreviousSibling(),g=a.getNextSibling(),h=a.getTextContent();var f;!Sn(d)||d.getIsUnlinked()||Bd(h)&&(f=h,!(d.isEmailURI()?/^\.[a-zA-Z]{2,}/.test(f):/^\.[a-zA-Z0-9]{1,}/.test(f)))||(d.append(a),Fd(d,c,u),u(null,d.getURL())),!Sn(g)||g.getIsUnlinked()||TC(h)||(dl(g),Fd(g,c,u),u(null,g.getURL()))})(i,e,o)}}),n.registerCommand(fl,i=>{let s=M();return i!==null||!w(s)||s.extract().forEach(l=>{let a=l.getParent();Sn(a)&&(a.setIsUnlinked(!a.getIsUnlinked()),a.markDirty())}),!1},re))}var $S=xe({config:SC,dependencies:[Kd],mergeConfig(n,t){let e=br(n,t);for(let r of["matchers","changeHandlers"]){let o=t[r];Array.isArray(o)&&(e[r]=[...n[r],...o])}return e},name:"@lexical/link/AutoLink",register:AC}),FS=hs;var Ct=Hd,gL=Ct.$createAutoLinkNode,fL=Ct.$createLinkNode,hL=Ct.$isAutoLinkNode,Qt=Ct.$isLinkNode,Ud=Ct.$toggleLink,pL=Ct.AutoLinkExtension,vC=Ct.AutoLinkNode,mL=Ct.ClickableLinkExtension,_L=Ct.LinkExtension,OC=Ct.LinkNode,wr=Ct.TOGGLE_LINK_COMMAND,CL=Ct.createLinkMatcherWithRegExp,yL=Ct.formatUrl,xL=Ct.registerAutoLink,EL=Ct.registerClickableLink,TL=Ct.registerLink,bL=Ct.toggleLink;var jd={};St(jd,{$createListItemNode:()=>Gt,$createListNode:()=>Pt,$getListDepth:()=>pl,$handleListInsertParagraph:()=>KC,$insertList:()=>ms,$isListItemNode:()=>de,$isListNode:()=>ae,$removeList:()=>Gd,CheckListExtension:()=>YS,INSERT_CHECK_LIST_COMMAND:()=>HC,INSERT_ORDERED_LIST_COMMAND:()=>GC,INSERT_UNORDERED_LIST_COMMAND:()=>YC,ListExtension:()=>XC,ListItemNode:()=>Lr,ListNode:()=>lo,REMOVE_LIST_COMMAND:()=>jC,UPDATE_LIST_START_COMMAND:()=>WC,insertList:()=>zS,registerCheckList:()=>UC,registerList:()=>JC,registerListStrictIndentTransform:()=>VC,removeList:()=>WS});function Mr(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function pl(n){let t=1,e=n.getParent();for(;e!=null;){if(de(e)){let r=e.getParent();if(ae(r)){t++,e=r.getParent();continue}Mr(40)}return t}return t}function zd(n){let t=n.getParent();ae(t)||Mr(40);let e=t;for(;e!==null;)e=e.getParent(),ae(e)&&(t=e);return t}function FC(n){let t=[],e=n.getChildren().filter(de);for(let r=0;r<e.length;r++){let o=e[r],i=o.getFirstChild();ae(i)?t=t.concat(FC(i)):t.push(o)}return t}function An(n){return de(n)&&ae(n.getFirstChild())}function wC(n){return Gt().append(n)}function PC(n,t){return de(n)&&(t.length===0||t.length===1&&n.is(t[0])&&n.getChildrenSize()===0)}function ms(n){let t=M();if(t!==null){let e=t.getNodes();if(w(t)){let o=t.getStartEndPoints();o===null&&Mr(143);let[i]=o,s=i.getNode(),l=s.getParent();if(Tt(s)){let a=s.getFirstChild();if(a)e=a.selectStart().getNodes();else{let c=X();s.append(c),e=c.select().getNodes()}}else if(PC(s,e)){let a=Pt(n);if(Tt(l)){s.replace(a);let c=Gt();P(s)&&(c.setFormat(s.getFormatType()),c.setIndent(s.getIndent())),a.append(c)}else if(de(s)){let c=s.getParentOrThrow();ao(a,c.getChildren()),c.replace(a)}return}}let r=new Set;for(let o=0;o<e.length;o++){let i=e[o];if(P(i)&&i.isEmpty()&&!de(i)&&!r.has(i.getKey())){MC(i,n);continue}let s=Ji(i)?i.getParent():de(i)&&i.isEmpty()?i:null;for(;s!=null;){let l=s.getKey();if(ae(s)){if(!r.has(l)){let a=Pt(n);ao(a,s.getChildren()),s.replace(a),r.add(l)}break}{let a=s.getParent();if(Tt(a)&&!r.has(l)){r.add(l),MC(s,n);break}s=a}}}}}function ao(n,t){n.splice(n.getChildrenSize(),0,t)}function MC(n,t){if(ae(n))return n;let e=n.getPreviousSibling(),r=n.getNextSibling(),o=Gt(),i;if(ao(o,n.getChildren()),ae(e)&&t===e.getListType())e.append(o),ae(r)&&t===r.getListType()&&(ao(e,r.getChildren()),r.remove()),i=e;else if(ae(r)&&t===r.getListType())r.getFirstChildOrThrow().insertBefore(o),i=r;else{let s=Pt(t);s.append(o),n.replace(s),i=s}return o.setFormat(n.getFormatType()),o.setIndent(n.getIndent()),n.remove(),i}function Yd(n,t){let e=n.getLastChild(),r=t.getFirstChild();e&&r&&An(e)&&An(r)&&(Yd(e.getFirstChild(),r.getFirstChild()),r.remove());let o=t.getChildren();o.length>0&&n.append(...o),t.remove()}function Gd(){let n=M();if(w(n)){let t=new Set,e=n.getNodes(),r=n.anchor.getNode();if(PC(r,e))t.add(zd(r));else for(let o=0;o<e.length;o++){let i=e[o];if(Ji(i)){let s=Ya(i,Lr);s!=null&&t.add(zd(s))}}for(let o of t){let i=o,s=FC(o);for(let l of s){let a=X().setTextStyle(n.style).setTextFormat(n.format);ao(a,l.getChildren()),i.insertAfter(a),i=a,l.__key===n.anchor.key&&Cr(n.anchor,dn(zt(a,"next"))),l.__key===n.focus.key&&Cr(n.focus,dn(zt(a,"next"))),l.remove()}o.remove()}}}function BC(n){let t=n.getListType()!=="check",e=n.getStart();for(let r of n.getChildren())de(r)&&(r.getValue()!==e&&r.setValue(e),t&&r.getLatest().__checked!=null&&r.setChecked(void 0),ae(r.getFirstChild())||e++)}function PS(n){let t=new Set;if(An(n)||t.has(n.getKey()))return;let e=n.getParent(),r=n.getNextSibling(),o=n.getPreviousSibling();if(An(r)&&An(o)){let i=o.getFirstChild();if(ae(i)){i.append(n);let s=r.getFirstChild();ae(s)&&(ao(i,s.getChildren()),r.remove(),t.add(r.getKey()))}}else if(An(r)){let i=r.getFirstChild();if(ae(i)){let s=i.getFirstChild();s!==null&&s.insertBefore(n)}}else if(An(o)){let i=o.getFirstChild();ae(i)&&i.append(n)}else if(ae(e)){let i=Gt().setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle()),s=Pt(e.getListType()).setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle());i.append(s),s.append(n),o?o.insertAfter(i):r?r.insertBefore(i):e.append(i)}}function BS(n){if(An(n))return;let t=n.getParent(),e=t?t.getParent():void 0;if(ae(e?e.getParent():void 0)&&de(e)&&ae(t)){let r=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(n.is(r))e.insertBefore(n),t.isEmpty()&&e.remove();else if(n.is(o))e.insertAfter(n),t.isEmpty()&&e.remove();else{let i=t.getListType(),s=Gt(),l=Pt(i);s.append(l),n.getPreviousSiblings().forEach(u=>l.append(u));let a=Gt(),c=Pt(i);a.append(c),ao(c,n.getNextSiblings()),e.insertBefore(s),e.insertAfter(a),e.replace(n)}}}function KC(){let n=M();if(!w(n)||!n.isCollapsed())return!1;let t=n.anchor.getNode();if(!de(t)||t.getChildrenSize()!==0)return!1;let e=zd(t),r=t.getParent();ae(r)||Mr(40);let o=r.getParent(),i;if(Tt(o))i=X(),e.insertAfter(i);else{if(!de(o))return!1;i=Gt(),o.insertAfter(i)}i.setTextStyle(n.style).setTextFormat(n.format).select();let s=t.getNextSiblings();if(s.length>0){let l=Pt(r.getListType());if(de(i)){let a=Gt();a.append(l),i.insertAfter(a)}else i.insertAfter(l);l.append(...s)}return(function(l){let a=l;for(;a.getNextSibling()==null&&a.getPreviousSibling()==null;){let c=a.getParent();if(c==null||!de(c)&&!ae(c))break;a=c}a.remove()})(t),!0}function ml(...n){let t=[];for(let e of n)if(e&&typeof e=="string")for(let[r]of e.matchAll(/\S+/g))t.push(r);return t}var Lr=class extends $e{constructor(e=1,r=void 0,o){super(o);v(this,"__value");v(this,"__checked");this.__value=e===void 0?1:e,this.__checked=r}$config(){return this.config("listitem",{$transform:e=>{if(e.__checked==null)return;let r=e.getParent();ae(r)&&r.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)},extends:$e,importDOM:Au({li:()=>({conversion:KS,priority:0})})})}afterCloneFrom(e){super.afterCloneFrom(e),this.__value=e.__value,this.__checked=e.__checked}createDOM(e){let r=document.createElement("li");return this.updateListItemDOM(null,r,e),r}updateListItemDOM(e,r,o){(function(l,a,c){let u=a.getParent();!ae(u)||u.getListType()!=="check"||ae(a.getFirstChild())?(l.removeAttribute("role"),l.removeAttribute("tabIndex"),l.removeAttribute("aria-checked")):(l.setAttribute("role","checkbox"),l.setAttribute("tabIndex","-1"),c&&a.__checked===c.__checked||l.setAttribute("aria-checked",a.getChecked()?"true":"false"))})(r,this,e),r.value=this.__value,(function(l,a,c){let u=[],d=[],g=a.list,h=g?g.listitem:void 0,f;if(g&&g.nested&&(f=g.nested.listitem),h!==void 0&&u.push(...ml(h)),g){let p=c.getParent(),m=ae(p)&&p.getListType()==="check",_=c.getChecked();m&&!_||d.push(g.listitemUnchecked),m&&_||d.push(g.listitemChecked),m&&u.push(_?g.listitemChecked:g.listitemUnchecked)}if(f!==void 0){let p=ml(f);c.getChildren().some(m=>ae(m))?u.push(...p):d.push(...p)}d.length>0&&bt(l,...d),u.length>0&&fe(l,...u)})(r,o.theme,this);let i=e?e.__style:"",s=this.__style;i!==s&&(s===""?r.removeAttribute("style"):r.style.cssText=s),(function(l,a,c){let u=Hu(a.__textStyle);for(let d in u)l.style.setProperty(`--listitem-marker-${d}`,u[d]);if(c)for(let d in Hu(c.__textStyle))d in u||l.style.removeProperty(`--listitem-marker-${d}`)})(r,this,e)}updateDOM(e,r,o){let i=r;return this.updateListItemDOM(e,i,o),!1}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){let r=this.createDOM(e._config),o=this.getFormatType();o&&(r.style.textAlign=o);let i=this.getDirection();return i&&(r.dir=i),{element:r}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let r=0;r<e.length;r++){let o=e[r];if(P(o)&&this.canMergeWith(o)){let i=o.getChildren();this.append(...i),o.remove()}else super.append(o)}return this}replace(e,r){if(de(e))return super.replace(e);this.setIndent(0);let o=this.getParentOrThrow();if(!ae(o))return e;if(o.__first===this.getKey())o.insertBefore(e);else if(o.__last===this.getKey())o.insertAfter(e);else{let i=Pt(o.getListType()),s=this.getNextSibling();for(;s;){let l=s;s=s.getNextSibling(),i.append(l)}o.insertAfter(e),e.insertAfter(i)}return r&&(P(e)||Mr(139),this.getChildren().forEach(i=>{e.append(i)})),this.remove(),o.getChildrenSize()===0&&o.remove(),e}insertAfter(e,r=!0){let o=this.getParentOrThrow();if(ae(o)||Mr(39),de(e))return super.insertAfter(e,r);let i=this.getNextSiblings();if(o.insertAfter(e,r),i.length!==0){let s=Pt(o.getListType());i.forEach(l=>s.append(l)),e.insertAfter(s,r)}return e}remove(e){let r=this.getPreviousSibling(),o=this.getNextSibling();super.remove(e),r&&o&&An(r)&&An(o)&&(Yd(r.getFirstChild(),o.getFirstChild()),o.remove())}insertNewAfter(e,r=!0){let o=Gt().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(o,r),o}collapseAtStart(e){let r=X();this.getChildren().forEach(l=>r.append(l));let o=this.getParentOrThrow(),i=o.getParentOrThrow(),s=de(i);if(o.getChildrenSize()===1)if(s)o.remove(),i.select();else{o.insertBefore(r),o.remove();let l=e.anchor,a=e.focus,c=r.getKey();l.type==="element"&&l.getNode().is(this)&&l.set(c,l.offset,"element"),a.type==="element"&&a.getNode().is(this)&&a.set(c,a.offset,"element")}else o.insertBefore(r),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){let r=this.getWritable();return r.__value=e,r}getChecked(){let e=this.getLatest(),r,o=this.getParent();return ae(o)&&(r=o.getListType()),r==="check"?!!e.__checked:void 0}setChecked(e){let r=this.getWritable();return r.__checked=e,r}toggleChecked(){let e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){let e=this.getParent();if(e===null||!this.isAttached())return this.getLatest().__indent;let r=e.getParentOrThrow(),o=0;for(;de(r);)r=r.getParentOrThrow().getParentOrThrow(),o++;return o}setIndent(e){typeof e!="number"&&Mr(117),(e=Math.floor(e))>=0||Mr(199);let r=this.getIndent();for(;r!==e;)r<e?(PS(this),r++):(BS(this),r--);return this}canInsertAfter(e){return de(e)}canReplaceWith(e){return de(e)}canMergeWith(e){return de(e)||_r(e)}extractWithChild(e,r){if(!w(r))return!1;let o=r.anchor.getNode(),i=r.focus.getNode();return this.isParentOf(o)&&this.isParentOf(i)&&this.getTextContent().length===r.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return Pt("bullet")}canMergeWhenEmpty(){return!0}};function KS(n){if(n.classList.contains("task-list-item")){for(let e of n.children)if(e.tagName==="INPUT")return LC(e)}if(n.classList.contains("joplin-checkbox")){for(let e of n.children)if(e.classList.contains("checkbox-wrapper")&&e.children.length>0&&e.children[0].tagName==="INPUT")return LC(e.children[0])}let t=n.getAttribute("aria-checked");return{node:Gt(t==="true"||t!=="false"&&void 0)}}function LC(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:Gt(n.hasAttribute("checked"))}}function Gt(n){return ge(new Lr(void 0,n))}function de(n){return n instanceof Lr}var lo=class extends $e{constructor(e="number",r=1,o){super(o);v(this,"__tag");v(this,"__start");v(this,"__listType");let i=US[e]||e;this.__listType=i,this.__tag=i==="number"?"ol":"ul",this.__start=r}$config(){return this.config("list",{$transform:e=>{(function(r){let o=r.getNextSibling();ae(o)&&r.getListType()===o.getListType()&&Yd(r,o)})(e),BC(e)},extends:$e,importDOM:Au({ol:()=>({conversion:kC,priority:0}),ul:()=>({conversion:kC,priority:0})})})}afterCloneFrom(e){super.afterCloneFrom(e),this.__listType=e.__listType,this.__tag=e.__tag,this.__start=e.__start}getTag(){return this.getLatest().__tag}setListType(e){let r=this.getWritable();return r.__listType=e,r.__tag=e==="number"?"ol":"ul",r}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(e){let r=this.getWritable();return r.__start=e,r}createDOM(e,r){let o=this.__tag,i=document.createElement(o);return this.__start!==1&&i.setAttribute("start",String(this.__start)),i.__lexicalListType=this.__listType,DC(i,e.theme,this),i}updateDOM(e,r,o){return e.__tag!==this.__tag||e.__listType!==this.__listType||(DC(r,o.theme,this),!1)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){let r=this.createDOM(e._config,e);return Ve(r)&&(this.__start!==1&&r.setAttribute("start",String(this.__start)),this.__listType==="check"&&r.setAttribute("__lexicalListType","check")),{element:r}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,r,o){let i=o;for(let s=0;s<o.length;s++){let l=o[s];de(l)||(i===o&&(i=[...o]),i[s]=Gt().append(!P(l)||ae(l)||l.isInline()?l:et(l.getTextContent())))}return super.splice(e,r,i)}extractWithChild(e){return de(e)}};function DC(n,t,e){let r=[],o=[],i=t.list;if(i!==void 0){let s=i[`${e.__tag}Depth`]||[],l=pl(e)-1,a=l%s.length,c=s[a],u=i[e.__tag],d,g=i.nested,h=i.checklist;if(g!==void 0&&g.list&&(d=g.list),u!==void 0&&r.push(u),h!==void 0&&e.__listType==="check"&&r.push(h),c!==void 0){r.push(...ml(c));for(let f=0;f<s.length;f++)f!==a&&o.push(e.__tag+f)}if(d!==void 0){let f=ml(d);l>1?r.push(...f):o.push(...f)}}o.length>0&&bt(n,...o),r.length>0&&fe(n,...r)}function HS(n){let t=[];for(let e=0;e<n.length;e++){let r=n[e];if(de(r)){t.push(r);let o=r.getChildren();o.length>1&&o.forEach(i=>{ae(i)&&t.push(wC(i))})}else t.push(wC(r))}return t}function kC(n){let t=n.nodeName.toLowerCase(),e=null;return t==="ol"?e=Pt("number",n.start):t==="ul"&&(e=(function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list")||r.getAttribute("data-is-checklist")==="1")return!0;for(let o of r.childNodes)if(Ve(o)&&o.hasAttribute("aria-checked"))return!0;return!1})(n)?Pt("check"):Pt("bullet")),{after:HS,node:e}}var US={ol:"number",ul:"bullet"};function Pt(n="number",t=1){return ge(new lo(n,t))}function ae(n){return n instanceof lo}var HC=se("INSERT_CHECK_LIST_COMMAND");function UC(n){return ue(n.registerCommand(HC,()=>(ms("check"),!0),re),n.registerCommand(xn,t=>$C(t,n,!1),re),n.registerCommand(qt,t=>$C(t,n,!0),re),n.registerCommand(Er,()=>{if(Wd()!=null){let t=n.getRootElement();return t?.focus(),!0}return!1},re),n.registerCommand(Da,t=>{let e=Wd();return!(e==null||!n.isEditable())&&(n.update(()=>{let r=We(e);de(r)&&(t.preventDefault(),r.toggleChecked())}),!0)},re),n.registerCommand(Ho,t=>n.getEditorState().read(()=>{let e=M();if(w(e)&&e.isCollapsed()){let{anchor:r}=e,o=r.type==="element";if(o||r.offset===0){let i=r.getNode(),s=V(i,l=>P(l)&&!l.isInline());if(de(s)){let l=s.getParent();if(ae(l)&&l.getListType()==="check"&&(o||s.getFirstDescendant()===i)){let a=n.getElementByKey(s.__key);if(a!=null&&document.activeElement!==a)return a.focus(),t.preventDefault(),!0}}}}return!1}),re),n.registerRootListener((t,e)=>{t!==null&&(t.addEventListener("click",RC),t.addEventListener("pointerdown",IC)),e!==null&&(e.removeEventListener("click",RC),e.removeEventListener("pointerdown",IC))}))}function zC(n,t){let e=n.target;if(!Ve(e))return;let r=e.firstChild;if(Ve(r)&&(r.tagName==="UL"||r.tagName==="OL"))return;let o=e.parentNode;if(!o||o.__lexicalListType!=="check")return;let i=e.getBoundingClientRect(),s=Wm(e),l=n.clientX/s,a=window.getComputedStyle?window.getComputedStyle(e,"::before"):{width:"0px"},c=parseFloat(a.width),u=n.pointerType==="touch"?32:0;(e.dir==="rtl"?l<i.right+u&&l>i.right-c-u:l>i.left-u&&l<i.left+c+u)&&t()}function RC(n){zC(n,()=>{if(Ve(n.target)){let t=n.target,e=zo(t);e!=null&&e.isEditable()&&e.update(()=>{let r=We(t);de(r)&&(t.focus(),r.toggleChecked())})}})}function IC(n){zC(n,()=>{n.preventDefault()})}function Wd(){let n=document.activeElement;return Ve(n)&&n.tagName==="LI"&&n.parentNode!=null&&n.parentNode.__lexicalListType==="check"?n:null}function $C(n,t,e){let r=Wd();return r!=null&&t.update(()=>{let o=We(r);if(!de(o))return;let i=(function(s,l){let a=l?s.getPreviousSibling():s.getNextSibling(),c=s;for(;a==null&&de(c);)c=c.getParentOrThrow().getParent(),c!=null&&(a=l?c.getPreviousSibling():c.getNextSibling());for(;de(a);){let u=l?a.getLastChild():a.getFirstChild();if(!ae(u))return a;a=l?u.getLastChild():u.getFirstChild()}return null})(o,e);if(i!=null){i.selectStart();let s=t.getElementByKey(i.__key);s!=null&&(n.preventDefault(),setTimeout(()=>{s.focus()},0))}}),!1}var WC=se("UPDATE_LIST_START_COMMAND"),YC=se("INSERT_UNORDERED_LIST_COMMAND"),GC=se("INSERT_ORDERED_LIST_COMMAND"),jC=se("REMOVE_LIST_COMMAND");function JC(n){return ue(n.registerCommand(GC,()=>(ms("number"),!0),re),n.registerCommand(WC,t=>{let{listNodeKey:e,newStart:r}=t,o=ye(e);return!!ae(o)&&(o.getListType()==="number"&&(o.setStart(r),BC(o)),!0)},re),n.registerCommand(YC,()=>(ms("bullet"),!0),re),n.registerCommand(jC,()=>(Gd(),!0),re),n.registerCommand(yr,()=>KC(),re),n.registerNodeTransform(Lr,t=>{let e=t.getFirstChild();if(e){if(Y(e)){let r=e.getStyle(),o=e.getFormat();t.getTextStyle()!==r&&t.setTextStyle(r),t.getTextFormat()!==o&&t.setTextFormat(o)}}else{let r=M();w(r)&&(r.style!==t.getTextStyle()||r.format!==t.getTextFormat())&&r.isCollapsed()&&t.is(r.anchor.getNode())&&t.setTextStyle(r.style).setTextFormat(r.format)}}),n.registerNodeTransform(Je,t=>{let e=t.getParent();if(de(e)&&t.is(e.getFirstChild())){let r=t.getStyle(),o=t.getFormat();r===e.getTextStyle()&&o===e.getTextFormat()||e.setTextStyle(r).setTextFormat(o)}}))}function VC(n){let t=e=>{let r=e.getParent();if(ae(e.getFirstChild())||!ae(r))return;let o=V(e,i=>de(i)&&ae(i.getParent())&&de(i.getPreviousSibling()));if(o===null&&e.getIndent()>0)e.setIndent(0);else if(de(o)){let i=o.getPreviousSibling();if(de(i)){let s=(function(a){let c=a,u=c.getFirstChild();for(;ae(u);){let d=u.getLastChild();if(!de(d))break;c=d,u=c.getFirstChild()}return c})(i),l=s.getParent();if(ae(l)){let a=pl(l);a+1<pl(r)&&e.setIndent(a)}}}};return n.registerNodeTransform(lo,e=>{let r=[e];for(;r.length>0;){let o=r.shift();if(ae(o)){for(let i of o.getChildren())if(de(i)){t(i);let s=i.getFirstChild();ae(s)&&r.push(s)}}}})}function zS(n,t){n.update(()=>ms(t))}function WS(n){n.update(()=>Gd())}var XC=xe({build:(n,t,e)=>fn(t),config:_t({hasStrictIndent:!1}),name:"@lexical/list/List",nodes:()=>[lo,Lr],register(n,t,e){let r=e.getOutput();return ue(JC(n),Mt(()=>r.hasStrictIndent.value?VC(n):void 0))}}),YS=xe({dependencies:[XC],name:"@lexical/list/CheckList",register:UC});var Ue=jd,ML=Ue.$createListItemNode,LL=Ue.$createListNode,DL=Ue.$getListDepth,kL=Ue.$handleListInsertParagraph,RL=Ue.$insertList,qC=Ue.$isListItemNode,_l=Ue.$isListNode,IL=Ue.$removeList,$L=Ue.CheckListExtension,ZC=Ue.INSERT_CHECK_LIST_COMMAND,Cl=Ue.INSERT_ORDERED_LIST_COMMAND,yl=Ue.INSERT_UNORDERED_LIST_COMMAND,FL=Ue.ListExtension,QC=Ue.ListItemNode,Jd=Ue.ListNode,PL=Ue.REMOVE_LIST_COMMAND,BL=Ue.UPDATE_LIST_START_COMMAND,KL=Ue.insertList,HL=Ue.registerCheckList,ey=Ue.registerList,UL=Ue.registerListStrictIndentTransform,zL=Ue.removeList;var Vd={};St(Vd,{HistoryExtension:()=>xl,SharedHistoryExtension:()=>JS,createEmptyHistoryState:()=>ry,registerHistory:()=>ny});function GS(n,t,e,r,o){if(n===null||e.size===0&&r.size===0&&!o)return 0;let i=t._selection,s=n._selection;if(o)return 1;if(!(w(i)&&w(s)&&s.isCollapsed()&&i.isCollapsed()))return 0;let l=(function(_,C,y){let E=_._nodeMap,b=[];for(let T of C){let x=E.get(T);x!==void 0&&b.push(x)}for(let[T,x]of y){if(!x)continue;let A=E.get(T);A===void 0||jn(A)||b.push(A)}return b})(t,e,r);if(l.length===0)return 0;if(l.length>1){let _=t._nodeMap,C=_.get(i.anchor.key),y=_.get(s.anchor.key);return C&&y&&!n._nodeMap.has(C.__key)&&Y(C)&&C.__text.length===1&&i.anchor.offset===1?2:0}let a=l[0],c=n._nodeMap.get(a.__key);if(!Y(c)||!Y(a)||c.__mode!==a.__mode)return 0;let u=c.__text,d=a.__text;if(u===d)return 0;let g=i.anchor,h=s.anchor;if(g.key!==h.key||g.type!=="text")return 0;let f=g.offset,p=h.offset,m=d.length-u.length;return m===1&&p===f-1?2:m===-1&&p===f+1?3:m===-1&&p===f?4:0}function jS(n,t){let e=Date.now(),r=0;return(o,i,s,l,a,c)=>{let u=Date.now();if(c.has(va))return r=0,e=u,2;let d=GS(o,i,l,a,n.isComposing()),g=(()=>{let h=s===null||s.editor===n,f=c.has(zp);if(!f&&h&&c.has(Oa))return 0;if(o===null)return 1;let p=i._selection;if(!(l.size>0||a.size>0))return p!==null?0:2;let m=typeof t=="number"?t:t.peek();return f===!1&&d!==0&&d===r&&u<e+m&&h||l.size===1&&(function(_,C,y){let E=C._nodeMap.get(_),b=y._nodeMap.get(_),T=C._selection,x=y._selection;return!(w(T)&&w(x)&&T.anchor.type==="element"&&T.focus.type==="element"&&x.anchor.type==="text"&&x.focus.type==="text"||!Y(E)||!Y(b)||E.__parent!==b.__parent)&&JSON.stringify(C.read(()=>E.exportJSON()))===JSON.stringify(y.read(()=>b.exportJSON()))})(Array.from(l)[0],o,i)?0:1})();return e=u,r=d,g}}function ty(n){n.undoStack=[],n.redoStack=[],n.current=null}function ny(n,t,e){let r=jS(n,e);return ue(n.registerCommand($a,()=>((function(i,s){let l=s.redoStack,a=s.undoStack;if(a.length!==0){let c=s.current,u=a.pop();c!==null&&(l.push(c),i.dispatchCommand(Jr,!0)),a.length===0&&i.dispatchCommand(Vr,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:va})}})(n,t),!0),J),n.registerCommand(Ia,()=>((function(i,s){let l=s.redoStack,a=s.undoStack;if(l.length!==0){let c=s.current;c!==null&&(a.push(c),i.dispatchCommand(Vr,!0));let u=l.pop();l.length===0&&i.dispatchCommand(Jr,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:va})}})(n,t),!0),J),n.registerCommand(ya,()=>(ty(t),!1),J),n.registerCommand(Bp,()=>(ty(t),n.dispatchCommand(Jr,!1),n.dispatchCommand(Vr,!1),!0),J),n.registerUpdateListener(({editorState:i,prevEditorState:s,dirtyLeaves:l,dirtyElements:a,tags:c})=>{let u=t.current,d=t.redoStack,g=t.undoStack,h=u===null?null:u.editorState;if(u!==null&&i===h)return;let f=r(s,i,u,l,a,c);if(f===1)d.length!==0&&(t.redoStack=[],n.dispatchCommand(Jr,!1)),u!==null&&(g.push({...u}),n.dispatchCommand(Vr,!0));else if(f===2)return;t.current={editor:n,editorState:i}}))}function ry(){return{current:null,redoStack:[],undoStack:[]}}var xl=xe({build:(n,{delay:t,createInitialHistoryState:e,disabled:r})=>fn({delay:t,disabled:r,historyState:e(n)}),config:_t({createInitialHistoryState:ry,delay:300,disabled:typeof window>"u"}),name:"@lexical/history/History",register:(n,t,e)=>{let r=e.getOutput();return Mt(()=>r.disabled.value?void 0:ny(n,r.historyState.value,r.delay))}}),JS=xe({dependencies:[Fa(xl,{createInitialHistoryState:()=>{throw new Error("SharedHistory did not inherit parent history")},disabled:!0})],name:"@lexical/history/SharedHistory",register(n,t,e){let{output:r}=e.getDependency(xl),o=(function(s){return s?A_(s,xl.name):null})(n._parentEditor);if(!o)return()=>{};let i=o.output;return Mt(()=>S_(()=>{r.delay.value=i.delay.value,r.historyState.value=i.historyState.value,r.disabled.value=i.disabled.value}))}});var El=Vd,JL=El.HistoryExtension,VL=El.SharedHistoryExtension,oy=El.createEmptyHistoryState,iy=El.registerHistory;var Zn=(()=>{return((n,t,e,r)=>{let o=t.createElement("canvas").getContext("2d"),i={r:0,g:0,b:0,h:0,s:0,v:0,a:1},s,l,a,c,u,d,g,h,f,p,m,_,C,y,E,b,T={},x={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:[],swatchesOnly:!1,alpha:!0,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Clear",closeButton:!1,closeLabel:"Close",onChange:()=>r,a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},A={},O="",L={},R=!1;function K(N){if(typeof N=="object")for(let D in N)switch(D){case"el":he(N.el),N.wrap!==!1&&Xe(N.el);break;case"parent":s=N.parent instanceof HTMLElement?N.parent:t.querySelector(N.parent),s&&(s.appendChild(l),x.parent=N.parent,s===t.body&&(s=r));break;case"themeMode":x.themeMode=N.themeMode,N.themeMode==="auto"&&n.matchMedia&&n.matchMedia("(prefers-color-scheme: dark)").matches&&(x.themeMode="dark");case"theme":N.theme&&(x.theme=N.theme),l.className=`clr-picker clr-${x.theme} clr-${x.themeMode}`,x.inline&&pe();break;case"rtl":x.rtl=!!N.rtl,Array.from(t.getElementsByClassName("clr-field")).forEach(q=>q.classList.toggle("clr-rtl",x.rtl));break;case"margin":N.margin*=1,x.margin=isNaN(N.margin)?x.margin:N.margin;break;case"wrap":N.el&&N.wrap&&Xe(N.el);break;case"formatToggle":x.formatToggle=!!N.formatToggle,Nt("clr-format").style.display=x.formatToggle?"block":"none",x.formatToggle&&(x.format="auto");break;case"swatches":if(Array.isArray(N.swatches)){let q=Nt("clr-swatches"),ce=t.createElement("div");q.textContent="",N.swatches.forEach((Pe,kt)=>{let Me=t.createElement("button");Me.setAttribute("type","button"),Me.setAttribute("id",`clr-swatch-${kt}`),Me.setAttribute("aria-labelledby",`clr-swatch-label clr-swatch-${kt}`),Me.style.color=Pe,Me.textContent=Pe,ce.appendChild(Me)}),N.swatches.length&&q.appendChild(ce),x.swatches=N.swatches.slice()}break;case"swatchesOnly":x.swatchesOnly=!!N.swatchesOnly,l.setAttribute("data-minimal",x.swatchesOnly);break;case"alpha":x.alpha=!!N.alpha,l.setAttribute("data-alpha",x.alpha);break;case"inline":if(x.inline=!!N.inline,l.setAttribute("data-inline",x.inline),x.inline){let q=N.defaultColor||x.defaultColor;y=rt(q),pe(),nt(q)}break;case"clearButton":typeof N.clearButton=="object"&&(N.clearButton.label&&(x.clearLabel=N.clearButton.label,g.innerHTML=x.clearLabel),N.clearButton=N.clearButton.show),x.clearButton=!!N.clearButton,g.style.display=x.clearButton?"block":"none";break;case"clearLabel":x.clearLabel=N.clearLabel,g.innerHTML=x.clearLabel;break;case"closeButton":x.closeButton=!!N.closeButton,x.closeButton?l.insertBefore(h,u):u.appendChild(h);break;case"closeLabel":x.closeLabel=N.closeLabel,h.innerHTML=x.closeLabel;break;case"a11y":let k=N.a11y,U=!1;if(typeof k=="object")for(let q in k)k[q]&&x.a11y[q]&&(x.a11y[q]=k[q],U=!0);if(U){let q=Nt("clr-open-label"),ce=Nt("clr-swatch-label");q.innerHTML=x.a11y.open,ce.innerHTML=x.a11y.swatch,h.setAttribute("aria-label",x.a11y.close),g.setAttribute("aria-label",x.a11y.clear),f.setAttribute("aria-label",x.a11y.hueSlider),m.setAttribute("aria-label",x.a11y.alphaSlider),d.setAttribute("aria-label",x.a11y.input),a.setAttribute("aria-label",x.a11y.instruction)}break;default:x[D]=N[D]}}function F(N,D){typeof N=="string"&&typeof D=="object"&&(A[N]=D,R=!0)}function B(N){delete A[N],Object.keys(A).length===0&&(R=!1,N===O&&oe())}function z(N){if(R){let D=["el","wrap","rtl","inline","defaultColor","a11y"];for(let k in A){let U=A[k];if(N.matches(k)){O=k,L={},D.forEach(q=>delete U[q]);for(let q in U)L[q]=Array.isArray(x[q])?x[q].slice():x[q];K(U);break}}}}function oe(){Object.keys(L).length>0&&(K(L),O="",L={})}function he(N){N instanceof HTMLElement&&(N=[N]),Array.isArray(N)?N.forEach(D=>{De(D,"click",me),De(D,"input",Dt)}):(De(t,"click",N,me),De(t,"input",N,Dt))}function me(N){x.inline||(z(N.target),C=N.target,E=C.value,y=rt(E),l.classList.add("clr-open"),pe(),nt(E),(x.focusInput||x.selectInput)&&(d.focus({preventScroll:!0}),d.setSelectionRange(C.selectionStart,C.selectionEnd)),x.selectInput&&d.select(),(b||x.swatchesOnly)&&Jg().shift().focus(),C.dispatchEvent(new Event("open",{bubbles:!0})))}function pe(){if(!l||!C&&!x.inline)return;let N=s,D=n.scrollY,k=l.offsetWidth,U=l.offsetHeight,q={left:!1,top:!1},ce,Pe,kt,Me={x:0,y:0};if(N&&(ce=n.getComputedStyle(N),Pe=parseFloat(ce.marginTop),kt=parseFloat(ce.borderTopWidth),Me=N.getBoundingClientRect(),Me.y+=kt+D),!x.inline){let Rt=C.getBoundingClientRect(),tr=Rt.x,kr=D+Rt.y+Rt.height+x.margin;N?(tr-=Me.x,kr-=Me.y,tr+k>N.clientWidth&&(tr+=Rt.width-k,q.left=!0),kr+U>N.clientHeight-Pe&&U+x.margin<=Rt.top-(Me.y-D)&&(kr-=Rt.height+U+x.margin*2,q.top=!0),kr+=N.scrollTop):(tr+k>t.documentElement.clientWidth&&(tr+=Rt.width-k,q.left=!0),kr+U-D>t.documentElement.clientHeight&&U+x.margin<=Rt.top&&(kr=D+Rt.y-U-x.margin,q.top=!0)),l.classList.toggle("clr-left",q.left),l.classList.toggle("clr-top",q.top),l.style.left=`${tr}px`,l.style.top=`${kr}px`,Me.x+=l.offsetLeft,Me.y+=l.offsetTop}T={width:a.offsetWidth,height:a.offsetHeight,x:a.offsetLeft+Me.x,y:a.offsetTop+Me.y}}function Xe(N){N instanceof HTMLElement?qe(N):Array.isArray(N)?N.forEach(qe):t.querySelectorAll(N).forEach(qe)}function qe(N){let D=N.parentNode;if(!D.classList.contains("clr-field")){let k=t.createElement("div"),U="clr-field";(x.rtl||N.classList.contains("clr-rtl"))&&(U+=" clr-rtl"),k.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',D.insertBefore(k,N),k.className=U,k.style.color=N.value,k.appendChild(N)}}function Dt(N){let D=N.target.parentNode;D.classList.contains("clr-field")&&(D.style.color=N.target.value)}function dt(N){if(C&&!x.inline){let D=C;N&&(C=r,E!==D.value&&(D.value=E,D.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout(()=>{E!==D.value&&D.dispatchEvent(new Event("change",{bubbles:!0}))}),l.classList.remove("clr-open"),R&&oe(),D.dispatchEvent(new Event("close",{bubbles:!0})),x.focusInput&&D.focus({preventScroll:!0}),C=r}}function nt(N){let D=Ci(N),k=Ul(D);ie(k.s,k.v),pn(D,k),f.value=k.h,l.style.color=`hsl(${k.h}, 100%, 50%)`,p.style.left=`${k.h/360*100}%`,c.style.left=`${T.width*k.s/100}px`,c.style.top=`${T.height-T.height*k.v/100}px`,m.value=k.a*100,_.style.left=`${k.a*100}%`}function rt(N){let D=N.substring(0,3).toLowerCase();return D==="rgb"||D==="hsl"?D:"hex"}function He(N){N=N!==r?N:d.value,C&&(C.value=N,C.dispatchEvent(new Event("input",{bubbles:!0}))),x.onChange&&x.onChange.call(n,N,C),t.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:N,currentEl:C}}))}function jt(N,D){let k={h:f.value*1,s:N/T.width*100,v:100-D/T.height*100,a:m.value/100},U=en(k);ie(k.s,k.v),pn(U,k),He()}function ie(N,D){let k=x.a11y.marker;N=N.toFixed(1)*1,D=D.toFixed(1)*1,k=k.replace("{s}",N),k=k.replace("{v}",D),c.setAttribute("aria-label",k)}function ze(N){return{pageX:N.changedTouches?N.changedTouches[0].pageX:N.pageX,pageY:N.changedTouches?N.changedTouches[0].pageY:N.pageY}}function Re(N){let D=ze(N),k=D.pageX-T.x,U=D.pageY-T.y;s&&(U+=s.scrollTop),po(k,U),N.preventDefault(),N.stopPropagation()}function ws(N,D){let k=c.style.left.replace("px","")*1+N,U=c.style.top.replace("px","")*1+D;po(k,U)}function po(N,D){N=N<0?0:N>T.width?T.width:N,D=D<0?0:D>T.height?T.height:D,c.style.left=`${N}px`,c.style.top=`${D}px`,jt(N,D),c.focus()}function pn(N,D){N===void 0&&(N={}),D===void 0&&(D={});let k=x.format;for(let ce in N)i[ce]=N[ce];for(let ce in D)i[ce]=D[ce];let U=yi(i),q=U.substring(0,7);switch(c.style.color=q,_.parentNode.style.color=q,_.style.color=U,u.style.color=U,a.style.display="none",a.offsetHeight,a.style.display="",_.nextElementSibling.style.display="none",_.nextElementSibling.offsetHeight,_.nextElementSibling.style.display="",k==="mixed"?k=i.a===1?"hex":"rgb":k==="auto"&&(k=y),k){case"hex":d.value=U;break;case"rgb":d.value=zl(i);break;case"hsl":d.value=tE(Hl(i));break}t.querySelector(`.clr-format [value="${k}"]`).checked=!0}function _i(){let N=f.value*1,D=c.style.left.replace("px","")*1,k=c.style.top.replace("px","")*1;l.style.color=`hsl(${N}, 100%, 50%)`,p.style.left=`${N/360*100}%`,jt(D,k)}function Kl(){let N=m.value/100;_.style.left=`${N*100}%`,pn({a:N}),He()}function en(N){let D=N.s/100,k=N.v/100,U=D*k,q=N.h/60,ce=U*(1-e.abs(q%2-1)),Pe=k-U;U=U+Pe,ce=ce+Pe;let kt=e.floor(q)%6,Me=[U,ce,Pe,Pe,ce,U][kt],Rt=[ce,U,U,ce,Pe,Pe][kt],tr=[Pe,Pe,ce,U,U,ce][kt];return{r:e.round(Me*255),g:e.round(Rt*255),b:e.round(tr*255),a:N.a}}function Hl(N){let D=N.v/100,k=D*(1-N.s/100/2),U;return k>0&&k<1&&(U=e.round((D-k)/e.min(k,1-k)*100)),{h:N.h,s:U||0,l:e.round(k*100),a:N.a}}function Ul(N){let D=N.r/255,k=N.g/255,U=N.b/255,q=e.max(D,k,U),ce=e.min(D,k,U),Pe=q-ce,kt=q,Me=0,Rt=0;return Pe&&(q===D&&(Me=(k-U)/Pe),q===k&&(Me=2+(U-D)/Pe),q===U&&(Me=4+(D-k)/Pe),q&&(Rt=Pe/q)),Me=e.floor(Me*60),{h:Me<0?Me+360:Me,s:e.round(Rt*100),v:e.round(kt*100),a:N.a}}function Ci(N){let D=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,k,U;return o.fillStyle="#000",o.fillStyle=N,k=D.exec(o.fillStyle),k?U={r:k[3]*1,g:k[4]*1,b:k[5]*1,a:k[6]*1}:(k=o.fillStyle.replace("#","").match(/.{2}/g).map(q=>parseInt(q,16)),U={r:k[0],g:k[1],b:k[2],a:1}),U}function yi(N){let D=N.r.toString(16),k=N.g.toString(16),U=N.b.toString(16),q="";if(N.r<16&&(D="0"+D),N.g<16&&(k="0"+k),N.b<16&&(U="0"+U),x.alpha&&(N.a<1||x.forceAlpha)){let ce=N.a*255|0;q=ce.toString(16),ce<16&&(q="0"+q)}return"#"+D+k+U+q}function zl(N){return!x.alpha||N.a===1&&!x.forceAlpha?`rgb(${N.r}, ${N.g}, ${N.b})`:`rgba(${N.r}, ${N.g}, ${N.b}, ${N.a})`}function tE(N){return!x.alpha||N.a===1&&!x.forceAlpha?`hsl(${N.h}, ${N.s}%, ${N.l}%)`:`hsla(${N.h}, ${N.s}%, ${N.l}%, ${N.a})`}function nE(){t.getElementById("clr-picker")||(s=r,l=t.createElement("div"),l.setAttribute("id","clr-picker"),l.className="clr-picker",l.innerHTML=`<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="${x.a11y.input}"><div id="clr-color-area" class="clr-gradient" role="application" aria-label="${x.a11y.instruction}"><div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue"><input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="${x.a11y.hueSlider}"><div id="clr-hue-marker"></div></div><div class="clr-alpha"><input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="${x.a11y.alphaSlider}"><div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented"><legend>${x.a11y.format}</legend><input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div><button type="button" id="clr-clear" class="clr-clear" aria-label="${x.a11y.clear}">${x.clearLabel}</button><div id="clr-color-preview" class="clr-preview"><button type="button" id="clr-close" class="clr-close" aria-label="${x.a11y.close}">${x.closeLabel}</button></div><span id="clr-open-label" hidden>${x.a11y.open}</span><span id="clr-swatch-label" hidden>${x.a11y.swatch}</span>`,t.body.appendChild(l),a=Nt("clr-color-area"),c=Nt("clr-color-marker"),g=Nt("clr-clear"),h=Nt("clr-close"),u=Nt("clr-color-preview"),d=Nt("clr-color-value"),f=Nt("clr-hue-slider"),p=Nt("clr-hue-marker"),m=Nt("clr-alpha-slider"),_=Nt("clr-alpha-marker"),he(x.el),Xe(x.el),De(l,"mousedown",N=>{l.classList.remove("clr-keyboard-nav"),N.stopPropagation()}),De(a,"mousedown",N=>{De(t,"mousemove",Re)}),De(a,"contextmenu",N=>{N.preventDefault()}),De(a,"touchstart",N=>{t.addEventListener("touchmove",Re,{passive:!1})}),De(c,"mousedown",N=>{De(t,"mousemove",Re)}),De(c,"touchstart",N=>{t.addEventListener("touchmove",Re,{passive:!1})}),De(d,"change",N=>{let D=d.value;if(C||x.inline){let k=D===""?D:nt(D);He(k)}}),De(g,"click",N=>{He(""),dt()}),De(h,"click",N=>{He(),dt()}),De(Nt("clr-format"),"click",".clr-format input",N=>{y=N.target.value,pn(),He()}),De(l,"click",".clr-swatches button",N=>{nt(N.target.textContent),He(),x.swatchesOnly&&dt()}),De(t,"mouseup",N=>{t.removeEventListener("mousemove",Re)}),De(t,"touchend",N=>{t.removeEventListener("touchmove",Re)}),De(t,"mousedown",N=>{b=!1,l.classList.remove("clr-keyboard-nav"),dt()}),De(t,"keydown",N=>{let D=N.key,k=N.target,U=N.shiftKey;if(D==="Escape"?dt(!0):["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(D)&&(b=!0,l.classList.add("clr-keyboard-nav")),D==="Tab"&&k.matches(".clr-picker *")){let ce=Jg(),Pe=ce.shift(),kt=ce.pop();U&&k===Pe?(kt.focus(),N.preventDefault()):!U&&k===kt&&(Pe.focus(),N.preventDefault())}}),De(t,"click",".clr-field button",N=>{R&&oe(),N.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))}),De(c,"keydown",N=>{let D={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(D).includes(N.key)&&(ws(...D[N.key]),N.preventDefault())}),De(a,"click",Re),De(f,"input",_i),De(m,"input",Kl))}function Jg(){return Array.from(l.querySelectorAll("input, button")).filter(k=>!!k.offsetWidth)}function Nt(N){return t.getElementById(N)}function De(N,D,k,U){let q=Element.prototype.matches||Element.prototype.msMatchesSelector;typeof k=="string"?N.addEventListener(D,ce=>{q.call(ce.target,k)&&U.call(ce.target,ce)}):(U=k,N.addEventListener(D,U))}function Ms(N,D){D=D!==r?D:[],t.readyState!=="loading"?N(...D):t.addEventListener("DOMContentLoaded",()=>{N(...D)})}NodeList!==r&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function rE(N,D){C=D,E=C.value,z(D),y=rt(N),pe(),nt(N),He(),E!==N&&C.dispatchEvent(new Event("change",{bubbles:!0}))}let Wl=(()=>{let N={init:nE,set:K,wrap:Xe,close:dt,setInstance:F,setColor:rE,removeInstance:B,updatePosition:pe,ready:Ms};function D(k){Ms(()=>{k&&(typeof k=="string"?he(k):K(k))})}for(let k in N)D[k]=function(){for(var U=arguments.length,q=new Array(U),ce=0;ce<U;ce++)q[ce]=arguments[ce];Ms(N[k],q)};return Ms(()=>{n.addEventListener("resize",k=>{D.updatePosition()}),n.addEventListener("scroll",k=>{D.updatePosition()})}),D})();return Wl.coloris=Wl,Wl})(window,document,Math)})(),qL=Zn.coloris,ZL=Zn.init,QL=Zn.set,eD=Zn.wrap,tD=Zn.close,nD=Zn.setInstance,rD=Zn.removeInstance,oD=Zn.updatePosition,sy=Zn;function VS(){let n="\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253-\u0254\u0256-\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF",t="\u0400-\u04FF\u0500-\u0527\u2DE0-\u2DFF\uA640-\uA69F\u0591-\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F4\uFB12-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFB4F\u0610-\u061A\u0620-\u065F\u066E-\u06D3\u06D5-\u06DC\u06DE-\u06E8\u06EA-\u06EF\u06FA-\u06FC\u06FF\u0750-\u077F\u08A0\u08A2-\u08AC\u08E4-\u08FE\uFB50-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\u200C-\u200C\u0E01-\u0E3A\u0E40-\u0E4E\u1100-\u11FF\u3130-\u3185\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\uFFA1-\uFFDC",e=String.fromCharCode,r="\u30A1-\u30FA\u30FC-\u30FE\uFF66-\uFF9F\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\u3041-\u3096\u3099-\u309E\u3400-\u4DBF\u4E00-\u9FFF"+e(173824)+"-"+e(177983)+e(177984)+"-"+e(178207)+e(194560)+"-"+e(195103)+"\u3003\u3005\u303B",o=n+t+r,i="A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u076D\u0780-\u07A5\u07B1\u0904-\u0939\u093D\u0950\u0958-\u0961\u097D\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60-\u0D61\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6A\u0F88-\u0F8B\u1000-\u1021\u1023-\u1027\u1029-\u102A\u1050-\u1055\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1D00-\u1DBF\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3006\u3031-\u3035\u303B-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",s="\u0300-\u036F\u0483-\u0486\u0591-\u05B9\u05BB-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u0615\u064B-\u065E\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u0901-\u0903\u093C\u093E-\u094D\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7-\u09C8\u09CB-\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A70-\u0A71\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B43\u0B47-\u0B48\u0B4B-\u0B4D\u0B56-\u0B57\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C82-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D82-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2-\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F3E-\u0F3F\u0F71-\u0F84\u0F86-\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102C-\u1032\u1036-\u1039\u1056-\u1059\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8-\u19C9\u1A17-\u1A1B\u1DC0-\u1DC3\u20D0-\u20DC\u20E1\u20E5-\u20EB\u302A-\u302F\u3099-\u309A\uA802\uA806\uA80B\uA823-\uA827\uFB1E\uFE00-\uFE0F\uFE20-\uFE23",l="0-9\u0660-\u0669\u06F0-\u06F9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\uFF10-\uFF19",a=i+s+o,c=l+"_",u=a+c;return{alpha:a,alphanumeric:u,hashChars:"#\\uFF03"}}function XS(){let{alpha:n,alphanumeric:t,hashChars:e}=VS(),r="["+n+"]",o="["+t+"]",i="^|$|[^&/"+t+"]",s="["+e+"]";return"("+i+")("+s+")("+o+"*"+r+o+"*)"}var qS=new RegExp(XS(),"i"),ay=function(n){return G_(n.getTextContent())},ly=function(n){let t=qS.exec(n);if(t===null)return null;let e=t[3].length+1,r=t.index+t[1].length;return{end:r+e,start:r}};var Xd=se("INSERT_HORIZONTAL_RULE_COMMAND"),_s=class n extends Xt{static getType(){return"horizontalrule"}static clone(t){return new n(t.__key)}static importJSON(t){return qd()}static importDOM(){return{hr:()=>({conversion:QS,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(t){let e=document.createElement("hr");fe(e,t.theme.hr);let r="selected";return e?.addEventListener("click",()=>{e.classList.toggle(r)}),e?.setAttribute("x-on:click.outside",'$el.classList.remove("'+r+'")'),e}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return zn().getElementByKey(this.__key)}};function QS(){return{node:qd()}}function qd(){return ge(new _s)}function cy(n){return n.registerCommand(Xd,t=>{let e=M();if(!w(e))return!1;if(e.focus.getNode()!==null){let o=qd();Ga(o)}return!0},J)}var mg={};St(mg,{$computeTableMap:()=>yt,$computeTableMapSkipCellCheck:()=>er,$createTableCellNode:()=>Bt,$createTableNode:()=>wl,$createTableNodeWithDimensions:()=>yy,$createTableRowNode:()=>fo,$createTableSelection:()=>gg,$createTableSelectionFrom:()=>vy,$deleteTableColumn:()=>u0,$deleteTableColumnAtSelection:()=>Ny,$deleteTableColumn__EXPERIMENTAL:()=>g0,$deleteTableRowAtSelection:()=>by,$deleteTableRow__EXPERIMENTAL:()=>d0,$findCellNode:()=>ri,$findTableNode:()=>uo,$getElementForTableNode:()=>ky,$getNodeTriplet:()=>tt,$getTableAndElementByKey:()=>fg,$getTableCellNodeFromLexicalNode:()=>n0,$getTableCellNodeRect:()=>rg,$getTableColumnIndexFromTableCellNode:()=>o0,$getTableNodeFromLexicalNodeOrThrow:()=>Ol,$getTableRowIndexFromTableCellNode:()=>r0,$getTableRowNodeFromTableCellNodeOrThrow:()=>ug,$insertTableColumn:()=>l0,$insertTableColumnAtSelection:()=>Ty,$insertTableColumn__EXPERIMENTAL:()=>c0,$insertTableRow:()=>s0,$insertTableRowAtSelection:()=>Ey,$insertTableRow__EXPERIMENTAL:()=>a0,$isScrollableTablesActive:()=>Es,$isTableCellNode:()=>Z,$isTableNode:()=>Fe,$isTableRowNode:()=>ve,$isTableSelection:()=>Te,$mergeCells:()=>Sy,$removeTableRowAtIndex:()=>i0,$unmergeCell:()=>h0,INSERT_TABLE_COMMAND:()=>Cy,TableCellHeaderStates:()=>we,TableCellNode:()=>On,TableExtension:()=>v0,TableNode:()=>wn,TableObserver:()=>vl,TableRowNode:()=>go,applyTableHandlers:()=>Oy,getDOMCellFromTarget:()=>xs,getTableElement:()=>Dr,getTableObserverFromTableElement:()=>ig,registerTableCellUnmergeTransform:()=>Ry,registerTablePlugin:()=>$y,registerTableSelectionObserver:()=>Iy,setScrollableTablesActive:()=>Dy});var lg=/^(\d+(?:\.\d+)?)px$/,we={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1},On=class n extends $e{constructor(e=we.NO_STATUS,r=1,o,i){super(i);v(this,"__colSpan");v(this,"__rowSpan");v(this,"__headerState");v(this,"__width");v(this,"__backgroundColor");v(this,"__verticalAlign");this.__colSpan=r,this.__rowSpan=1,this.__headerState=e,this.__width=o,this.__backgroundColor=null,this.__verticalAlign=void 0}static getType(){return"tablecell"}static clone(e){return new n(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:uy,priority:0}),th:e=>({conversion:uy,priority:0})}}static importJSON(e){return Bt().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}createDOM(e){let r=document.createElement(this.getTag());return this.__width&&(r.style.width=`${this.__width}px`),this.__colSpan>1&&(r.colSpan=this.__colSpan),this.__rowSpan>1&&(r.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(r.style.backgroundColor=this.__backgroundColor),Qd(this.__verticalAlign)&&(r.style.verticalAlign=this.__verticalAlign),fe(r,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),r}exportDOM(e){let r=super.exportDOM(e);if(qr(r.element)){let o=r.element;o.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),o.style.border="1px solid black",this.__colSpan>1&&(o.colSpan=this.__colSpan),this.__rowSpan>1&&(o.rowSpan=this.__rowSpan),o.style.width=`${this.getWidth()||75}px`,o.style.verticalAlign=this.getVerticalAlign()||"top",o.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(o.style.backgroundColor="#f2f3f5")}return r}exportJSON(){return{...super.exportJSON(),...Qd(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){let r=this.getWritable();return r.__colSpan=e,r}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){let r=this.getWritable();return r.__rowSpan=e,r}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e,r=we.BOTH){let o=this.getWritable();return o.__headerState=e&r|o.__headerState&~r,o}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){let r=this.getWritable();return r.__width=e,r}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){let r=this.getWritable();return r.__backgroundColor=e,r}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){let r=this.getWritable();return r.__verticalAlign=e||void 0,r}toggleHeaderStyle(e){let r=this.getWritable();return(r.__headerState&e)===e?r.__headerState-=e:r.__headerState+=e,r}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==we.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}};function Qd(n){return n==="middle"||n==="bottom"}function uy(n){let t=n,e=n.nodeName.toLowerCase(),r;lg.test(t.style.width)&&(r=parseFloat(t.style.width));let o=Bt(e==="th"?we.ROW:we.NO_STATUS,t.colSpan,r);o.__rowSpan=t.rowSpan;let i=t.style.backgroundColor;i!==""&&(o.__backgroundColor=i);let s=t.style.verticalAlign;Qd(s)&&(o.__verticalAlign=s);let l=t.style,a=(l&&l.textDecoration||"").split(" "),c=l.fontWeight==="700"||l.fontWeight==="bold",u=a.includes("line-through"),d=l.fontStyle==="italic",g=a.includes("underline");return{after:h=>{let f=[],p=null,m=()=>{if(p){let _=p.getFirstChild();Ke(_)&&p.getChildrenSize()===1&&_.remove()}};for(let _ of h)kp(_)||Y(_)||Ke(_)?(Y(_)&&(c&&_.toggleFormat("bold"),u&&_.toggleFormat("strikethrough"),d&&_.toggleFormat("italic"),g&&_.toggleFormat("underline")),p?p.append(_):(p=X().append(_),f.push(p))):(f.push(_),m(),p=null);return m(),f.length===0&&f.push(X()),f},node:o}}function Bt(n=we.NO_STATUS,t=1,e){return ge(new On(n,t,e))}function Z(n){return n instanceof On}var Cy=se("INSERT_TABLE_COMMAND");function j(n,...t){let e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(let o of t)r.append("v",o);throw e.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${e.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}var go=class n extends $e{constructor(e,r){super(r);v(this,"__height");this.__height=e}static getType(){return"tablerow"}static clone(e){return new n(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:e0,priority:0})}}static importJSON(e){return fo().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}exportJSON(){let e=this.getHeight();return{...super.exportJSON(),...e===void 0?void 0:{height:e}}}createDOM(e){let r=document.createElement("tr");return this.__height&&(r.style.height=`${this.__height}px`),fe(r,e.theme.tableRow),r}extractWithChild(e,r,o){return o==="html"}isShadowRoot(){return!0}setHeight(e){let r=this.getWritable();return r.__height=e,r}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}};function e0(n){let t=n,e;return lg.test(t.style.height)&&(e=parseFloat(t.style.height)),{after:r=>Gu(r,Z),node:fo(e)}}function fo(n){return ge(new go(n))}function ve(n){return n instanceof go}var cg=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,t0=cg&&"documentMode"in document?document.documentMode:null,dy=cg&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);function yy(n,t,e=!0){let r=wl();for(let o=0;o<n;o++){let i=fo();for(let s=0;s<t;s++){let l=we.NO_STATUS;typeof e=="object"?(o===0&&e.rows&&(l|=we.ROW),s===0&&e.columns&&(l|=we.COLUMN)):e&&(o===0&&(l|=we.ROW),s===0&&(l|=we.COLUMN));let a=Bt(l),c=X();c.append(et()),a.append(c),i.append(a)}r.append(i)}return r}function n0(n){let t=V(n,e=>Z(e));return Z(t)?t:null}function ug(n){let t=V(n,e=>ve(e));if(ve(t))return t;throw new Error("Expected table cell to be inside of table row.")}function Ol(n){let t=V(n,e=>Fe(e));if(Fe(t))return t;throw new Error("Expected table cell to be inside of table.")}function r0(n){let t=ug(n);return Ol(t).getChildren().findIndex(e=>e.is(t))}function o0(n){return ug(n).getChildren().findIndex(t=>t.is(n))}function xy(n,t){let e=Ol(n),{x:r,y:o}=e.getCordsFromCellNode(n,t);return{above:e.getCellNodeFromCords(r,o-1,t),below:e.getCellNodeFromCords(r,o+1,t),left:e.getCellNodeFromCords(r-1,o,t),right:e.getCellNodeFromCords(r+1,o,t)}}function i0(n,t){let e=n.getChildren();if(t>=e.length||t<0)throw new Error("Expected table cell to be inside of table row.");return e[t].remove(),n}function s0(n,t,e=!0,r,o){let i=n.getChildren();if(t>=i.length||t<0)throw new Error("Table row target index out of range");let s=i[t];if(!ve(s))throw new Error("Row before insertion index does not exist.");for(let l=0;l<r;l++){let a=s.getChildren(),c=a.length,u=fo();for(let d=0;d<c;d++){let g=a[d];Z(g)||j(12);let{above:h,below:f}=xy(g,o),p=we.NO_STATUS,m=h&&h.getWidth()||f&&f.getWidth()||void 0;(h&&h.hasHeaderState(we.COLUMN)||f&&f.hasHeaderState(we.COLUMN))&&(p|=we.COLUMN);let _=Bt(p,1,m);_.append(X()),u.append(_)}e?s.insertAfter(u):s.insertBefore(u)}return n}cg&&"InputEvent"in window&&!t0&&new window.InputEvent("input");var eg=(n,t)=>n===we.BOTH||n===t?t:we.NO_STATUS;function Ey(n=!0){let t=M();w(t)||Te(t)||j(188);let e=t.anchor.getNode(),r=t.focus.getNode(),[o]=tt(e),[i,,s]=tt(r),[,l,a]=yt(s,i,o),{startRow:c}=a,{startRow:u}=l;return n?tg(c+o.__rowSpan>u+i.__rowSpan?o:i,!0):tg(u<c?i:o,!1)}var a0=Ey;function tg(n,t=!0){let[,,e]=tt(n),[r,o]=yt(e,n,n),i=r[0].length,{startRow:s}=o,l=null;if(t){let a=s+n.__rowSpan-1,c=r[a],u=fo();for(let g=0;g<i;g++){let{cell:h,startRow:f}=c[g];if(f+h.__rowSpan-1<=a){let p=c[g].cell.__headerState,m=eg(p,we.COLUMN);u.append(Bt(m).append(X()))}else h.setRowSpan(h.__rowSpan+1)}let d=e.getChildAtIndex(a);ve(d)||j(256),d.insertAfter(u),l=u}else{let a=s,c=r[a],u=fo();for(let g=0;g<i;g++){let{cell:h,startRow:f}=c[g];if(f===a){let p=c[g].cell.__headerState,m=eg(p,we.COLUMN);u.append(Bt(m).append(X()))}else h.setRowSpan(h.__rowSpan+1)}let d=e.getChildAtIndex(a);ve(d)||j(257),d.insertBefore(u),l=u}return l}function l0(n,t,e=!0,r,o){let i=n.getChildren(),s=[];for(let l=0;l<i.length;l++){let a=i[l];if(ve(a))for(let c=0;c<r;c++){let u=a.getChildren();if(t>=u.length||t<0)throw new Error("Table column target index out of range");let d=u[t];Z(d)||j(12);let{left:g,right:h}=xy(d,o),f=we.NO_STATUS;(g&&g.hasHeaderState(we.ROW)||h&&h.hasHeaderState(we.ROW))&&(f|=we.ROW);let p=Bt(f);p.append(X()),s.push({newTableCell:p,targetCell:d})}}return s.forEach(({newTableCell:l,targetCell:a})=>{e?a.insertAfter(l):a.insertBefore(l)}),n}function Ty(n=!0){let t=M();w(t)||Te(t)||j(188);let e=t.anchor.getNode(),r=t.focus.getNode(),[o]=tt(e),[i,,s]=tt(r),[,l,a]=yt(s,i,o),{startColumn:c}=a,{startColumn:u}=l;return n?ng(c+o.__colSpan>u+i.__colSpan?o:i,!0):ng(u<c?i:o,!1)}var c0=Ty;function ng(n,t=!0,e=!0){let[,,r]=tt(n),[o,i]=yt(r,n,n),s=o.length,{startColumn:l}=i,a=t?l+n.__colSpan-1:l-1,c=r.getFirstChild();ve(c)||j(120);let u=null;function d(f=we.NO_STATUS){let p=Bt(f).append(X());return u===null&&(u=p),p}let g=c;e:for(let f=0;f<s;f++){if(f!==0){let b=g.getNextSibling();ve(b)||j(121),g=b}let p=o[f],m=p[a<0?0:a].cell.__headerState,_=eg(m,we.ROW);if(a<0){dg(g,d(_));continue}let{cell:C,startColumn:y,startRow:E}=p[a];if(y+C.__colSpan-1<=a){let b=C,T=E,x=a;for(;T!==f&&b.__rowSpan>1;){if(x-=C.__colSpan,!(x>=0)){g.append(d(_));continue e}{let{cell:A,startRow:O}=p[x];b=A,T=O}}b.insertAfter(d(_))}else C.setColSpan(C.__colSpan+1)}u!==null&&e&&ys(u);let h=r.getColWidths();if(h){let f=[...h],p=a<0?0:a,m=f[p];f.splice(p,0,m),r.setColWidths(f)}return u}function u0(n,t){let e=n.getChildren();for(let r=0;r<e.length;r++){let o=e[r];if(ve(o)){let i=o.getChildren();if(t>=i.length||t<0)throw new Error("Table column target index out of range");i[t].remove()}}return n}function by(){let n=M();w(n)||Te(n)||j(188);let[t,e]=n.isBackward()?[n.focus.getNode(),n.anchor.getNode()]:[n.anchor.getNode(),n.focus.getNode()],[r,,o]=tt(t),[i]=tt(e),[s,l,a]=yt(o,r,i),{startRow:c}=l,{startRow:u}=a,d=u+i.__rowSpan-1;if(s.length===d-c+1)return void o.remove();let g=s[0].length,h=s[d+1],f=o.getChildAtIndex(d+1);for(let p=d;p>=c;p--){for(let _=g-1;_>=0;_--){let{cell:C,startRow:y,startColumn:E}=s[p][_];if(E===_){if(y<c||y+C.__rowSpan-1>d){let b=Math.max(y,c),T=Math.min(C.__rowSpan+y-1,d),x=b<=T?T-b+1:0;C.setRowSpan(C.__rowSpan-x)}if(y>=c&&y+C.__rowSpan-1>d&&p===d){f===null&&j(122);let b=null;for(let T=0;T<_;T++){let x=h[T],A=x.cell;x.startRow===p+1&&(b=A),A.__colSpan>1&&(T+=A.__colSpan-1)}b===null?dg(f,C):b.insertAfter(C)}}}let m=o.getChildAtIndex(p);ve(m)||j(206,String(p)),m.remove()}if(h!==void 0){let{cell:p}=h[0];ys(p)}else{let p=s[c-1],{cell:m}=p[0];ys(m)}}var d0=by;function Ny(){let n=M();w(n)||Te(n)||j(188);let t=n.anchor.getNode(),e=n.focus.getNode(),[r,,o]=tt(t),[i]=tt(e),[s,l,a]=yt(o,r,i),{startColumn:c}=l,{startRow:u,startColumn:d}=a,g=Math.min(c,d),h=Math.max(c+r.__colSpan-1,d+i.__colSpan-1),f=h-g+1;if(s[0].length===h-g+1)return o.selectPrevious(),void o.remove();let p=s.length;for(let y=0;y<p;y++)for(let E=g;E<=h;E++){let{cell:b,startColumn:T}=s[y][E];if(T<g){if(E===g){let x=g-T;b.setColSpan(b.__colSpan-Math.min(f,b.__colSpan-x))}}else if(T+b.__colSpan-1>h){if(E===h){let x=h-T+1;b.setColSpan(b.__colSpan-x)}}else b.remove()}let m=s[u],_=c>d?m[c+r.__colSpan]:m[d+i.__colSpan];if(_!==void 0){let{cell:y}=_;ys(y)}else{let y=d<c?m[d-1]:m[c-1],{cell:E}=y;ys(E)}let C=o.getColWidths();if(C){let y=[...C];y.splice(g,f),o.setColWidths(y)}}var g0=Ny;function ys(n){let t=n.getFirstDescendant();t==null?n.selectStart():t.getParentOrThrow().selectStart()}function dg(n,t){let e=n.getFirstChild();e!==null?e.insertBefore(t):n.append(t)}function Sy(n){if(n.length===0)return null;let t=Ol(n[0]),[e]=er(t,null,null),r=1/0,o=-1/0,i=1/0,s=-1/0,l=new Set;for(let h of e)for(let f of h){if(!f||!f.cell)continue;let p=f.cell.getKey();if(!l.has(p)&&n.some(m=>m.is(f.cell))){l.add(p);let m=f.startRow,_=f.startColumn,C=f.cell.__rowSpan||1,y=f.cell.__colSpan||1;r=Math.min(r,m),o=Math.max(o,m+C-1),i=Math.min(i,_),s=Math.max(s,_+y-1)}}if(r===1/0||i===1/0)return null;let a=o-r+1,c=s-i+1,u=e[r][i];if(!u.cell)return null;let d=u.cell;d.setColSpan(c),d.setRowSpan(a);let g=new Set([d.getKey()]);for(let h=r;h<=o;h++)for(let f=i;f<=s;f++){let p=e[h][f];if(!p.cell)continue;let m=p.cell,_=m.getKey();g.has(_)||(g.add(_),f0(m)||d.append(...m.getChildren()),m.remove())}return d.getChildrenSize()===0&&d.append(X()),d}function f0(n){if(n.getChildrenSize()!==1)return!1;let t=n.getFirstChildOrThrow();return!(!_r(t)||!t.isEmpty())}function h0(){let n=M();w(n)||Te(n)||j(188);let t=n.anchor.getNode(),e=V(t,Z);return Z(e)||j(148),Ay(e)}function Ay(n){let[t,e,r]=tt(n),o=t.__colSpan,i=t.__rowSpan;if(o===1&&i===1)return;let[s,l]=yt(r,t,t),{startColumn:a,startRow:c}=l,u=t.__headerState&we.COLUMN,d=Array.from({length:o},(f,p)=>{let m=u;for(let _=0;m!==0&&_<s.length;_++)m&=s[_][p+a].cell.__headerState;return m}),g=t.__headerState&we.ROW,h=Array.from({length:i},(f,p)=>{let m=g;for(let _=0;m!==0&&_<s[0].length;_++)m&=s[p+c][_].cell.__headerState;return m});if(o>1){for(let f=1;f<o;f++)t.insertAfter(Bt(d[f]|h[0]).append(X()));t.setColSpan(1)}if(i>1){let f;for(let p=1;p<i;p++){let m=c+p,_=s[m];f=(f||e).getNextSibling(),ve(f)||j(125);let C=null;for(let y=0;y<a;y++){let E=_[y],b=E.cell;E.startRow===m&&(C=b),b.__colSpan>1&&(y+=b.__colSpan-1)}if(C===null)for(let y=o-1;y>=0;y--)dg(f,Bt(d[y]|h[p]).append(X()));else for(let y=o-1;y>=0;y--)C.insertAfter(Bt(d[y]|h[p]).append(X()))}t.setRowSpan(1)}}function yt(n,t,e){let[r,o,i]=er(n,t,e);return o===null&&j(207),i===null&&j(208),[r,o,i]}function er(n,t,e){let r=[],o=null,i=null;function s(a){let c=r[a];return c===void 0&&(r[a]=c=[]),c}let l=n.getChildren();for(let a=0;a<l.length;a++){let c=l[a];ve(c)||j(209);let u=s(a);for(let d=c.getFirstChild(),g=0;d!=null;d=d.getNextSibling()){for(Z(d)||j(147);u[g]!==void 0;)g++;let h={cell:d,startColumn:g,startRow:a},{__rowSpan:f,__colSpan:p}=d;for(let m=0;m<f&&!(a+m>=l.length);m++){let _=s(a+m);for(let C=0;C<p;C++)_[g+C]=h}t!==null&&o===null&&t.is(d)&&(o=h),e!==null&&i===null&&e.is(d)&&(i=h)}}return[r,o,i]}function tt(n){let t;if(n instanceof On)t=n;else if("__type"in n){let o=V(n,Z);Z(o)||j(148),t=o}else{let o=V(n.getNode(),Z);Z(o)||j(148),t=o}let e=t.getParent();ve(e)||j(149);let r=e.getParent();return Fe(r)||j(210),[t,e,r]}function Sl(n,t,e){let r,o=Math.min(t.startColumn,e.startColumn),i=Math.min(t.startRow,e.startRow),s=Math.max(t.startColumn+t.cell.__colSpan-1,e.startColumn+e.cell.__colSpan-1),l=Math.max(t.startRow+t.cell.__rowSpan-1,e.startRow+e.cell.__rowSpan-1);do{r=!1;for(let a=0;a<n.length;a++)for(let c=0;c<n[0].length;c++){let u=n[a][c];if(!u)continue;let d=u.startColumn+u.cell.__colSpan-1,g=u.startRow+u.cell.__rowSpan-1,h=u.startColumn<=s&&d>=o,f=u.startRow<=l&&g>=i;if(h&&f){let p=Math.min(o,u.startColumn),m=Math.max(s,d),_=Math.min(i,u.startRow),C=Math.max(l,g);p===o&&m===s&&_===i&&C===l||(o=p,s=m,i=_,l=C,r=!0)}}}while(r);return{maxColumn:s,maxRow:l,minColumn:o,minRow:i}}function rg(n){let[t,,e]=tt(n),r=e.getChildren(),o=r.length,i=r[0].getChildren().length,s=new Array(o);for(let l=0;l<o;l++)s[l]=new Array(i);for(let l=0;l<o;l++){let a=r[l].getChildren(),c=0;for(let u=0;u<a.length;u++){for(;s[l][c];)c++;let d=a[u],g=d.__rowSpan||1,h=d.__colSpan||1;for(let f=0;f<g;f++)for(let p=0;p<h;p++)s[l+f][c+p]=d;if(t===d)return{colSpan:h,columnIndex:c,rowIndex:l,rowSpan:g};c+=h}}return null}function gy(n){let[[t,e,r,o],[i,s,l,a]]=["anchor","focus"].map(c=>{let u=n[c].getNode(),d=V(u,Z);Z(d)||j(238,c,u.getKey(),u.getType());let g=d.getParent();ve(g)||j(239,c);let h=g.getParent();return Fe(h)||j(240,c),[u,d,g,h]});return o.is(a)||j(241),{anchorCell:e,anchorNode:t,anchorRow:r,anchorTable:o,focusCell:s,focusNode:i,focusRow:l,focusTable:a}}var Al=class n{constructor(t,e,r){v(this,"tableKey");v(this,"anchor");v(this,"focus");v(this,"_cachedNodes");v(this,"dirty");this.anchor=e,this.focus=r,e._selection=this,r._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=t}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){if(this.tableKey==="root"||this.anchor.key==="root"||this.anchor.type!=="element"||this.focus.key==="root"||this.focus.type!=="element")return!1;let t=ye(this.tableKey),e=ye(this.anchor.key),r=ye(this.focus.key);return t!==null&&e!==null&&r!==null}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return Te(t)&&this.tableKey===t.tableKey&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)}set(t,e,r){this.dirty=this.dirty||t!==this.tableKey||e!==this.anchor.key||r!==this.focus.key,this.tableKey=t,this.anchor.key=e,this.focus.key=r,this._cachedNodes=null}clone(){return new n(this.tableKey,un(this.anchor.key,this.anchor.offset,this.anchor.type),un(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(t){}insertText(){}hasFormat(t){let e=0;this.getNodes().filter(Z).forEach(o=>{let i=o.getFirstChild();_r(i)&&(e|=i.getTextFormat())});let r=Zp[t];return(e&r)!==0}insertNodes(t){let e=this.focus.getNode();P(e)||j(151),Jn(e.select(0,e.getChildrenSize())).insertNodes(t)}getShape(){let{anchorCell:t,focusCell:e}=gy(this),r=rg(t);r===null&&j(153);let o=rg(e);o===null&&j(155);let i=Math.min(r.columnIndex,o.columnIndex),s=Math.max(r.columnIndex+r.colSpan-1,o.columnIndex+o.colSpan-1),l=Math.min(r.rowIndex,o.rowIndex),a=Math.max(r.rowIndex+r.rowSpan-1,o.rowIndex+o.rowSpan-1);return{fromX:Math.min(i,s),fromY:Math.min(l,a),toX:Math.max(i,s),toY:Math.max(l,a)}}getNodes(){if(!this.isValid())return[];let t=this._cachedNodes;if(t!==null)return t;let{anchorTable:e,anchorCell:r,focusCell:o}=gy(this),i=o.getParents()[1];if(i!==e){if(e.isParentOf(o)){let m=i.getParent();m==null&&j(159),this.set(this.tableKey,o.getKey(),m.getKey())}else{let m=e.getParent();m==null&&j(158),this.set(this.tableKey,m.getKey(),o.getKey())}return this.getNodes()}let[s,l,a]=yt(e,r,o),{minColumn:c,maxColumn:u,minRow:d,maxRow:g}=Sl(s,l,a),h=new Map([[e.getKey(),e]]),f=null;for(let m=d;m<=g;m++)for(let _=c;_<=u;_++){let{cell:C}=s[m][_],y=C.getParent();ve(y)||j(160),y!==f&&(h.set(y.getKey(),y),f=y),h.has(C.getKey())||p0(C,E=>{h.set(E.getKey(),E)})}let p=Array.from(h.values());return om()||(this._cachedNodes=p),p}getTextContent(){let t=this.getNodes().filter(r=>Z(r)),e="";for(let r=0;r<t.length;r++){let o=t[r],i=o.__parent,s=(t[r+1]||{}).__parent;e+=o.getTextContent()+(s!==i?`
`:"	")}return e}};function Te(n){return n instanceof Al}function gg(){let n=un("root",0,"element"),t=un("root",0,"element");return new Al("root",n,t)}function vy(n,t,e){n.getKey(),t.getKey(),e.getKey();let r=M(),o=Te(r)?r.clone():gg();return o.set(n.getKey(),t.getKey(),e.getKey()),o}function p0(n,t){let e=[[n]];for(let r=e.at(-1);r!==void 0&&e.length>0;r=e.at(-1)){let o=r.pop();o===void 0?e.pop():t(o)!==!1&&P(o)&&e.push(o.getChildren())}}function fg(n,t=zn()){let e=ye(n);Fe(e)||j(231,n);let r=Dr(e,t.getElementByKey(n));return r===null&&j(232,n),{tableElement:r,tableNode:e}}var vl=class{constructor(t,e){v(this,"focusX");v(this,"focusY");v(this,"listenersToRemove");v(this,"table");v(this,"isHighlightingCells");v(this,"anchorX");v(this,"anchorY");v(this,"tableNodeKey");v(this,"anchorCell");v(this,"focusCell");v(this,"anchorCellNodeKey");v(this,"focusCellNodeKey");v(this,"editor");v(this,"tableSelection");v(this,"hasHijackedSelectionStyles");v(this,"isSelecting");v(this,"pointerType");v(this,"shouldCheckSelection");v(this,"abortController");v(this,"listenerOptions");v(this,"nextFocus");this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=e,this.editor=t,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach(t=>t()),this.listenersToRemove.clear()}$lookup(){return fg(this.tableNodeKey,this.editor)}trackTable(){let t=new MutationObserver(e=>{this.editor.getEditorState().read(()=>{let r=!1;for(let s=0;s<e.length;s++){let l=e[s].target.nodeName;if(l==="TABLE"||l==="TBODY"||l==="THEAD"||l==="TR"){r=!0;break}}if(!r)return;let{tableNode:o,tableElement:i}=this.$lookup();this.table=oi(o,i)},{editor:this.editor})});this.editor.getEditorState().read(()=>{let{tableNode:e,tableElement:r}=this.$lookup();this.table=oi(e,r),t.observe(r,{attributes:!0,childList:!0,subtree:!0})},{editor:this.editor})}$clearHighlight(){let t=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();let{tableNode:e,tableElement:r}=this.$lookup();Tl(t,oi(e,r),null),M()!==null&&(je(null),t.dispatchCommand(Xr,void 0))}$enableHighlightStyle(){let t=this.editor,{tableElement:e}=this.$lookup();bt(e,t._config.theme.tableSelection),e.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){let{tableElement:t}=this.$lookup();fe(t,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(t){if(t!==null){t.tableKey!==this.tableNodeKey&&j(233,t.tableKey,this.tableNodeKey);let e=this.editor;this.tableSelection=t,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),Tl(e,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(t){this.nextFocus=t}getAndClearNextFocus(){let{nextFocus:t}=this;return t!==null&&(this.nextFocus=null),t}updateDOMSelection(){if(this.anchorCell!==null&&this.focusCell!==null){let t=Tr(this.editor._window);t&&t.rangeCount>0&&t.removeAllRanges()}}$setFocusCellForSelection(t,e=!1){let r=this.editor,{tableNode:o}=this.$lookup(),i=t.x,s=t.y;if(this.focusCell=t,this.isHighlightingCells||this.anchorX===i&&this.anchorY===s&&!e){if(i===this.focusX&&s===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=i,this.focusY=s,this.isHighlightingCells){let l=sg(o,t.elem);if(this.tableSelection!=null&&this.anchorCellNodeKey!=null&&l!==null)return this.focusCellNodeKey=l.getKey(),this.tableSelection=vy(o,this.$getAnchorTableCellOrThrow(),l),je(this.tableSelection),r.dispatchCommand(Xr,void 0),Tl(r,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?ye(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){let t=this.$getAnchorTableCell();return t===null&&j(234),t}$getFocusTableCell(){return this.focusCellNodeKey?ye(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){let t=this.$getFocusTableCell();return t===null&&j(235),t}$setAnchorCellForSelection(t){this.isHighlightingCells=!1,this.anchorCell=t,this.anchorX=t.x,this.anchorY=t.y;let{tableNode:e}=this.$lookup(),r=sg(e,t.elem);if(r!==null){let o=r.getKey();this.tableSelection=this.tableSelection!=null?this.tableSelection.clone():gg(),this.anchorCellNodeKey=o}}$formatCells(t){let e=M();Te(e)||j(236);let r=hr(),o=r.anchor,i=r.focus,s=e.getNodes().filter(Z);s.length>0||j(237);let l=s[0].getFirstChild(),a=_r(l)?l.getFormatFlags(t,null):null;s.forEach(c=>{o.set(c.getKey(),0,"element"),i.set(c.getKey(),c.getChildrenSize(),"element"),r.formatText(t,a)}),je(e),this.editor.dispatchCommand(Xr,void 0)}$clearText(){let{editor:t}=this,e=ye(this.tableNodeKey);if(!Fe(e))throw new Error("Expected TableNode.");let r=M();Te(r)||j(253);let o=r.getNodes().filter(Z),i=e.getFirstChild(),s=e.getLastChild();if(o.length>0&&i!==null&&s!==null&&ve(i)&&ve(s)&&o[0]===i.getFirstChild()&&o[o.length-1]===s.getLastChild()){e.selectPrevious();let l=e.getParent();return e.remove(),void(jn(l)&&l.isEmpty()&&t.dispatchCommand(yr,void 0))}o.forEach(l=>{if(P(l)){let a=X(),c=et();a.append(c),l.append(a),l.getChildren().forEach(u=>{u!==a&&u.remove()})}}),Tl(t,this.table,null),je(null),t.dispatchCommand(Xr,void 0)}},og="__lexicalTableSelection";function ni(n){return qr(n)&&n.nodeName==="TABLE"}function Dr(n,t){if(!t)return t;let e=ni(t)?t:n.getDOMSlot(t).element;return e.nodeName!=="TABLE"&&j(245,t.nodeName),e}function hg(n){return n._window}function Cs(n,t){for(let e=t,r=null;e!==null;e=e.getParent()){if(n.is(e))return r;Z(e)&&(r=e)}return null}var m0=[[xn,"down"],[qt,"up"],[Ho,"backward"],[wa,"forward"]],_0=[Na,Xi,Ko],C0=[Ma,La];function Oy(n,t,e,r){let o=e.getRootElement(),i=hg(e);o!==null&&i!==null||j(246);let s=new vl(e,n.getKey()),l=Dr(n,t);(function(h,f){ig(h)!==null&&j(205),h[og]=f})(l,s),s.listenersToRemove.add(()=>(function(h,f){ig(h)===f&&delete h[og]})(l,s));let a=h=>{if(s.pointerType=h.pointerType,h.button!==0||!Ft(h.target)||!i)return;let f=xs(h.target);f!==null&&e.update(()=>{let p=Wn();if(dy&&h.shiftKey&&vn(p,n)&&(w(p)||Te(p))){let m=p.anchor.getNode(),_=Cs(n,p.anchor.getNode());_?(s.$setAnchorCellForSelection(co(s,_)),s.$setFocusCellForSelection(f),Qn(h)):(n.isBefore(m)?n.selectStart():n.selectEnd()).anchor.set(p.anchor.key,p.anchor.offset,p.anchor.type)}else h.pointerType!=="touch"&&s.$setAnchorCellForSelection(f)}),(()=>{if(s.isSelecting)return;let p=()=>{s.isSelecting=!1,i.removeEventListener("pointerup",p),i.removeEventListener("pointermove",m)},m=_=>{if(1&~_.buttons&&s.isSelecting)return s.isSelecting=!1,i.removeEventListener("pointerup",p),void i.removeEventListener("pointermove",m);if(!Ft(_.target))return;let C=null,y=!(dy||l.contains(_.target));if(y)C=fy(l,_.target);else for(let E of document.elementsFromPoint(_.clientX,_.clientY))if(C=fy(l,E),C)break;!C||s.focusCell!==null&&C.elem===s.focusCell.elem||(s.setNextFocus({focusCell:C,override:y}),e.dispatchCommand(Xr,void 0))};s.isSelecting=!0,i.addEventListener("pointerup",p,s.listenerOptions),i.addEventListener("pointermove",m,s.listenerOptions)})()};l.addEventListener("pointerdown",a,s.listenerOptions),s.listenersToRemove.add(()=>{l.removeEventListener("pointerdown",a)});let c=h=>{h.detail>=3&&Ft(h.target)&&xs(h.target)!==null&&h.preventDefault()};l.addEventListener("mousedown",c,s.listenerOptions),s.listenersToRemove.add(()=>{l.removeEventListener("mousedown",c)});let u=h=>{let f=h.target;h.button===0&&Ft(f)&&e.update(()=>{let p=M();Te(p)&&p.tableKey===s.tableNodeKey&&o.contains(f)&&s.$clearHighlight()})};i.addEventListener("pointerdown",u,s.listenerOptions),s.listenersToRemove.add(()=>{i.removeEventListener("pointerdown",u)});for(let[h,f]of m0)s.listenersToRemove.add(e.registerCommand(h,p=>Ly(e,p,f,n,s),pt));s.listenersToRemove.add(e.registerCommand(Er,h=>{let f=M();if(Te(f)){let p=Cs(n,f.focus.getNode());if(p!==null)return Qn(h),p.selectEnd(),!0}return!1},pt));let d=h=>()=>{let f=M();if(!vn(f,n))return!1;if(Te(f))return s.$clearText(),!0;if(w(f)){if(!Z(Cs(n,f.anchor.getNode())))return!1;let p=f.anchor.getNode(),m=f.focus.getNode(),_=n.isParentOf(p),C=n.isParentOf(m);if(_&&!C||C&&!_)return s.$clearText(),!0;let y=V(f.anchor.getNode(),b=>P(b)),E=y&&V(y,b=>P(b)&&Z(b.getParent()));if(!P(E)||!P(y))return!1;if(h===Xi&&E.getPreviousSibling()===null)return!0}return!1};for(let h of _0)s.listenersToRemove.add(e.registerCommand(h,d(h),pt));let g=h=>{let f=M();if(!Te(f)&&!w(f))return!1;let p=n.isParentOf(f.anchor.getNode());if(p!==n.isParentOf(f.focus.getNode())){let m=p?"anchor":"focus",_=p?"focus":"anchor",{key:C,offset:y,type:E}=f[_];return n[f[m].isBefore(f[_])?"selectPrevious":"selectNext"]()[_].set(C,y,E),!1}return!!vn(f,n)&&!!Te(f)&&(h&&(h.preventDefault(),h.stopPropagation()),s.$clearText(),!0)};for(let h of C0)s.listenersToRemove.add(e.registerCommand(h,g,pt));return s.listenersToRemove.add(e.registerCommand(ba,h=>{let f=M();if(f){if(!Te(f)&&!w(f))return!1;ns(e,Yt(h,ClipboardEvent)?h:null,o_(f));let p=g(h);return w(f)?(f.removeText(),!0):p}return!1},pt)),s.listenersToRemove.add(e.registerCommand(vt,h=>{let f=M();if(!vn(f,n))return!1;if(Te(f))return s.$formatCells(h),!0;if(w(f)){let p=V(f.anchor.getNode(),m=>Z(m));if(!Z(p))return!1}return!1},pt)),s.listenersToRemove.add(e.registerCommand(Wt,h=>{let f=M();if(!Te(f)||!vn(f,n))return!1;let p=f.anchor.getNode(),m=f.focus.getNode();if(!Z(p)||!Z(m))return!1;if((function(O,L){if(Te(O)){let R=O.anchor.getNode(),K=O.focus.getNode();if(L&&R&&K){let[F]=yt(L,R,K);return R.getKey()===F[0][0].cell.getKey()&&K.getKey()===F[F.length-1].at(-1).cell.getKey()}}return!1})(f,n))return n.setFormat(h),!0;let[_,C,y]=yt(n,p,m),E=Math.max(C.startRow+C.cell.__rowSpan-1,y.startRow+y.cell.__rowSpan-1),b=Math.max(C.startColumn+C.cell.__colSpan-1,y.startColumn+y.cell.__colSpan-1),T=Math.min(C.startRow,y.startRow),x=Math.min(C.startColumn,y.startColumn),A=new Set;for(let O=T;O<=E;O++)for(let L=x;L<=b;L++){let R=_[O][L].cell;if(A.has(R))continue;A.add(R),R.setFormat(h);let K=R.getChildren();for(let F=0;F<K.length;F++){let B=K[F];P(B)&&!B.isInline()&&B.setFormat(h)}}return!0},pt)),s.listenersToRemove.add(e.registerCommand(Ea,h=>{let f=M();if(!vn(f,n))return!1;if(Te(f))return s.$clearHighlight(),!1;if(w(f)){let p=V(f.anchor.getNode(),m=>Z(m));if(!Z(p))return!1;if(typeof h=="string"){let m=my(e,f,n);if(m)return py(m,n,[et(h)]),!0}}return!1},pt)),r&&s.listenersToRemove.add(e.registerCommand(Vn,h=>{let f=M();if(!w(f)||!f.isCollapsed()||!vn(f,n))return!1;let p=ri(f.anchor.getNode());return!(p===null||!n.is(uo(p)))&&(Qn(h),(function(m,_){let C=_==="next"?"getNextSibling":"getPreviousSibling",y=_==="next"?"getFirstChild":"getLastChild",E=m[C]();if(P(E))return E.selectEnd();let b=V(m,ve);b===null&&j(247);for(let x=b[C]();ve(x);x=x[C]()){let A=x[y]();if(P(A))return A.selectEnd()}let T=V(b,Fe);T===null&&j(248),_==="next"?T.selectNext():T.selectPrevious()})(p,h.shiftKey?"previous":"next"),!0)},pt)),s.listenersToRemove.add(e.registerCommand(Up,h=>n.isSelected(),pt)),s.listenersToRemove.add(e.registerCommand(Qi,(h,f)=>{if(e!==f)return!1;let{nodes:p,selection:m}=h,_=m.getStartEndPoints(),C=Te(m),y=w(m)&&V(m.anchor.getNode(),ie=>Z(ie))!==null&&V(m.focus.getNode(),ie=>Z(ie))!==null||C;if(p.length!==1||!Fe(p[0])||!y||_===null)return!1;let[E,b]=_,[T,x,A]=tt(E),O=V(b.getNode(),ie=>Z(ie));if(!(Z(T)&&Z(O)&&ve(x)&&Fe(A)))return!1;let L=p[0],[R,K,F]=yt(A,T,O),[B]=er(L,null,null),z=R.length,oe=z>0?R[0].length:0,he=K.startRow,me=K.startColumn,pe=B.length,Xe=pe>0?B[0].length:0;if(C){let ie=Sl(R,K,F),ze=ie.maxRow-ie.minRow+1,Re=ie.maxColumn-ie.minColumn+1;he=ie.minRow,me=ie.minColumn,pe=Math.min(pe,ze),Xe=Math.min(Xe,Re)}let qe=!1,Dt=Math.min(z,he+pe)-1,dt=Math.min(oe,me+Xe)-1,nt=new Set;for(let ie=he;ie<=Dt;ie++)for(let ze=me;ze<=dt;ze++){let Re=R[ie][ze];nt.has(Re.cell.getKey())||Re.cell.__rowSpan===1&&Re.cell.__colSpan===1||(Ay(Re.cell),nt.add(Re.cell.getKey()),qe=!0)}let[rt]=er(A.getWritable(),null,null),He=pe-z+he;for(let ie=0;ie<He;ie++)tg(rt[z-1][0].cell);let jt=Xe-oe+me;for(let ie=0;ie<jt;ie++)ng(rt[0][oe-1].cell,!0,!1);[rt]=er(A.getWritable(),null,null);for(let ie=he;ie<he+pe;ie++)for(let ze=me;ze<me+Xe;ze++){let Re=ie-he,ws=ze-me,po=B[Re][ws];if(po.startRow!==Re||po.startColumn!==ws)continue;let pn=po.cell;if(pn.__rowSpan!==1||pn.__colSpan!==1){let en=[],Hl=Math.min(ie+pn.__rowSpan,he+pe)-1,Ul=Math.min(ze+pn.__colSpan,me+Xe)-1;for(let Ci=ie;Ci<=Hl;Ci++)for(let yi=ze;yi<=Ul;yi++){let zl=rt[Ci][yi];en.push(zl.cell)}Sy(en),qe=!0}let{cell:_i}=rt[ie][ze],Kl=_i.getChildren();pn.getChildren().forEach(en=>{Y(en)&&X().append(en),_i.append(en)}),Kl.forEach(en=>en.remove())}if(C&&qe){let[ie]=er(A.getWritable(),null,null);ie[K.startRow][K.startColumn].cell.selectEnd()}return!0},pt)),s.listenersToRemove.add(e.registerCommand(Xr,()=>{let h=M(),f=Wn(),p=s.getAndClearNextFocus();if(p!==null){let{focusCell:m}=p;if(Te(h)&&h.tableKey===s.tableNodeKey)return(m.x!==s.focusX||m.y!==s.focusY)&&(s.$setFocusCellForSelection(m),!0);if(m!==s.anchorCell&&vn(h,n))return s.$setFocusCellForSelection(m),!0}if(s.getAndClearShouldCheckSelection()&&w(f)&&w(h)&&h.isCollapsed()){let m=h.anchor.getNode(),_=n.getFirstChild(),C=ri(m);if(C!==null&&ve(_)){let y=_.getFirstChild();if(Z(y)&&n.is(V(C,E=>E.is(n)||E.is(y))))return y.selectStart(),!0}}if(w(h)){let{anchor:m,focus:_}=h,C=m.getNode(),y=_.getNode(),E=ri(C),b=ri(y),T=!(!E||!n.is(uo(E))),x=!(!b||!n.is(uo(b))),A=T!==x,O=T&&x,L=h.isBackward();if(A){let R=h.clone();if(x){let[K]=yt(n,b,b),F=K[0][0].cell,B=K[K.length-1].at(-1).cell;R.focus.set(L?F.getKey():B.getKey(),L?0:B.getChildrenSize(),"element")}else if(T){let[K]=yt(n,E,E),F=K[0][0].cell,B=K[K.length-1].at(-1).cell;R.anchor.set(L?B.getKey():F.getKey(),L?B.getChildrenSize():0,"element")}je(R),hy(e,s)}else if(O&&(E.is(b)||(s.$setAnchorCellForSelection(co(s,E)),s.$setFocusCellForSelection(co(s,b),!0)),s.pointerType==="touch"&&s.isSelecting&&h.isCollapsed()&&w(f)&&f.isCollapsed())){let R=ri(f.anchor.getNode());R&&!R.is(b)&&(s.$setAnchorCellForSelection(co(s,R)),s.$setFocusCellForSelection(co(s,b),!0),s.pointerType=null)}}else if(h&&Te(h)&&h.is(f)&&h.tableKey===n.getKey()){let m=Tr(i);if(m&&m.anchorNode&&m.focusNode){let _=We(m.focusNode),C=_&&!n.isParentOf(_),y=We(m.anchorNode),E=y&&n.isParentOf(y);if(C&&E&&m.rangeCount>0){let b=Ap(m,e);b&&(b.anchor.set(n.getKey(),h.isBackward()?n.getChildrenSize():0,"element"),m.removeAllRanges(),je(b))}}}return h&&!h.is(f)&&(Te(h)||Te(f))&&s.tableSelection&&!s.tableSelection.is(f)?(Te(h)&&h.tableKey===s.tableNodeKey?s.$updateTableTableSelection(h):!Te(h)&&Te(f)&&f.tableKey===s.tableNodeKey&&s.$updateTableTableSelection(null),!1):(s.hasHijackedSelectionStyles&&!n.isSelected()?(function(m,_){_.$enableHighlightStyle(),pg(_.table,C=>{let y=C.elem;C.highlighted=!1,My(m,C),y.getAttribute("style")||y.removeAttribute("style")})})(e,s):!s.hasHijackedSelectionStyles&&n.isSelected()&&hy(e,s),!1)},pt)),s.listenersToRemove.add(e.registerCommand(yr,()=>{let h=M();if(!w(h)||!h.isCollapsed()||!vn(h,n))return!1;let f=my(e,h,n);return!!f&&(py(f,n),!0)},pt)),s}function ig(n){return n[og]||null}function xs(n){let t=n;for(;t!=null;){let e=t.nodeName;if(e==="TD"||e==="TH"){let r=t._cell;return r===void 0?null:r}t=t.parentNode}return null}function fy(n,t){if(!n.contains(t))return null;let e=null;for(let r=t;r!=null;r=r.parentNode){if(r===n)return e;let o=r.nodeName;o!=="TD"&&o!=="TH"||(e=r._cell||null)}return null}function oi(n,t){let e=[],r={columns:0,domRows:e,rows:0},o=Dr(n,t).querySelector("tr"),i=0,s=0;for(e.length=0;o!=null;){let l=o.nodeName;if(l==="TD"||l==="TH"){let u={elem:o,hasBackgroundColor:o.style.backgroundColor!=="",highlighted:!1,x:i,y:s};o._cell=u;let d=e[s];d===void 0&&(d=e[s]=[]),d[i]=u}else{let u=o.firstChild;if(u!=null){o=u;continue}}let a=o.nextSibling;if(a!=null){i++,o=a;continue}let c=o.parentNode;if(c!=null){let u=c.nextSibling;if(u==null)break;s++,i=0,o=u}}return r.columns=i+1,r.rows=s+1,r}function Tl(n,t,e){let r=new Set(e?e.getNodes():[]);pg(t,(o,i)=>{let s=o.elem;r.has(i)?(o.highlighted=!0,wy(n,o)):(o.highlighted=!1,My(n,o),s.getAttribute("style")||s.removeAttribute("style"))})}function pg(n,t){let{domRows:e}=n;for(let r=0;r<e.length;r++){let o=e[r];if(o)for(let i=0;i<o.length;i++){let s=o[i];if(!s)continue;let l=We(s.elem);l!==null&&t(s,l,{x:i,y:r})}}}function hy(n,t){t.$disableHighlightStyle(),pg(t.table,e=>{e.highlighted=!0,wy(n,e)})}var y0=(n,t,e,r,o)=>{let i=o==="forward";switch(o){case"backward":case"forward":return e!==(i?n.table.columns-1:0)?Nl(t.getCellNodeFromCordsOrThrow(e+(i?1:-1),r,n.table),i):r!==(i?n.table.rows-1:0)?Nl(t.getCellNodeFromCordsOrThrow(i?0:n.table.columns-1,r+(i?1:-1),n.table),i):i?t.selectNext():t.selectPrevious(),!0;case"up":return r!==0?Nl(t.getCellNodeFromCordsOrThrow(e,r-1,n.table),!1):t.selectPrevious(),!0;case"down":return r!==n.table.rows-1?Nl(t.getCellNodeFromCordsOrThrow(e,r+1,n.table),!0):t.selectNext(),!0;default:return!1}};function Zd(n,t){let e,r;if(t.startColumn===n.minColumn)e="minColumn";else{if(t.startColumn+t.cell.__colSpan-1!==n.maxColumn)return null;e="maxColumn"}if(t.startRow===n.minRow)r="minRow";else{if(t.startRow+t.cell.__rowSpan-1!==n.maxRow)return null;r="maxRow"}return[e,r]}function bl([n,t]){return[n==="minColumn"?"maxColumn":"minColumn",t==="minRow"?"maxRow":"minRow"]}function ti(n,t,[e,r]){let o=t[r],i=n[o];i===void 0&&j(250,r,String(o));let s=t[e],l=i[s];return l===void 0&&j(250,e,String(s)),l}function x0(n,t,e,r,o){let i=Sl(t,e,r),s=(function(T,x){let{minColumn:A,maxColumn:O,minRow:L,maxRow:R}=x,K=1,F=1,B=1,z=1,oe=T[L],he=T[R];for(let me=A;me<=O;me++)K=Math.max(K,oe[me].cell.__rowSpan),z=Math.max(z,he[me].cell.__rowSpan);for(let me=L;me<=R;me++)F=Math.max(F,T[me][A].cell.__colSpan),B=Math.max(B,T[me][O].cell.__colSpan);return{bottomSpan:z,leftSpan:F,rightSpan:B,topSpan:K}})(t,i),{topSpan:l,leftSpan:a,bottomSpan:c,rightSpan:u}=s,d=(function(T,x){let A=Zd(T,x);return A===null&&j(249,x.cell.getKey()),A})(i,e),[g,h]=bl(d),f=i[g],p=i[h];o==="forward"?f+=g==="maxColumn"?1:a:o==="backward"?f-=g==="minColumn"?1:u:o==="down"?p+=h==="maxRow"?1:l:o==="up"&&(p-=h==="minRow"?1:c);let m=t[p];if(m===void 0)return!1;let _=m[f];if(_===void 0)return!1;let[C,y]=(function(T,x,A){let O=Sl(T,x,A),L=Zd(O,x);if(L)return[ti(T,O,L),ti(T,O,bl(L))];let R=Zd(O,A);if(R)return[ti(T,O,bl(R)),ti(T,O,R)];let K=["minColumn","minRow"];return[ti(T,O,K),ti(T,O,bl(K))]})(t,e,_),E=co(n,C.cell),b=co(n,y.cell);return n.$setAnchorCellForSelection(E),n.$setFocusCellForSelection(b,!0),!0}function vn(n,t){if(w(n)||Te(n)){let e=t.isParentOf(n.anchor.getNode()),r=t.isParentOf(n.focus.getNode());return e&&r}return!1}function Nl(n,t){t?n.selectStart():n.selectEnd()}function wy(n,t){let e=t.elem,r=n._config.theme;Z(We(e))||j(131),fe(e,r.tableCellSelected)}function My(n,t){let e=t.elem;Z(We(e))||j(131);let r=n._config.theme;bt(e,r.tableCellSelected)}function ri(n){let t=V(n,Z);return Z(t)?t:null}function uo(n){let t=V(n,Fe);return Fe(t)?t:null}function E0(n,t,e,r,o,i,s){let l=fr(e.focus,o?"previous":"next");if(pa(l))return!1;let a=l;for(let m of Yi(l).iterNodeCarets("shadowRoot")){if(!ma(m)||!P(m.origin))return!1;a=m}let c=a.getParentAtCaret();if(!Z(c))return!1;let u=c,d=(function(m){for(let _ of Yi(m).iterNodeCarets("root")){let{origin:C}=_;if(Z(C)){if(mr(_))return zt(C,m.direction)}else if(!ve(C))break}return null})(gt(u,a.direction)),g=V(u,Fe);if(!g||!g.is(i))return!1;let h=n.getElementByKey(u.getKey()),f=xs(h);if(!h||!f)return!1;let p=ky(n,g);if(s.table=p,d)if(r==="extend"){let m=xs(n.getElementByKey(d.origin.getKey()));if(!m)return!1;s.$setAnchorCellForSelection(f),s.$setFocusCellForSelection(m,!0)}else{let m=dn(d);Cr(e.anchor,m),Cr(e.focus,m)}else if(r==="extend")s.$setAnchorCellForSelection(f),s.$setFocusCellForSelection(f,!0);else{let m=(function(_){let C=Gi(_);return mr(C)?dn(C):_})(gt(g,l.direction));Cr(e.anchor,m),Cr(e.focus,m)}return Qn(t),!0}function Ly(n,t,e,r,o){if((e==="up"||e==="down")&&(function(s){let l=s.getRootElement();return l?l.hasAttribute("aria-controls")&&l.getAttribute("aria-controls")==="typeahead-menu":!1})(n))return!1;let i=M();if(!vn(i,r)){if(w(i)){if(e==="backward"){if(i.focus.offset>0)return!1;let s=(function(a){for(let c=a,u=a;u!==null;c=u,u=u.getParent())if(P(u)){if(u!==c&&u.getFirstChild()!==c)return null;if(!u.isInline())return u}return null})(i.focus.getNode());if(!s)return!1;let l=s.getPreviousSibling();return!!Fe(l)&&(Qn(t),t.shiftKey?i.focus.set(l.getParentOrThrow().getKey(),l.getIndexWithinParent(),"element"):l.selectEnd(),!0)}if(t.shiftKey&&(e==="up"||e==="down")){let s=i.focus.getNode();if(!i.isCollapsed()&&(e==="up"&&!i.isBackward()||e==="down"&&i.isBackward())){let l=V(s,g=>Fe(g));if(Z(l)&&(l=V(l,Fe)),l!==r||!l)return!1;let a=e==="down"?l.getNextSibling():l.getPreviousSibling();if(!a)return!1;let c=0;e==="up"&&P(a)&&(c=a.getChildrenSize());let u=a;e==="up"&&P(a)&&(u=a.getLastChild()||a,c=Y(u)?u.getTextContentSize():0);let d=i.clone();return d.focus.set(u.getKey(),c,Y(u)?"text":"element"),je(d),Qn(t),!0}if(Tt(s)){let l=e==="up"?i.getNodes()[i.getNodes().length-1]:i.getNodes()[0];if(l&&Cs(r,l)!==null){let a=r.getFirstDescendant(),c=r.getLastDescendant();if(!a||!c)return!1;let[u]=tt(a),[d]=tt(c),g=r.getCordsFromCellNode(u,o.table),h=r.getCordsFromCellNode(d,o.table),f=r.getDOMCellFromCordsOrThrow(g.x,g.y,o.table),p=r.getDOMCellFromCordsOrThrow(h.x,h.y,o.table);return o.$setAnchorCellForSelection(f),o.$setFocusCellForSelection(p,!0),!0}return!1}{let l=V(s,c=>P(c)&&!c.isInline());if(Z(l)&&(l=V(l,Fe)),!l)return!1;let a=e==="down"?l.getNextSibling():l.getPreviousSibling();if(Fe(a)&&o.tableNodeKey===a.getKey()){let c=a.getFirstDescendant(),u=a.getLastDescendant();if(!c||!u)return!1;let[d]=tt(c),[g]=tt(u),h=i.clone();return h.focus.set((e==="up"?d:g).getKey(),e==="up"?0:g.getChildrenSize(),"element"),Qn(t),je(h),!0}}}}return e==="down"&&Es(n)&&o.setShouldCheckSelection(),!1}if(w(i)){if(e==="backward"||e==="forward")return E0(n,t,i,t.shiftKey?"extend":"move",e==="backward",r,o);if(i.isCollapsed()){let{anchor:s,focus:l}=i,a=V(s.getNode(),Z),c=V(l.getNode(),Z);if(!Z(a)||!a.is(c))return!1;let u=uo(a);if(u!==r&&u!=null){let _=Dr(u,n.getElementByKey(u.getKey()));if(_!=null)return o.table=oi(u,_),Ly(n,t,e,u,o)}let d=n.getElementByKey(a.__key),g=n.getElementByKey(s.key);if(g==null||d==null)return!1;let h;if(s.type==="element")h=g.getBoundingClientRect();else{let _=Tr(hg(n));if(_===null||_.rangeCount===0)return!1;h=_.getRangeAt(0).getBoundingClientRect()}let f=e==="up"?a.getFirstChild():a.getLastChild();if(f==null)return!1;let p=n.getElementByKey(f.__key);if(p==null)return!1;let m=p.getBoundingClientRect();if(e==="up"?m.top>h.top-h.height:h.bottom+h.height>m.bottom){Qn(t);let _=r.getCordsFromCellNode(a,o.table);if(!t.shiftKey)return y0(o,r,_.x,_.y,e);{let C=r.getDOMCellFromCordsOrThrow(_.x,_.y,o.table);o.$setAnchorCellForSelection(C),o.$setFocusCellForSelection(C,!0)}return!0}}}else if(Te(i)){let{anchor:s,focus:l}=i,a=V(s.getNode(),Z),c=V(l.getNode(),Z),[u]=i.getNodes();Fe(u)||j(251);let d=Dr(u,n.getElementByKey(u.getKey()));if(!Z(a)||!Z(c)||!Fe(u)||d==null)return!1;o.$updateTableTableSelection(i);let g=oi(u,d),h=r.getCordsFromCellNode(a,g),f=r.getDOMCellFromCordsOrThrow(h.x,h.y,g);if(o.$setAnchorCellForSelection(f),Qn(t),t.shiftKey){let[p,m,_]=yt(r,a,c);return x0(o,p,m,_,e)}return c.selectEnd(),!0}return!1}function Qn(n){n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation()}function py(n,t,e){let r=X();n==="first"?t.insertBefore(r):t.insertAfter(r),r.append(...e||[]),r.selectEnd()}function my(n,t,e){let r=e.getParent();if(!r)return;let o=Tr(hg(n));if(!o)return;let i=o.anchorNode,s=n.getElementByKey(r.getKey()),l=Dr(e,n.getElementByKey(e.getKey()));if(!i||!s||!l||!s.contains(i)||l.contains(i))return;let a=V(t.anchor.getNode(),C=>Z(C));if(!a)return;let c=V(a,C=>Fe(C));if(!Fe(c)||!c.is(e))return;let[u,d]=yt(e,a,a),g=u[0][0],h=u[u.length-1][u[0].length-1],{startRow:f,startColumn:p}=d,m=f===g.startRow&&p===g.startColumn,_=f===h.startRow&&p===h.startColumn;return m?"first":_?"last":void 0}function co(n,t){let{tableNode:e}=n.$lookup(),r=e.getCordsFromCellNode(t,n.table);return e.getDOMCellFromCordsOrThrow(r.x,r.y,n.table)}function sg(n,t,e){return Cs(n,We(t,e))}function _y(n,t,e){if(!t.theme.tableAlignment)return;let r=[],o=[];for(let i of["center","right"]){let s=t.theme.tableAlignment[i];s&&(i===e?o:r).push(s)}bt(n,...r),fe(n,...o)}var ag=new WeakSet;function Es(n=zn()){return ag.has(n)}function Dy(n,t){t?ag.add(n):ag.delete(n)}var wn=class n extends $e{constructor(e){super(e);v(this,"__rowStriping");v(this,"__frozenColumnCount");v(this,"__frozenRowCount");v(this,"__colWidths");this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0,this.__colWidths=void 0}static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){let r=this.getWritable();return r.__colWidths=e,r}static clone(e){return new n(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:T0,priority:1})}}static importJSON(e){return wl().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,r,o){return o==="html"}getDOMSlot(e){let r=ni(e)?e:e.querySelector("table");return ni(r)||j(229),super.getDOMSlot(e).withElement(r).withAfter(r.querySelector("colgroup"))}createDOM(e,r){let o=document.createElement("table");this.__style&&(o.style.cssText=this.__style);let i=document.createElement("colgroup");if(o.appendChild(i),lm(i),fe(o,e.theme.table),this.updateTableElement(null,o,e),Es(r)){let s=document.createElement("div"),l=e.theme.tableScrollableWrapper;return l?fe(s,l):s.style.cssText="overflow-x: auto;",s.appendChild(o),this.updateTableWrapper(null,s,o,e),s}return o}updateTableWrapper(e,r,o,i){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&(function(s,l,a,c){c>0?(fe(s,a.theme.tableFrozenColumn),l.setAttribute("data-lexical-frozen-column","true")):(bt(s,a.theme.tableFrozenColumn),l.removeAttribute("data-lexical-frozen-column"))})(r,o,i,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&(function(s,l,a,c){c>0?(fe(s,a.theme.tableFrozenRow),l.setAttribute("data-lexical-frozen-row","true")):(bt(s,a.theme.tableFrozenRow),l.removeAttribute("data-lexical-frozen-row"))})(r,o,i,this.__frozenRowCount)}updateTableElement(e,r,o){this.__style!==(e?e.__style:"")&&(r.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&(function(i,s,l){l?(fe(i,s.theme.tableRowStriping),i.setAttribute("data-lexical-row-striping","true")):(bt(i,s.theme.tableRowStriping),i.removeAttribute("data-lexical-row-striping"))})(r,o,this.__rowStriping),(function(i,s,l,a){let c=i.querySelector("colgroup");if(!c)return;let u=[];for(let d=0;d<l;d++){let g=document.createElement("col"),h=a&&a[d];h&&(g.style.width=`${h}px`),u.push(g)}c.replaceChildren(...u)})(r,0,this.getColumnCount(),this.getColWidths()),_y(r,o,this.getFormatType())}updateDOM(e,r,o){let i=this.getDOMSlot(r).element;return r===i===Es()||(Ve(s=r)&&s.nodeName==="DIV"&&this.updateTableWrapper(e,r,i,o),this.updateTableElement(e,i,o),!1);var s}exportDOM(e){let r=super.exportDOM(e),{element:o}=r;return{after:i=>{if(r.after&&(i=r.after(i)),!ni(i)&&Ve(i)&&(i=i.querySelector("table")),!ni(i))return null;_y(i,e._config,this.getFormatType());let[s]=er(this,null,null),l=new Map;for(let d of s)for(let g of d){let h=g.cell.getKey();l.has(h)||l.set(h,{colSpan:g.cell.getColSpan(),startColumn:g.startColumn})}let a=new Set;for(let d of i.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){let g=d.getAttribute("data-temporary-table-cell-lexical-key");if(g){let h=l.get(g);if(d.removeAttribute("data-temporary-table-cell-lexical-key"),h){l.delete(g);for(let f=0;f<h.colSpan;f++)a.add(f+h.startColumn)}}}let c=i.querySelector(":scope > colgroup");if(c){let d=Array.from(i.querySelectorAll(":scope > colgroup > col")).filter((g,h)=>a.has(h));c.replaceChildren(...d)}let u=i.querySelectorAll(":scope > tr");if(u.length>0){let d=document.createElement("tbody");for(let g of u)d.appendChild(g);i.append(d)}return i},element:!ni(o)&&Ve(o)?o.querySelector("table"):o}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,r){let{rows:o,domRows:i}=r;for(let s=0;s<o;s++){let l=i[s];if(l!=null)for(let a=0;a<l.length;a++){let c=l[a];if(c==null)continue;let{elem:u}=c,d=sg(this,u);if(d!==null&&e.is(d))return{x:a,y:s}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,r,o){let{domRows:i}=o,s=i[r];if(s==null)return null;let l=s[e<s.length?e:s.length-1];return l??null}getDOMCellFromCordsOrThrow(e,r,o){let i=this.getDOMCellFromCords(e,r,o);if(!i)throw new Error("Cell not found at cords.");return i}getCellNodeFromCords(e,r,o){let i=this.getDOMCellFromCords(e,r,o);if(i==null)return null;let s=We(i.elem);return Z(s)?s:null}getCellNodeFromCordsOrThrow(e,r,o){let i=this.getCellNodeFromCords(e,r,o);if(!i)throw new Error("Node at cords not TableCellNode.");return i}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(e){let r=this.getWritable();return r.__rowStriping=e,r}setFrozenColumns(e){let r=this.getWritable();return r.__frozenColumnCount=e,r}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){let r=this.getWritable();return r.__frozenRowCount=e,r}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){let e=this.getFirstChild();if(!e)return 0;let r=0;return e.getChildren().forEach(o=>{Z(o)&&(r+=o.getColSpan())}),r}};function ky(n,t){let e=n.getElementByKey(t.getKey());return e===null&&j(230),oi(t,e)}function T0(n){let t=wl();n.hasAttribute("data-lexical-row-striping")&&t.setRowStriping(!0),n.hasAttribute("data-lexical-frozen-column")&&t.setFrozenColumns(1),n.hasAttribute("data-lexical-frozen-row")&&t.setFrozenRows(1);let e=n.querySelector(":scope > colgroup");if(e){let r=[];for(let o of e.querySelectorAll(":scope > col")){let i=o.style.width||"";if(!lg.test(i)&&(i=o.getAttribute("width")||"",!/^\d+$/.test(i))){r=void 0;break}r.push(parseFloat(i))}r&&t.setColWidths(r)}return{after:r=>Gu(r,ve),node:t}}function wl(){return ge(new wn)}function Fe(n){return n instanceof wn}function b0(n){ve(n.getParent())?n.isEmpty()&&n.append(X()):n.remove()}function N0(n){Fe(n.getParent())?ju(n,Z):n.remove()}function S0(n){ju(n,ve);let[t]=er(n,null,null),e=t.reduce((s,l)=>Math.max(s,l.length),0),r=n.getChildren();for(let s=0;s<t.length;++s){let l=r[s];if(!l)continue;ve(l)||j(254,l.constructor.name,l.getType());let a=t[s].reduce((c,u)=>u?1+c:c,0);if(a!==e)for(let c=a;c<e;++c){let u=Bt();u.append(X()),l.append(u)}}let o=n.getColWidths(),i=n.getColumnCount();if(o&&o.length!==i){let s;if(i<o.length)s=o.slice(0,i);else if(o.length>0){let l=o[o.length-1];s=[...o,...Array(i-o.length).fill(l)]}n.setColWidths(s)}}function A0(n){if(n.detail<3||!Ft(n.target))return!1;let t=We(n.target);if(t===null)return!1;let e=V(t,r=>P(r)&&!r.isInline());return e===null?!1:!!Z(e.getParent())&&(e.select(0),!0)}function Ry(n){return n.registerNodeTransform(On,t=>{if(t.getColSpan()>1||t.getRowSpan()>1){let[,,e]=tt(t),[r]=yt(e,t,t),o=r.length,i=r[0].length,s=e.getFirstChild();ve(s)||j(175);let l=[];for(let a=0;a<o;a++){a!==0&&(s=s.getNextSibling(),ve(s)||j(175));let c=null;for(let u=0;u<i;u++){let d=r[a][u],g=d.cell;if(d.startRow===a&&d.startColumn===u)c=g,l.push(g);else if(g.getColSpan()>1||g.getRowSpan()>1){Z(g)||j(176);let h=Bt(g.__headerState);c!==null?c.insertAfter(h):zm(s,h)}}}for(let a of l)a.setColSpan(1),a.setRowSpan(1)}})}function Iy(n,t=!0){let e=new Map,r=(i,s,l)=>{let a=Dr(i,l),c=Oy(i,a,n,t);e.set(s,[c,a])},o=n.registerMutationListener(wn,i=>{n.getEditorState().read(()=>{for(let[s,l]of i){let a=e.get(s);if(l==="created"||l==="updated"){let{tableNode:c,tableElement:u}=fg(s);a===void 0?r(c,s,u):u!==a[1]&&(a[0].removeListeners(),e.delete(s),r(c,s,u))}else l==="destroyed"&&a!==void 0&&(a[0].removeListeners(),e.delete(s))}},{editor:n})},{skipInitialization:!1});return()=>{o();for(let[,[i]]of e)i.removeListeners()}}function $y(n,t){n.hasNodes([wn])||j(255);let{hasNestedTables:e=v_(!1)}=t??{};return ue(n.registerCommand(Cy,r=>(function({rows:o,columns:i,includeHeaders:s},l){let a=M()||Wn();if(!a||!w(a)||!l&&uo(a.anchor.getNode()))return!1;let c=yy(Number(o),Number(i),s);Ga(c);let u=c.getFirstDescendant();return Y(u)&&u.select(),!0})(r,e.peek()),J),n.registerCommand(Qi,({nodes:r,selection:o},i)=>e.peek()||n!==i||!w(o)?!1:uo(o.anchor.getNode())!==null&&r.some(Fe),J),n.registerCommand(Bo,A0,J),n.registerNodeTransform(wn,S0),n.registerNodeTransform(go,N0),n.registerNodeTransform(On,b0))}var v0=xe({build:(n,t,e)=>fn(t),config:_t({hasCellBackgroundColor:!0,hasCellMerge:!0,hasHorizontalScroll:!0,hasNestedTables:!1,hasTabHandler:!0}),name:"@lexical/table/Table",nodes:()=>[wn,go,On],register(n,t,e){let r=e.getOutput(),{hasNestedTables:o}=r;return ue(Mt(()=>{let i=r.hasHorizontalScroll.value;Es(n)!==i&&(Dy(n,i),n.registerNodeTransform(wn,()=>{})())}),$y(n,{hasNestedTables:o}),Mt(()=>Iy(n,r.hasTabHandler.value)),Mt(()=>r.hasCellMerge.value?void 0:Ry(n)),Mt(()=>r.hasCellBackgroundColor.value?void 0:n.registerNodeTransform(On,i=>{i.getBackgroundColor()!==null&&i.setBackgroundColor(null)})))}});var ee=mg,ID=ee.$computeTableMap,$D=ee.$computeTableMapSkipCellCheck,Fy=ee.$createTableCellNode,Py=ee.$createTableNode,FD=ee.$createTableNodeWithDimensions,By=ee.$createTableRowNode,PD=ee.$createTableSelection,BD=ee.$createTableSelectionFrom,KD=ee.$deleteTableColumn,HD=ee.$deleteTableColumnAtSelection,Ky=ee.$deleteTableColumn__EXPERIMENTAL,UD=ee.$deleteTableRowAtSelection,Hy=ee.$deleteTableRow__EXPERIMENTAL,zD=ee.$findCellNode,WD=ee.$findTableNode,YD=ee.$getElementForTableNode,GD=ee.$getNodeTriplet,jD=ee.$getTableAndElementByKey,Ml=ee.$getTableCellNodeFromLexicalNode,JD=ee.$getTableCellNodeRect,Uy=ee.$getTableColumnIndexFromTableCellNode,VD=ee.$getTableNodeFromLexicalNodeOrThrow,zy=ee.$getTableRowIndexFromTableCellNode,XD=ee.$getTableRowNodeFromTableCellNodeOrThrow,qD=ee.$insertTableColumn,ZD=ee.$insertTableColumnAtSelection,Wy=ee.$insertTableColumn__EXPERIMENTAL,QD=ee.$insertTableRow,ek=ee.$insertTableRowAtSelection,Yy=ee.$insertTableRow__EXPERIMENTAL,tk=ee.$isScrollableTablesActive,ii=ee.$isTableCellNode,Lt=ee.$isTableNode,O0=ee.$isTableRowNode,Ge=ee.$isTableSelection,nk=ee.$mergeCells,rk=ee.$removeTableRowAtIndex,Gy=ee.$unmergeCell,ok=ee.INSERT_TABLE_COMMAND,_g=ee.TableCellHeaderStates,Cg=ee.TableCellNode,ik=ee.TableExtension,yg=ee.TableNode,sk=ee.TableObserver,xg=ee.TableRowNode,ak=ee.applyTableHandlers,lk=ee.getDOMCellFromTarget,ck=ee.getTableElement,uk=ee.getTableObserverFromTableElement,dk=ee.registerTableCellUnmergeTransform,jy=ee.registerTablePlugin,Jy=ee.registerTableSelectionObserver,gk=ee.setScrollableTablesActive;var ai=8,li=72,si=15;var Vy={bullet:"Bulleted List",check:"Check List",code:"Code Block",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",number:"Numbered List",paragraph:"Normal",quote:"Quote"},Xy={none:!1,bgColor:"#fff",blockType:"paragraph",canRedo:!1,canUndo:!1,cannotRedo:!0,cannotUndo:!0,codeLanguage:"",elementFormat:"left",fontColor:"#000",fontFamily:"Arial",fontSize:`${si}px`,fontSizeInputValue:`${si}`,isBold:!1,isCode:!1,isImageCaption:!1,isItalic:!1,isLink:!1,isRTL:!1,isStrikethrough:!1,isSubscript:!1,isSuperscript:!1,isUnderline:!1,isLowercase:!1,isUppercase:!1,isCapitalize:!1,rootType:"root"};var qy={autocomplete:"lexical__autocomplete",blockCursor:"lexical__blockCursor",characterLimit:"lexical__characterLimit",code:"lexical__code",codeHighlight:{atrule:"lexical__tokenAttr",attr:"lexical__tokenAttr",boolean:"lexical__tokenProperty",builtin:"lexical__tokenSelector",cdata:"lexical__tokenComment",char:"lexical__tokenSelector",class:"lexical__tokenFunction","class-name":"lexical__tokenFunction",comment:"lexical__tokenComment",constant:"lexical__tokenProperty",deleted:"lexical__tokenProperty",doctype:"lexical__tokenComment",entity:"lexical__tokenOperator",function:"lexical__tokenFunction",important:"lexical__tokenVariable",inserted:"lexical__tokenSelector",keyword:"lexical__tokenAttr",namespace:"lexical__tokenVariable",number:"lexical__tokenProperty",operator:"lexical__tokenOperator",prolog:"lexical__tokenComment",property:"lexical__tokenProperty",punctuation:"lexical__tokenPunctuation",regex:"lexical__tokenVariable",selector:"lexical__tokenSelector",string:"lexical__tokenSelector",symbol:"lexical__tokenProperty",tag:"lexical__tokenProperty",url:"lexical__tokenOperator",variable:"lexical__tokenVariable"},embedBlock:{base:"lexical__embedBlock",focus:"lexical__embedBlockFocus"},hashtag:"lexical__hashtag",heading:{h1:"lexical__h1",h2:"lexical__h2",h3:"lexical__h3",h4:"lexical__h4",h5:"lexical__h5",h6:"lexical__h6"},hr:"lexical__hr",image:"lexical__editor-image",indent:"lexical__indent",inlineImage:"lexical__inline-editor-image",layoutContainer:"lexical__layoutContainer",layoutItem:"lexical__layoutItem",link:"lexical__link",list:{checklist:"lexical__checklist",listitem:"lexical__listItem",listitemChecked:"lexical__listItemChecked",listitemUnchecked:"lexical__listItemUnchecked",nested:{listitem:"lexical__nestedListItem"},olDepth:["lexical__ol1","lexical__ol2","lexical__ol3","lexical__ol4","lexical__ol5"],ul:"lexical__ul"},ltr:"lexical__ltr",mark:"lexical__mark",markOverlap:"lexical__markOverlap",paragraph:"lexical__paragraph",quote:"lexical__quote",rtl:"lexical__rtl",table:"lexical__table",tableAddColumns:"lexical__tableAddColumns",tableAddRows:"lexical__tableAddRows",tableCell:"lexical__tableCell",tableCellActionButton:"lexical__tableCellActionButton",tableCellActionButtonContainer:"lexical__tableCellActionButtonContainer",tableCellEditing:"lexical__tableCellEditing",tableCellHeader:"lexical__tableCellHeader",tableCellPrimarySelected:"lexical__tableCellPrimarySelected",tableCellResizer:"lexical__tableCellResizer",tableCellSelected:"lexical__tableCellSelected",tableCellSortedIndicator:"lexical__tableCellSortedIndicator",tableResizeRuler:"lexical__tableCellResizeRuler",tableSelected:"lexical__tableSelected",tableSelection:"lexical__tableSelection",text:{bold:"lexical__textBold",code:"lexical__textCode",italic:"lexical__textItalic",strikethrough:"lexical__textStrikethrough",subscript:"lexical__textSubscript",superscript:"lexical__textSuperscript",underline:"lexical__textUnderline",underlineStrikethrough:"lexical__textUnderlineStrikethrough",lowercase:"lexical__textLowercase",uppercase:"lexical__textUppercase",capitalize:"lexical__textCapitalize"}},Zy=(n,t)=>{if(!t)return n;let e=n;switch(t){case 2:switch(!0){case n>li:e=li;break;case n>=48:e-=12;break;case n>=24:e-=4;break;case n>=14:e-=2;break;case n>=9:e-=1;break;default:e=ai;break}break;case 1:switch(!0){case n<ai:e=ai;break;case n<12:e+=1;break;case n<20:e+=2;break;case n<36:e+=4;break;case n<=60:e+=12;break;default:e=li;break}break;default:break}return e},Eg=(n,t,e)=>{let r=o=>(o||(o=`${si}px`),o=o.slice(0,-2),`${Zy(Number(o),e)}px`);n.update(()=>{if(!n.isEditable())return;let o=M();o!==null&&Wo(o,{"font-size":t||r})})},ci=(n,t,e)=>{let r=e.value;if(r!==""){let o=Zy(Number(r),t);Eg(n,String(o)+"px",null),e.value=o.toString();return}Eg(n,null,t)},Tg=function(n,t,e){if(t==null)return;let r=t;t>li?(r=li,e.value=r.toString()):t<ai&&(r=ai,e.value=r.toString()),Eg(n,String(r)+"px",null)},ui=n=>{n.update(()=>{let t=M();w(t)&&Nr(t,()=>X())})},Qy=(n,t,e)=>{t!==e&&n.update(()=>{let r=M();Nr(r,()=>rl(e))})},ex=(n,t)=>{if(t!=="bullet"){n.dispatchCommand(yl,void 0);return}ui(n)},tx=(n,t)=>{if(t!=="check"){n.dispatchCommand(ZC,void 0);return}ui(n)},nx=(n,t)=>{if(t!=="number"){n.dispatchCommand(Cl,void 0);return}ui(n)},Ll=(n,t)=>{t!=="quote"&&n.update(()=>{let e=M();Nr(e,()=>F_())})},Dl=(n,t)=>{t!=="code"&&n.update(()=>{let e=M();if(e!==null)if(e.isCollapsed())Nr(e,()=>$d());else{let r=e.getTextContent(),o=$d();e.insertNodes([o]),e=M(),w(e)&&e.insertRawText(r)}})},Ts=function(n){let t=n.anchor,e=n.focus,r=n.anchor.getNode(),o=n.focus.getNode();return r===o?r:n.isBackward()?Fu(e)?r:o:Fu(t)?o:r},kl=n=>{ui(n),n.update(()=>{let t=M();if(!(w(t)||Ge(t)))return;let e=t.anchor,r=t.focus,o=t.getNodes(),i=t.extract();e.key===r.key&&e.offset===r.offset||o.forEach((s,l)=>{if(Y(s)){let a=s;l===0&&e.offset!==0&&(a=a.splitText(e.offset)[1]||a),l===o.length-1&&(a=a.splitText(r.offset)[0]||a);let c=i[0];o.length===1&&Y(c)&&(a=c),a.__style!==""&&a.setStyle(""),a.__format!==0&&(a.setFormat(0),Zr(a).setFormat("")),s=a}else ol(s)||P_(s)?s.replace(X(),!0):Qt(s)&&s.replace(et(s.getTextContent()),!1)})})};var w0=new Set(["http:","https:","mailto:","sms:","tel:"]),Lk=new RegExp(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[\w]*))?)/),M0=/^\/[a-zA-Z0-9\-_\/\.]*$/;function di(n){return M0.test(n)}function rx(n,t=!0){if(t&&di(n))return n;try{let e=new URL(n);return w0.has(e.protocol)?n:"about:blank"}catch{return"about:blank"}}function ix(n){return n.registerCommand(wr,t=>{let e=M();if(!w(e))return!1;let r=n.getElementByKey(Be().getKey());if(!r)return!1;let o=Ts(e),i=o.getParent(),s=null,l="_blank",a="noopener noreferrer";if(t===null?s=null:typeof t=="string"?(s=rx(t),di(t)&&(l="_self",a="")):typeof t=="object"&&(s=rx(t.url),l=t.target??(di(t.url)?"_self":"_blank"),a=t.rel??(l==="_blank"?"noopener noreferrer":"")),Qt(i)||Qt(o))return Ud(s,{rel:a||void 0,target:l}),s===null&&r.dispatchEvent(new CustomEvent("close-link-editor-dialog")),!0;let c="https://";return Ud(c,{rel:"noopener noreferrer",target:"_blank"}),n.read(()=>{let u=M();if(!w(u))return;let d=Ts(u),h=(V(d,Qt)??d).getKey(),f=n.getElementByKey(h);f&&r.dispatchEvent(new CustomEvent("link-created",{detail:{url:c,target:f}}))}),!0},re),n.registerRootListener((t,e)=>{e&&(e.removeEventListener("click",bg),e.removeEventListener("mouseup",ox)),t&&(t.addEventListener("click",bg),t.addEventListener("mouseup",ox))})}var bg=n=>{let t=n.target;if(!Ft(t))return;let e=zo(t);if(e===null)return;let r=null,o=null;if(e.update(()=>{let s=We(t);if(s===null)return;let l=V(s,Qt);if(Qt(l)){r=l.getURL(),o=l.getTarget();return}let a=L0(t,Pa);a&&(r=a.href,o=a.target)}),!r)return;let i=e.getEditorState().read(M);if(w(i)&&!i.isCollapsed()){n.preventDefault();return}e.read(()=>{let s=e.getElementByKey(Be().getKey());s&&s.dispatchEvent(new CustomEvent("link-clicked",{detail:{url:r,target:t,urlTarget:o,isInternal:di(r||"")}}))})},ox=n=>{n.button===1&&bg(n)};function L0(n,t){let e=n;for(;e;){if(t(e))return e;e=e.parentNode}return null}var Mn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";var D0=Mn&&"documentMode"in document?document.documentMode:null,_e=Mn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Ik=Mn&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),$k=Mn&&"InputEvent"in window&&!D0?"getTargetRanges"in new window.InputEvent("input"):!1,Fk=Mn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Pk=Mn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Bk=Mn&&/Android/.test(navigator.userAgent),k0=Mn&&/^(?=.*Chrome).*/i.test(navigator.userAgent);var Kk=Mn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!k0;var zk=Object.freeze({NORMAL:_e?"\u2318+Opt+0":"Ctrl+Alt+0",HEADING1:_e?"\u2318+Opt+1":"Ctrl+Alt+1",HEADING2:_e?"\u2318+Opt+2":"Ctrl+Alt+2",HEADING3:_e?"\u2318+Opt+3":"Ctrl+Alt+3",BULLET_LIST:_e?"\u2318+Opt+4":"Ctrl+Alt+4",NUMBERED_LIST:_e?"\u2318+Opt+5":"Ctrl+Alt+5",CHECK_LIST:_e?"\u2318+Opt+6":"Ctrl+Alt+6",CODE_BLOCK:_e?"\u2318+Opt+C":"Ctrl+Alt+C",QUOTE:_e?"\u2318+Opt+Q":"Ctrl+Alt+Q",INCREASE_FONT_SIZE:_e?"\u2318+Shift+.":"Ctrl+Shift+.",DECREASE_FONT_SIZE:_e?"\u2318+Shift+,":"Ctrl+Shift+,",INSERT_CODE_BLOCK:_e?"\u2318+Shift+C":"Ctrl+Shift+C",STRIKETHROUGH:_e?"\u2318+Shift+S":"Ctrl+Shift+S",LOWERCASE:_e?"\u2318+Shift+1":"Ctrl+Shift+1",UPPERCASE:_e?"\u2318+Shift+2":"Ctrl+Shift+2",CAPITALIZE:_e?"\u2318+Shift+3":"Ctrl+Shift+3",CENTER_ALIGN:_e?"\u2318+Shift+E":"Ctrl+Shift+E",JUSTIFY_ALIGN:_e?"\u2318+Shift+J":"Ctrl+Shift+J",LEFT_ALIGN:_e?"\u2318+Shift+L":"Ctrl+Shift+L",RIGHT_ALIGN:_e?"\u2318+Shift+R":"Ctrl+Shift+R",SUBSCRIPT:_e?"\u2318+,":"Ctrl+,",SUPERSCRIPT:_e?"\u2318+.":"Ctrl+.",INDENT:_e?"\u2318+]":"Ctrl+]",OUTDENT:_e?"\u2318+[":"Ctrl+[",CLEAR_FORMATTING:_e?"\u2318+\\":"Ctrl+\\",REDO:_e?"\u2318+Shift+Z":"Ctrl+Y",UNDO:_e?"\u2318+Z":"Ctrl+Z",BOLD:_e?"\u2318+B":"Ctrl+B",ITALIC:_e?"\u2318+I":"Ctrl+I",UNDERLINE:_e?"\u2318+U":"Ctrl+U",INSERT_LINK:_e?"\u2318+K":"Ctrl+K"});function ke(n,t){return _e?n:t}function sx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad0"||t==="Digit0")&&!e&&r&&ke(o,i)}function ax(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n,s=t[t.length-1];return["1","2","3","4","5","6"].includes(s)&&!e&&r&&ke(o,i)}function lx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad7"||t==="Digit7")&&!e&&r&&ke(o,i)}function cx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad8"||t==="Digit8")&&!e&&r&&ke(o,i)}function ux(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad6"||t==="Digit6")&&!e&&r&&ke(o,i)}function dx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyC"&&!e&&r&&ke(o,i)}function gx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyQ"&&!e&&r&&ke(o,i)}function fx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad1"||t==="Digit1")&&e&&!r&&ke(o,i)}function hx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad2"||t==="Digit2")&&e&&!r&&ke(o,i)}function px(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return(t==="Numpad3"||t==="Digit3")&&e&&!r&&ke(o,i)}function mx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyS"&&e&&!r&&ke(o,i)}function _x(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="BracketRight"&&!e&&!r&&ke(o,i)}function Cx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="BracketLeft"&&!e&&!r&&ke(o,i)}function yx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyE"&&e&&!r&&ke(o,i)}function xx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyL"&&e&&!r&&ke(o,i)}function Ex(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyR"&&e&&!r&&ke(o,i)}function Tx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyJ"&&e&&!r&&ke(o,i)}function bx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="BracketLeft"&&e&&!r&&ke(o,i)}function Nx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="BracketRight"&&e&&!r&&ke(o,i)}function Sx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="Comma"&&!e&&!r&&ke(o,i)}function Ax(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="Period"&&!e&&!r&&ke(o,i)}function vx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyC"&&e&&!r&&ke(o,i)}function Ox(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="Period"&&e&&!r&&ke(o,i)}function wx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="Comma"&&e&&!r&&ke(o,i)}function Mx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="Slash"&&!e&&!r&&ke(o,i)}function Lx(n){let{code:t,shiftKey:e,altKey:r,metaKey:o,ctrlKey:i}=n;return t==="KeyK"&&!e&&!r&&ke(o,i)}function Dx(n){let t=e=>{if(sx(e))return e.preventDefault(),ui(n),!0;if(ax(e)){e.preventDefault();let{code:r}=e,o=`h${r[r.length-1]}`;return Qy(n,"",o),!0}if(lx(e))return e.preventDefault(),ex(n,""),!0;if(cx(e))return e.preventDefault(),nx(n,""),!0;if(ux(e))return e.preventDefault(),tx(n,""),!0;if(dx(e))return e.preventDefault(),Dl(n,""),!0;if(gx(e))return e.preventDefault(),Ll(n,""),!0;if(mx(e))return e.preventDefault(),n.dispatchCommand(vt,"strikethrough"),!0;if(fx(e))return e.preventDefault(),n.dispatchCommand(vt,"lowercase"),!0;if(hx(e))return e.preventDefault(),n.dispatchCommand(vt,"uppercase"),!0;if(px(e))return e.preventDefault(),n.dispatchCommand(vt,"capitalize"),!0;if(_x(e))return e.preventDefault(),n.dispatchCommand(mt,void 0),!0;if(Cx(e))return e.preventDefault(),n.dispatchCommand(Ot,void 0),!0;if(yx(e))return e.preventDefault(),n.dispatchCommand(Wt,"center"),!0;if(xx(e))return e.preventDefault(),n.dispatchCommand(Wt,"left"),!0;if(Ex(e))return e.preventDefault(),n.dispatchCommand(Wt,"right"),!0;if(Tx(e))return e.preventDefault(),n.dispatchCommand(Wt,"justify"),!0;if(bx(e))return e.preventDefault(),n.dispatchCommand(Wt,"start"),!0;if(Nx(e))return e.preventDefault(),n.dispatchCommand(Wt,"end"),!0;if(Sx(e))return e.preventDefault(),n.dispatchCommand(vt,"subscript"),!0;if(Ax(e))return e.preventDefault(),n.dispatchCommand(vt,"superscript"),!0;if(vx(e))return e.preventDefault(),n.dispatchCommand(vt,"code"),!0;if(Ox(e)){e.preventDefault();let o=e.target?.closest(".editor-shell")?.querySelector('[x-ref="fontSize"]');return o&&ci(n,1,o),!0}if(wx(e)){e.preventDefault();let o=e.target?.closest(".editor-shell")?.querySelector('[x-ref="fontSize"]');return o&&ci(n,2,o),!0}return Mx(e)?(e.preventDefault(),kl(n),!0):Lx(e)?(e.preventDefault(),n.dispatchCommand(wr,null),!0):!1};return n.registerCommand(Yp,t,Kp)}function Rl(n){if(!n)return"";if(n.startsWith("/"))return n;try{let t=new URL(n);return t.protocol==="http:"||t.protocol==="https:"?t.toString():""}catch{return""}}var gi=class n extends Xt{static getType(){return"image"}static clone(t){return new n(t.__src,t.__altText,t.__maxWidth,t.__width,t.__height,t.__showCaption,t.__caption,t.__captionsEnabled,t.__key)}static importJSON(t){let{altText:e,height:r,width:o,maxWidth:i,caption:s,src:l,showCaption:a}=t,c=Ng({altText:e,height:r,maxWidth:i,showCaption:a,src:l,width:o}),u=c.__caption,d=u.parseEditorState(s.editorState);return d.isEmpty()||u.setEditorState(d),c}exportDOM(){let t=document.createElement("img");return t.setAttribute("src",this.__src),t.setAttribute("alt",this.__altText),typeof this.__width=="number"&&this.__width>0&&t.setAttribute("width",String(this.__width)),typeof this.__height=="number"&&this.__height>0&&t.setAttribute("height",String(this.__height)),{element:t}}static importDOM(){return{img:()=>({conversion:I0,priority:0})}}constructor(t,e,r,o,i,s,l,a,c){super(c),this.__src=Rl(t),this.__altText=e,this.__maxWidth=r,this.__width=o||"inherit",this.__height=i||"inherit",this.__showCaption=s||!1,this.__caption=l||Uo(),this.__captionsEnabled=a||a===void 0}exportJSON(){return{altText:this.getAltText(),caption:this.__caption.toJSON(),height:this.__height==="inherit"?0:this.__height,maxWidth:this.__maxWidth,showCaption:this.__showCaption,src:this.getSrc(),type:"image",version:1,width:this.__width==="inherit"?0:this.__width}}setWidthAndHeight(t,e){let r=this.getWritable();r.__width=t,r.__height=e}setAltText(t){let e=this.getWritable();e.__altText=t}createDOM(t){let e=document.createElement("span"),o=t.theme.image;o&&(e.className=o),e.classList.add("relative","image-span");let i=document.createElement("img"),s=Rl(this.__src);s&&i.setAttribute("src",s),i.setAttribute("alt",this.__altText),i.style.width=this.__width==="inherit"||this.__width===0?"":`${this.__width}px`,i.style.height="auto";let l="focused";i.onclick=()=>{i.classList.toggle(l)},i.setAttribute("x-on:click.outside",`$el.classList.remove("${l}")`),e.appendChild(i);let a=document.createElement("button");a.type="button",a.style.width="2rem",a.style.height="2rem",a.className="image-editor-button bg-gray-200 rounded-full",a.style.top="0",a.style.right="0",a.style.position="absolute";let c=document.createElement("i");return c.className="edit",c.style.width="1.5rem",c.style.height="1.5rem",c.style.display="block",c.style.margin="auto",a.appendChild(c),a.setAttribute("x-on:click",`openImageEditor('${this.getKey()}')`),e.appendChild(a),e}updateDOM(t,e,r){let o=e.querySelector("img");if(!o)return!0;o.style.width=this.__width==="inherit"||this.__width===0?"":`${this.__width}px`,o.style.height="auto",o.setAttribute("alt",this.__altText);let i=Rl(this.__src);return i?o.setAttribute("src",i):o.removeAttribute("src"),!0}getSrc(){return this.__src}getAltText(){return this.__altText}getWidth(){return this.__width==="inherit"?0:this.__width}getHeight(){return this.__height==="inherit"?0:this.__height}decorate(){return null}};function I0(n){let t=n,e=t.getAttribute("src")??"";if(!(e.startsWith("/")||/^https?:\/\//i.test(e)))return null;let r=t.getAttribute("alt")??"",o=t.width||0,i=t.height||0;return{node:Ng({altText:r,height:i,src:e,width:o})}}function Ng({altText:n,height:t,maxWidth:e=500,captionsEnabled:r,src:o,width:i,showCaption:s,caption:l,key:a}){return ge(new gi(o,n,e,i,t,s,l,r,a))}function Il(n){return n instanceof gi}var Sg=se("INSERT_IMAGE_COMMAND"),kx=n=>n.registerCommand(Sg,t=>{let e=Ng({...t,src:Rl(t.src)});return e.getSrc()&&Yn([e]),!0},J);var Ag=se("INSERT_TABLE_COMMAND"),$l=se("INSERT_TABLE_ROW_COMMAND"),Fl=se("INSERT_TABLE_COLUMN_COMMAND"),vg=se("DELETE_TABLE_ROW_COMMAND"),Og=se("DELETE_TABLE_COLUMN_COMMAND"),wg=se("DELETE_TABLE_COMMAND"),Mg=se("MERGE_TABLE_CELLS_COMMAND"),Lg=se("UNMERGE_TABLE_CELL_COMMAND"),Pl=se("SET_TABLE_CELL_BACKGROUND_COMMAND"),Dg=se("SET_TABLE_BORDER_STYLE_COMMAND"),kg=se("SET_TABLE_LAYOUT_COMMAND"),Rg=se("SET_TABLE_WIDTH_COMMAND"),Ig=se("SET_TABLE_ALIGNMENT_COMMAND");function $0(n,t,e=!0){let r=Py();for(let o=0;o<n;o++){let i=By();for(let s=0;s<t;s++){let l=e&&o===0?_g.ROW:_g.NO_STATUS,a=Fy(l),c=X();a.append(c),i.append(a)}r.append(i)}return r}function Rx(n){let t=jy(n),e=Jy(n,!0),r=n.registerCommand(Ag,_=>{let{rows:C,columns:y,includeHeaders:E=!0,borderStyle:b,cellPadding:T,layout:x,width:A}=_;return n.update(()=>{let O=M();if(!w(O))return;let L=$0(Number(C),Number(y),E),R=[];b&&R.push(`--table-border-style: ${b}`),T&&R.push(`--table-cell-padding: ${T}`),x&&(R.push(`table-layout: ${x}`),R.push(`--table-layout: ${x}`)),A&&A!=="100%"&&(R.push(`width: ${A}`),R.push(`max-width: ${A}`)),R.length>0&&L.setStyle(R.join("; ")),O.insertNodes([L]);let K=L.getFirstDescendant();K&&K.selectEnd()}),!0},J),o=n.registerCommand($l,_=>{let C=M();return!w(C)&&!Ge(C)?!1:(Yy(_.insertAfter),!0)},re),i=n.registerCommand(Fl,_=>{let C=M();return!w(C)&&!Ge(C)?!1:(Wy(_.insertAfter),!0)},re),s=n.registerCommand(vg,()=>{let _=M();return!w(_)&&!Ge(_)?!1:(Hy(),!0)},re),l=n.registerCommand(Og,()=>{let _=M();return!w(_)&&!Ge(_)?!1:(Ky(),!0)},re),a=n.registerCommand(wg,()=>{let _=M();if(!w(_)&&!Ge(_))return!1;let C=V(_.anchor.getNode(),y=>Lt(y));return Lt(C)?(C.remove(),!0):!1},re),c=n.registerCommand(Mg,()=>{let _=M();if(!Ge(_))return!1;let y=_.getNodes().filter(F=>ii(F));if(y.length<2)return!1;let E=V(y[0],F=>Lt(F));if(!Lt(E))return!1;let b=1/0,T=-1,x=1/0,A=-1;for(let F of y){let B=zy(F),z=Uy(F);b=Math.min(b,B),T=Math.max(T,B+(F.getRowSpan()||1)-1),x=Math.min(x,z),A=Math.max(A,z+(F.getColSpan()||1)-1)}let O=T-b+1,L=A-x+1,K=E.getChildren()[b]?.getChildren()?.[x];if(!K)return!1;for(let F of y)if(F!==K){let B=F.getChildren();for(let z of B)K.append(z);F.remove()}return K.setRowSpan(O),K.setColSpan(L),!0},re),u=n.registerCommand(Lg,()=>{let _=M();return!w(_)||!Ml(_.anchor.getNode())?!1:(Gy(),!0)},re),d=n.registerCommand(Pl,_=>{let C=M();if(Ge(C)){let E=C.getNodes().filter(b=>ii(b));for(let b of E)b.setBackgroundColor(_);return!0}if(w(C)){let y=Ml(C.anchor.getNode());if(y)return y.setBackgroundColor(_),!0}return!1},re),g=n.registerCommand(Er,()=>{let _=M();if(!w(_))return!1;let C=Ml(_.anchor.getNode());if(!C)return!1;let y=V(C,b=>Lt(b));if(!Lt(y))return!1;let E=X();return y.insertAfter(E),E.select(),!0},re),h=n.registerCommand(Dg,_=>{let C=M();if(!w(C)&&!Ge(C))return!1;let y=(Ge(C),C.anchor.getNode()),E=V(y,x=>Lt(x));if(!Lt(E))return!1;let T=(E.getStyle()||"").replace(/--table-border-style:\s*[^;]+;?/g,"").trim();return E.setStyle(`${T}; --table-border-style: ${_}`.replace(/^;\s*/,"")),!0},re),f=n.registerCommand(kg,_=>{let C=M();if(!w(C)&&!Ge(C))return!1;let y=(Ge(C),C.anchor.getNode()),E=V(y,x=>Lt(x));if(!Lt(E))return!1;let T=(E.getStyle()||"").replace(/--table-layout:\s*[^;]+;?/g,"").replace(/table-layout:\s*[^;]+;?/g,"").trim();return E.setStyle(`${T}; table-layout: ${_}; --table-layout: ${_}`.replace(/^;\s*/,"")),!0},re),p=n.registerCommand(Rg,_=>{let C=M();if(!w(C)&&!Ge(C))return!1;let y=(Ge(C),C.anchor.getNode()),E=V(y,x=>Lt(x));if(!Lt(E))return!1;let T=(E.getStyle()||"").replace(/width:\s*[^;]+;?/g,"").replace(/max-width:\s*[^;]+;?/g,"").trim();return _==="auto"||_==="100%"?E.setStyle(`${T}; width: 100%; max-width: 100%`.replace(/^;\s*/,"")):E.setStyle(`${T}; width: ${_}; max-width: ${_}`.replace(/^;\s*/,"")),!0},re),m=n.registerCommand(Ig,_=>{let C=M();if(!w(C)&&!Ge(C))return!1;let y=(Ge(C),C.anchor.getNode()),E=V(y,A=>Lt(A));if(!Lt(E))return!1;let T=(E.getStyle()||"").replace(/margin-left:\s*[^;]+;?/g,"").replace(/margin-right:\s*[^;]+;?/g,"").trim(),x="";switch(_){case"left":x="margin-left: 0; margin-right: auto";break;case"center":x="margin-left: auto; margin-right: auto";break;case"right":x="margin-left: auto; margin-right: 0";break}return E.setStyle(`${T}; ${x}`.replace(/^;\s*/,"")),!0},re);return ue(t,e,r,o,i,s,l,a,c,u,d,g,h,f,p,m)}var F0={insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",insertColumnLeft:"Insert column left",insertColumnRight:"Insert column right",deleteRow:"Delete row",deleteColumn:"Delete column",mergeCells:"Merge cells",unmergeCells:"Unmerge cell",cellBackground:"Cell background color",deleteTable:"Delete table",borderStyle:"Border style",tableLayout:"Table layout",tableWidth:"Table width",tableAlignment:"Table alignment"};function Ix(n,t={}){let e={...F0,...t},r=null,o=null;function i(){let y=document.createElement("div");return y.className="lexical-table-context-menu",y.style.cssText=`
            position: fixed;
            z-index: 10000;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            padding: 4px 0;
            min-width: 180px;
            display: none;
        `,document.documentElement.classList.contains("dark")&&(y.style.background="#1f2937",y.style.borderColor="#374151",y.style.color="#f3f4f6"),document.body.appendChild(y),y}function s(y,E,b=!1){let T=document.createElement("button");return T.type="button",T.className="lexical-table-context-menu-item",T.textContent=y,T.disabled=b,T.style.cssText=`
            display: block;
            width: 100%;
            padding: 8px 12px;
            text-align: left;
            background: none;
            border: none;
            cursor: ${b?"not-allowed":"pointer"};
            font-size: 14px;
            color: ${b?"#9ca3af":"inherit"};
            opacity: ${b?"0.5":"1"};
        `,b||(T.addEventListener("mouseenter",()=>{T.style.background=document.documentElement.classList.contains("dark")?"#374151":"#f3f4f6"}),T.addEventListener("mouseleave",()=>{T.style.background="none"}),T.addEventListener("click",()=>{E(),m()})),T}function l(){let y=document.createElement("div");return y.style.cssText=`
            height: 1px;
            background: ${document.documentElement.classList.contains("dark")?"#374151":"#e5e7eb"};
            margin: 4px 0;
        `,y}function a(){let y=document.createElement("div");y.className="lexical-table-color-picker",y.style.cssText=`
            position: fixed;
            z-index: 10001;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 8px;
            display: none;
        `,document.documentElement.classList.contains("dark")&&(y.style.background="#1f2937",y.style.borderColor="#374151");let E=["#ffffff","#f3f4f6","#e5e7eb","#d1d5db","#fef2f2","#fef3c7","#d1fae5","#dbeafe","#ede9fe","#fce7f3","#fee2e2","#fde68a","#6ee7b7","#93c5fd","#c4b5fd","#f9a8d4"],b=document.createElement("div");b.style.cssText=`
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
        `,E.forEach(x=>{let A=document.createElement("button");A.type="button",A.style.cssText=`
                width: 24px;
                height: 24px;
                border: 1px solid #d1d5db;
                border-radius: 4px;
                background: ${x};
                cursor: pointer;
            `,A.addEventListener("click",()=>{n.dispatchCommand(Pl,x),u(),m()}),b.appendChild(A)});let T=document.createElement("button");return T.type="button",T.textContent="Clear",T.style.cssText=`
            width: 100%;
            margin-top: 8px;
            padding: 4px 8px;
            font-size: 12px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            background: none;
            cursor: pointer;
        `,T.addEventListener("click",()=>{n.dispatchCommand(Pl,""),u(),m()}),y.appendChild(b),y.appendChild(T),document.body.appendChild(y),y}function c(y,E){o||(o=a()),o.style.left=`${y}px`,o.style.top=`${E}px`,o.style.display="block"}function u(){o&&(o.style.display="none")}let d=null;function g(y,E){let b=document.createElement("div");return b.className="lexical-table-submenu",b.style.cssText=`
            position: fixed;
            z-index: 10001;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 4px 0;
            min-width: 140px;
            display: none;
        `,document.documentElement.classList.contains("dark")&&(b.style.background="#1f2937",b.style.borderColor="#374151",b.style.color="#f3f4f6"),y.forEach(({label:T,value:x})=>{let A=document.createElement("button");A.type="button",A.textContent=T,A.style.cssText=`
                display: block;
                width: 100%;
                padding: 8px 12px;
                text-align: left;
                background: none;
                border: none;
                cursor: pointer;
                font-size: 14px;
                color: inherit;
            `,A.addEventListener("mouseenter",()=>{A.style.background=document.documentElement.classList.contains("dark")?"#374151":"#f3f4f6"}),A.addEventListener("mouseleave",()=>{A.style.background="none"}),A.addEventListener("click",()=>{E(x),f(),m()}),b.appendChild(A)}),document.body.appendChild(b),b}function h(y,E,b){f(),d=g(E,b);let T=y.getBoundingClientRect();d.style.left=`${T.right+4}px`,d.style.top=`${T.top}px`,d.style.display="block",requestAnimationFrame(()=>{if(!d)return;let x=d.getBoundingClientRect();x.right>window.innerWidth&&(d.style.left=`${T.left-x.width-4}px`),x.bottom>window.innerHeight&&(d.style.top=`${window.innerHeight-x.height-10}px`)})}function f(){d&&(d.remove(),d=null)}function p(y,E,b,T){r||(r=i()),r.innerHTML="",r.appendChild(s(e.insertRowAbove,()=>{n.dispatchCommand($l,{insertAfter:!1})})),r.appendChild(s(e.insertRowBelow,()=>{n.dispatchCommand($l,{insertAfter:!0})})),r.appendChild(l()),r.appendChild(s(e.insertColumnLeft,()=>{n.dispatchCommand(Fl,{insertAfter:!1})})),r.appendChild(s(e.insertColumnRight,()=>{n.dispatchCommand(Fl,{insertAfter:!0})})),r.appendChild(l()),r.appendChild(s(e.deleteRow,()=>{n.dispatchCommand(vg,void 0)})),r.appendChild(s(e.deleteColumn,()=>{n.dispatchCommand(Og,void 0)})),r.appendChild(l()),r.appendChild(s(e.mergeCells,()=>{n.dispatchCommand(Mg,void 0)},!b)),r.appendChild(s(e.unmergeCells,()=>{n.dispatchCommand(Lg,void 0)},!T)),r.appendChild(l());let x=s(e.cellBackground,()=>{let B=x.getBoundingClientRect();c(B.right+4,B.top)});r.appendChild(x),r.appendChild(l());let A=s(`${e.borderStyle} \u2192`,()=>{});A.addEventListener("mouseenter",()=>{h(A,[{label:"None",value:"none"},{label:"Light",value:"light"},{label:"Medium",value:"medium"},{label:"Heavy",value:"heavy"}],B=>{n.dispatchCommand(Dg,B)})}),r.appendChild(A);let O=s(`${e.tableLayout} \u2192`,()=>{});O.addEventListener("mouseenter",()=>{h(O,[{label:"Auto (responsive)",value:"auto"},{label:"Fixed",value:"fixed"}],B=>{n.dispatchCommand(kg,B)})}),r.appendChild(O);let L=s(`${e.tableWidth} \u2192`,()=>{});L.addEventListener("mouseenter",()=>{h(L,[{label:"Full width (100%)",value:"100%"},{label:"75%",value:"75%"},{label:"50%",value:"50%"},{label:"600px",value:"600px"},{label:"400px",value:"400px"},{label:"Auto",value:"auto"}],B=>{n.dispatchCommand(Rg,B)})}),r.appendChild(L);let R=s(`${e.tableAlignment} \u2192`,()=>{});R.addEventListener("mouseenter",()=>{h(R,[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],B=>{n.dispatchCommand(Ig,B)})}),r.appendChild(R),r.appendChild(l());let K=s(e.deleteTable,()=>{n.dispatchCommand(wg,void 0)});K.style.color="#ef4444",r.appendChild(K),r.style.left=`${y}px`,r.style.top=`${E}px`,r.style.display="block";let F=r.getBoundingClientRect();F.right>window.innerWidth&&(r.style.left=`${Math.max(10,window.innerWidth-F.width-10)}px`),F.bottom>window.innerHeight&&(r.style.top=`${Math.max(10,window.innerHeight-F.height-10)}px`),F.top<0&&(r.style.top="10px"),F.left<0&&(r.style.left="10px"),requestAnimationFrame(()=>{if(!r)return;let B=r.getBoundingClientRect();B.right>window.innerWidth&&(r.style.left=`${Math.max(10,window.innerWidth-B.width-10)}px`),B.bottom>window.innerHeight&&(r.style.top=`${Math.max(10,window.innerHeight-B.height-10)}px`)}),setTimeout(()=>{document.addEventListener("click",_),document.addEventListener("contextmenu",_)},0)}function m(){r&&(r.style.display="none"),u(),f(),document.removeEventListener("click",_),document.removeEventListener("contextmenu",_)}function _(y){let E=y.target;r&&!r.contains(E)&&(!o||!o.contains(E))&&(!d||!d.contains(E))&&m()}function C(){m(),r&&(r.remove(),r=null),o&&(o.remove(),o=null)}return{show:p,hide:m,destroy:C}}var Pg=4,P0=2,Ux="lexical-draggable-block-menu",$x="application/x-lexical-drag-block",Fx=28,B0=1,K0=-1,H0=0,Bl=1/0;function U0(n){return n===0?1/0:Bl>=0&&Bl<n?Bl:Math.floor(n/2)}function z0(n){return n.getEditorState().read(()=>Be().getChildrenKeys())}function zx(n){let t=(a,c)=>a?parseFloat(window.getComputedStyle(a)[c]):0,{marginTop:e,marginBottom:r}=window.getComputedStyle(n),o=t(n.previousElementSibling,"marginBottom"),i=t(n.nextElementSibling,"marginTop"),s=Math.max(parseFloat(e),o);return{marginBottom:Math.max(parseFloat(r),i),marginTop:s}}function $g(n,t,e,r=!1){let o=n.getBoundingClientRect(),i=z0(t),s=null;return t.getEditorState().read(()=>{if(r){let[c,u]=[i[0],i[i.length-1]],[d,g]=[t.getElementByKey(c),t.getElementByKey(u)];if(d&&g){let[h,f]=[d.getBoundingClientRect(),g.getBoundingClientRect()];if(e.clientY<h.top?s=d:e.clientY>f.bottom&&(s=g),s)return}}let l=U0(i.length),a=H0;for(;l>=0&&l<i.length;){let c=i[l],u=t.getElementByKey(c);if(u===null)break;let d=new DOMPoint(e.clientX,e.clientY),g=u.getBoundingClientRect(),{marginTop:h,marginBottom:f}=zx(u),p=new DOMRect(o.x,g.top-h,o.width,g.height+h+f),{top:m,bottom:_,left:C,right:y}=p,E=d.y<m,b=d.y>_,T=d.x<C,x=d.x>y;if(E)a=K0;else if(b)a=B0;else if(!T&&!x){s=u,Bl=l;break}l+=a}}),s}function Px(n){return!!n.closest(`.${Ux}`)}function Bx(n,t,e){if(!n){t.style.opacity="0",t.style.transform="translate(-10000px, -10000px)";return}let r=n.getBoundingClientRect(),o=window.getComputedStyle(n),i=t.getBoundingClientRect(),s=e.getBoundingClientRect(),l=r.top+(parseInt(o.lineHeight,10)-i.height)/2-s.top,a=Pg;t.style.opacity="1",t.style.transform=`translate(${a}px, ${l}px)`}function W0(n,t){let{transform:e}=t.style;t.style.transform="translateZ(0)",n.setDragImage(t,0,0),setTimeout(()=>{t.style.transform=e})}function Y0(n,t,e,r){let{top:o,height:i}=t.getBoundingClientRect(),{top:s,width:l}=r.getBoundingClientRect(),{marginTop:a,marginBottom:c}=zx(t),u=o;e>=o+i/2?u+=i+c/2:u-=a/2;let d=u-s-P0,g=Fx-Pg;n.style.transform=`translate(${g}px, ${d}px)`,n.style.width=`${l-(Fx-Pg)*2}px`,n.style.opacity="1"}function Kx(n){n.style.opacity="0",n.style.transform="translate(-10000px, -10000px)"}function Fg(n,t){let e="__lexicalKey_"+t._key;return n[e]||null}function Wx(n,t={}){let e=t.anchorElem||n.getRootElement()?.parentElement;if(!e)return()=>{};let r=document.createElement("div");r.className=Ux,r.innerHTML=`
        <button type="button" class="lexical-draggable-block-add" title="Click to add below">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        </button>
        <div class="lexical-draggable-block-handle" draggable="true" title="Drag to move">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <circle cx="9" cy="6" r="1.5"></circle>
                <circle cx="9" cy="12" r="1.5"></circle>
                <circle cx="9" cy="18" r="1.5"></circle>
                <circle cx="15" cy="6" r="1.5"></circle>
                <circle cx="15" cy="12" r="1.5"></circle>
                <circle cx="15" cy="18" r="1.5"></circle>
            </svg>
        </div>
    `,r.style.cssText=`
        position: absolute;
        left: 0;
        top: 0;
        will-change: transform;
        opacity: 0;
        display: flex;
        align-items: center;
        gap: 0;
        z-index: 10;
    `;let o=()=>document.documentElement.classList.contains("dark"),i=r.querySelector(".lexical-draggable-block-add");i&&(i.style.cssText=`
            display: flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            padding: 0;
            border: none;
            background: transparent;
            border-radius: 4px;
            cursor: pointer;
            color: ${o()?"#9ca3af":"#6b7280"};
            transition: all 0.15s ease;
        `,i.addEventListener("mouseenter",()=>{i.style.background=o()?"#374151":"#e5e7eb",i.style.color=o()?"#f3f4f6":"#111827"}),i.addEventListener("mouseleave",()=>{i.style.background="transparent",i.style.color=o()?"#9ca3af":"#6b7280"}));let s=r.querySelector(".lexical-draggable-block-handle");s&&(s.style.cssText=`
            display: flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            padding: 0;
            border-radius: 4px;
            cursor: grab;
            color: ${o()?"#9ca3af":"#6b7280"};
            transition: all 0.15s ease;
        `,s.addEventListener("mouseenter",()=>{s.style.background=o()?"#374151":"#e5e7eb",s.style.color=o()?"#f3f4f6":"#111827"}),s.addEventListener("mouseleave",()=>{s.style.background="transparent",s.style.color=o()?"#9ca3af":"#6b7280"}));let l=document.createElement("div");l.className="lexical-draggable-block-target-line",l.style.cssText=`
        position: absolute;
        left: 0;
        top: 0;
        will-change: transform;
        pointer-events: none;
        height: 4px;
        background: #3b82f6;
        border-radius: 2px;
        opacity: 0;
        z-index: 10;
    `,e.appendChild(r),e.appendChild(l);let a=null,c=!1,u=null;function d(y){let E=y.target;if(!E||c||Px(E)||!n.getRootElement())return;let T=$g(e,n,y);Bx(T,r,e),a=T}function g(y){if(c)return;let E=y.relatedTarget;E&&Px(E)||(Bx(null,r,e),a=null)}function h(y){let E=y.dataTransfer;if(!E||!a)return;c=!0,W0(E,a);let b=null;n.update(()=>{let T=p(a,n);T&&(b=T.getKey())}),E.setData($x,b||"")}function f(){c=!1,Kx(l),u=null}function p(y,E){let b=null;return E.getEditorState().read(()=>{let T=Fg(y,E);T&&(b=ye(T))}),b}let m=n.registerCommand(Sa,y=>{if(!c)return!1;let[E]=Hx(y);if(E)return!1;let{clientY:b}=y,T=$g(e,n,y,!0);return T?(u=T,Y0(l,T,b,e),y.preventDefault(),!0):!1},pt),_=n.registerCommand(Aa,y=>{if(!c)return!1;let[E]=Hx(y);if(E)return!1;let T=y.dataTransfer?.getData($x)||"";if(!T)return!1;let x=T,A=u||$g(e,n,y,!0);if(!A)return!1;let{clientY:O}=y,{top:L,height:R}=A.getBoundingClientRect(),K=O>=L+R/2;return n.update(()=>{let F=ye(x);if(!F)return;let B=Fg(A,n);if(!B)return;let z=ye(B);if(z&&x!==B){if(qC(F)){let oe=F.getParent();if(_l(oe)&&oe.getChildrenSize()===1){K?z.insertAfter(oe):z.insertBefore(oe);return}}K?z.insertAfter(F):z.insertBefore(F)}}),Kx(l),u=null,y.preventDefault(),!0},pt),C=n.getRootElement();return C&&(C.addEventListener("mousemove",d),C.addEventListener("mouseleave",g)),s&&(s.addEventListener("dragstart",h),s.addEventListener("dragend",f)),i&&i.addEventListener("click",()=>{a&&n.update(()=>{let y=Fg(a,n);if(!y)return;let E=ye(y);if(!E)return;let b=X();E.insertAfter(b),b.select()})}),ue(m,_,()=>{C&&(C.removeEventListener("mousemove",d),C.removeEventListener("mouseleave",g)),s&&(s.removeEventListener("dragstart",h),s.removeEventListener("dragend",f)),r.remove(),l.remove()})}function Hx(n){let t=n.dataTransfer;return t?t.types.includes("Files")?[!0,Array.from(t.files)]:[!1,[]]:[!1,[]]}var Hg=se("INSERT_LAYOUT_COMMAND"),bs=class n extends $e{static getType(){return"layout-container"}static clone(t){return new n(t.__columns,t.__key)}constructor(t=2,e){super(e),this.__columns=t}createDOM(t){let e=document.createElement("div");return e.className=`lexical-layout-container lexical-layout-${this.__columns}-col`,e.setAttribute("data-columns",String(this.__columns)),e}updateDOM(t,e){return t.__columns!==this.__columns&&(e.className=`lexical-layout-container lexical-layout-${this.__columns}-col`,e.setAttribute("data-columns",String(this.__columns))),!1}static importJSON(t){return Bg(t.columns)}exportJSON(){return{...super.exportJSON(),columns:this.__columns,type:"layout-container",version:1}}exportDOM(){let t=document.createElement("div");return t.className=`lexical-layout-container lexical-layout-${this.__columns}-col`,t.setAttribute("data-columns",String(this.__columns)),{element:t}}static importDOM(){return{div:t=>{if(t.classList.contains("lexical-layout-container")){let e=parseInt(t.getAttribute("data-columns")||"2",10);return{conversion:()=>({node:Bg(e)}),priority:1}}return null}}}getColumns(){return this.__columns}setColumns(t){let e=this.getWritable();e.__columns=t}isShadowRoot(){return!1}},Ns=class n extends $e{static getType(){return"layout-item"}static clone(t){return new n(t.__key)}createDOM(){let t=document.createElement("div");return t.className="lexical-layout-item",t}updateDOM(){return!1}static importJSON(){return Kg()}exportJSON(){return{...super.exportJSON(),type:"layout-item",version:1}}exportDOM(){let t=document.createElement("div");return t.className="lexical-layout-item",{element:t}}static importDOM(){return{div:t=>t.classList.contains("lexical-layout-item")?{conversion:()=>({node:Kg()}),priority:1}:null}}isShadowRoot(){return!1}};function Bg(n=2){return ge(new bs(n))}function Kg(){return ge(new Ns)}function Yx(n){let t=n.registerCommand(Hg,e=>{let{columns:r}=e;return n.update(()=>{let o=M();if(!w(o))return;let i=Bg(r);for(let s=0;s<r;s++){let l=Kg(),a=X();l.append(a),i.append(l)}o.insertNodes([i])}),!0},J);return ue(t)}var Ug=se("INSERT_YOUTUBE_COMMAND"),G0=se("UPDATE_YOUTUBE_COMMAND");function Gx(n){let t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/^([a-zA-Z0-9_-]{11})$/];for(let e of t){let r=n.match(e);if(r)return r[1]}return null}var fi=class n extends Xt{static getType(){return"youtube"}static clone(t){return new n(t.__videoID,t.__width,t.__alignment,t.__key)}constructor(t,e="100%",r="center",o){super(o),this.__videoID=t,this.__width=e,this.__alignment=r}getAlignmentStyle(){switch(this.__alignment){case"left":return"margin-left: 0; margin-right: auto;";case"right":return"margin-left: auto; margin-right: 0;";case"center":default:return"margin-left: auto; margin-right: auto;"}}createDOM(t){let e=document.createElement("div");e.className="lexical-youtube-wrapper",e.style.cssText=`
            width: ${this.__width};
            ${this.getAlignmentStyle()}
            margin-top: 16px;
            margin-bottom: 16px;
        `,e.setAttribute("data-youtube-width",this.__width),e.setAttribute("data-youtube-alignment",this.__alignment);let r=document.createElement("div");r.className="lexical-youtube-container",r.style.cssText=`
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 8px;
            background: #000;
        `;let o=document.createElement("iframe");return o.src=`https://www.youtube-nocookie.com/embed/${this.__videoID}`,o.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",o.allowFullscreen=!0,o.style.cssText=`
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
            border-radius: 8px;
        `,r.appendChild(o),e.appendChild(r),e}updateDOM(t,e){let r=!1;if(t.__videoID!==this.__videoID){let o=e.querySelector("iframe");o&&(o.src=`https://www.youtube-nocookie.com/embed/${this.__videoID}`)}if(t.__width!==this.__width&&(e.style.width=this.__width,e.setAttribute("data-youtube-width",this.__width)),t.__alignment!==this.__alignment){let o=this.getAlignmentStyle();e.style.marginLeft=this.__alignment==="left"?"0":"auto",e.style.marginRight=this.__alignment==="right"?"0":"auto",e.setAttribute("data-youtube-alignment",this.__alignment)}return!1}static importJSON(t){return Ss(t.videoID,t.width||"100%",t.alignment||"center")}exportJSON(){return{videoID:this.__videoID,width:this.__width,alignment:this.__alignment,type:"youtube",version:1}}exportDOM(){let t=document.createElement("div");t.className="lexical-youtube-wrapper",t.style.cssText=`
            width: ${this.__width};
            ${this.getAlignmentStyle()}
            margin-top: 16px;
            margin-bottom: 16px;
        `,t.setAttribute("data-youtube-video-id",this.__videoID),t.setAttribute("data-youtube-width",this.__width),t.setAttribute("data-youtube-alignment",this.__alignment);let e=document.createElement("div");e.className="lexical-youtube-container",e.style.cssText=`
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
        `;let r=document.createElement("iframe");return r.src=`https://www.youtube-nocookie.com/embed/${this.__videoID}`,r.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",r.allowFullscreen=!0,r.style.cssText=`
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        `,e.appendChild(r),t.appendChild(e),{element:t}}static importDOM(){return{div:t=>{if(t.classList.contains("lexical-youtube-wrapper")){let e=t.getAttribute("data-youtube-video-id"),r=t.getAttribute("data-youtube-width")||"100%",o=t.getAttribute("data-youtube-alignment")||"center";if(e)return{conversion:()=>({node:Ss(e,r,o)}),priority:2}}if(t.classList.contains("lexical-youtube-container")){let e=t.getAttribute("data-youtube-video-id");if(e)return{conversion:()=>({node:Ss(e)}),priority:1}}return null},iframe:t=>{let e=t.getAttribute("src")||"",r=Gx(e);return r?{conversion:()=>({node:Ss(r)}),priority:1}:null}}}getVideoID(){return this.__videoID}getWidth(){return this.__width}getAlignment(){return this.__alignment}setWidth(t){let e=this.getWritable();e.__width=t}setAlignment(t){let e=this.getWritable();e.__alignment=t}decorate(){return null}isInline(){return!1}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}};function Ss(n,t="100%",e="center"){return ge(new fi(n,t,e))}function j0(n){return n instanceof fi}function jx(n){let t=n.registerCommand(Ug,r=>{let{videoID:o,width:i="100%",alignment:s="center"}=r,l=Gx(o)||o;return n.update(()=>{let a=M();if(!w(a))return;let c=Ss(l,i,s);a.insertNodes([c])}),!0},J),e=n.registerCommand(G0,r=>{let{nodeKey:o,width:i,alignment:s}=r;return n.update(()=>{let l=ye(o);j0(l)&&(i!==void 0&&l.setWidth(i),s!==void 0&&l.setAlignment(s))}),!0},re);return ue(t,e)}var zg=se("INSERT_TWEET_COMMAND"),J0=se("UPDATE_TWEET_COMMAND");function Jx(n){let t=[/(?:twitter\.com|x\.com)\/\w+\/status\/(\d+)/,/^(\d{10,})$/];for(let e of t){let r=n.match(e);if(r)return r[1]}return null}function V0(){return new Promise(n=>{if(window.twttr){n();return}let t=document.getElementById("twitter-wjs");if(t){t.addEventListener("load",()=>n());return}let e=document.createElement("script");e.id="twitter-wjs",e.src="https://platform.twitter.com/widgets.js",e.async=!0,e.onload=()=>n(),document.head.appendChild(e)})}var hi=class n extends Xt{static getType(){return"tweet"}static clone(t){return new n(t.__tweetID,t.__width,t.__alignment,t.__key)}constructor(t,e="550px",r="center",o){super(o),this.__tweetID=t,this.__width=e,this.__alignment=r}getAlignmentStyle(){switch(this.__alignment){case"left":return"justify-content: flex-start;";case"right":return"justify-content: flex-end;";case"center":default:return"justify-content: center;"}}getTwitterAlign(){return this.__alignment}createDOM(t){let e=document.createElement("div");e.className="lexical-tweet-wrapper",e.style.cssText=`
            display: flex;
            ${this.getAlignmentStyle()}
            margin: 16px 0;
            min-height: 200px;
        `,e.setAttribute("data-tweet-id",this.__tweetID),e.setAttribute("data-tweet-width",this.__width),e.setAttribute("data-tweet-alignment",this.__alignment);let r=document.createElement("div");r.className="lexical-tweet-container",r.style.cssText=`
            width: ${this.__width};
            max-width: 100%;
        `;let o=document.createElement("div");o.className="lexical-tweet-placeholder",o.style.cssText=`
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            min-height: 200px;
            background: #f7f9fa;
            border: 1px solid #e1e8ed;
            border-radius: 12px;
            color: #657786;
            font-size: 14px;
        `,o.innerHTML=`
            <div style="text-align: center;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" style="margin: 0 auto 8px;">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
                <div>Loading tweet...</div>
            </div>
        `,r.appendChild(o);let i=this.getTwitterAlign(),s=this.__tweetID;return V0().then(()=>{window.twttr&&window.twttr.widgets&&(o.remove(),window.twttr.widgets.createTweet(s,r,{theme:document.documentElement.classList.contains("dark")?"dark":"light",align:i}))}),e.appendChild(r),e}updateDOM(t,e){if(t.__tweetID!==this.__tweetID)return!0;if(t.__width!==this.__width){let r=e.querySelector(".lexical-tweet-container");r&&(r.style.width=this.__width),e.setAttribute("data-tweet-width",this.__width)}return t.__alignment!==this.__alignment&&(e.style.justifyContent=this.__alignment==="left"?"flex-start":this.__alignment==="right"?"flex-end":"center",e.setAttribute("data-tweet-alignment",this.__alignment)),!1}static importJSON(t){return As(t.tweetID,t.width||"550px",t.alignment||"center")}exportJSON(){return{tweetID:this.__tweetID,width:this.__width,alignment:this.__alignment,type:"tweet",version:1}}exportDOM(){let t=document.createElement("div");t.className="lexical-tweet-wrapper",t.style.cssText=`
            display: flex;
            ${this.getAlignmentStyle()}
            margin: 16px 0;
        `,t.setAttribute("data-tweet-id",this.__tweetID),t.setAttribute("data-tweet-width",this.__width),t.setAttribute("data-tweet-alignment",this.__alignment);let e=document.createElement("div");e.className="lexical-tweet-container",e.style.cssText=`width: ${this.__width}; max-width: 100%;`;let r=document.createElement("blockquote");r.className="twitter-tweet",r.setAttribute("data-conversation","none"),r.setAttribute("data-align",this.__alignment);let o=document.createElement("a");return o.href=`https://twitter.com/x/status/${this.__tweetID}`,o.textContent="View Tweet",r.appendChild(o),e.appendChild(r),t.appendChild(e),{element:t}}static importDOM(){return{div:t=>{if(t.classList.contains("lexical-tweet-wrapper")){let e=t.getAttribute("data-tweet-id"),r=t.getAttribute("data-tweet-width")||"550px",o=t.getAttribute("data-tweet-alignment")||"center";if(e)return{conversion:()=>({node:As(e,r,o)}),priority:2}}if(t.classList.contains("lexical-tweet-container")){let e=t.getAttribute("data-tweet-id");if(e)return{conversion:()=>({node:As(e)}),priority:1}}return null},blockquote:t=>{if(t.classList.contains("twitter-tweet")){let e=t.querySelector('a[href*="twitter.com"], a[href*="x.com"]');if(e){let r=e.getAttribute("href")||"",o=Jx(r);if(o)return{conversion:()=>({node:As(o)}),priority:1}}}return null}}}getTweetID(){return this.__tweetID}getWidth(){return this.__width}getAlignment(){return this.__alignment}setWidth(t){let e=this.getWritable();e.__width=t}setAlignment(t){let e=this.getWritable();e.__alignment=t}decorate(){return null}isInline(){return!1}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}};function As(n,t="550px",e="center"){return ge(new hi(n,t,e))}function X0(n){return n instanceof hi}function Vx(n){let t=n.registerCommand(zg,r=>{let{tweetID:o,width:i="550px",alignment:s="center"}=r,l=Jx(o)||o;return n.update(()=>{let a=M();if(!w(a))return;let c=As(l,i,s);a.insertNodes([c])}),!0},J),e=n.registerCommand(J0,r=>{let{nodeKey:o,width:i,alignment:s}=r;return n.update(()=>{let l=ye(o);X0(l)&&(i!==void 0&&l.setWidth(i),s!==void 0&&l.setAlignment(s))}),!0},re);return ue(t,e)}var jg=se("INSERT_COLLAPSIBLE_COMMAND"),q0=se("TOGGLE_COLLAPSIBLE_COMMAND"),pi=class n extends $e{static getType(){return"collapsible-container"}static clone(t){return new n(t.__isOpen,t.__key)}constructor(t=!0,e){super(e),this.__isOpen=t}createDOM(t){let e=document.createElement("details");return e.className="lexical-collapsible-container",e.open=this.__isOpen,e.style.cssText=`
            margin: 16px 0;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        `,e.addEventListener("toggle",()=>{}),e}updateDOM(t,e){return t.__isOpen!==this.__isOpen&&(e.open=this.__isOpen),!1}static importJSON(t){return Wg(t.isOpen)}exportJSON(){return{...super.exportJSON(),isOpen:this.__isOpen,type:"collapsible-container",version:1}}exportDOM(){let t=document.createElement("details");return t.className="lexical-collapsible-container",t.open=this.__isOpen,t.style.cssText=`
            margin: 16px 0;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        `,{element:t}}static importDOM(){return{details:t=>t.classList.contains("lexical-collapsible-container")?{conversion:()=>({node:Wg(t.open)}),priority:1}:null}}getIsOpen(){return this.__isOpen}setIsOpen(t){let e=this.getWritable();e.__isOpen=t}toggleOpen(){this.setIsOpen(!this.__isOpen)}isShadowRoot(){return!1}},vs=class n extends Xt{static getType(){return"collapsible-title"}static clone(t){return new n(t.__title,t.__key)}constructor(t="Click to expand",e){super(e),this.__title=t}createDOM(t){let e=document.createElement("summary");e.className="lexical-collapsible-title",e.textContent=this.__title,e.style.cssText=`
            padding: 12px 16px;
            background: #f9fafb;
            cursor: pointer;
            font-weight: 600;
            user-select: none;
            display: flex;
            align-items: center;
            gap: 8px;
            list-style: none;
        `;let r=document.createElement("span");r.className="lexical-collapsible-arrow",r.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        `,r.style.cssText=`
            transition: transform 0.2s ease;
            display: flex;
        `,e.insertBefore(r,e.firstChild);let o=e.closest("details");if(o){let i=()=>{r.style.transform=o.open?"rotate(90deg)":"rotate(0deg)"};o.addEventListener("toggle",i),i()}return e}updateDOM(t,e){if(t.__title!==this.__title){let r=e.querySelector(".lexical-collapsible-arrow");e.textContent=this.__title,r&&e.insertBefore(r,e.firstChild)}return!1}static importJSON(t){return Yg(t.title)}exportJSON(){return{title:this.__title,type:"collapsible-title",version:1}}exportDOM(){let t=document.createElement("summary");return t.className="lexical-collapsible-title",t.textContent=this.__title,t.style.cssText=`
            padding: 12px 16px;
            background: #f9fafb;
            cursor: pointer;
            font-weight: 600;
        `,{element:t}}static importDOM(){return{summary:t=>t.classList.contains("lexical-collapsible-title")?{conversion:()=>({node:Yg(t.textContent||"Click to expand")}),priority:1}:null}}getTitle(){return this.__title}setTitle(t){let e=this.getWritable();e.__title=t}decorate(){return null}isInline(){return!1}},Os=class n extends $e{static getType(){return"collapsible-content"}static clone(t){return new n(t.__key)}createDOM(){let t=document.createElement("div");return t.className="lexical-collapsible-content",t.style.cssText=`
            padding: 16px;
            border-top: 1px solid #e5e7eb;
        `,t}updateDOM(){return!1}static importJSON(t){return Gg()}exportJSON(){return{...super.exportJSON(),type:"collapsible-content",version:1}}exportDOM(){let t=document.createElement("div");return t.className="lexical-collapsible-content",t.style.cssText="padding: 16px;",{element:t}}static importDOM(){return{div:t=>t.classList.contains("lexical-collapsible-content")?{conversion:()=>({node:Gg()}),priority:1}:null}}isShadowRoot(){return!1}};function Wg(n=!0){return ge(new pi(n))}function Yg(n="Click to expand"){return ge(new vs(n))}function Gg(){return ge(new Os)}function Z0(n){return n instanceof pi}function Xx(n){let t=n.registerCommand(jg,r=>{let{title:o="Click to expand",isOpen:i=!0}=r;return n.update(()=>{let s=M();if(!w(s))return;let l=Wg(i),a=Yg(o),c=Gg(),u=X();c.append(u),l.append(a),l.append(c),s.insertNodes([l]),u.select()}),!0},J),e=n.registerCommand(q0,r=>(n.update(()=>{let o=n.getEditorState()._nodeMap.get(r);Z0(o)&&o.toggleOpen()}),!0),J);return ue(t,e)}var ho=class n extends Je{constructor(t,e){super(t,e)}static getType(){return"extended-text"}static clone(t){let e=new n(t.__text,t.__key);return e.__format=t.__format,e.__style=t.__style,e.__mode=t.__mode,e.__detail=t.__detail,e}static importDOM(){let t=Je.importDOM();return{...t,code:()=>({conversion:mi(t?.code),priority:1}),em:()=>({conversion:mi(t?.em),priority:1}),span:()=>({conversion:mi(t?.span),priority:1}),strong:()=>({conversion:mi(t?.strong),priority:1}),sub:()=>({conversion:mi(t?.sub),priority:1}),sup:()=>({conversion:mi(t?.sup),priority:1})}}static importJSON(t){let e=Q0(t.text);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}isSimpleText(){return this.__type==="extended-text"&&this.__mode===0}exportJSON(){return{...super.exportJSON(),type:"extended-text"}}exportDOM(t){let{element:e}=super.exportDOM(t);if(e!==null&&e instanceof HTMLElement){let r=this.getStyle();r&&e.setAttribute("style",r),this.getFormat()!==0&&r&&!e.getAttribute("style")&&e.setAttribute("style",r)}return{element:e}}};function Q0(n=""){return ge(new ho(n))}var eA=1,tA=2,nA=4,rA=8,oA=16,iA=32,sA=64,qx={lexical__textBold:eA,lexical__textItalic:tA,lexical__textStrikethrough:nA,lexical__textUnderline:rA,lexical__textCode:oA,lexical__textSubscript:iA,lexical__textSuperscript:sA};function mi(n){return t=>{let e=n?.(t);if(!e)return null;let r=e.conversion(t);if(!r)return r;let o=t.style.backgroundColor,i=t.style.color,s=t.style.fontFamily,l=t.style.fontWeight,a=t.style.fontSize,c=t.style.textDecoration,u=0;if(t.classList)for(let d of Array.from(t.classList))qx[d]&&(u|=qx[d]);return{...r,forChild:(d,g)=>{let f=(r?.forChild??(p=>p))(d,g);if(Y(f)){let p=[o?`background-color: ${o}`:null,i?`color: ${i}`:null,s?`font-family: ${s}`:null,l?`font-weight: ${l}`:null,a?`font-size: ${a}`:null,c?`text-decoration: ${c}`:null].filter(m=>m!=null).join("; ");if(p.length&&f.setStyle(p),u!==0){let m=f.getFormat();f.setFormat(m|u)}}return f}}}}var Zx=1;function le(n,t){let e=n?.[t];return e instanceof HTMLElement?e:null}function aA(n){let t=new DOMParser().parseFromString(n,"text/html");return t.querySelectorAll("img").forEach(e=>{let r=e.getAttribute("src")??"";/^https?:\/\//i.test(r)||e.remove()}),t.body.innerHTML}function Qx(n){return n?n.startsWith("/")?!0:/^https?:\/\//i.test(n):!1}function eE(n){let t=Array.from(n.querySelectorAll("img"));for(let e of t){let r=e.getAttribute("src")??"";if(!Qx(r)){e.remove();continue}let o=e.getAttribute("width"),i=e.getAttribute("height");o&&!/^\d+$/.test(o)&&e.removeAttribute("width"),i&&!/^\d+$/.test(i)&&e.removeAttribute("height")}}function lA(n){if(!n)return n;let t=new DOMParser().parseFromString(n,"text/html");return eE(t),t.body.innerHTML}function cA(n){let t=new Set;return n&&new DOMParser().parseFromString(n,"text/html").querySelectorAll("img").forEach(r=>{let o=r.getAttribute("src");o&&Qx(o)&&t.add(o)}),t}function uA({basicColors:n=["#d0021b","#f5a623","#f8e71c","#8b572a","#7ed321","#417505","#bd10e0","#9013fe","#4a90e2","#50e3c2","#b8e986","#000000","#4a4a4a","#9b9b9b","#ffffff"],state:t,enabledToolbars:e=["undo","redo","normal","h1","h2","h3","h4","h5","h6","bullet","numbered","quote","code","fontSize","bold","italic","underline","icode","link","textColor","backgroundColor","lowercase","uppercase","capitalize","strikethrough","subscript","superscript","clear","left","center","right","justify","start","end","indent","outdent","hr","image"],internalLinks:r=[],hasInternalLinks:o=!1,siteUrl:i=""}){let s=sy;return{$refs:{},$nextTick:()=>{},$dispatch:()=>{},state:t??null,basicColors:n,toolbarState:JSON.parse(JSON.stringify(Xy)),showLinkEditor:!1,linkEditMode:!1,linkEditorAnchor:null,linkEditorUrl:null,linkType:"external",linkOpenInNewTab:!0,selectedInternalLink:"",internalLinks:r,hasInternalLinks:o,siteUrl:i,editor:null,uploadUrl:null,enabledToolbars:e,activeImageKey:null,imageLockAspect:!0,imageAspectRatio:null,imageLastChanged:null,originalImages:new Set,deletedImages:[],showTableEditor:!1,tableEditorAnchor:null,tableRows:3,tableCols:3,tableHasHeaders:!0,tableBorderStyle:"light",tableCellPadding:"normal",tableLayout:"auto",tableWidth:"100%",tableContextMenu:null,showLayoutEditor:!1,layoutEditorAnchor:null,layoutColumns:2,showYouTubeEditor:!1,youTubeEditorAnchor:null,youTubeUrl:"",youTubeWidth:"100%",youTubeAlignment:"center",showTweetEditor:!1,tweetEditorAnchor:null,tweetUrl:"",tweetWidth:"550px",tweetAlignment:"center",showCollapsibleEditor:!1,collapsibleEditorAnchor:null,collapsibleTitle:"Click to expand",collapsibleOpen:!0,init:function(){this.uploadUrl=window?.filamentData?.metaLexicalEditor?.uploadUrl??"/filament-meta-lexical-editor/upload-image";let a=le(this.$refs,"editor");if(!a)return;let c={namespace:"lexical-editor",nodes:[ho,{replace:Je,with:g=>{let h=new ho(g.__text);return h.__format=g.__format,h.__style=g.__style,h.__mode=g.__mode,h.__detail=g.__detail,h},withKlass:ho},vC,QC,_C,B_,OC,Jd,K_,Td,_s,gi,yg,Cg,xg,bs,Ns,fi,hi,pi,vs,Os],onError:console.error,theme:qy};this.editor=Uo(c),this.editor.setRootElement(a);let u=this.editor;ue(H_(u),ey(u),iy(u,oy(),300),ix(u),Dx(u),cy(u),kx(u),Rx(u),Yx(u),jx(u),Vx(u),Xx(u),...il(u,ly,Td,ay)),this.tableContextMenu=Ix(u);let d=a.parentElement;if(d&&Wx(u,{anchorElem:d}),a.addEventListener("contextmenu",g=>{if(g.target.closest("td, th")&&this.tableContextMenu){g.preventDefault();let p=this.tableContextMenu,m=g.clientX,_=g.clientY;u.getEditorState().read(()=>{let C=M(),y=Ge(C)&&C.getNodes().filter(ii).length>1,E=w(C)&&(()=>{let T=C.anchor.getNode().getParent();return ii(T)?(T.getRowSpan()||1)>1||(T.getColSpan()||1)>1:!1})();p.show(m,_,y,E)})}}),u.registerCommand(Vr,g=>(this.updateToolbarState("canUndo",g),this.updateToolbarState("cannotUndo",!g),!1),Zx),u.registerCommand(Jr,g=>(this.updateToolbarState("canRedo",g),this.updateToolbarState("cannotRedo",!g),!1),Zx),u.registerUpdateListener(()=>{u.read(()=>{let g=Ja(u);this.state=lA(g),this.updateToolbar()})}),this.state){let g=aA(this.state);this.originalImages=cA(this.state),u.update(()=>{let h=new DOMParser().parseFromString(g,"text/html");eE(h);let f=Va(u,h);Be().select(),Yn(f)})}this.registerToolbarActions(),this.initColorPickers()},initColorPickers:function(){window.__metaLexicalColorisInit||(window.__metaLexicalColorisInit=!0,s.init?.())},updateLink:function(){if(!this.editor)return;let a=null;if(this.linkType==="internal"&&this.selectedInternalLink?a="/"+this.selectedInternalLink:a=this.linkEditorUrl,!a)return;let c={url:a,target:this.linkOpenInNewTab?"_blank":"_self",rel:this.linkOpenInNewTab?"noopener noreferrer":""};this.editor.dispatchCommand(wr,c),this.linkEditMode=!1,this.closeLinkEditorDialog()},removeLink:function(){this.editor&&(this.editor.dispatchCommand(wr,null),this.closeLinkEditorDialog())},showLinkEditorDialog:function(a,c=null,u=!0){this.$nextTick(()=>{this.linkEditorAnchor=a,this.linkEditMode=u,this.linkEditorUrl=c,this.showLinkEditor=!0,this.linkType="external",this.selectedInternalLink="",this.linkOpenInNewTab=!0,c&&this.detectLinkType()})},closeLinkEditorDialog:function(){this.$nextTick(()=>{this.linkEditorAnchor=null,this.linkEditorUrl=null,this.showLinkEditor=!1,this.linkType="external",this.selectedInternalLink="",this.linkOpenInNewTab=!0})},onInternalLinkSelected:function(){this.selectedInternalLink&&(this.linkOpenInNewTab=!1)},getInternalLinkUrl:function(){return this.selectedInternalLink?`${this.siteUrl.replace(/\/$/,"")}/${this.selectedInternalLink}`:""},detectLinkType:function(){let a=this.linkEditorUrl;if(a)if(di(a)){this.linkType="internal";let c=a.replace(/^\//,""),u=this.internalLinks.find(d=>d.slug===c);u&&(this.selectedInternalLink=u.slug),this.linkOpenInNewTab=!1}else this.linkType="external",this.linkOpenInNewTab=!0},handleImage:async function(){let a=le(this.$refs,"image_input"),c=le(this.$refs,"image_alt"),u=a?.files,d=c?.value??"";if(!u||!u[0])return!1;let g=new FormData;g.append("image",u[0]),g.append("alt",d);let h=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")??"",f=await fetch(this.uploadUrl??"/filament-meta-lexical-editor/upload-image",{method:"POST",headers:h?{"X-CSRF-TOKEN":h}:{},body:g,credentials:"same-origin"});if(!f.ok)return console.error("Image upload failed:",await f.text()),!1;let p=await f.json(),m={altText:p.alt??d??"",src:p.url,...p.width?{width:Number(p.width)}:{},...p.height?{height:Number(p.height)}:{}};return this.insertImage(m),a&&(a.value=""),c&&(c.value=""),!0},insertImage:function(a){this.editor&&this.editor.dispatchCommand(Sg,a)},openImageEditor:function(a){this.editor&&this.editor.read(()=>{let c=ye(a);if(!Il(c))return;let u=le(this.$refs,"imageEditorModal"),d=u?.getAttribute("modal-id")??null;if(!u||!d)return;let g=u.querySelector("[x-ref='image_editor_alt']"),h=u.querySelector("[x-ref='image_editor_width']"),f=u.querySelector("[x-ref='image_editor_height']");if(!g||!h||!f)return;let p=c.getWidth(),m=c.getHeight();g.value=c.getAltText(),h.value=p>0?String(p):"",f.value=m>0?String(m):"",this.activeImageKey=a,this.imageAspectRatio=p>0&&m>0?p/m:null,this.imageLockAspect=!0,this.imageLastChanged=null,this.$dispatch("open-modal",{id:d})})},deleteImage:function(a){if(!this.editor)return;let c=a??this.activeImageKey??"";c&&(this.editor.update(()=>{let u=ye(c);if(Il(u)){let d=u.getSrc();d&&!this.deletedImages.includes(d)&&this.deletedImages.push(d),u.remove()}}),this.resetImageEditorForm(),this.activeImageKey=null,this.closeImageEditorModal())},updateImage:function(){if(!this.editor)return;let a=this.activeImageKey??"";if(!a)return;let c=le(this.$refs,"imageEditorModal");if(!c)return;let u=c.querySelector("[x-ref='image_editor_alt']"),d=c.querySelector("[x-ref='image_editor_width']"),g=c.querySelector("[x-ref='image_editor_height']");if(!u||!d||!g)return;let h=u.value??"",f=Number(d.value),p=Number(g.value);f=Number.isFinite(f)?f:0,p=Number.isFinite(p)?p:0,this.imageLockAspect&&this.imageAspectRatio&&(this.imageLastChanged==="height"&&p>0?(f=Math.round(p*this.imageAspectRatio),d.value=String(f)):f>0&&(p=Math.round(f/this.imageAspectRatio),g.value=String(p))),this.editor.update(()=>{let m=ye(a);Il(m)&&(m.setAltText(h),m.setWidthAndHeight(f,p))}),this.resetImageEditorForm(),this.activeImageKey=null,this.closeImageEditorModal()},resetImageEditorForm:function(){let a=le(this.$refs,"imageEditorModal");if(!a)return;let c=a.querySelector("[x-ref='image_editor_alt']"),u=a.querySelector("[x-ref='image_editor_width']"),d=a.querySelector("[x-ref='image_editor_height']");c&&(c.value=""),u&&(u.value=""),d&&(d.value=""),this.imageAspectRatio=null,this.imageLastChanged=null,this.imageLockAspect=!0},closeImageEditorModal:function(){let c=le(this.$refs,"imageEditorModal")?.getAttribute("modal-id")??null;c&&this.$dispatch("close-modal",{id:c})},toggleImageLockAspect:function(){if(this.imageLockAspect&&!this.imageAspectRatio){let a=le(this.$refs,"imageEditorModal");if(!a)return;let c=a.querySelector("[x-ref='image_editor_width']"),u=a.querySelector("[x-ref='image_editor_height']");if(!c||!u)return;let d=Number(c.value),g=Number(u.value);Number.isFinite(d)&&Number.isFinite(g)&&d>0&&g>0&&(this.imageAspectRatio=d/g)}},imageWidthInput:function(){if(this.imageLastChanged="width",!this.imageLockAspect)return;let a=le(this.$refs,"imageEditorModal");if(!a)return;let c=a.querySelector("[x-ref='image_editor_width']"),u=a.querySelector("[x-ref='image_editor_height']");if(!c||!u)return;let d=Number(c.value);if(!Number.isFinite(d)||d<=0)return;let g=Number(u.value);if(!this.imageAspectRatio&&Number.isFinite(g)&&g>0&&(this.imageAspectRatio=d/g),!this.imageAspectRatio)return;let h=Math.round(d/this.imageAspectRatio);u.value=String(h)},imageHeightInput:function(){if(this.imageLastChanged="height",!this.imageLockAspect)return;let a=le(this.$refs,"imageEditorModal");if(!a)return;let c=a.querySelector("[x-ref='image_editor_width']"),u=a.querySelector("[x-ref='image_editor_height']");if(!c||!u)return;let d=Number(u.value);if(!Number.isFinite(d)||d<=0)return;let g=Number(c.value);if(!this.imageAspectRatio&&Number.isFinite(g)&&g>0&&(this.imageAspectRatio=g/d),!this.imageAspectRatio)return;let h=Math.round(d*this.imageAspectRatio);c.value=String(h)},showTableEditorDialog:function(a){this.$nextTick(()=>{this.tableEditorAnchor=a,this.showTableEditor=!0,this.tableRows=3,this.tableCols=3,this.tableHasHeaders=!0,this.tableBorderStyle="light",this.tableCellPadding="normal"})},closeTableEditorDialog:function(){this.$nextTick(()=>{this.tableEditorAnchor=null,this.showTableEditor=!1})},insertTable:function(){if(!this.editor)return;let a={rows:this.tableRows,columns:this.tableCols,includeHeaders:this.tableHasHeaders,borderStyle:this.tableBorderStyle,cellPadding:this.tableCellPadding,layout:this.tableLayout,width:this.tableWidth};this.editor.dispatchCommand(Ag,a),this.closeTableEditorDialog()},showLayoutEditorDialog:function(a){this.$nextTick(()=>{this.layoutEditorAnchor=a,this.showLayoutEditor=!0,this.layoutColumns=2})},closeLayoutEditorDialog:function(){this.$nextTick(()=>{this.layoutEditorAnchor=null,this.showLayoutEditor=!1})},insertLayout:function(){if(!this.editor)return;let a={columns:this.layoutColumns};this.editor.dispatchCommand(Hg,a),this.closeLayoutEditorDialog()},showYouTubeEditorDialog:function(a){this.$nextTick(()=>{this.youTubeEditorAnchor=a,this.showYouTubeEditor=!0,this.youTubeUrl="",this.youTubeWidth="100%",this.youTubeAlignment="center"})},closeYouTubeEditorDialog:function(){this.$nextTick(()=>{this.youTubeEditorAnchor=null,this.showYouTubeEditor=!1})},insertYouTube:function(){if(!this.editor||!this.youTubeUrl.trim())return;let a={videoID:this.youTubeUrl.trim(),width:this.youTubeWidth,alignment:this.youTubeAlignment};this.editor.dispatchCommand(Ug,a),this.closeYouTubeEditorDialog()},showTweetEditorDialog:function(a){this.$nextTick(()=>{this.tweetEditorAnchor=a,this.showTweetEditor=!0,this.tweetUrl="",this.tweetWidth="550px",this.tweetAlignment="center"})},closeTweetEditorDialog:function(){this.$nextTick(()=>{this.tweetEditorAnchor=null,this.showTweetEditor=!1})},insertTweet:function(){if(!this.editor||!this.tweetUrl.trim())return;let a={tweetID:this.tweetUrl.trim(),width:this.tweetWidth,alignment:this.tweetAlignment};this.editor.dispatchCommand(zg,a),this.closeTweetEditorDialog()},showCollapsibleEditorDialog:function(a){this.$nextTick(()=>{this.collapsibleEditorAnchor=a,this.showCollapsibleEditor=!0,this.collapsibleTitle="Click to expand",this.collapsibleOpen=!0})},closeCollapsibleEditorDialog:function(){this.$nextTick(()=>{this.collapsibleEditorAnchor=null,this.showCollapsibleEditor=!1})},insertCollapsible:function(){if(!this.editor)return;let a={title:this.collapsibleTitle,isOpen:this.collapsibleOpen};this.editor.dispatchCommand(jg,a),this.closeCollapsibleEditorDialog()},formatHeading:function(a){this.editor&&this.editor.update(()=>{let c=M();w(c)&&Nr(c,()=>rl(a))})},formatAlignment:function(a){this.editor&&this.editor.dispatchCommand(Wt,a)},formatFontFamily:function(a){this.editor&&this.editor.update(()=>{let c=M();w(c)&&Wo(c,{"font-family":a})})},formatText:function(a){this.editor&&this.editor.dispatchCommand(vt,a)},formatParagraph:function(){this.editor&&this.editor.update(()=>{let a=M();w(a)&&Nr(a,()=>X())})},formatBulletList:function(){this.editor&&this.editor.dispatchCommand(yl,void 0)},formatNumberedList:function(){this.editor&&this.editor.dispatchCommand(Cl,void 0)},formatLineCode:function(){this.editor&&this.editor.dispatchCommand(vt,"code")},insetLink:function(){this.editor&&this.editor.dispatchCommand(wr,null)},insetHR:function(){this.editor&&this.editor.dispatchCommand(Xd,void 0)},getToolbarActions:function(){return{bold:()=>this.formatText("bold"),strikethrough:()=>this.formatText("strikethrough"),subscript:()=>this.formatText("subscript"),lowercase:()=>this.formatText("lowercase"),uppercase:()=>this.formatText("uppercase"),capitalize:()=>this.formatText("capitalize"),superscript:()=>this.formatText("superscript"),italic:()=>this.formatText("italic"),underline:()=>this.formatText("underline"),link:a=>{a.stopPropagation(),this.insetLink()},h1:()=>this.formatHeading("h1"),h2:()=>this.formatHeading("h2"),h3:()=>this.formatHeading("h3"),h4:()=>this.formatHeading("h4"),h5:()=>this.formatHeading("h5"),h6:()=>this.formatHeading("h6"),normal:()=>this.formatParagraph(),bullet:()=>this.formatBulletList(),numbered:()=>this.formatNumberedList(),quote:()=>{this.editor&&Ll(this.editor)},code:()=>{this.editor&&Dl(this.editor)},decrement:()=>{if(!this.editor)return;let a=le(this.$refs,"fontSize");a&&ci(this.editor,2,a)},increment:()=>{if(!this.editor)return;let a=le(this.$refs,"fontSize");a&&ci(this.editor,1,a)},icode:()=>this.formatLineCode(),fontSizeChange:()=>{if(!this.editor)return;let a=le(this.$refs,"fontSize");a&&Tg(this.editor,Number(a.value),a)},fontSizeKeydown:a=>{if(!this.editor||a.key!=="Enter")return;a.stopPropagation(),a.preventDefault();let c=le(this.$refs,"fontSize");c&&Tg(this.editor,Number(c.value),c)},undo:()=>this.editor?.dispatchCommand($a,void 0),redo:()=>this.editor?.dispatchCommand(Ia,void 0),left:()=>this.formatAlignment("left"),right:()=>this.formatAlignment("right"),center:()=>this.formatAlignment("center"),justify:()=>this.formatAlignment("justify"),start:()=>this.formatAlignment("start"),end:()=>this.formatAlignment("end"),indent:()=>this.editor?.dispatchCommand(mt,void 0),outdent:()=>this.editor?.dispatchCommand(Ot,void 0),clear:()=>{this.editor&&kl(this.editor)},textColor:()=>{le(this.$refs,"text_color_input")?.click(),s({swatches:this.basicColors,alpha:!1,formatToggle:!0})},textColorChange:a=>{if(!this.editor)return;let u=a.target.value;this.editor.update(()=>{let d=M();w(d)&&Wo(d,{color:u})})},backgroundColor:()=>{le(this.$refs,"background_color_input")?.click(),s({swatches:this.basicColors,alpha:!1,formatToggle:!0})},backgroundColorChange:a=>{if(!this.editor)return;let u=a.target.value;this.editor.update(()=>{let d=M();w(d)&&Wo(d,{"background-color":u})})},fontFamily:a=>this.formatFontFamily(a),hr:()=>this.insetHR(),image:()=>{let c=le(this.$refs,"imageModal")?.getAttribute("modal-id")??null;c&&this.$dispatch("open-modal",{id:c})},table:a=>{a.stopPropagation();let c=le(this.$refs,"table");c&&this.showTableEditorDialog(c)},columns:a=>{a.stopPropagation();let c=le(this.$refs,"columns");c&&this.showLayoutEditorDialog(c)},youtube:a=>{a.stopPropagation();let c=le(this.$refs,"youtube");c&&this.showYouTubeEditorDialog(c)},tweet:a=>{a.stopPropagation();let c=le(this.$refs,"tweet");c&&this.showTweetEditorDialog(c)},collapsible:a=>{a.stopPropagation();let c=le(this.$refs,"collapsible");c&&this.showCollapsibleEditorDialog(c)}}},registerToolbarActions:function(){let a=this.getToolbarActions();this.enabledToolbars.forEach(c=>{if(c==="backgroundColor"){let u=le(this.$refs,"background_color"),d=le(this.$refs,"background_color_input");u?.addEventListener("click",()=>a.backgroundColor()),d?.addEventListener("change",g=>a.backgroundColorChange(g))}else if(c==="textColor"){let u=le(this.$refs,"text_color"),d=le(this.$refs,"text_color_input");u?.addEventListener("click",()=>a.textColor()),d?.addEventListener("change",g=>a.textColorChange(g))}else if(c==="link")le(this.$refs,"link")?.addEventListener("click",d=>a.link(d));else if(c==="fontSize"){le(this.$refs,"decrement")?.addEventListener("click",()=>a.decrement()),le(this.$refs,"increment")?.addEventListener("click",()=>a.increment());let u=le(this.$refs,"fontSize");u?.addEventListener("change",()=>a.fontSizeChange()),u?.addEventListener("keydown",d=>a.fontSizeKeydown(d))}else if(c==="fontFamily")le(this.$refs,"fontFamily")?.addEventListener("change",d=>{let g=d.target;a.fontFamily(g.value)});else if(c==="image")le(this.$refs,"image")?.addEventListener("click",()=>a.image());else if(c==="table")le(this.$refs,"table")?.addEventListener("click",d=>a.table(d));else if(c==="columns")le(this.$refs,"columns")?.addEventListener("click",d=>a.columns(d));else if(c==="youtube")le(this.$refs,"youtube")?.addEventListener("click",d=>a.youtube(d));else if(c==="tweet")le(this.$refs,"tweet")?.addEventListener("click",d=>a.tweet(d));else if(c==="collapsible")le(this.$refs,"collapsible")?.addEventListener("click",d=>a.collapsible(d));else if(c!=="divider"){let u=le(this.$refs,c),d=a[c];if(!u||typeof d!="function")return;u.addEventListener("click",()=>d())}})},updateToolbar:function(){if(!this.editor)return;let a=M();if(w(a)){let c=a.anchor.getNode(),u=c.getKey()==="root"?c:V(c,_=>{let C=_.getParent();return C!==null&&Tt(C)});u===null&&(u=c.getTopLevelElementOrThrow());let d=u.getKey(),g=this.editor.getElementByKey(d);this.updateToolbarState("isRTL",Tm(a));let h=Ts(a),f=h.getParent(),p=Qt(f)||Qt(h);if(this.updateToolbarState("isLink",p),g!==null)if(_l(u)){let _=Ya(c,Jd),C=_?_.getListType():u.getListType();this.updateToolbarState("blockType",C)}else{let _=ol(u)?u.getTag():u.getType();if(_ in Vy&&this.updateToolbarState("blockType",_),pC(u)){let C=u.getLanguage();this.updateToolbarState("codeLanguage",C?mC[C]||C:"");return}}this.updateToolbarState("fontColor",ts(a,"color","#000")),this.updateToolbarState("bgColor",ts(a,"background-color","#fff")),this.updateToolbarState("fontFamily",ts(a,"font-family","Arial"));let m;Qt(f)&&(m=V(h,_=>P(_)&&!_.isInline())),this.updateToolbarState("elementFormat",P(m)?m.getFormatType():P(h)?h.getFormatType():f?.getFormatType()||"left")}(w(a)||Ge(a))&&(this.updateToolbarState("isBold",a.hasFormat("bold")),this.updateToolbarState("isItalic",a.hasFormat("italic")),this.updateToolbarState("isUnderline",a.hasFormat("underline")),this.updateToolbarState("isStrikethrough",a.hasFormat("strikethrough")),this.updateToolbarState("isSubscript",a.hasFormat("subscript")),this.updateToolbarState("isSuperscript",a.hasFormat("superscript")),this.updateToolbarState("isCode",a.hasFormat("code")),this.updateToolbarState("fontSize",ts(a,"font-size","15px")),this.updateToolbarState("isLowercase",a.hasFormat("lowercase")),this.updateToolbarState("isUppercase",a.hasFormat("uppercase")),this.updateToolbarState("isCapitalize",a.hasFormat("capitalize")))},updateToolbarState:function(a,c){if(this.toolbarState[a]=c,a==="fontColor"){let u=le(this.$refs,"text_color_input");u&&this.$nextTick(()=>{u.value=c??"#000000",u.dispatchEvent(new Event("input",{bubbles:!0}))})}else if(a==="bgColor"){let u=le(this.$refs,"background_color_input");u&&this.$nextTick(()=>{u.value=c??"#ffffff",u.dispatchEvent(new Event("input",{bubbles:!0}))})}else if(a==="fontSize"){let u=le(this.$refs,"fontSize");u&&(u.value=String(c??si).replace("px",""))}else if(a==="fontFamily"){let u=le(this.$refs,"fontFamily");u&&(u.value=String(c??"Arial"))}}}}export{uA as default};
/*! Bundled license information:

prismjs/prism.js:
  (**
   * Prism: Lightweight, robust, elegant syntax highlighting
   *
   * @license MIT <https://opensource.org/licenses/MIT>
   * @author Lea Verou <https://lea.verou.me>
   * @namespace
   * @public
   *)

@melloware/coloris/dist/esm/coloris.js:
  (*!
  * Copyright (c) 2021-2024 Momo Bassit.
  * Licensed under the MIT License (MIT)
  * https://github.com/mdbassit/Coloris
  * Version: 0.24.0
  * NPM: https://github.com/melloware/coloris-npm
  *)
*/
